!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=30)}([function(t,e,n){"use strict";t.exports=n(38)},function(t,e){var n={};n.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},n.cloneArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(n.clone(t[i]));return e},n.cloneHashOfHash=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=n.clone(t[i]));return e},n.cloneHashOfArrayOfHash=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=n.cloneArray(t[i]));return e},n.gsub=function(t,e,n){return t.split(e).join(n)},n.strip=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.endsWith=function(t,e){var n=t.length-e.length;return n>=0&&t.lastIndexOf(e)===n},n.each=function(t,e,n){for(var i=0,r=t.length;i<r;i++)e.apply(n,[t[i],i])},n.last=function(t){return 0===t.length?null:t[t.length-1]},n.compact=function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},n.detect=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1},function(t){t.forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),t.exports=n},function(t,e){var n={};n.FONTEM=360,n.FONTSIZE=30,n.STEP=93*n.FONTSIZE/720,n.SPACE=10,n.TOPNOTE=15,n.STAVEHEIGHT=100,n.INDENT=50,t.exports=n},function(t,e,n){t.exports=n(52)()},function(t,e,n){var i=(n(5),function(t,e,n,i,r){r=r||{},this.x=0,this.c=t,this.dx=e,this.w=n,this.pitch=i,this.scalex=r.scalex||1,this.scaley=r.scaley||1,this.type=r.type||"symbol",this.pitch2=r.pitch2,this.linewidth=r.linewidth,this.klass=r.klass,this.top=i,void 0!==this.pitch2&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=i,void 0!==this.pitch2&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),r.thickness&&(this.top+=r.thickness/2,this.bottom-=r.thickness/2),r.stemHeight&&(r.stemHeight>0?this.top+=r.stemHeight:this.bottom+=r.stemHeight);var o=r.height?r.height:4;switch(this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=o;break;case"lyric":r.position&&"below"===r.position?this.lyricHeightBelow=o:this.lyricHeightAbove=o;break;case"chord":r.position&&"below"===r.position?this.chordHeightBelow=o:this.chordHeightAbove=o;break;case"text":void 0===this.pitch?r.position&&"below"===r.position?this.chordHeightBelow=o:this.chordHeightAbove=o:this.centerVertically=!0;break;case"part":this.partHeightAbove=o}});i.prototype.setX=function(t){this.x=t+this.dx},i.prototype.draw=function(t,e){void 0===this.pitch&&window.console.error(this.type+" Relative Element y-coordinate not set.");var n=t.calcY(this.pitch);switch(this.type){case"symbol":if(null===this.c)return null;var i="symbol";this.klass&&(i+=" "+this.klass),this.graphelem=t.printSymbol(this.x,this.pitch,this.c,this.scalex,this.scaley,t.addClasses(i));break;case"debug":this.graphelem=t.renderText(this.x,t.calcY(15),""+this.c,"debugfont","debug-msg","start");break;case"barNumber":this.graphelem=t.renderText(this.x,n,""+this.c,"measurefont","bar-number","middle");break;case"lyric":this.graphelem=t.renderText(this.x,n,this.c,"vocalfont","abc-lyric","middle");break;case"chord":this.graphelem=t.renderText(this.x,n,this.c,"gchordfont","chord","middle");break;case"decoration":this.graphelem=t.renderText(this.x,n,this.c,"annotationfont","annotation","middle",!0);break;case"text":this.graphelem=t.renderText(this.x,n,this.c,"annotationfont","annotation","start",this.centerVertically);break;case"multimeasure-text":this.graphelem=t.renderText(this.x+this.w/2,n,this.c,"tempofont","rest","middle",!1);break;case"part":this.graphelem=t.renderText(this.x,n,this.c,"partsfont","part","start");break;case"bar":this.graphelem=t.printStem(this.x,this.linewidth,n,e||t.calcY(this.pitch2));break;case"stem":this.graphelem=t.printStem(this.x,this.linewidth,n,t.calcY(this.pitch2));break;case"ledger":this.graphelem=t.printStaveLine(this.x,this.x+this.w,this.pitch)}return 1!==this.scalex&&this.graphelem&&this.graphelem.scale(this.scalex,this.scaley,this.x,n),this.graphelem},t.exports=i},function(t,e,n){var i=n(2),r=function(){"use strict";var t={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.33,-.03,4.89],["c",-.06,2.67,-.09,5.01,-.09,5.22],["l",0,.36],["l",.15,-.15],["c",.36,-.3,.75,-.51,1.2,-.63],["c",.33,-.09,.96,-.09,1.26,-.03],["c",.27,.09,.63,.27,.87,.45],["l",.21,.15],["l",0,-.27],["c",0,-.15,-.03,-2.43,-.09,-5.1],["c",-.09,-4.56,-.09,-4.86,-.03,-4.89],["c",.15,-.12,.39,-.15,.72,-.15],["c",.3,0,.54,.03,.69,.15],["c",.06,.03,.06,.33,-.03,4.95],["c",-.06,2.7,-.09,5.04,-.09,5.22],["l",.03,.3],["l",.21,-.15],["c",.69,-.48,1.44,-.69,2.28,-.69],["c",.51,0,.78,.03,1.2,.21],["c",1.32,.63,2.01,2.28,1.53,3.69],["c",-.21,.57,-.51,1.02,-1.05,1.56],["c",-.42,.42,-.81,.72,-1.92,1.5],["c",-1.26,.87,-1.5,1.08,-1.86,1.5],["c",-.39,.45,-.54,.54,-.81,.51],["c",-.18,0,-.21,0,-.33,-.06],["l",-.21,-.21],["l",-.06,-.12],["l",-.03,-.99],["c",-.03,-.54,-.03,-1.29,-.06,-1.68],["l",0,-.69],["l",-.21,.24],["c",-.36,.42,-.75,.75,-1.8,1.62],["c",-1.02,.84,-1.2,.99,-1.44,1.38],["c",-.36,.51,-.54,.6,-.9,.51],["c",-.15,-.03,-.39,-.27,-.42,-.42],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",2.52,10.98],["c",-.18,-.09,-.48,-.12,-.66,-.06],["c",-.39,.15,-.69,.54,-.84,1.14],["c",-.06,.24,-.06,.39,-.09,1.74],["c",-.03,1.44,0,2.73,.06,3.18],["l",.03,.15],["l",.27,-.27],["c",.93,-.96,1.5,-1.95,1.74,-3.06],["c",.06,-.27,.06,-.39,.06,-.96],["c",0,-.54,0,-.69,-.06,-.93],["c",-.09,-.51,-.27,-.81,-.51,-.93],["z"],["m",5.43,0],["c",-.18,-.09,-.51,-.12,-.72,-.06],["c",-.54,.12,-.96,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.9],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.36,-.3],["c",.42,-.36,1.02,-.96,1.29,-1.29],["c",.36,-.45,.66,-.99,.81,-1.41],["c",.42,-1.23,.15,-2.76,-.6,-3.12],["z"]],w:11.613,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:9.99,h:14.97},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};t["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},t["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},t["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},this.printSymbol=function(e,n,i,r,o){if(!t[i])return null;var s=this.pathClone(t[i].d);return s[0][1]+=e,s[0][2]+=n,r.path().attr({path:s,stroke:"none",fill:"#000000",class:o})},this.getPathForSymbol=function(e,n,i,r,o){if(r=r||1,o=o||1,!t[i])return null;var s=this.pathClone(t[i].d);return 1===r&&1===o||this.pathScale(s,r,o),s[0][1]+=e,s[0][2]+=n,s},this.getSymbolWidth=function(e){return t[e]?t[e].w:0},this.getSymbolHeight=function(e){return t[e]?t[e].h:0},this.symbolHeightInPitches=function(t){return this.getSymbolHeight(t)/i.STEP},this.getSymbolAlign=function(t){return"scripts"===t.substring(0,7)&&"scripts.roll"!==t?"center":"left"},this.pathClone=function(t){for(var e=[],n=0,i=t.length;n<i;n++){e[n]=[];for(var r=0,o=t[n].length;r<o;r++)e[n][r]=t[n][r]}return e},this.pathScale=function(t,e,n){for(var i=0,r=t.length;i<r;i++){var o,s,a=t[i];for(o=1,s=a.length;o<s;o++)a[o]*=o%2?e:n}},this.getYCorr=function(t){switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":case"rests.8th":case"rests.quarter":case"rests.16th":case"rests.32nd":case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}}};t.exports=new r},function(t,e,n){var i=n(2),r=function(t,e,n,i,r,o){o||(o={}),this.tuneNumber=r,this.abcelem=t,this.duration=e,this.durationClass=o.durationClassOveride?o.durationClassOveride:this.duration,this.minspacing=n||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=i,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};r.prototype.setUpperAndLowerElements=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];for(var i in this.specialY)this.specialY.hasOwnProperty(i)&&n[i]&&(n.pitch=t[i])}},r.prototype.getMinWidth=function(){return this.w},r.prototype.getExtraWidth=function(){return-this.extraw},r.prototype.addExtra=function(t){t.dx<this.extraw&&(this.extraw=t.dx),this.extra[this.extra.length]=t,this.addChild(t)},r.prototype.addHead=function(t){t.dx<this.extraw&&(this.extraw=t.dx),this.heads[this.heads.length]=t,this.addRight(t)},r.prototype.addRight=function(t){t.dx+t.w>this.w&&(this.w=t.dx+t.w),this.right[this.right.length]=t,this.addChild(t)},r.prototype.addCentered=function(t){var e=t.w/2;-e<this.extraw&&(this.extraw=-e),this.extra[this.extra.length]=t,t.dx+e>this.w&&(this.w=t.dx+e),this.right[this.right.length]=t,this.addChild(t)},r.prototype.setLimit=function(t,e){e[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],e[t]):this.specialY[t]=e[t])},r.prototype.addChild=function(t){t.parent=this,this.children[this.children.length]=t,this.pushTop(t.top),this.pushBottom(t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)},r.prototype.pushTop=function(t){void 0!==t&&(void 0===this.top?this.top=t:this.top=Math.max(t,this.top))},r.prototype.pushBottom=function(t){void 0!==t&&(void 0===this.bottom?this.bottom=t:this.bottom=Math.min(t,this.bottom))},r.prototype.setX=function(t){this.x=t;for(var e=0;e<this.children.length;e++)this.children[e].setX(t)},r.prototype.setHint=function(){this.hint=!0},r.prototype.draw=function(t,e){if(this.elemset=t.paper.set(),!this.invisible){t.beginGroup();for(var n=0;n<this.children.length;n++)this.elemset.push(this.children[n].draw(t,e));var r=this.type;if(("note"===this.type||"rest"===this.type)&&(r+=" d"+this.durationClass,r=r.replace(/\./g,"-"),this.abcelem.pitches))for(var o=0;o<this.abcelem.pitches.length;o++)r+=" p"+this.abcelem.pitches[o].pitch;this.elemset.push(t.endGroup(r)),this.klass&&this.setClass("mark","","#00ff00"),this.hint&&this.setClass("abcjs-hint","",null);var s=t.printShadedBox(this.x,t.calcY(this.top),this.w,t.calcY(this.bottom)-t.calcY(this.top),"rgba(0,0,0,0)"),a=this,c=t.controller;s.mouseup(function(){var t=[];if(a.elemset)for(var e=0;e<a.elemset.length;e++){var n=a.elemset[e];n.attrs&&n.attrs.class&&t.push(n.attrs.class)}c.notifySelect(a,a.tuneNumber,t)}),this.abcelem.abselem=this;var u=i.STEP,l=function(){this.dy=0},h=function(t,e){e=Math.round(e/u)*u,this.translate(0,-this.dy),this.dy=e,this.translate(0,this.dy)},f=function(){if(a.abcelem.pitches){var t=-Math.round(this.dy/u);a.abcelem.pitches[0].pitch+=t,a.abcelem.pitches[0].verticalPos+=t,c.notifyChange()}};"note"===this.abcelem.el_type&&c.editable&&this.elemset.drag(h,l,f)}},r.prototype.isIE=!1,r.prototype.setClass=function(t,e,n){if(null!==n&&this.elemset.attr({fill:n}),!this.isIE)for(var i=0;i<this.elemset.length;i++)if(this.elemset[i][0].setAttribute){var r=this.elemset[i][0].getAttribute("class");r||(r=""),r=r.replace(e,""),r=r.replace(t,""),t.length>0&&(r.length>0&&" "!==r.charAt(r.length-1)&&(r+=" "),r+=t),this.elemset[i][0].setAttribute("class",r)}},r.prototype.highlight=function(t,e){void 0===t&&(t="note_selected"),void 0===e&&(e="#ff0000"),this.setClass(t,"",e)},r.prototype.unhighlight=function(t,e){void 0===t&&(t="note_selected"),void 0===e&&(e="#000000"),this.setClass("",t,e)},t.exports=r},function(t,e,n){"use strict";function i(t){return t.type&&"Tab"===t.type.tabsRole}function r(t){return t.type&&"TabPanel"===t.type.tabsRole}function o(t){return t.type&&"TabList"===t.type.tabsRole}e.a=i,e.c=r,e.b=o},function(t,e,n){var i,r;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var r=typeof i;if("string"===r||"number"===r)t.push(i);else if(Array.isArray(i))t.push(n.apply(null,i));else if("object"===r)for(var s in i)o.call(i,s)&&i[s]&&t.push(s)}}return t.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof t&&t.exports?t.exports=n:(i=[],void 0!==(r=function(){return n}.apply(e,i))&&(t.exports=r))}()},function(t,e){var n=function(){for(var t,e,n,i,r,o=0,s=arguments[o++],a=[];s;){if(e=/^[^\x25]+/.exec(s))a.push(e[0]);else if(e=/^\x25{2}/.exec(s))a.push("%");else{if(!(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(s)))throw"Huh ?!";if(null==(t=arguments[e[1]||o++])||void 0==t)throw"Too few arguments.";if(/[^s]/.test(e[7])&&"number"!=typeof t)throw"Expecting number but found "+typeof t;switch(e[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=e[6]?t.toExponential(e[6]):t.toExponential();break;case"f":t=e[6]?parseFloat(t).toFixed(e[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&e[6]?t.substring(0,e[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase()}t=/[def]/.test(e[7])&&e[2]&&t>0?"+"+t:t,i=e[3]?"0"==e[3]?"0":e[3].charAt(1):" ",r=e[5]-String(t).length,n=e[5]?str_repeat(i,r):"",a.push(e[4]?t+n:n+t)}s=s.substring(e[0].length)}return a.join("")};t.exports=n},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,c=i(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)o.call(n,l)&&(c[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)s.call(n,a[h])&&(c[a[h]]=n[a[h]])}}return c}},function(t,e,n){"use strict";function i(t,e,n,i,o,s,a,c){if(r(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,s,a,c],h=0;u=new Error(e.replace(/%s/g,function(){return l[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(t){};t.exports=i},function(t,e,n){"use strict";function i(t){return function(){return t}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return Object(u.a)(t)||Object(u.b)(t)||Object(u.c)(t)}function s(t,e){return c.Children.map(t,function(t){return null===t?null:o(t)?e(t):t.props&&t.props.children&&"object"===typeof t.props.children?Object(c.cloneElement)(t,i({},t.props,{children:s(t.props.children,e)})):t})}function a(t,e){return c.Children.forEach(t,function(t){null!==t&&(Object(u.a)(t)||Object(u.c)(t)?e(t):t.props&&t.props.children&&"object"===typeof t.props.children&&(Object(u.b)(t)&&e(t),a(t.props.children,e)))})}e.b=s,e.a=a;var c=n(0),u=(n.n(c),n(7))},function(t,e,n){const i=n(63),r=n(15);var o={};o.signature="abcjs-basic v3.3.4",Object.keys(i).forEach(function(t){o[t]=i[t]}),Object.keys(r).forEach(function(t){o[t]=r[t]}),o.renderAbc=n(67);const s=n(83);o.Editor=s,t.exports=o},function(t,e,n){var i=n(1),r=n(26),o={};!function(){"use strict";o.numberOfTunes=function(t){var e=t.split("\nX:"),n=e.length;return 0===n&&(n=1),n};var t=o.TuneBook=function(t){var e=this,n="";t=i.strip(t);for(var r=t.split("\nX:"),o=1;o<r.length;o++)r[o]="X:"+r[o];var s=0;if(e.tunes=[],i.each(r,function(t){e.tunes.push({abc:t,startPos:s}),s+=t.length}),e.tunes.length>1&&!i.startsWith(e.tunes[0].abc,"X:")){var a=e.tunes.shift(),c=a.abc.split("\n");i.each(c,function(t){i.startsWith(t,"%%")&&(n+=t+"\n")})}e.header=n,i.each(e.tunes,function(t){var e=t.abc.indexOf("\n\n");e>0&&(t.abc=t.abc.substring(0,e)),t.pure=t.abc,t.abc=n+t.abc;var i=t.pure.split("T:");i.length>1?(i=i[1].split("\n"),t.title=i[0].replace(/^\s+|\s+$/g,"")):t.title="";var r=t.pure.substring(2,t.pure.indexOf("\n"));t.id=r.replace(/^\s+|\s+$/g,"")})};t.prototype.getTuneById=function(t){for(var e=0;e<this.tunes.length;e++)if(this.tunes[e].id===t)return this.tunes[e];return null},t.prototype.getTuneByTitle=function(t){for(var e=0;e<this.tunes.length;e++)if(this.tunes[e].title===t)return this.tunes[e];return null},o.renderEngine=function(e,n,i,o,s){var a=[];if(void 0!==n&&void 0!==i){(function(t){return t&&!t.propertyIsEnumerable("length")&&"object"===typeof t&&"number"===typeof t.length})(n)||(n=[n]),void 0===o&&(o={}),void 0===s&&(s={});for(var c=s.startingTune?parseInt(s.startingTune,10):0,u=new t(i),l=new r,h=0;h<n.length;h++){var f=n[h];if("string"===typeof f&&(f=document.getElementById(f)),f&&(f.innerHTML="",c>=0&&c<u.tunes.length)){l.parse(u.tunes[c].abc,o);var d=l.getTune();a.push(d),e(f,d,h)}c++}return a}}}(),t.exports=o},function(t,e,n){var i=n(1),r={};!function(){"use strict";function t(){o.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},o.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},o.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},o.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},o.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},o.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},o.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},o.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},o.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},o.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},s.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},s.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},s.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},s.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},s.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},s.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},s.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},s.formatting.annotationfont=o.annotationfont,s.formatting.gchordfont=o.gchordfont,s.formatting.historyfont=o.historyfont,s.formatting.infofont=o.infofont,s.formatting.measurefont=o.measurefont,s.formatting.partsfont=o.partsfont,s.formatting.repeatfont=o.repeatfont,s.formatting.textfont=o.textfont,s.formatting.vocalfont=o.vocalfont,s.formatting.wordsfont=o.wordsfont}var e,n,o,s;r.initialize=function(i,r,a,c){e=i,n=r,o=a,s=c,t()};var a={gchordfont:!0,measurefont:!0,partsfont:!0},c=function(t){switch(t){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},u=function(t,e,i,r,o){function s(){var s=parseInt(t[0].token);return t.shift(),e?0===t.length?{face:e.face,weight:e.weight,style:e.style,decoration:e.decoration,size:s}:1===t.length&&"box"===t[0].token&&a[o]?{face:e.face,weight:e.weight,style:e.style,decoration:e.decoration,size:s,box:!0}:(n("Extra parameters in font definition.",i,r),{face:e.face,weight:e.weight,style:e.style,decoration:e.decoration,size:s}):(n("Can't set just the size of the font since there is no default value.",i,r),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:s})}if("*"===t[0].token){if(t.shift(),"number"===t[0].type)return s();n("Expected font size number after *.",i,r)}if("number"===t[0].type)return s();for(var u,l=[],h="normal",f="normal",d="none",p=!1,m="face",b=!1;t.length;){var g=t.shift(),v=g.token.toLowerCase();switch(m){case"face":b||"utf"!==v&&"number"!==g.type&&"bold"!==v&&"italic"!==v&&"underline"!==v&&"box"!==v?l.length>0&&"-"===g.token?(b=!0,l[l.length-1]=l[l.length-1]+g.token):b?(b=!1,l[l.length-1]=l[l.length-1]+g.token):l.push(g.token):"number"===g.type?(u?n("Font size specified twice in font definition.",i,r):u=g.token,m="modifier"):"bold"===v?h="bold":"italic"===v?f="italic":"underline"===v?d="underline":"box"===v?(a[o]?p=!0:n('This font style doesn\'t support "box"',i,r),m="finished"):"utf"===v?(g=t.shift(),m="size"):n("Unknown parameter "+g.token+" in font definition.",i,r);break;case"size":"number"===g.type?u?n("Font size specified twice in font definition.",i,r):u=g.token:n("Expected font size in font definition.",i,r),m="modifier";break;case"modifier":"bold"===v?h="bold":"italic"===v?f="italic":"underline"===v?d="underline":"box"===v?(a[o]?p=!0:n('This font style doesn\'t support "box"',i,r),m="finished"):n("Unknown parameter "+g.token+" in font definition.",i,r);break;case"finished":n('Extra characters found after "box" in font definition.',i,r)}}void 0===u?e?u=e.size:(n("Must specify the size of the font since there is no default value.",i,r),u=12):u=parseFloat(u),l=l.join(" ");var y=c(l),_={};return y?(_.face=y.face,_.weight=y.weight,_.style=y.style,_.decoration=y.decoration,_.size=u,p&&(_.box=!0),_):(_.face=l,_.weight=h,_.style=f,_.decoration=d,_.size=u,p&&(_.box=!0),_)},l=function(t,e,n){return 0===e.length?'Directive "'+t+'" requires a font as a parameter.':(o[t]=u(e,o[t],n,0,t),o.is_in_header&&(s.formatting[t]=o[t]),null)},h=function(t,e,n){return 0===e.length?'Directive "'+t+'" requires a font as a parameter.':(s.formatting[t]=u(e,s.formatting[t],n,0,t),null)},f=function(t,e){var n="";i.each(e,function(t){n+=t.token});var r=parseFloat(n);if(isNaN(r)||0===r)return'Directive "'+t+'" requires a number as a parameter.';s.formatting.scale=r},d=function(t,n){var i=e.getMeasurement(n);return 0===i.used||0!==n.length?{error:'Directive "'+t+'" requires a measurement as a parameter.'}:i.value},p=function(t,n){var i=e.getMeasurement(n);return 0===i.used||0!==n.length?'Directive "'+t+'" requires a measurement as a parameter.':(s.formatting[t]=i.value,null)},m=function(t,e,n,i,r){if(1!==n.length||"number"!==n[0].type)return'Directive "'+e+'" requires a number as a parameter.';var s=n[0].intt;return void 0!==i&&s<i?'Directive "'+e+'" requires a number greater than or equal to '+i+" as a parameter.":void 0!==r&&s>r?'Directive "'+e+'" requires a number less than or equal to '+r+" as a parameter.":(o[t]=s,null)},b=function(t,e,n){var i=m(t,e,n,0,1);return null!==i?i:(o[t]=1===o[t],null)},g=function(t,e,n,i){if(1!==n.length)return'Directive "'+e+'" requires one of [ '+i.join(", ")+" ] as a parameter.";for(var r=n[0].token,s=!1,a=0;!s&&a<i.length;a++)i[a]===r&&(s=!0);return s?(o[t]=r,null):'Directive "'+e+'" requires one of [ '+i.join(", ")+" ] as a parameter."},v=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],y=["gchord","ptstress","beatstring"],_=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","volinc"],x=["program"],w=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],S=["beat"],E=["drone"],T=["portamento"],k=["expand","grace","trim"],P=["drum","chordname"],M=function(t,e,i){var r=t.shift().token,o=[];if(v.indexOf(r)>=0)0!==t.length&&n("Unexpected parameter in MIDI "+r,i,0);else if(y.indexOf(r)>=0)1!==t.length?n("Expected one parameter in MIDI "+r,i,0):o.push(t[0].token);else if(_.indexOf(r)>=0)1!==t.length?n("Expected one parameter in MIDI "+r,i,0):"number"!==t[0].type?n("Expected one integer parameter in MIDI "+r,i,0):o.push(t[0].intt);else if(x.indexOf(r)>=0)1!==t.length&&2!==t.length?n("Expected one or two parameters in MIDI "+r,i,0):"number"!==t[0].type?n("Expected integer parameter in MIDI "+r,i,0):2===t.length&&"number"!==t[1].type?n("Expected integer parameter in MIDI "+r,i,0):(o.push(t[0].intt),2===t.length&&o.push(t[1].intt));else if(w.indexOf(r)>=0)2!==t.length?n("Expected two parameters in MIDI "+r,i,0):"number"!==t[0].type||"number"!==t[1].type?n("Expected two integer parameters in MIDI "+r,i,0):(o.push(t[0].intt),o.push(t[1].intt));else if(T.indexOf(r)>=0)2!==t.length?n("Expected two parameters in MIDI "+r,i,0):"alpha"!==t[0].type||"number"!==t[1].type?n("Expected one string and one integer parameters in MIDI "+r,i,0):(o.push(t[0].token),o.push(t[1].intt));else if("drummap"===r)2===t.length&&"alpha"===t[0].type&&"number"===t[1].type?(e.formatting||(e.formatting={}),e.formatting.midi||(e.formatting.midi={}),e.formatting.midi.drummap||(e.formatting.midi.drummap={}),e.formatting.midi.drummap[t[0].token]=t[1].intt,o=e.formatting.midi.drummap):3===t.length&&"punct"===t[0].type&&"alpha"===t[1].type&&"number"===t[2].type?(e.formatting||(e.formatting={}),e.formatting.midi||(e.formatting.midi={}),e.formatting.midi.drummap||(e.formatting.midi.drummap={}),e.formatting.midi.drummap[t[0].token+t[1].token]=t[2].intt,o=e.formatting.midi.drummap):n("Expected one note name and one integer parameter in MIDI "+r,i,0);else if(k.indexOf(r)>=0)3!==t.length?n("Expected fraction parameter in MIDI "+r,i,0):"number"!==t[0].type||"/"!==t[1].token||"number"!==t[2].type?n("Expected fraction parameter in MIDI "+r,i,0):(o.push(t[0].intt),o.push(t[2].intt));else if(S.indexOf(r)>=0)4!==t.length?n("Expected four parameters in MIDI "+r,i,0):"number"!==t[0].type||"number"!==t[1].type||"number"!==t[2].type||"number"!==t[3].type?n("Expected four integer parameters in MIDI "+r,i,0):(o.push(t[0].intt),o.push(t[1].intt),o.push(t[2].intt),o.push(t[3].intt));else if(E.indexOf(r)>=0)5!==t.length?n("Expected five parameters in MIDI "+r,i,0):"number"!==t[0].type||"number"!==t[1].type||"number"!==t[2].type||"number"!==t[3].type||"number"!==t[4].type?n("Expected five integer parameters in MIDI "+r,i,0):(o.push(t[0].intt),o.push(t[1].intt),o.push(t[2].intt),o.push(t[3].intt),o.push(t[4].intt));else if(x.indexOf(r)>=0)1!==t.length||4!==t.length?n("Expected one or two parameters in MIDI "+r,i,0):"number"!==t[0].type?n("Expected integer parameter in MIDI "+r,i,0):4===t.length?("octave"!==t[1].token&&n("Expected octave parameter in MIDI "+r,i,0),"="!==t[2].token&&n("Expected octave parameter in MIDI "+r,i,0),"number"!==t[3].type&&n("Expected integer parameter for octave in MIDI "+r,i,0)):(o.push(t[0].intt),4===t.length&&o.push(t[3].intt));else if(P.indexOf(r)>=0)if(t.length<2)n("Expected string parameter and at least one integer parameter in MIDI "+r,i,0);else if("alpha"!==t[0].type)n("Expected string parameter and at least one integer parameter in MIDI "+r,i,0);else{var s=t.shift();for(o.push(s.token);t.length>0;)s=t.shift(),"number"!==s.type&&n("Expected integer parameter in MIDI "+r,i,0),o.push(s.intt)}e.hasBeginMusic()?e.appendElement("midi",-1,-1,{cmd:r,params:o}):(void 0===e.formatting.midi&&(e.formatting.midi={}),e.formatting.midi[r]=o)};r.parseFontChangeLine=function(t){var e=t.split("$");if(e.length>1&&o.setfont){for(var n=[{text:e[0]}],i=1;i<e.length;i++)"0"===e[i].charAt(0)?n.push({text:e[i].substring(1)}):"1"===e[i].charAt(0)&&o.setfont[1]?n.push({font:o.setfont[1],text:e[i].substring(1)}):"2"===e[i].charAt(0)&&o.setfont[2]?n.push({font:o.setfont[2],text:e[i].substring(1)}):"3"===e[i].charAt(0)&&o.setfont[3]?n.push({font:o.setfont[3],text:e[i].substring(1)}):"4"===e[i].charAt(0)&&o.setfont[4]?n.push({font:o.setfont[4],text:e[i].substring(1)}):n[n.length-1].text+="$"+e[i];if(n.length>1)return n}return t};var C=["auto","above","below","hidden"];r.addDirective=function(t){var a=e.tokenize(t,0,t.length);if(0===a.length||"alpha"!==a[0].type)return null;var c=t.substring(t.indexOf(a[0].token)+a[0].token.length);c=e.stripComment(c);var v=a.shift().token.toLowerCase(),y="";switch(v){case"bagpipes":s.formatting.bagpipes=!0;break;case"landscape":o.landscape=!0;break;case"papersize":o.papersize=c;break;case"slurgraces":s.formatting.slurgraces=!0;break;case"stretchlast":s.formatting.stretchlast=!0;break;case"titlecaps":o.titlecaps=!0;break;case"titleleft":s.formatting.titleleft=!0;break;case"measurebox":s.formatting.measurebox=!0;break;case"vocal":return g("vocalPosition",v,a,C);case"dynamic":return g("dynamicPosition",v,a,C);case"gchord":return g("chordPosition",v,a,C);case"ornament":return g("ornamentPosition",v,a,C);case"volume":return g("volumePosition",v,a,C);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return p(v,a);case"vskip":var _=d(v,a);return _.error?_.error:(s.addSpacing(_),null);case"scale":f(v,a);break;case"sep":if(0===a.length)s.addSeparator();else{var x=e.getMeasurement(a);if(0===x.used)return'Directive "'+v+'" requires 3 numbers: space above, space below, length of line';var w=x.value;if(x=e.getMeasurement(a),0===x.used)return'Directive "'+v+'" requires 3 numbers: space above, space below, length of line';var S=x.value;if(x=e.getMeasurement(a),0===x.used||0!==a.length)return'Directive "'+v+'" requires 3 numbers: space above, space below, length of line';var E=x.value;s.addSeparator(w,S,E)}break;case"barsperstaff":if(null!==(y=m("barsperstaff",v,a)))return y;break;case"staffnonote":if(null!==(y=b("staffnonote",v,a)))return y;break;case"printtempo":if(null!==(y=b("printTempo",v,a)))return y;break;case"partsbox":if(null!==(y=b("partsBox",v,a)))return y;break;case"measurenb":case"barnumbers":if(null!==(y=m("barNumbers",v,a)))return y;break;case"begintext":o.inTextBlock=!0;break;case"continueall":o.continueall=!0;break;case"beginps":o.inPsBlock=!0,n("Postscript ignored",t,0);break;case"deco":c.length>0&&o.ignoredDecorations.push(c.substring(0,c.indexOf(" "))),n("Decoration redefinition ignored",t,0);break;case"text":var T=e.translateString(c);s.addText(r.parseFontChangeLine(T));break;case"center":var k=e.translateString(c);s.addCentered(r.parseFontChangeLine(k));break;case"font":break;case"setfont":var P=e.tokenize(c,0,c.length);if(P.length>=4&&"-"===P[0].token&&"number"===P[1].type){var O=parseInt(P[1].token);O>=1&&O<=4&&(o.setfont||(o.setfont=[]),P.shift(),P.shift(),o.setfont[O]=u(P,o.setfont[O],t,0,"setfont"))}break;case"gchordfont":case"partsfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return l(v,a,t);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return h(v,a,t);case"barlabelfont":case"barnumberfont":case"barnumfont":return l("measurefont",a,t);case"staves":case"score":o.score_is_present=!0;for(var A,N=!1,L=!1,I=!1,R=!1,B=!1,F=!1,D=!1,j=function(){if(D=!0,A){var t="start";A.staffNum>0&&("start"!==o.staves[A.staffNum-1].connectBarLines&&"continue"!==o.staves[A.staffNum-1].connectBarLines||(t="continue")),o.staves[A.staffNum].connectBarLines=t}};a.length;){var V=a.shift();switch(V.token){case"(":N?n("Can't nest parenthesis in %%score",t,V.start):(N=!0,R=!0);break;case")":!N||R?n("Unexpected close parenthesis in %%score",t,V.start):N=!1;break;case"[":L?n("Can't nest brackets in %%score",t,V.start):(L=!0,B=!0);break;case"]":!L||B?n("Unexpected close bracket in %%score",t,V.start):(L=!1,o.staves[A.staffNum].bracket="end");break;case"{":I?n("Can't nest braces in %%score",t,V.start):(I=!0,F=!0);break;case"}":!I||F?n("Unexpected close brace in %%score",t,V.start):(I=!1,o.staves[A.staffNum].brace="end");break;case"|":j();break;default:for(var G="";("alpha"===V.type||"number"===V.type)&&(G+=V.token,V.continueId);)V=a.shift();var H=!N||R,z=B?"start":L?"continue":void 0,W=F?"start":I?"continue":void 0;!function(t,e,n,r,s){(e||0===o.staves.length)&&o.staves.push({index:o.staves.length,numVoices:0});var a=i.last(o.staves);void 0!==n&&(a.bracket=n),void 0!==r&&(a.brace=r),s&&(a.connectBarLines="end"),void 0===o.voices[t]&&(o.voices[t]={staffNum:a.index,index:a.numVoices},a.numVoices++)}(G,H,z,W,D),R=!1,B=!1,F=!1,D=!1,A=o.voices[G],"staves"===v&&j()}}break;case"newpage":var U=e.getInt(c);s.addNewPage(0===U.digits?-1:U.value);break;case"abc":var Y=c.split(" ");switch(Y[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var X=Y.shift();s.addMetaText(v+X,Y.join(" "));break;default:return"Unknown directive: "+v+Y[0]}break;case"header":case"footer":var K=e.getMeat(c,0,c.length);K=c.substring(K.start,K.end),'"'===K.charAt(0)&&'"'===K.charAt(K.length-1)&&(K=K.substring(1,K.length-1));var q=K.split("\t"),J={};J=1===q.length?{left:"",center:q[0],right:""}:2===q.length?{left:q[0],center:q[1],right:""}:{left:q[0],center:q[1],right:q[2]},q.length>3&&n("Too many tabs in "+v+": "+q.length+" found.",c,0),s.addMetaTextObj(v,J);break;case"midi":var Q=e.tokenize(c,0,c.length,!0);Q.length>0&&"="===Q[0].token&&Q.shift(),0===Q.length?n("Expected midi command",c,0):M(Q,s,c);break;case"map":case"percmap":case"playtempo":case"auquality":case"continuous":case"nobarcheck":s.formatting[v]=c;break;default:return"Unknown directive: "+v}return null},r.globalFormatting=function(t){for(var i in t)if(t.hasOwnProperty(i)){var r,o=""+t[i],s=e.tokenize(o,0,o.length);switch(i){case"titlefont":case"gchordfont":l(i,s,o);break;case"scale":f(i,s);break;case"partsbox":r=b("partsBox",i,s),null!==r&&n(r);break;default:n("Formatting directive unrecognized: ",i,0)}}}}(),t.exports=r},function(t,e,n){var i=n(1),r=n(16),o=n(27),s={};!function(){var t,e,n,a;s.initialize=function(i,r,o,s){t=i,e=r,n=o,a=s},s.standardKey=function(t,e,i){var r={acc:"sharp",note:"f"},s={acc:"sharp",note:"c"},a={acc:"sharp",note:"g"},c={acc:"sharp",note:"d"},u={acc:"sharp",note:"A"},l={acc:"sharp",note:"e"},h={acc:"sharp",note:"B"},f={acc:"flat",note:"B"},d={acc:"flat",note:"e"},p={acc:"flat",note:"A"},m={acc:"flat",note:"d"},b={acc:"flat",note:"G"},g={acc:"flat",note:"c"},v={acc:"flat",note:"F"},y={"C#":[r,s,a,c,u,l,h],"A#m":[r,s,a,c,u,l,h],"G#Mix":[r,s,a,c,u,l,h],"D#Dor":[r,s,a,c,u,l,h],"E#Phr":[r,s,a,c,u,l,h],"F#Lyd":[r,s,a,c,u,l,h],"B#Loc":[r,s,a,c,u,l,h],"F#":[r,s,a,c,u,l],"D#m":[r,s,a,c,u,l],"C#Mix":[r,s,a,c,u,l],"G#Dor":[r,s,a,c,u,l],"A#Phr":[r,s,a,c,u,l],BLyd:[r,s,a,c,u,l],"E#Loc":[r,s,a,c,u,l],B:[r,s,a,c,u],"G#m":[r,s,a,c,u],"F#Mix":[r,s,a,c,u],"C#Dor":[r,s,a,c,u],"D#Phr":[r,s,a,c,u],ELyd:[r,s,a,c,u],"A#Loc":[r,s,a,c,u],E:[r,s,a,c],"C#m":[r,s,a,c],BMix:[r,s,a,c],"F#Dor":[r,s,a,c],"G#Phr":[r,s,a,c],ALyd:[r,s,a,c],"D#Loc":[r,s,a,c],A:[r,s,a],"F#m":[r,s,a],EMix:[r,s,a],BDor:[r,s,a],"C#Phr":[r,s,a],DLyd:[r,s,a],"G#Loc":[r,s,a],D:[r,s],Bm:[r,s],AMix:[r,s],EDor:[r,s],"F#Phr":[r,s],GLyd:[r,s],"C#Loc":[r,s],G:[r],Em:[r],DMix:[r],ADor:[r],BPhr:[r],CLyd:[r],"F#Loc":[r],C:[],Am:[],GMix:[],DDor:[],EPhr:[],FLyd:[],BLoc:[],F:[f],Dm:[f],CMix:[f],GDor:[f],APhr:[f],BbLyd:[f],ELoc:[f],Bb:[f,d],Gm:[f,d],FMix:[f,d],CDor:[f,d],DPhr:[f,d],EbLyd:[f,d],ALoc:[f,d],Eb:[f,d,p],Cm:[f,d,p],BbMix:[f,d,p],FDor:[f,d,p],GPhr:[f,d,p],AbLyd:[f,d,p],DLoc:[f,d,p],Ab:[f,d,p,m],Fm:[f,d,p,m],EbMix:[f,d,p,m],BbDor:[f,d,p,m],CPhr:[f,d,p,m],DbLyd:[f,d,p,m],GLoc:[f,d,p,m],Db:[f,d,p,m,b],Bbm:[f,d,p,m,b],AbMix:[f,d,p,m,b],EbDor:[f,d,p,m,b],FPhr:[f,d,p,m,b],GbLyd:[f,d,p,m,b],CLoc:[f,d,p,m,b],Gb:[f,d,p,m,b,g],Ebm:[f,d,p,m,b,g],DbMix:[f,d,p,m,b,g],AbDor:[f,d,p,m,b,g],BbPhr:[f,d,p,m,b,g],CbLyd:[f,d,p,m,b,g],FLoc:[f,d,p,m,b,g],Cb:[f,d,p,m,b,g,v],Abm:[f,d,p,m,b,g,v],GbMix:[f,d,p,m,b,g,v],DbDor:[f,d,p,m,b,g,v],EbPhr:[f,d,p,m,b,g,v],FbLyd:[f,d,p,m,b,g,v],BbLoc:[f,d,p,m,b,g,v],"A#":[f,d],"B#":[],"D#":[f,d,p],"E#":[f],"G#":[f,d,p,m],Gbm:[r,s,a,c,u,l,h]};return o.keySignature(n,y,t,e,i)};var c={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6}},u=function(t,e){var n=c[t];return(n?n.mid:0)+e};s.fixClef=function(t){var e=c[t.type];e&&(t.clefPos=e.pitch,t.type=e.clef)},s.deepCopyKey=function(t){var e={accidentals:[],root:t.root,acc:t.acc,mode:t.mode};return i.each(t.accidentals,function(t){e.accidentals.push(i.clone(t))}),e};var l={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};s.addPosToKey=function(t,e){var n=t.verticalPos;i.each(e.accidentals,function(t){var e=l[t.note];e-=n,t.verticalPos=e}),e.impliedNaturals&&i.each(e.impliedNaturals,function(t){var e=l[t.note];e-=n,t.verticalPos=e}),n<-10?(i.each(e.accidentals,function(t){t.verticalPos-=7,(t.verticalPos>=11||10===t.verticalPos&&"flat"===t.acc)&&(t.verticalPos-=7),"A"===t.note&&"sharp"===t.acc&&(t.verticalPos-=7),"G"!==t.note&&"F"!==t.note||"flat"!==t.acc||(t.verticalPos-=7)}),e.impliedNaturals&&i.each(e.impliedNaturals,function(t){t.verticalPos-=7,(t.verticalPos>=11||10===t.verticalPos&&"flat"===t.acc)&&(t.verticalPos-=7),"A"===t.note&&"sharp"===t.acc&&(t.verticalPos-=7),"G"!==t.note&&"F"!==t.note||"flat"!==t.acc||(t.verticalPos-=7)})):n<-4?(i.each(e.accidentals,function(t){t.verticalPos-=7,-8!==n||"f"!==t.note&&"g"!==t.note||"sharp"!==t.acc||(t.verticalPos-=7)}),e.impliedNaturals&&i.each(e.impliedNaturals,function(t){t.verticalPos-=7,-8!==n||"f"!==t.note&&"g"!==t.note||"sharp"!==t.acc||(t.verticalPos-=7)})):n>=7&&(i.each(e.accidentals,function(t){t.verticalPos+=7}),e.impliedNaturals&&i.each(e.impliedNaturals,function(t){t.verticalPos+=7}))},s.fixKey=function(t,e){var n=i.clone(e);return s.addPosToKey(t,n),n};var h=function(t){var e=0,n=t.charAt(e++);"^"!==n&&"_"!==n||(n=t.charAt(e++));var i=l[n];for(void 0===i&&(i=6);e<t.length;e++)if(","===t.charAt(e))i-=7;else{if("'"!==t.charAt(e))break;i+=7}return{mid:i-6,str:t.substring(e)}},f=function(t){for(var e=0;e<t.length;e++)"b"===t[e].note?t[e].note="B":"a"===t[e].note?t[e].note="A":"F"===t[e].note?t[e].note="f":"E"===t[e].note?t[e].note="e":"D"===t[e].note?t[e].note="d":"C"===t[e].note?t[e].note="c":"G"===t[e].note&&"sharp"===t[e].acc?t[e].note="g":"g"===t[e].note&&"flat"===t[e].acc&&(t[e].note="G")};s.parseKey=function(i){0===i.length&&(i="none");var o=t.tokenize(i,0,i.length),a={};switch(o[0].token){case"HP":r.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},a.foundKey=!0,o.shift();break;case"Hp":r.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},a.foundKey=!0,o.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},a.foundKey=!0,o.shift();break;default:var c=t.getKeyPitch(o[0].token);if(c.len>0){a.foundKey=!0;var l="",h="";o[0].token.length>1?o[0].token=o[0].token.substring(1):o.shift();var d=c.token;if(o.length>0){var p=t.getSharpFlat(o[0].token);if(p.len>0&&(o[0].token.length>1?o[0].token=o[0].token.substring(1):o.shift(),d+=p.token,l=p.token),o.length>0){var m=t.getMode(o[0].token);m.len>0&&(o.shift(),d+=m.token,h=m.token)}if(void 0===s.standardKey(d,c.token,l))return e("Unsupported key signature: "+d,i,0),a}var b=s.deepCopyKey(n.key);if(n.key=s.deepCopyKey(s.standardKey(d,c.token,l)),n.key.mode=h,b){for(var g,v=0;v<n.key.accidentals.length;v++)for(g=0;g<b.accidentals.length;g++)b.accidentals[g].note&&n.key.accidentals[v].note.toLowerCase()===b.accidentals[g].note.toLowerCase()&&(b.accidentals[g].note=null);for(g=0;g<b.accidentals.length;g++)b.accidentals[g].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:b.accidentals[g].note}))}}}if(0===o.length)return a;if("exp"===o[0].token&&o.shift(),0===o.length)return a;if("oct"===o[0].token&&o.shift(),0===o.length)return a;var y=t.getKeyAccidentals2(o);if(y.warn&&e(y.warn,i,0),y.accs){a.foundKey||(a.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),f(y.accs);for(var _=0;_<y.accs.length;_++){for(var x=!1,w=0;w<n.key.accidentals.length&&!x;w++)n.key.accidentals[w].note===y.accs[_].note&&(x=!0,n.key.accidentals[w].acc=y.accs[_].acc);if(!x&&(n.key.accidentals.push(y.accs[_]),n.key.impliedNaturals))for(var S=0;S<n.key.impliedNaturals.length;S++)n.key.impliedNaturals[S].note===y.accs[_].note&&n.key.impliedNaturals.splice(S,1)}}for(var E;o.length>0;)switch(o[0].token){case"m":case"middle":if(o.shift(),0===o.length)return e("Expected = after middle",i,0),a;if(E=o.shift(),"="!==E.token){e("Expected = after middle",i,E.start);break}if(0===o.length)return e("Expected parameter after middle=",i,0),a;var T=t.getPitchFromTokens(o);T.warn&&e(T.warn,i,0),T.position&&(n.clef.verticalPos=T.position-6);break;case"transpose":if(o.shift(),0===o.length)return e("Expected = after transpose",i,0),a;if(E=o.shift(),"="!==E.token){e("Expected = after transpose",i,E.start);break}if(0===o.length)return e("Expected parameter after transpose=",i,0),a;if("number"!==o[0].type){e("Expected number after transpose",i,o[0].start);break}n.clef.transpose=o[0].intt,o.shift();break;case"stafflines":if(o.shift(),0===o.length)return e("Expected = after stafflines",i,0),a;if(E=o.shift(),"="!==E.token){e("Expected = after stafflines",i,E.start);break}if(0===o.length)return e("Expected parameter after stafflines=",i,0),a;if("number"!==o[0].type){e("Expected number after stafflines",i,o[0].start);break}n.clef.stafflines=o[0].intt,o.shift();break;case"staffscale":if(o.shift(),0===o.length)return e("Expected = after staffscale",i,0),a;if(E=o.shift(),"="!==E.token){e("Expected = after staffscale",i,E.start);break}if(0===o.length)return e("Expected parameter after staffscale=",i,0),a;if("number"!==o[0].type){e("Expected number after staffscale",i,o[0].start);break}n.clef.staffscale=o[0].floatt,o.shift();break;case"style":if(o.shift(),0===o.length)return e("Expected = after style",i,0),a;if(E=o.shift(),"="!==E.token){e("Expected = after style",i,E.start);break}if(0===o.length)return e("Expected parameter after style=",i,0),a;switch(o[0].token){case"normal":case"harmonic":case"rhythm":case"x":n.style=o[0].token,o.shift();break;default:e("error parsing style element: "+o[0].token,i,o[0].start)}break;case"clef":if(o.shift(),0===o.length)return e("Expected = after clef",i,0),a;if(E=o.shift(),"="!==E.token){e("Expected = after clef",i,E.start);break}if(0===o.length)return e("Expected parameter after clef=",i,0),a;case"treble":case"bass":case"alto":case"tenor":case"perc":var k=o.shift();switch(k.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":k.token="alto";break;case"F":k.token="bass";break;case"G":k.token="treble";break;case"c":k.token="alto";break;case"f":k.token="bass";break;case"g":k.token="treble";break;default:e("Expected clef name. Found "+k.token,i,k.start)}o.length>0&&"number"===o[0].type&&(k.token+=o[0].token,o.shift()),o.length>1&&("-"===o[0].token||"+"===o[0].token)&&"8"===o[1].token&&(k.token+=o[0].token+o[1].token,o.shift(),o.shift()),n.clef={type:k.token,verticalPos:u(k.token,0)},n.currentVoice&&void 0!==n.currentVoice.transpose&&(n.clef.transpose=n.currentVoice.transpose),a.foundClef=!0;break;default:e("Unknown parameter: "+o[0].token,i,o[0].start),o.shift()}return a};var d=function(t){n.currentVoice=n.voices[t],a.setCurrentVoice(n.currentVoice.staffNum,n.currentVoice.index)};s.parseVoice=function(i,r,o){var s=t.getMeat(i,r,o),a=s.start,c=s.end,l=t.getToken(i,a,c);if(0===l.length)return void e("Expected a voice id",i,a);var f=!1;void 0===n.voices[l]&&(n.voices[l]={},f=!0,n.score_is_present&&e("Can't have an unknown V: id when the %score directive is present",i,a)),a+=l.length,a+=t.eatWhiteSpace(i,a);for(var p={startStaff:f},m=function(n){var r=t.getVoiceToken(i,a,c);void 0!==r.warn?e("Expected value for "+n+" in voice: "+r.warn,i,a):0===r.token.length&&'"'!==i.charAt(a)?e("Expected value for "+n+" in voice",i,a):p[n]=r.token,a+=r.len},b=function(r,o,s){var u=t.getVoiceToken(i,a,c);void 0!==u.warn?e("Expected value for "+o+" in voice: "+u.warn,i,a):0===u.token.length&&'"'!==i.charAt(a)?e("Expected value for "+o+" in voice",i,a):("number"===s&&(u.token=parseFloat(u.token)),n.voices[r][o]=u.token),a+=u.len};a<c;){var g=t.getVoiceToken(i,a,c);if(a+=g.len,g.warn)e("Error parsing voice: "+g.warn,i,a);else{var v=null;switch(g.token){case"clef":case"cl":m("clef");var y=0;void 0!==p.clef&&(p.clef=p.clef.replace(/[',]/g,""),-1!==p.clef.indexOf("+16")&&(y+=14,p.clef=p.clef.replace("+16","")),p.verticalPos=u(p.clef,y));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":;p.clef=g.token.replace(/[',]/g,""),p.verticalPos=u(p.clef,0);break;case"staves":case"stave":case"stv":m("staves");break;case"brace":case"brc":m("brace");break;case"bracket":case"brk":m("bracket");break;case"name":case"nm":m("name");break;case"subname":case"sname":case"snm":m("subname");break;case"merge":p.startStaff=!1;break;case"stem":case"stems":v=t.getVoiceToken(i,a,c),void 0!==v.warn?e("Expected value for stems in voice: "+v.warn,i,a):"up"===v.token||"down"===v.token?n.voices[l].stem=v.token:e("Expected up or down for voice stem",i,a),a+=v.len;break;case"up":case"down":n.voices[l].stem=g.token;break;case"middle":case"m":m("verticalPos"),p.verticalPos=h(p.verticalPos).mid;break;case"gchords":case"gch":n.voices[l].suppressChords=!0,v=t.getVoiceToken(i,a,c),"0"===v.token&&(a+=v.len);break;case"space":case"spc":m("spacing");break;case"scale":b(l,"scale","number");break;case"transpose":b(l,"transpose","number");break;case"stafflines":b(l,"stafflines","number");break;case"staffscale":b(l,"staffscale","number");break;case"octave":b(l,"octave","number");break;case"volume":b(l,"volume","number")}}a+=t.eatWhiteSpace(i,a)}if((p.startStaff||0===n.staves.length)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),void 0===n.voices[l].staffNum){n.voices[l].staffNum=n.staves.length-1;var _=0;for(var x in n.voices)n.voices.hasOwnProperty(x)&&n.voices[x].staffNum===n.voices[l].staffNum&&_++;n.voices[l].index=_-1}var w=n.staves[n.voices[l].staffNum];n.score_is_present||w.numVoices++,p.clef&&(w.clef={type:p.clef,verticalPos:p.verticalPos}),p.spacing&&(w.spacing_below_offset=p.spacing),p.verticalPos&&(w.verticalPos=p.verticalPos),p.name&&(w.name?w.name.push(p.name):w.name=[p.name]),p.subname&&(w.subname?w.subname.push(p.subname):w.subname=[p.subname]),d(l)}}(),t.exports=s},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i,r;i=[n(1),n(3),n(4)],void 0!==(r=function(t){return t}.apply(e,i))&&(t.exports=r)},function(t,e,n){var i,r;i=[n(2)],void 0!==(r=function(t){function e(n){if(e.is(n,"function"))return y?n():t.on("raphael.DOMload",n);if(e.is(n,Y))return e._engine.create[M](e,n.splice(0,3+e.is(n[0],W))).add(n);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var r=i.pop();return y?r.call(e._engine.create[M](e,i)):t.on("raphael.DOMload",function(){r.call(e._engine.create[M](e,i))})}return e._engine.create[M](e,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[E](i)&&(e[i]=n(t[i]));return e}function i(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function r(t,e,n){function r(){var o=Array.prototype.slice.call(arguments,0),s=o.join("\u2400"),a=r.cache=r.cache||{},c=r.count=r.count||[];return a[E](s)?(i(c,s),n?n(a[s]):a[s]):(c.length>=1e3&&delete a[c.shift()],c.push(s),a[s]=t[M](e,o),n?n(a[s]):a[s])}return r}function o(){return this.hex}function s(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function a(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function c(t,e,n,i,r,o,s,c,u){null==u&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var m=l*h[p]+l,b=a(m,t,n,r,s),g=a(m,e,i,o,c),v=b*b+g*g;d+=f[p]*D.sqrt(v)}return l*d}function u(t,e,n,i,r,o,s,a,u){if(!(u<0||c(t,e,n,i,r,o,s,a)<u)){var l,h=.5,f=1-h;for(l=c(t,e,n,i,r,o,s,a,f);G(l-u)>.01;)h/=2,f+=(l<u?1:-1)*h,l=c(t,e,n,i,r,o,s,a,f);return f}}function l(t,e,n,i,r,o,s,a){if(!(j(t,n)<V(r,s)||V(t,n)>j(r,s)||j(e,i)<V(o,a)||V(e,i)>j(o,a))){var c=(t*i-e*n)*(r-s)-(t-n)*(r*a-o*s),u=(t*i-e*n)*(o-a)-(e-i)*(r*a-o*s),l=(t-n)*(o-a)-(e-i)*(r-s);if(l){var h=c/l,f=u/l,d=+h.toFixed(2),p=+f.toFixed(2);if(!(d<+V(t,n).toFixed(2)||d>+j(t,n).toFixed(2)||d<+V(r,s).toFixed(2)||d>+j(r,s).toFixed(2)||p<+V(e,i).toFixed(2)||p>+j(e,i).toFixed(2)||p<+V(o,a).toFixed(2)||p>+j(o,a).toFixed(2)))return{x:h,y:f}}}}function h(t,n,i){var r=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(r,o))return i?0:[];for(var s=c.apply(0,t),a=c.apply(0,n),u=j(~~(s/5),1),h=j(~~(a/5),1),f=[],d=[],p={},m=i?0:[],b=0;b<u+1;b++){var g=e.findDotsAtSegment.apply(e,t.concat(b/u));f.push({x:g.x,y:g.y,t:b/u})}for(b=0;b<h+1;b++)g=e.findDotsAtSegment.apply(e,n.concat(b/h)),d.push({x:g.x,y:g.y,t:b/h});for(b=0;b<u;b++)for(var v=0;v<h;v++){var y=f[b],_=f[b+1],x=d[v],w=d[v+1],S=G(_.x-y.x)<.001?"y":"x",E=G(w.x-x.x)<.001?"y":"x",T=l(y.x,y.y,_.x,_.y,x.x,x.y,w.x,w.y);if(T){if(p[T.x.toFixed(4)]==T.y.toFixed(4))continue;p[T.x.toFixed(4)]=T.y.toFixed(4);var k=y.t+G((T[S]-y[S])/(_[S]-y[S]))*(_.t-y.t),P=x.t+G((T[E]-x[E])/(w[E]-x[E]))*(w.t-x.t);k>=0&&k<=1.001&&P>=0&&P<=1.001&&(i?m++:m.push({x:T.x,y:T.y,t1:V(k,1),t2:V(P,1)}))}}return m}function f(t,n,i){t=e._path2curve(t),n=e._path2curve(n);for(var r,o,s,a,c,u,l,f,d,p,m=i?0:[],b=0,g=t.length;b<g;b++){var v=t[b];if("M"==v[0])r=c=v[1],o=u=v[2];else{"C"==v[0]?(d=[r,o].concat(v.slice(1)),r=d[6],o=d[7]):(d=[r,o,r,o,c,u,c,u],r=c,o=u);for(var y=0,_=n.length;y<_;y++){var x=n[y];if("M"==x[0])s=l=x[1],a=f=x[2];else{"C"==x[0]?(p=[s,a].concat(x.slice(1)),s=p[6],a=p[7]):(p=[s,a,s,a,l,f,l,f],s=l,a=f);var w=h(d,p,i);if(i)m+=w;else{for(var S=0,E=w.length;S<E;S++)w[S].segment1=b,w[S].segment2=y,w[S].bez1=d,w[S].bez2=p;m=m.concat(w)}}}}}return m}function d(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+N+this.y+N+this.width+" \xd7 "+this.height}function m(t,e,n,i,r,o){function s(t){return((l*t+u)*t+c)*t}function a(t,e){var n,i,r,o,a,h;for(r=t,h=0;h<8;h++){if(o=s(r)-t,G(o)<e)return r;if(a=(3*l*r+2*u)*r+c,G(a)<1e-6)break;r-=o/a}if(n=0,i=1,(r=t)<n)return n;if(r>i)return i;for(;n<i;){if(o=s(r),G(o-t)<e)return r;t>o?n=r:i=r,r=(i-n)/2+n}return r}var c=3*e,u=3*(i-e)-c,l=1-c-u,h=3*n,f=3*(r-n)-h,d=1-h-f;return function(t,e){var n=a(t,e);return((d*n+f)*n+h)*n}(t,1/(200*o))}function b(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[E](r)&&(i[Z(r)]=t[r],n.push(Z(r)));n.sort(lt)}this.anim=i,this.top=n[n.length-1],this.percents=n}function g(n,i,r,o,s,a){r=Z(r);var c,u,l,h,f,p,b=n.ms,g={},v={},y={};if(o)for(w=0,S=oe.length;w<S;w++){var _=oe[w];if(_.el.id==i.id&&_.anim==n){_.percent!=r?(oe.splice(w,1),l=1):u=_,i.attr(_.totalOrigin);break}}else o=+v;for(var w=0,S=n.percents.length;w<S;w++){if(n.percents[w]==r||n.percents[w]>o*n.top){r=n.percents[w],f=n.percents[w-1]||0,b=b/n.top*(r-f),h=n.percents[w+1],c=n.anim[r];break}o&&i.attr(n.anim[n.percents[w]])}if(c){if(u)u.initstatus=o,u.start=new Date-u.ms*o;else{for(var T in c)if(c[E](T)&&(nt[E](T)||i.paper.customAttributes[E](T)))switch(g[T]=i.attr(T),null==g[T]&&(g[T]=et[T]),v[T]=c[T],nt[T]){case W:y[T]=(v[T]-g[T])/b;break;case"colour":g[T]=e.getRGB(g[T]);var k=e.getRGB(v[T]);y[T]={r:(k.r-g[T].r)/b,g:(k.g-g[T].g)/b,b:(k.b-g[T].b)/b};break;case"path":var P=It(g[T],v[T]),M=P[1];for(g[T]=P[0],y[T]=[],w=0,S=g[T].length;w<S;w++){y[T][w]=[0];for(var O=1,A=g[T][w].length;O<A;O++)y[T][w][O]=(M[w][O]-g[T][w][O])/b}break;case"transform":var N=i._,R=jt(N[T],v[T]);if(R)for(g[T]=R.from,v[T]=R.to,y[T]=[],y[T].real=!0,w=0,S=g[T].length;w<S;w++)for(y[T][w]=[g[T][w][0]],O=1,A=g[T][w].length;O<A;O++)y[T][w][O]=(v[T][w][O]-g[T][w][O])/b;else{var B=i.matrix||new d,F={_:{transform:N.transform},getBBox:function(){return i.getBBox(1)}};g[T]=[B.a,B.b,B.c,B.d,B.e,B.f],Ft(F,v[T]),v[T]=F._.transform,y[T]=[(F.matrix.a-B.a)/b,(F.matrix.b-B.b)/b,(F.matrix.c-B.c)/b,(F.matrix.d-B.d)/b,(F.matrix.e-B.e)/b,(F.matrix.f-B.f)/b]}break;case"csv":var D=L(c[T])[I](x),j=L(g[T])[I](x);if("clip-rect"==T)for(g[T]=j,y[T]=[],w=j.length;w--;)y[T][w]=(D[w]-g[T][w])/b;v[T]=D;break;default:for(D=[][C](c[T]),j=[][C](g[T]),y[T]=[],w=i.paper.customAttributes[T].length;w--;)y[T][w]=((D[w]||0)-(j[w]||0))/b}var V=c.easing,G=e.easing_formulas[V];if(!G)if((G=L(V).match(J))&&5==G.length){var H=G;G=function(t){return m(t,+H[1],+H[2],+H[3],+H[4],b)}}else G=ht;if(p=c.start||n.start||+new Date,_={anim:n,percent:r,timestamp:p,start:p+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:b,easing:G,from:g,diff:y,to:v,el:i,callback:c.callback,prev:f,next:h,repeat:a||n.times,origin:i.attr(),totalOrigin:s},oe.push(_),o&&!u&&!l&&(_.stop=!0,_.start=new Date-b*o,1==oe.length))return ae();l&&(_.start=new Date-_.ms*o),1==oe.length&&se(ae)}t("raphael.anim.start."+i.id,i,n)}}function v(t){for(var e=0;e<oe.length;e++)oe[e].el.paper==t&&oe.splice(e--,1)}e.version="2.2.0",e.eve=t;var y,_,x=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},S=/\{(\d+)\}/g,E="hasOwnProperty",T={doc:document,win:window},k={was:Object.prototype[E].call(T.win,"Raphael"),is:T.win.Raphael},P=function(){this.ca=this.customAttributes={}},M="apply",C="concat",O="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,A="",N=" ",L=String,I="split",R="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[I](N),B={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},F=L.prototype.toLowerCase,D=Math,j=D.max,V=D.min,G=D.abs,H=D.pow,z=D.PI,W="number",U="string",Y="array",X=Object.prototype.toString,K=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),q={NaN:1,Infinity:1,"-Infinity":1},J=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=D.round,Z=parseFloat,$=parseInt,tt=L.prototype.toUpperCase,et=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},nt=e._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,rt={hs:1,rg:1},ot=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,at=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ut=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),lt=function(t,e){return Z(t)-Z(e)},ht=function(t){return t},ft=e._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},dt=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},pt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},mt=e.mapPath=function(t,e){if(!e)return t;var n,i,r,o,s,a,c;for(t=It(t),r=0,s=t.length;r<s;r++)for(c=t[r],o=1,a=c.length;o<a;o+=2)n=e.x(c[o],c[o+1]),i=e.y(c[o],c[o+1]),c[o]=n,c[o+1]=i;return t};if(e._g=T,e.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var bt,gt=T.doc.createElement("div");if(gt.innerHTML='<v:shape adj="1"/>',bt=gt.firstChild,bt.style.behavior="url(#default#VML)",!bt||"object"!=typeof bt.adj)return e.type=A;gt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=P,e.fn=_=P.prototype=e.prototype,e._id=0,e.is=function(t,e){return e=F.call(e),"finite"==e?!q[E](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||X.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,i,r,o,s){if(null==o){var a=t-i,c=n-r;return a||c?(180+180*D.atan2(-c,-a)/z+360)%360:0}return e.angle(t,n,o,s)-e.angle(i,r,o,s)},e.rad=function(t){return t%360*z/180},e.deg=function(t){return Math.round(180*t/z%360*1e3)/1e3},e.snapTo=function(t,n,i){if(i=e.is(i,"finite")?i:10,e.is(t,Y)){for(var r=t.length;r--;)if(G(t[r]-n)<=i)return t[r]}else{t=+t;var o=n%t;if(o<i)return n-o;if(o>t-i)return n-o+t}return n};e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*D.random()|0;return("x"==t?e:3&e|8).toString(16)});e.setWindow=function(n){t("raphael.setWindow",e,T.win,n),T.win=n,T.doc=T.win.document,e._engine.initWin&&e._engine.initWin(T.win)};var vt=function(t){if(e.vml){var n,i=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(t){n=createPopup().document.body}var s=n.createTextRange();vt=r(function(t){try{n.style.color=L(t).replace(i,A);var e=s.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var a=T.doc.createElement("i");a.title="Rapha\xebl Colour Picker",a.style.display="none",T.doc.body.appendChild(a),vt=r(function(t){return a.style.color=t,T.doc.defaultView.getComputedStyle(a,A).getPropertyValue("color")})}return vt(t)},yt=function(){return"hsb("+[this.h,this.s,this.b]+")"},_t=function(){return"hsl("+[this.h,this.s,this.l]+")"},xt=function(){return this.hex},wt=function(t,n,i){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,n=t.g,t=t.r),null==n&&e.is(t,U)){var r=e.getRGB(t);t=r.r,n=r.g,i=r.b}return(t>1||n>1||i>1)&&(t/=255,n/=255,i/=255),[t,n,i]},St=function(t,n,i,r){t*=255,n*=255,i*=255;var o={r:t,g:n,b:i,hex:e.rgb(t,n,i),toString:xt};return e.is(r,"finite")&&(o.opacity=r),o};e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=xt,t},e.hsb2rgb=function(t,e,n,i){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),t*=360;var r,o,s,a,c;return t=t%360/60,c=n*e,a=c*(1-G(t%2-1)),r=o=s=n-c,t=~~t,r+=[c,a,0,0,a,c][t],o+=[a,c,c,a,0,0][t],s+=[0,0,a,c,c,a][t],St(r,o,s,i)},e.hsl2rgb=function(t,e,n,i){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var r,o,s,a,c;return t=t%360/60,c=2*e*(n<.5?n:1-n),a=c*(1-G(t%2-1)),r=o=s=n-c/2,t=~~t,r+=[c,a,0,0,a,c][t],o+=[a,c,c,a,0,0][t],s+=[0,0,a,c,c,a][t],St(r,o,s,i)},e.rgb2hsb=function(t,e,n){n=wt(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,s;return o=j(t,e,n),s=o-V(t,e,n),i=0==s?null:o==t?(e-n)/s:o==e?(n-t)/s+2:(t-e)/s+4,i=(i+360)%6*60/360,r=0==s?0:s/o,{h:i,s:r,b:o,toString:yt}},e.rgb2hsl=function(t,e,n){n=wt(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,s,a,c;return s=j(t,e,n),a=V(t,e,n),c=s-a,i=0==c?null:s==t?(e-n)/c:s==e?(n-t)/c+2:(t-e)/c+4,i=(i+360)%6*60/360,o=(s+a)/2,r=0==c?0:o<.5?c/(2*o):c/(2-2*o),{h:i,s:r,l:o,toString:_t}},e._path2string=function(){return this.join(",").replace(ot,"$1")};e._preload=function(t,e){var n=T.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},n.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(n),n.src=t};e.getRGB=r(function(t){if(!t||(t=L(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(rt[E](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=vt(t));var n,i,r,s,a,c,u=t.match(K);return u?(u[2]&&(r=$(u[2].substring(5),16),i=$(u[2].substring(3,5),16),n=$(u[2].substring(1,3),16)),u[3]&&(r=$((a=u[3].charAt(3))+a,16),i=$((a=u[3].charAt(2))+a,16),n=$((a=u[3].charAt(1))+a,16)),u[4]&&(c=u[4][I](it),n=Z(c[0]),"%"==c[0].slice(-1)&&(n*=2.55),i=Z(c[1]),"%"==c[1].slice(-1)&&(i*=2.55),r=Z(c[2]),"%"==c[2].slice(-1)&&(r*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(s=Z(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100)),u[5]?(c=u[5][I](it),n=Z(c[0]),"%"==c[0].slice(-1)&&(n*=2.55),i=Z(c[1]),"%"==c[1].slice(-1)&&(i*=2.55),r=Z(c[2]),"%"==c[2].slice(-1)&&(r*=2.55),("deg"==c[0].slice(-3)||"\xb0"==c[0].slice(-1))&&(n/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(s=Z(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100),e.hsb2rgb(n,i,r,s)):u[6]?(c=u[6][I](it),n=Z(c[0]),"%"==c[0].slice(-1)&&(n*=2.55),i=Z(c[1]),"%"==c[1].slice(-1)&&(i*=2.55),r=Z(c[2]),"%"==c[2].slice(-1)&&(r*=2.55),("deg"==c[0].slice(-3)||"\xb0"==c[0].slice(-1))&&(n/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(s=Z(c[3])),c[3]&&"%"==c[3].slice(-1)&&(s/=100),e.hsl2rgb(n,i,r,s)):(u={r:n,g:i,b:r,toString:o},u.hex="#"+(16777216|r|i<<8|n<<16).toString(16).slice(1),e.is(s,"finite")&&(u.opacity=s),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},e),e.hsb=r(function(t,n,i){return e.hsb2rgb(t,n,i).hex}),e.hsl=r(function(t,n,i){return e.hsl2rgb(t,n,i).hex}),e.rgb=r(function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=Et(t);if(n.arr)return kt(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,Y)&&e.is(t[0],Y)&&(r=kt(t)),r.length||L(t).replace(st,function(t,e,n){var o=[],s=e.toLowerCase();if(n.replace(ct,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(r.push([e][C](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][C](o));else for(;o.length>=i[s]&&(r.push([e][C](o.splice(0,i[s]))),i[s]););}),r.toString=e._path2string,n.arr=kt(r),r},e.parseTransformString=r(function(t){if(!t)return null;var n=[];return e.is(t,Y)&&e.is(t[0],Y)&&(n=kt(t)),n.length||L(t).replace(at,function(t,e,i){var r=[];F.call(e);i.replace(ct,function(t,e){e&&r.push(+e)}),n.push([e][C](r))}),n.toString=e._path2string,n});var Et=function(t){var e=Et.ps=Et.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[E](n)&&n!=t&&!--e[n].sleep&&delete e[n]}),e[t]};e.findDotsAtSegment=function(t,e,n,i,r,o,s,a,c){var u=1-c,l=H(u,3),h=H(u,2),f=c*c,d=f*c,p=l*t+3*h*c*n+3*u*c*c*r+d*s,m=l*e+3*h*c*i+3*u*c*c*o+d*a,b=t+2*c*(n-t)+f*(r-2*n+t),g=e+2*c*(i-e)+f*(o-2*i+e),v=n+2*c*(r-n)+f*(s-2*r+n),y=i+2*c*(o-i)+f*(a-2*o+i),_=u*t+c*n,x=u*e+c*i,w=u*r+c*s,S=u*o+c*a,E=90-180*D.atan2(b-v,g-y)/z;return(b>v||g<y)&&(E+=180),{x:p,y:m,m:{x:b,y:g},n:{x:v,y:y},start:{x:_,y:x},end:{x:w,y:S},alpha:E}},e.bezierBBox=function(t,n,i,r,o,s,a,c){e.is(t,"array")||(t=[t,n,i,r,o,s,a,c]);var u=Lt.apply(null,t);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var i=e.isPointInsideBBox;return i(n,t.x,t.y)||i(n,t.x2,t.y)||i(n,t.x,t.y2)||i(n,t.x2,t.y2)||i(t,n.x,n.y)||i(t,n.x2,n.y)||i(t,n.x,n.y2)||i(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return f(t,e)},e.pathIntersectionNumber=function(t,e){return f(t,e,1)},e.isPointInsidePath=function(t,n,i){var r=e.pathBBox(t);return e.isPointInsideBBox(r,n,i)&&f(t,[["M",n,i],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+e+"\u201d of removed object",e)}};var Tt=e.pathBBox=function(t){var e=Et(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=It(t);for(var i,r=0,o=0,s=[],a=[],c=0,u=t.length;c<u;c++)if(i=t[c],"M"==i[0])r=i[1],o=i[2],s.push(r),a.push(o);else{var l=Lt(r,o,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[C](l.min.x,l.max.x),a=a[C](l.min.y,l.max.y),r=i[5],o=i[6]}var h=V[M](0,s),f=V[M](0,a),d=j[M](0,s),p=j[M](0,a),m=d-h,b=p-f,g={x:h,y:f,x2:d,y2:p,width:m,height:b,cx:h+m/2,cy:f+b/2};return e.bbox=n(g),g},kt=function(t){var i=n(t);return i.toString=e._path2string,i},Pt=e._pathToRelative=function(t){var n=Et(t);if(n.rel)return kt(n.rel);e.is(t,Y)&&e.is(t&&t[0],Y)||(t=e.parsePathString(t));var i=[],r=0,o=0,s=0,a=0,c=0;"M"==t[0][0]&&(r=t[0][1],o=t[0][2],s=r,a=o,c++,i.push(["M",r,o]));for(var u=c,l=t.length;u<l;u++){var h=i[u]=[],f=t[u];if(f[0]!=F.call(f[0]))switch(h[0]=F.call(f[0]),h[0]){case"a":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+(f[6]-r).toFixed(3),h[7]=+(f[7]-o).toFixed(3);break;case"v":h[1]=+(f[1]-o).toFixed(3);break;case"m":s=f[1],a=f[2];default:for(var d=1,p=f.length;d<p;d++)h[d]=+(f[d]-(d%2?r:o)).toFixed(3)}else{h=i[u]=[],"m"==f[0]&&(s=f[1]+r,a=f[2]+o);for(var m=0,b=f.length;m<b;m++)i[u][m]=f[m]}var g=i[u].length;switch(i[u][0]){case"z":r=s,o=a;break;case"h":r+=+i[u][g-1];break;case"v":o+=+i[u][g-1];break;default:r+=+i[u][g-2],o+=+i[u][g-1]}}return i.toString=e._path2string,n.rel=kt(i),i},Mt=e._pathToAbsolute=function(t){var n=Et(t);if(n.abs)return kt(n.abs);if(e.is(t,Y)&&e.is(t&&t[0],Y)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,o=0,a=0,c=0,u=0;"M"==t[0][0]&&(r=+t[0][1],o=+t[0][2],a=r,c=o,u++,i[0]=["M",r,o]);for(var l,h,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),d=u,p=t.length;d<p;d++){if(i.push(l=[]),h=t[d],h[0]!=tt.call(h[0]))switch(l[0]=tt.call(h[0]),l[0]){case"A":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+(h[6]+r),l[7]=+(h[7]+o);break;case"V":l[1]=+h[1]+o;break;case"H":l[1]=+h[1]+r;break;case"R":for(var m=[r,o][C](h.slice(1)),b=2,g=m.length;b<g;b++)m[b]=+m[b]+r,m[++b]=+m[b]+o;i.pop(),i=i[C](s(m,f));break;case"M":a=+h[1]+r,c=+h[2]+o;default:for(b=1,g=h.length;b<g;b++)l[b]=+h[b]+(b%2?r:o)}else if("R"==h[0])m=[r,o][C](h.slice(1)),i.pop(),i=i[C](s(m,f)),l=["R"][C](h.slice(-2));else for(var v=0,y=h.length;v<y;v++)l[v]=h[v];switch(l[0]){case"Z":r=a,o=c;break;case"H":r=l[1];break;case"V":o=l[1];break;case"M":a=l[l.length-2],c=l[l.length-1];default:r=l[l.length-2],o=l[l.length-1]}}return i.toString=e._path2string,n.abs=kt(i),i},Ct=function(t,e,n,i){return[t,e,n,i,n,i]},Ot=function(t,e,n,i,r,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*i,s*r+a*n,s*o+a*i,r,o]},At=function(t,e,n,i,o,s,a,c,u,l){var h,f=120*z/180,d=z/180*(+o||0),p=[],m=r(function(t,e,n){return{x:t*D.cos(n)-e*D.sin(n),y:t*D.sin(n)+e*D.cos(n)}});if(l)E=l[0],T=l[1],w=l[2],S=l[3];else{h=m(t,e,-d),t=h.x,e=h.y,h=m(c,u,-d),c=h.x,u=h.y;var b=(D.cos(z/180*o),D.sin(z/180*o),(t-c)/2),g=(e-u)/2,v=b*b/(n*n)+g*g/(i*i);v>1&&(v=D.sqrt(v),n*=v,i*=v);var y=n*n,_=i*i,x=(s==a?-1:1)*D.sqrt(G((y*_-y*g*g-_*b*b)/(y*g*g+_*b*b))),w=x*n*g/i+(t+c)/2,S=x*-i*b/n+(e+u)/2,E=D.asin(((e-S)/i).toFixed(9)),T=D.asin(((u-S)/i).toFixed(9));E=t<w?z-E:E,T=c<w?z-T:T,E<0&&(E=2*z+E),T<0&&(T=2*z+T),a&&E>T&&(E-=2*z),!a&&T>E&&(T-=2*z)}var k=T-E;if(G(k)>f){var P=T,M=c,O=u;T=E+f*(a&&T>E?1:-1),c=w+n*D.cos(T),u=S+i*D.sin(T),p=At(c,u,n,i,o,0,a,M,O,[T,P,w,S])}k=T-E;var A=D.cos(E),N=D.sin(E),L=D.cos(T),R=D.sin(T),B=D.tan(k/4),F=4/3*n*B,j=4/3*i*B,V=[t,e],H=[t+F*N,e-j*A],W=[c+F*R,u-j*L],U=[c,u];if(H[0]=2*V[0]-H[0],H[1]=2*V[1]-H[1],l)return[H,W,U][C](p);p=[H,W,U][C](p).join()[I](",");for(var Y=[],X=0,K=p.length;X<K;X++)Y[X]=X%2?m(p[X-1],p[X],d).y:m(p[X],p[X+1],d).x;return Y},Nt=function(t,e,n,i,r,o,s,a,c){var u=1-c;return{x:H(u,3)*t+3*H(u,2)*c*n+3*u*c*c*r+H(c,3)*s,y:H(u,3)*e+3*H(u,2)*c*i+3*u*c*c*o+H(c,3)*a}},Lt=r(function(t,e,n,i,r,o,s,a){var c,u=r-2*n+t-(s-2*r+n),l=2*(n-t)-2*(r-n),h=t-n,f=(-l+D.sqrt(l*l-4*u*h))/2/u,d=(-l-D.sqrt(l*l-4*u*h))/2/u,p=[e,a],m=[t,s];return G(f)>"1e12"&&(f=.5),G(d)>"1e12"&&(d=.5),f>0&&f<1&&(c=Nt(t,e,n,i,r,o,s,a,f),m.push(c.x),p.push(c.y)),d>0&&d<1&&(c=Nt(t,e,n,i,r,o,s,a,d),m.push(c.x),p.push(c.y)),u=o-2*i+e-(a-2*o+i),l=2*(i-e)-2*(o-i),h=e-i,f=(-l+D.sqrt(l*l-4*u*h))/2/u,d=(-l-D.sqrt(l*l-4*u*h))/2/u,G(f)>"1e12"&&(f=.5),G(d)>"1e12"&&(d=.5),f>0&&f<1&&(c=Nt(t,e,n,i,r,o,s,a,f),m.push(c.x),p.push(c.y)),d>0&&d<1&&(c=Nt(t,e,n,i,r,o,s,a,d),m.push(c.x),p.push(c.y)),{min:{x:V[M](0,m),y:V[M](0,p)},max:{x:j[M](0,m),y:j[M](0,p)}}}),It=e._path2curve=r(function(t,e){var n=!e&&Et(t);if(!e&&n.curve)return kt(n.curve);for(var i=Mt(t),r=e&&Mt(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e,n){var i,r,o={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in o)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][C](At[M](0,[e.x,e.y][C](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][C](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][C](Ot(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][C](Ot(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][C](Ct(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][C](Ct(e.x,e.y,t[1],e.y));break;case"V":t=["C"][C](Ct(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][C](Ct(e.x,e.y,e.X,e.Y))}return t}),c=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)l[e]="A",r&&(h[e]="A"),t.splice(e++,0,["C"][C](n.splice(0,6)));t.splice(e,1),m=j(i.length,r&&r.length||0)}},u=function(t,e,n,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],m=j(i.length,r&&r.length||0))},l=[],h=[],f="",d="",p=0,m=j(i.length,r&&r.length||0);p<m;p++){i[p]&&(f=i[p][0]),"C"!=f&&(l[p]=f,p&&(d=l[p-1])),i[p]=a(i[p],o,d),"A"!=l[p]&&"C"==f&&(l[p]="C"),c(i,p),r&&(r[p]&&(f=r[p][0]),"C"!=f&&(h[p]=f,p&&(d=h[p-1])),r[p]=a(r[p],s,d),"A"!=h[p]&&"C"==f&&(h[p]="C"),c(r,p)),u(i,r,o,s,p),u(r,i,s,o,p);var b=i[p],g=r&&r[p],v=b.length,y=r&&g.length;o.x=b[v-2],o.y=b[v-1],o.bx=Z(b[v-4])||o.x,o.by=Z(b[v-3])||o.y,s.bx=r&&(Z(g[y-4])||s.x),s.by=r&&(Z(g[y-3])||s.y),s.x=r&&g[y-2],s.y=r&&g[y-1]}return r||(n.curve=kt(i)),r?[i,r]:i},null,kt),Rt=(e._parseDots=r(function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(s[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),n.push(o)}for(i=1,r=n.length-1;i<r;i++)if(!n[i].offset){for(var a=Z(n[i-1].offset||0),c=0,u=i+1;u<r;u++)if(n[u].offset){c=n[u].offset;break}c||(c=100,u=r),c=Z(c);for(var l=(c-a)/(u-i+1);i<u;i++)a+=l,n[i].offset=a+"%"}return n}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Bt=(e._tofront=function(t,e){e.top!==t&&(Rt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Rt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Rt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Rt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=Tt(t),i={_:{transform:A},getBBox:function(){return n}};return Ft(i,e),i.matrix}),Ft=(e.transformPath=function(t,e){return mt(t,Bt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=L(n).replace(/\.{3}|\u2026/g,t._.transform||A);var i=e.parseTransformString(n),r=0,o=0,s=0,a=1,c=1,u=t._,l=new d;if(u.transform=i||[],i)for(var h=0,f=i.length;h<f;h++){var p,m,b,g,v,y=i[h],_=y.length,x=L(y[0]).toLowerCase(),w=y[0]!=x,S=w?l.invert():0;"t"==x&&3==_?w?(p=S.x(0,0),m=S.y(0,0),b=S.x(y[1],y[2]),g=S.y(y[1],y[2]),l.translate(b-p,g-m)):l.translate(y[1],y[2]):"r"==x?2==_?(v=v||t.getBBox(1),l.rotate(y[1],v.x+v.width/2,v.y+v.height/2),r+=y[1]):4==_&&(w?(b=S.x(y[2],y[3]),g=S.y(y[2],y[3]),l.rotate(y[1],b,g)):l.rotate(y[1],y[2],y[3]),r+=y[1]):"s"==x?2==_||3==_?(v=v||t.getBBox(1),l.scale(y[1],y[_-1],v.x+v.width/2,v.y+v.height/2),a*=y[1],c*=y[_-1]):5==_&&(w?(b=S.x(y[3],y[4]),g=S.y(y[3],y[4]),l.scale(y[1],y[2],b,g)):l.scale(y[1],y[2],y[3],y[4]),a*=y[1],c*=y[2]):"m"==x&&7==_&&l.add(y[1],y[2],y[3],y[4],y[5],y[6]),u.dirtyT=1,t.matrix=l}t.matrix=l,u.sx=a,u.sy=c,u.deg=r,u.dx=o=l.e,u.dy=s=l.f,1==a&&1==c&&!r&&u.bbox?(u.bbox.x+=+o,u.bbox.y+=+s):u.dirtyT=1}),Dt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},jt=e._equaliseTransform=function(t,n){n=L(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var i,r,o,s,a=j(t.length,n.length),c=[],u=[],l=0;l<a;l++){if(o=t[l]||Dt(n[l]),s=n[l]||Dt(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(c[l]=[],u[l]=[],i=0,r=j(o.length,s.length);i<r;i++)i in o&&(c[l][i]=o[i]),i in s&&(u[l][i]=s[i])}return{from:c,to:u}};e._getContainer=function(t,n,i,r){var o;if(null!=(o=null!=r||e.is(t,"object")?t:T.doc.getElementById(t)))return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:i}:{container:1,x:t,y:n,width:i,height:r}},e.pathToRelative=Pt,e._engine={},e.path2curve=It,e.matrix=function(t,e,n,i,r,o){return new d(t,e,n,i,r,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=D.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,o){var s,a,c,u,l=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof d&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(u=0,c=0;c<3;c++)u+=h[s][c]*f[c][a];l[s][a]=u}this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new d(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var r=+D.cos(t).toFixed(9),o=+D.sin(t).toFixed(9);this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[L.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=D.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=D.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return s<0?(t.rotate=e.deg(D.acos(s)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(D.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[I]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:A)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:A)+(e.rotate?"r"+[e.rotate,0,0]:A)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);for(var Vt=function(){this.returnValue=!1},Gt=function(){return this.originalEvent.preventDefault()},Ht=function(){this.cancelBubble=!0},zt=function(){return this.originalEvent.stopPropagation()},Wt=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,n=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Ut=function(){return T.doc.addEventListener?function(t,e,n,i){var r=function(t){var e=Wt(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,r,!1),O&&B[e]){var o=function(e){for(var r=Wt(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;s<a;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=o,e.preventDefault=Gt,e.stopPropagation=zt;break}return n.call(i,e,r.x,r.y)};t.addEventListener(B[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),O&&B[e]&&t.removeEventListener(B[e],o,!1),!0}}:T.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,r=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||Vt,t.stopPropagation=t.stopPropagation||Ht,n.call(i,t,o,s)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0}(),Yt=[],Xt=function(e){for(var n,i=e.clientX,r=e.clientY,o=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,s=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,a=Yt.length;a--;){if(n=Yt[a],O&&e.touches){for(var c,u=e.touches.length;u--;)if(c=e.touches[u],c.identifier==n.el._drag.id){i=c.clientX,r=c.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var l,h=n.el.node,f=h.nextSibling,d=h.parentNode,p=h.style.display;T.win.opera&&d.removeChild(h),h.style.display="none",l=n.el.paper.getElementByPoint(i,r),h.style.display=p,T.win.opera&&(f?d.insertBefore(h,f):d.appendChild(h)),l&&t("raphael.drag.over."+n.el.id,n.el,l),i+=s,r+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},Kt=function(n){e.unmousemove(Xt).unmouseup(Kt);for(var i,r=Yt.length;r--;)i=Yt[r],i.el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);Yt=[]},qt=e.el={},Jt=R.length;Jt--;)!function(t){e[t]=qt[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Ut(this.shape||this.node||T.doc,t,n,i||this)})),this},e["un"+t]=qt["un"+t]=function(n){for(var i=this.events||[],r=i.length;r--;)i[r].name!=t||!e.is(n,"undefined")&&i[r].f!=n||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(R[Jt]);qt.data=function(n,i){var r=ut[this.id]=ut[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[E](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,r[n],n),r[n]}return r[n]=i,t("raphael.data.set."+this.id,this,i,n),this},qt.removeData=function(t){return null==t?ut[this.id]={}:ut[this.id]&&delete ut[this.id][t],this},qt.getData=function(){return n(ut[this.id]||{})},qt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},qt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Qt=[];qt.drag=function(n,i,r,o,s,a){function c(c){(c.originalEvent||c).preventDefault();var u=c.clientX,l=c.clientY,h=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,f=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=c.identifier,O&&c.touches)for(var d,p=c.touches.length;p--;)if(d=c.touches[p],this._drag.id=d.identifier,d.identifier==this._drag.id){u=d.clientX,l=d.clientY;break}this._drag.x=u+f,this._drag.y=l+h,!Yt.length&&e.mousemove(Xt).mouseup(Kt),Yt.push({el:this,move_scope:o,start_scope:s,end_scope:a}),i&&t.on("raphael.drag.start."+this.id,i),n&&t.on("raphael.drag.move."+this.id,n),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,s||o||this,c.clientX+f,c.clientY+h,c)}return this._drag={},Qt.push({el:this,start:c}),this.mousedown(c),this},qt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},qt.undrag=function(){for(var n=Qt.length;n--;)Qt[n].el==this&&(this.unmousedown(Qt[n].start),Qt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Qt.length&&e.unmousemove(Xt).unmouseup(Kt),Yt=[]},_.circle=function(t,n,i){var r=e._engine.circle(this,t||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},_.rect=function(t,n,i,r,o){var s=e._engine.rect(this,t||0,n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},_.ellipse=function(t,n,i,r){var o=e._engine.ellipse(this,t||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},_.path=function(t){t&&!e.is(t,U)&&!e.is(t[0],Y)&&(t+=A);var n=e._engine.path(e.format[M](e,arguments),this);return this.__set__&&this.__set__.push(n),n},_.image=function(t,n,i,r,o){var s=e._engine.image(this,t||"about:blank",n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},_.text=function(t,n,i){var r=e._engine.text(this,t||0,n||0,L(i));return this.__set__&&this.__set__.push(r),r},_.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ue(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},_.setStart=function(t){this.__set__=t||this.set()},_.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},_.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},_.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},_.setViewBox=function(t,n,i,r,o){return e._engine.setViewBox.call(this,t,n,i,r,o)},_.top=_.bottom=null,_.raphael=e;var Zt=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0;return{y:e.top+(T.win.pageYOffset||r.scrollTop||i.scrollTop)-o,x:e.left+(T.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s}};_.getElementByPoint=function(t,e){var n=this,i=n.canvas,r=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==r.tagName){var o=Zt(i),s=i.createSVGRect();s.x=t-o.x,s.y=e-o.y,s.width=s.height=1;var a=i.getIntersectionList(s,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==n.canvas.parentNode&&(r=i),r=r&&r.raphael?n.getById(r.raphaelid):null},_.getElementsByBBox=function(t){var n=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&n.push(i)}),n},_.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},_.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},_.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&n.push(i)}),n},qt.isPointInside=function(t,n){var i=this.realPath=pt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,n)},qt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=pt[this.type](this),e.bboxwt=Tt(this.realPath),e.bboxwt.toString=p,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=pt[this.type](this)),e.bbox=Tt(mt(this.realPath,this.matrix)),e.bbox.toString=p,e.dirty=e.dirtyT=0),e.bbox)},qt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},qt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||pt[this.type](this);o=this.matrix?mt(o,this.matrix):o;for(var s=1;s<n+1;s++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var $t=function(t,n,i,r,o,s,a,l,h){return null==h?c(t,n,i,r,o,s,a,l):e.findDotsAtSegment(t,n,i,r,o,s,a,l,u(t,n,i,r,o,s,a,l,h))},te=function(t,n){return function(i,r,o){i=It(i);for(var s,a,c,u,l,h="",f={},d=0,p=0,m=i.length;p<m;p++){if(c=i[p],"M"==c[0])s=+c[1],a=+c[2];else{if(u=$t(s,a,c[1],c[2],c[3],c[4],c[5],c[6]),d+u>r){if(n&&!f.start){if(l=$t(s,a,c[1],c[2],c[3],c[4],c[5],c[6],r-d),h+=["C"+l.start.x,l.start.y,l.m.x,l.m.y,l.x,l.y],o)return h;f.start=h,h=["M"+l.x,l.y+"C"+l.n.x,l.n.y,l.end.x,l.end.y,c[5],c[6]].join(),d+=u,s=+c[5],a=+c[6];continue}if(!t&&!n)return l=$t(s,a,c[1],c[2],c[3],c[4],c[5],c[6],r-d),{x:l.x,y:l.y,alpha:l.alpha}}d+=u,s=+c[5],a=+c[6]}h+=c.shift()+c}return f.end=h,l=t?d:n?f:e.findDotsAtSegment(s,a,c[0],c[1],c[2],c[3],c[4],c[5],1),l.alpha&&(l={x:l.x,y:l.y,alpha:l.alpha}),l}},ee=te(1),ne=te(),ie=te(0,1);e.getTotalLength=ee,e.getPointAtLength=ne,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return ie(t,e).end;var i=ie(t,n,1);return e?ie(i,e).end:i},qt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():ee(t)},qt.getPointAtLength=function(t){var e=this.getPath();if(e)return ne(e,t)},qt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},qt.getSubpath=function(t,n){var i=this.getPath();if(i)return e.getSubpath(i,t,n)};var re=e.easing_formulas={linear:function(t){return t},"<":function(t){return H(t,1.7)},">":function(t){return H(t,.48)},"<>":function(t){var e=.48-t/1.04,n=D.sqrt(.1734+e*e),i=n-e,r=H(G(i),1/3)*(i<0?-1:1),o=-n-e,s=H(G(o),1/3)*(o<0?-1:1),a=r+s+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:H(2,-10*t)*D.sin(2*z*(t-.075)/.3)+1},bounce:function(t){var e,n=7.5625,i=2.75;return t<1/i?e=n*t*t:t<2/i?(t-=1.5/i,e=n*t*t+.75):t<2.5/i?(t-=2.25/i,e=n*t*t+.9375):(t-=2.625/i,e=n*t*t+.984375),e}};re.easeIn=re["ease-in"]=re["<"],re.easeOut=re["ease-out"]=re[">"],re.easeInOut=re["ease-in-out"]=re["<>"],re["back-in"]=re.backIn,re["back-out"]=re.backOut;var oe=[],se=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ae=function(){for(var n=+new Date,i=0;i<oe.length;i++){var r=oe[i];if(!r.el.removed&&!r.paused){var o,s,a=n-r.start,c=r.ms,u=r.easing,l=r.from,h=r.diff,f=r.to,d=(r.t,r.el),p={},m={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*c,r.status=r.initstatus,delete r.initstatus,r.stop&&oe.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/c))/r.anim.top,!(a<0))if(a<c){var b=u(a/c);for(var v in l)if(l[E](v)){switch(nt[v]){case W:o=+l[v]+b*c*h[v];break;case"colour":o="rgb("+[ce(Q(l[v].r+b*c*h[v].r)),ce(Q(l[v].g+b*c*h[v].g)),ce(Q(l[v].b+b*c*h[v].b))].join(",")+")";break;case"path":o=[];for(var y=0,_=l[v].length;y<_;y++){o[y]=[l[v][y][0]];for(var x=1,w=l[v][y].length;x<w;x++)o[y][x]=+l[v][y][x]+b*c*h[v][y][x];o[y]=o[y].join(N)}o=o.join(N);break;case"transform":if(h[v].real)for(o=[],y=0,_=l[v].length;y<_;y++)for(o[y]=[l[v][y][0]],x=1,w=l[v][y].length;x<w;x++)o[y][x]=l[v][y][x]+b*c*h[v][y][x];else{var S=function(t){return+l[v][t]+b*c*h[v][t]};o=[["m",S(0),S(1),S(2),S(3),S(4),S(5)]]}break;case"csv":if("clip-rect"==v)for(o=[],y=4;y--;)o[y]=+l[v][y]+b*c*h[v][y];break;default:var T=[][C](l[v]);for(o=[],y=d.paper.customAttributes[v].length;y--;)o[y]=+T[y]+b*c*h[v][y]}p[v]=o}d.attr(p),function(e,n,i){setTimeout(function(){t("raphael.anim.frame."+e,n,i)})}(d.id,d,r.anim)}else{if(function(n,i,r){setTimeout(function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),e.is(n,"function")&&n.call(i)})}(r.callback,d,r.anim),d.attr(f),oe.splice(i--,1),r.repeat>1&&!r.next){for(s in f)f[E](s)&&(m[s]=r.totalOrigin[s]);r.el.attr(m),g(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&g(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}oe.length&&se(ae)},ce=function(t){return t>255?255:t<0?0:t};qt.animateWith=function(t,n,i,r,o,s){var a=this;if(a.removed)return s&&s.call(a),a;var c=i instanceof b?i:e.animation(i,r,o,s);g(c,a,c.percents[0],null,a.attr());for(var u=0,l=oe.length;u<l;u++)if(oe[u].anim==n&&oe[u].el==t){oe[l-1].start=oe[u].start;break}return a},qt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},b.prototype.delay=function(t){var e=new b(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},b.prototype.repeat=function(t){var e=new b(this.anim,this.ms);return e.del=this.del,e.times=D.floor(j(t,0))||1,e},e.animation=function(t,n,i,r){if(t instanceof b)return t;!e.is(i,"function")&&i||(r=r||i||null,i=null),t=Object(t),n=+n||0;var o,s,a={};for(s in t)t[E](s)&&Z(s)!=s&&Z(s)+"%"!=s&&(o=!0,a[s]=t[s]);if(o)return i&&(a.easing=i),r&&(a.callback=r),new b({100:a},n);if(r){var c=0;for(var u in t){var l=$(u);t[E](u)&&l>c&&(c=l)}c+="%",!t[c].callback&&(t[c].callback=r)}return new b(t,n)},qt.animate=function(t,n,i,r){var o=this;if(o.removed)return r&&r.call(o),o;var s=t instanceof b?t:e.animation(t,n,i,r);return g(s,o,s.percents[0],null,o.attr()),o},qt.setTime=function(t,e){return t&&null!=e&&this.status(t,V(e,t.ms)/t.ms),this},qt.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return g(t,this,-1,V(e,1)),this;for(n=oe.length;o<n;o++)if(i=oe[o],i.el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},qt.pause=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,oe[n].anim)&&(oe[n].paused=!0);return this},qt.resume=function(e){for(var n=0;n<oe.length;n++)if(oe[n].el.id==this.id&&(!e||oe[n].anim==e)){var i=oe[n];!1!==t("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},qt.stop=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,oe[n].anim)&&oe.splice(n--,1);return this},t.on("raphael.remove",v),t.on("raphael.clear",v),qt.toString=function(){return"Rapha\xebl\u2019s object"};var ue=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=qt.constructor&&t[e].constructor!=ue||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},le=ue.prototype;le.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=qt.constructor&&t.constructor!=ue||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},le.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},le.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this};for(var he in qt)qt[E](he)&&(le[he]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][M](n,e)})}}(he));return le.attr=function(t,n){if(t&&e.is(t,Y)&&e.is(t[0],"object"))for(var i=0,r=t.length;i<r;i++)this.items[i].attr(t[i]);else for(var o=0,s=this.items.length;o<s;o++)this.items[o].attr(t,n);return this},le.clear=function(){for(;this.length;)this.pop()},le.splice=function(t,e,n){t=t<0?j(this.length+t,0):t,e=j(0,V(this.length-t,e));var i,r=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=i<a?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new ue(o)},le.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},le.animate=function(t,n,i,r){(e.is(i,"function")||!i)&&(r=i||null);var o,s,a=this.items.length,c=a,u=this;if(!a)return this;r&&(s=function(){!--a&&r.call(u)}),i=e.is(i,U)?i:s;var l=e.animation(t,n,i,s);for(o=this.items[--c].animate(l);c--;)this.items[c]&&!this.items[c].removed&&this.items[c].animateWith(o,l,l),this.items[c]&&!this.items[c].removed||a--;return this},le.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},le.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return t=V[M](0,t),e=V[M](0,e),n=j[M](0,n),i=j[M](0,i),{x:t,y:e,x2:n,y2:i,width:n-t,height:i-e}},le.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},le.toString=function(){return"Rapha\xebl\u2018s set"},le.glow=function(t){var e=this.paper.set();return this.forEach(function(n,i){var r=n.glow(t);null!=r&&r.forEach(function(t,n){e.push(t)})}),e},le.isPointInside=function(t,e){var n=!1;return this.forEach(function(i){if(i.isPointInside(t,e))return n=!0,!1}),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[E](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg){e.face["units-per-em"]=$(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[E](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var s in o.k)o[E](s)&&(e.glyphs[r].k[s]=o.k[s])}}return t},_.getFont=function(t,n,i,r){if(r=r||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o=e.fonts[t];if(!o){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,A)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[E](a)&&s.test(a)){o=e.fonts[a];break}}var c;if(o)for(var u=0,l=o.length;u<l&&(c=o[u],c.face["font-weight"]!=n||c.face["font-style"]!=i&&c.face["font-style"]||c.face["font-stretch"]!=r);u++);return c}},_.print=function(t,n,i,r,o,s,a,c){s=s||"middle",a=j(V(a||0,1),-1),c=j(V(c||1,3),1);var u,l=L(i)[I](A),h=0,f=0,d=A;if(e.is(r,"string")&&(r=this.getFont(r)),r){u=(o||16)/r.face["units-per-em"];for(var p=r.face.bbox[I](x),m=+p[0],b=p[3]-p[1],g=0,v=+p[1]+("baseline"==s?b+ +r.face.descent:b/2),y=0,_=l.length;y<_;y++){if("\n"==l[y])h=0,S=0,f=0,g+=b*c;else{var w=f&&r.glyphs[l[y-1]]||{},S=r.glyphs[l[y]];h+=f?(w.w||r.w)+(w.k&&w.k[l[y]]||0)+r.w*a:0,f=1}S&&S.d&&(d+=e.transformPath(S.d,["t",h*u,g*u,"s",u,u,m,v,"t",(t-m)/u,(n-v)/u]))}}return this.path(d).attr({fill:"#000",stroke:"none"})},_.add=function(t){if(e.is(t,"array"))for(var n,i=this.set(),r=0,o=t.length;r<o;r++)n=t[r]||{},w[E](n.type)&&i.push(this[n.type]().attr(n));return i},e.format=function(t,n){var i=e.is(n,Y)?[0][C](n):arguments;return t&&e.is(t,U)&&i.length-1&&(t=t.replace(S,function(t,e){return null==i[++e]?A:i[e]})),t||A},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,i){var r=i;return n.replace(e,function(t,e,n,i,o){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==i?t:r)+""};return function(e,i){return String(e).replace(t,function(t,e){return n(t,e,i)})}}(),e.ninja=function(){if(k.was)T.win.Raphael=k.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=le,t.on("raphael.DOMload",function(){y=!0}),function(t,n,i){function r(){/in/.test(t.readyState)?setTimeout(r,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(n,i=function(){t.removeEventListener(n,i,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document,"DOMContentLoaded"),e}.apply(e,i))&&(t.exports=r)},function(t,e,n){var i,r;!function(n){var o,s,a="0.5.0",c="hasOwnProperty",u=/[\.\/]/,l=/\s*,\s*/,h=function(t,e){return t-e},f={n:{}},d=function(){for(var t=0,e=this.length;t<e;t++)if("undefined"!=typeof this[t])return this[t]},p=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},m=Object.prototype.toString,b=String,g=Array.isArray||function(t){return t instanceof Array||"[object Array]"==m.call(t)};eve=function(t,e){var n,i=s,r=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),c=0,u=[],l={},f=[],m=o;f.firstDefined=d,f.lastDefined=p,o=t,s=0;for(var b=0,g=a.length;b<g;b++)"zIndex"in a[b]&&(u.push(a[b].zIndex),a[b].zIndex<0&&(l[a[b].zIndex]=a[b]));for(u.sort(h);u[c]<0;)if(n=l[u[c++]],f.push(n.apply(e,r)),s)return s=i,f;for(b=0;b<g;b++)if("zIndex"in(n=a[b]))if(n.zIndex==u[c]){if(f.push(n.apply(e,r)),s)break;do{if(c++,n=l[u[c]],n&&f.push(n.apply(e,r)),s)break}while(n)}else l[n.zIndex]=n;else if(f.push(n.apply(e,r)),s)break;return s=i,o=m,f},eve._events=f,eve.listeners=function(t){var e,n,i,r,o,s,a,c,l=g(t)?t:t.split(u),h=f,d=[h],p=[];for(r=0,o=l.length;r<o;r++){for(c=[],s=0,a=d.length;s<a;s++)for(h=d[s].n,n=[h[l[r]],h["*"]],i=2;i--;)(e=n[i])&&(c.push(e),p=p.concat(e.f||[]));d=c}return p},eve.separator=function(t){t?(t=b(t).replace(/(?=[\.\^\]\[\-])/g,"\\"),t="["+t+"]",u=new RegExp(t)):u=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=g(t)?g(t[0])?t:[t]:b(t).split(l),i=0,r=n.length;i<r;i++)!function(t){for(var n,i=g(t)?t:b(t).split(u),r=f,o=0,s=i.length;o<s;o++)r=r.n,r=r.hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++)if(r.f[o]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){s=1},eve.nt=function(t){var e=g(o)?o.join("."):o;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return g(o)?o:o.split(u)},eve.off=eve.unbind=function(t,e){if(!t)return void(eve._events=f={n:{}});var n=g(t)?g(t[0])?t:[t]:b(t).split(l);if(n.length>1)for(var i=0,r=n.length;i<r;i++)eve.off(n[i],e);else{n=g(t)?t:b(t).split(u);var o,s,a,i,r,h,d,p=[f];for(i=0,r=n.length;i<r;i++)for(h=0;h<p.length;h+=a.length-2){if(a=[h,1],o=p[h].n,"*"!=n[i])o[n[i]]&&a.push(o[n[i]]);else for(s in o)o[c](s)&&a.push(o[s]);p.splice.apply(p,a)}for(i=0,r=p.length;i<r;i++)for(o=p[i];o.n;){if(e){if(o.f){for(h=0,d=o.f.length;h<d;h++)if(o.f[h]==e){o.f.splice(h,1);break}!o.f.length&&delete o.f}for(s in o.n)if(o.n[c](s)&&o.n[s].f){var m=o.n[s].f;for(h=0,d=m.length;h<d;h++)if(m[h]==e){m.splice(h,1);break}!m.length&&delete o.n[s].f}}else{delete o.f;for(s in o.n)o.n[c](s)&&o.n[s].f&&delete o.n[s].f}o=o.n}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version=a,eve.toString=function(){return"You are running Eve "+a},"undefined"!=typeof t&&t.exports?t.exports=eve:(i=[],void 0!==(r=function(){return eve}.apply(e,i))&&(t.exports=r))}()},function(t,e,n){var i,r;i=[n(1)],void 0!==(r=function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,i=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,c=o.pow,u=/[, ]+/,l=t.eve,h="",f=" ",d="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};t.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var b=function(i,r){if(r){"string"==typeof i&&(i=b(i));for(var o in r)r[e](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(d,o.substring(6),n(r[o])):i.setAttribute(o,n(r[o])))}else i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},g=function(e,r){var u="linear",l=e.id+r,f=.5,d=.5,p=e.node,m=e.paper,g=p.style,v=t._g.doc.getElementById(l);if(!v){if(r=n(r).replace(t._radial_gradient,function(t,e,n){if(u="radial",e&&n){f=i(e),d=i(n);var r=2*(d>.5)-1;c(f-.5,2)+c(d-.5,2)>.25&&(d=o.sqrt(.25-c(f-.5,2))*r+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*r)}return h}),r=r.split(/\s*\-\s*/),"linear"==u){var _=r.shift();if(_=-i(_),isNaN(_))return null;var x=[0,0,o.cos(t.rad(_)),o.sin(t.rad(_))],w=1/(s(a(x[2]),a(x[3]))||1);x[2]*=w,x[3]*=w,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var S=t._parseDots(r);if(!S)return null;if(l=l.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&l!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){v=b(u+"Gradient",{id:l}),e.gradient=v,b(v,"radial"==u?{fx:f,fy:d}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(v);for(var E=0,T=S.length;E<T;E++)v.appendChild(b("stop",{offset:S[E].offset?S[E].offset:E?"100%":"0%","stop-color":S[E].color||"#fff","stop-opacity":isFinite(S[E].opacity)?S[E].opacity:1}))}}return b(p,{fill:y(l),opacity:1,"fill-opacity":1}),g.fill=h,g.opacity=1,g.fillOpacity=1,1},v=function(){var t=document.documentMode;return t&&(9===t||10===t)},y=function(t){if(v())return"url('#"+t+"')";var e=document.location;return"url('"+e.protocol+"//"+e.host+e.pathname+e.search+"#"+t+"')"},_=function(t){var e=t.getBBox(1);b(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(i,r,o){if("path"==i.type){for(var s,a,c,u,l,f=n(r).toLowerCase().split("-"),d=i.paper,g=o?"end":"start",v=i.node,y=i.attrs,_=y["stroke-width"],x=f.length,w="classic",S=3,E=3,T=5;x--;)switch(f[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=f[x];break;case"wide":E=5;break;case"narrow":E=2;break;case"long":S=5;break;case"short":S=2}if("open"==w?(S+=2,E+=2,T+=2,c=1,u=o?4:1,l={fill:"none",stroke:y.stroke}):(u=c=S/2,l={fill:y.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&m[i._.arrows.endPath]--,i._.arrows.endMarker&&m[i._.arrows.endMarker]--):(i._.arrows.startPath&&m[i._.arrows.startPath]--,i._.arrows.startMarker&&m[i._.arrows.startMarker]--):i._.arrows={},"none"!=w){var k="raphael-marker-"+w,P="raphael-marker-"+g+w+S+E+"-obj"+i.id;t._g.doc.getElementById(k)?m[k]++:(d.defs.appendChild(b(b("path"),{"stroke-linecap":"round",d:p[w],id:k})),m[k]=1);var M,C=t._g.doc.getElementById(P);C?(m[P]++,M=C.getElementsByTagName("use")[0]):(C=b(b("marker"),{id:P,markerHeight:E,markerWidth:S,orient:"auto",refX:u,refY:E/2}),M=b(b("use"),{"xlink:href":"#"+k,transform:(o?"rotate(180 "+S/2+" "+E/2+") ":h)+"scale("+S/T+","+E/T+")","stroke-width":(1/((S/T+E/T)/2)).toFixed(4)}),C.appendChild(M),d.defs.appendChild(C),m[P]=1),b(M,l);var O=c*("diamond"!=w&&"oval"!=w);o?(s=i._.arrows.startdx*_||0,a=t.getTotalLength(y.path)-O*_):(s=O*_,a=t.getTotalLength(y.path)-(i._.arrows.enddx*_||0)),l={},l["marker-"+g]="url(#"+P+")",(a||s)&&(l.d=t.getSubpath(y.path,s,a)),b(v,l),i._.arrows[g+"Path"]=k,i._.arrows[g+"Marker"]=P,i._.arrows[g+"dx"]=O,i._.arrows[g+"Type"]=w,i._.arrows[g+"String"]=r}else o?(s=i._.arrows.startdx*_||0,a=t.getTotalLength(y.path)-s):(s=0,a=t.getTotalLength(y.path)-(i._.arrows.enddx*_||0)),i._.arrows[g+"Path"]&&b(v,{d:t.getSubpath(y.path,s,a)}),delete i._.arrows[g+"Path"],delete i._.arrows[g+"Marker"],delete i._.arrows[g+"dx"],delete i._.arrows[g+"Type"],delete i._.arrows[g+"String"];for(l in m)if(m[e](l)&&!m[l]){var A=t._g.doc.getElementById(l);A&&A.parentNode.removeChild(A)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},S=function(t,e,i){if(e=w[n(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;b(t.node,{"stroke-dasharray":s.join(",")})}else b(t.node,{"stroke-dasharray":"none"})},E=function(i,o){var c=i.node,l=i.attrs,f=c.style.visibility;c.style.visibility="hidden";for(var p in o)if(o[e](p)){if(!t._availableAttrs[e](p))continue;var m=o[p];switch(l[p]=m,p){case"blur":i.blur(m);break;case"title":var v=c.getElementsByTagName("title");if(v.length&&(v=v[0]))v.firstChild.nodeValue=m;else{v=b("title");var y=t._g.doc.createTextNode(m);v.appendChild(y),c.appendChild(v)}break;case"href":case"target":var w=c.parentNode;if("a"!=w.tagName.toLowerCase()){var E=b("a");w.insertBefore(E,c),E.appendChild(c),w=E}"target"==p?w.setAttributeNS(d,"show","blank"==m?"new":m):w.setAttributeNS(d,p,m);break;case"cursor":c.style.cursor=m;break;case"transform":i.transform(m);break;case"arrow-start":x(i,m);break;case"arrow-end":x(i,m,1);break;case"clip-rect":var k=n(m).split(u);if(4==k.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var P=b("clipPath"),M=b("rect");P.id=t.createUUID(),b(M,{x:k[0],y:k[1],width:k[2],height:k[3]}),P.appendChild(M),i.paper.defs.appendChild(P),b(c,{"clip-path":"url(#"+P.id+")"}),i.clip=M}if(!m){var C=c.getAttribute("clip-path");if(C){var O=t._g.doc.getElementById(C.replace(/(^url\(#|\)$)/g,h));O&&O.parentNode.removeChild(O),b(c,{"clip-path":h}),delete i.clip}}break;case"path":"path"==i.type&&(b(c,{d:m?l.path=t._pathToAbsolute(m):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1)));break;case"width":if(c.setAttribute(p,m),i._.dirty=1,!l.fx)break;p="x",m=l.x;case"x":l.fx&&(m=-l.x-(l.width||0));case"rx":if("rx"==p&&"rect"==i.type)break;case"cx":c.setAttribute(p,m),i.pattern&&_(i),i._.dirty=1;break;case"height":if(c.setAttribute(p,m),i._.dirty=1,!l.fy)break;p="y",m=l.y;case"y":l.fy&&(m=-l.y-(l.height||0));case"ry":if("ry"==p&&"rect"==i.type)break;case"cy":c.setAttribute(p,m),i.pattern&&_(i),i._.dirty=1;break;case"r":"rect"==i.type?b(c,{rx:m,ry:m}):c.setAttribute(p,m),i._.dirty=1;break;case"src":"image"==i.type&&c.setAttributeNS(d,"href",m);break;case"stroke-width":1==i._.sx&&1==i._.sy||(m/=s(a(i._.sx),a(i._.sy))||1),c.setAttribute(p,m),l["stroke-dasharray"]&&S(i,l["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1));break;case"stroke-dasharray":S(i,m,o);break;case"fill":var A=n(m).match(t._ISURL);if(A){P=b("pattern");var N=b("image");P.id=t.createUUID(),b(P,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),b(N,{x:0,y:0,"xlink:href":A[1]}),P.appendChild(N),function(e){t._preload(A[1],function(){var t=this.offsetWidth,n=this.offsetHeight;b(e,{width:t,height:n}),b(N,{width:t,height:n})})}(P),i.paper.defs.appendChild(P),b(c,{fill:"url(#"+P.id+")"}),i.pattern=P,i.pattern&&_(i);break}var L=t.getRGB(m);if(L.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&g(i,m)){if("opacity"in l||"fill-opacity"in l){var I=t._g.doc.getElementById(c.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(I){var R=I.getElementsByTagName("stop");b(R[R.length-1],{"stop-opacity":("opacity"in l?l.opacity:1)*("fill-opacity"in l?l["fill-opacity"]:1)})}}l.gradient=m,l.fill="none";break}}else delete o.gradient,delete l.gradient,!t.is(l.opacity,"undefined")&&t.is(o.opacity,"undefined")&&b(c,{opacity:l.opacity}),!t.is(l["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&b(c,{"fill-opacity":l["fill-opacity"]});L[e]("opacity")&&b(c,{"fill-opacity":L.opacity>1?L.opacity/100:L.opacity});case"stroke":L=t.getRGB(m),c.setAttribute(p,L.hex),"stroke"==p&&L[e]("opacity")&&b(c,{"stroke-opacity":L.opacity>1?L.opacity/100:L.opacity}),"stroke"==p&&i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&g(i,m);break;case"opacity":l.gradient&&!l[e]("stroke-opacity")&&b(c,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(l.gradient){(I=t._g.doc.getElementById(c.getAttribute("fill").replace(/^url\(#|\)$/g,h)))&&(R=I.getElementsByTagName("stop"),b(R[R.length-1],{"stop-opacity":m}));break}default:"font-size"==p&&(m=r(m,10)+"px");var B=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});c.style[B]=m,i._.dirty=1,c.setAttribute(p,m)}}T(i,o),c.style.visibility=f},T=function(i,o){if("text"==i.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=i.attrs,a=i.node,c=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,h).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var u,l=n(o.text).split("\n"),f=[],d=0,p=l.length;d<p;d++)u=b("tspan"),d&&b(u,{dy:1.2*c,x:s.x}),u.appendChild(t._g.doc.createTextNode(l[d])),a.appendChild(u),f[d]=u}else for(f=a.getElementsByTagName("tspan"),d=0,p=f.length;d<p;d++)d?b(f[d],{dy:1.2*c,x:s.x}):b(f[0],{dy:0});b(a,{x:s.x,y:s.y}),i._.dirty=1;var m=i._getBBox(),g=s.y-(m.y+m.height/2);g&&t.is(g,"finite")&&b(f[0],{dy:g})}},k=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},P=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=function(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}(),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},M=t.el;P.prototype=M,M.constructor=P,t._engine.path=function(t,e){var n=b("path");e.canvas&&e.canvas.appendChild(n);var i=new P(n,e);return i.type="path",E(i,{fill:"none",stroke:"#000",path:t}),i},M.rotate=function(t,e,r){if(this.removed)return this;if(t=n(t).split(u),t.length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},M.scale=function(t,e,r,o){if(this.removed)return this;if(t=n(t).split(u),t.length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3])),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},M.translate=function(t,e){return this.removed?this:(t=n(t).split(u),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},M.transform=function(n){var i=this._;if(null==n)return i.transform;if(t._extractTransform(this,n),this.clip&&b(this.clip,{transform:this.matrix.invert()}),this.pattern&&_(this),this.node&&b(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},M.hide=function(){return this.removed||(this.node.style.display="none"),this},M.show=function(){return this.removed||(this.node.style.display=""),this},M.remove=function(){var e=k(this.node);if(!this.removed&&e.parentNode){var n=this.paper;n.__set__&&n.__set__.exclude(this),l.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData();for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},M._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},M.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var s=n.split(u),a={},c=0,h=s.length;c<h;c++)n=s[c],n in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return h-1?a:a[s[0]]}if(null==i&&t.is(n,"array")){for(a={},c=0,h=n.length;c<h;c++)a[n[c]]=this.attr(n[c]);return a}if(null!=i){var f={};f[n]=i}else null!=n&&t.is(n,"object")&&(f=n);for(var d in f)l("raphael.attr."+d+"."+this.id,this,f[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&f[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(f[d]));this.attrs[d]=f[d];for(var m in p)p[e](m)&&(f[m]=p[m])}return E(this,f),this},M.toFront=function(){if(this.removed)return this;var e=k(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},M.toBack=function(){if(this.removed)return this;var e=k(this.node),n=e.parentNode;n.insertBefore(e,n.firstChild),t._toback(this,this.paper);this.paper;return this},M.insertAfter=function(e){if(this.removed||!e)return this;var n=k(this.node),i=k(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},M.insertBefore=function(e){if(this.removed||!e)return this;var n=k(this.node),i=k(e.node||e[0].node);return i.parentNode.insertBefore(n,i),t._insertbefore(this,e,this.paper),this},M.blur=function(e){var n=this;if(0!==+e){var i=b("filter"),r=b("feGaussianBlur");n.attrs.blur=e,i.id=t.createUUID(),b(r,{stdDeviation:+e||1.5}),i.appendChild(r),n.paper.defs.appendChild(i),n._blur=i,b(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,i){var r=b("circle");t.canvas&&t.canvas.appendChild(r);var o=new P(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",b(r,o.attrs),o},t._engine.rect=function(t,e,n,i,r,o){var s=b("rect");t.canvas&&t.canvas.appendChild(s);var a=new P(s,t);return a.attrs={x:e,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",b(s,a.attrs),a},t._engine.ellipse=function(t,e,n,i,r){var o=b("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new P(o,t);return s.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",b(o,s.attrs),s},t._engine.image=function(t,e,n,i,r,o){var s=b("image");b(s,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new P(s,t);return a.attrs={x:n,y:i,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,n,i,r){var o=b("text");e.canvas&&e.canvas.appendChild(o);var s=new P(o,e);return s.attrs={x:n,y:i,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",E(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,i=e.x,r=e.y,o=e.width,s=e.height;if(!n)throw new Error("SVG container not found.");var a,c=b("svg"),u="overflow:hidden;";return i=i||0,r=r||0,o=o||512,s=s||342,b(c,{height:s,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(c.style.cssText=u+"position:absolute;left:"+i+"px;top:"+r+"px",t._g.doc.body.appendChild(c),a=1):(c.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(c,n.firstChild):n.appendChild(c)),n=new t._Paper,n.width=o,n.height=s,n.canvas=c,n.clear(),n._left=n._top=0,a&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,i,r){l("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,a,c=this.getSize(),u=s(n/c.width,i/c.height),h=this.top,d=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(u=1),delete this._vbSize,o="0 0 "+this.width+f+this.height):(this._vbSize=u,o=t+f+e+f+n+f+i),b(this.canvas,{viewBox:o,preserveAspectRatio:d});u&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,n,i,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=b("desc")).appendChild(t._g.doc.createTextNode("Created with Rapha\xebl "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=b("defs"))},t.prototype.remove=function(){l("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var C=t.st;for(var O in M)M[e](O)&&!C[e](O)&&(C[O]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(O))}}.apply(e,i))&&(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0!==(r=function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,i=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,c=r.abs,u="fill",l=/[, ]+/,h=t.eve,f=" ",d="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,b=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,_={path:1,rect:1,image:1},x={circle:1,ellipse:1},w=function(e){var i=/[ahqstv]/gi,r=t._pathToAbsolute;if(n(e).match(i)&&(r=t._path2curve),i=/[clmz]/g,r==t._pathToAbsolute&&!n(e).match(i)){var s=n(e).replace(m,function(t,e,n){var i=[],r="m"==e.toLowerCase(),s=p[e];return n.replace(g,function(t){r&&2==i.length&&(s+=i+p["m"==e?"l":"L"],i=[]),i.push(o(t*y))}),s+i});return s}var a,c,u=r(e);s=[];for(var l=0,h=u.length;l<h;l++){a=u[l],"z"==(c=u[l][0].toLowerCase())&&(c="x");for(var b=1,v=a.length;b<v;b++)c+=o(a[b]*y)+(b!=v-1?",":d);s.push(c)}return s.join(f)},S=function(e,n,i){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(n,i),dy:r.y(n,i)}},E=function(t,e,n,i,r,o){var s=t._,a=t.matrix,l=s.fillpos,h=t.node,d=h.style,p=1,m="",b=y/e,g=y/n;if(d.visibility="hidden",e&&n){if(h.coordsize=c(b)+f+c(g),d.rotation=o*(e*n<0?-1:1),o){var v=S(o,i,r);i=v.dx,r=v.dy}if(e<0&&(m+="x"),n<0&&(m+=" y")&&(p=-1),d.flip=m,h.coordorigin=i*-b+f+r*-g,l||s.fillsize){var _=h.getElementsByTagName(u);_=_&&_[0],h.removeChild(_),l&&(v=S(o,a.x(l[0],l[1]),a.y(l[0],l[1])),_.position=v.dx*p+f+v.dy*p),s.fillsize&&(_.size=s.fillsize[0]*c(e)+f+s.fillsize[1]*c(n)),h.appendChild(_)}d.visibility="visible"}};t.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var T=function(t,e,i){for(var r=n(e).toLowerCase().split("-"),o=i?"end":"start",s=r.length,a="classic",c="medium",u="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":u=r[s];break;case"long":case"short":c=r[s]}var l=t.node.getElementsByTagName("stroke")[0];l[o+"arrow"]=a,l[o+"arrowlength"]=c,l[o+"arrowwidth"]=u},k=function(r,c){r.attrs=r.attrs||{};var h=r.node,p=r.attrs,m=h.style,b=_[r.type]&&(c.x!=p.x||c.y!=p.y||c.width!=p.width||c.height!=p.height||c.cx!=p.cx||c.cy!=p.cy||c.rx!=p.rx||c.ry!=p.ry||c.r!=p.r),g=x[r.type]&&(p.cx!=c.cx||p.cy!=c.cy||p.r!=c.r||p.rx!=c.rx||p.ry!=c.ry),v=r;for(var S in c)c[e](S)&&(p[S]=c[S]);if(b&&(p.path=t._getPath[r.type](r),r._.dirty=1),c.href&&(h.href=c.href),c.title&&(h.title=c.title),c.target&&(h.target=c.target),c.cursor&&(m.cursor=c.cursor),"blur"in c&&r.blur(c.blur),(c.path&&"path"==r.type||b)&&(h.path=w(~n(p.path).toLowerCase().indexOf("r")?t._pathToAbsolute(p.path):p.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[p.x,p.y],r._.fillsize=[p.width,p.height],E(r,1,1,0,0,0))),"transform"in c&&r.transform(c.transform),g){var k=+p.cx,M=+p.cy,C=+p.rx||+p.r||0,A=+p.ry||+p.r||0;h.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((k-C)*y),o((M-A)*y),o((k+C)*y),o((M+A)*y),o(k*y)),r._.dirty=1}if("clip-rect"in c){var N=n(c["clip-rect"]).split(l);if(4==N.length){N[2]=+N[2]+ +N[0],N[3]=+N[3]+ +N[1];var L=h.clipRect||t._g.doc.createElement("div"),I=L.style;I.clip=t.format("rect({1}px {2}px {3}px {0}px)",N),h.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=r.paper.width+"px",I.height=r.paper.height+"px",h.parentNode.insertBefore(L,h),L.appendChild(h),h.clipRect=L)}c["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(r.textpath){var R=r.textpath.style;c.font&&(R.font=c.font),c["font-family"]&&(R.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),c["font-size"]&&(R.fontSize=c["font-size"]),c["font-weight"]&&(R.fontWeight=c["font-weight"]),c["font-style"]&&(R.fontStyle=c["font-style"])}if("arrow-start"in c&&T(v,c["arrow-start"]),"arrow-end"in c&&T(v,c["arrow-end"],1),null!=c.opacity||null!=c.fill||null!=c.src||null!=c.stroke||null!=c["stroke-width"]||null!=c["stroke-opacity"]||null!=c["fill-opacity"]||null!=c["stroke-dasharray"]||null!=c["stroke-miterlimit"]||null!=c["stroke-linejoin"]||null!=c["stroke-linecap"]){var B=h.getElementsByTagName(u);if(B=B&&B[0],!B&&(B=O(u)),"image"==r.type&&c.src&&(B.src=c.src),c.fill&&(B.on=!0),null!=B.on&&"none"!=c.fill&&null!==c.fill||(B.on=!1),B.on&&c.fill){var F=n(c.fill).match(t._ISURL);if(F){B.parentNode==h&&h.removeChild(B),B.rotate=!0,B.src=F[1],B.type="tile";var D=r.getBBox(1);B.position=D.x+f+D.y,r._.fillpos=[D.x,D.y],t._preload(F[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else B.color=t.getRGB(c.fill).hex,B.src=d,B.type="solid",t.getRGB(c.fill).error&&(v.type in{circle:1,ellipse:1}||"r"!=n(c.fill).charAt())&&P(v,c.fill,B)&&(p.fill="none",p.gradient=c.fill,B.rotate=!1)}if("fill-opacity"in c||"opacity"in c){var j=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+t.getRGB(c.fill).o+1||2)-1);j=a(s(j,0),1),B.opacity=j,B.src&&(B.color="none")}h.appendChild(B);var V=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],G=!1;!V&&(G=V=O("stroke")),(c.stroke&&"none"!=c.stroke||c["stroke-width"]||null!=c["stroke-opacity"]||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])&&(V.on=!0),("none"==c.stroke||null===c.stroke||null==V.on||0==c.stroke||0==c["stroke-width"])&&(V.on=!1);var H=t.getRGB(c.stroke);V.on&&c.stroke&&(V.color=H.hex),j=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+H.o+1||2)-1);var z=.75*(i(c["stroke-width"])||1);if(j=a(s(j,0),1),null==c["stroke-width"]&&(z=p["stroke-width"]),c["stroke-width"]&&(V.weight=z),z&&z<1&&(j*=z)&&(V.weight=1),V.opacity=j,c["stroke-linejoin"]&&(V.joinstyle=c["stroke-linejoin"]||"miter"),V.miterlimit=c["stroke-miterlimit"]||8,c["stroke-linecap"]&&(V.endcap="butt"==c["stroke-linecap"]?"flat":"square"==c["stroke-linecap"]?"square":"round"),"stroke-dasharray"in c){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};V.dashstyle=W[e](c["stroke-dasharray"])?W[c["stroke-dasharray"]]:d}G&&h.appendChild(V)}if("text"==v.type){v.paper.canvas.style.display=d;var U=v.paper.span,Y=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);m=U.style,p.font&&(m.font=p.font),p["font-family"]&&(m.fontFamily=p["font-family"]),p["font-weight"]&&(m.fontWeight=p["font-weight"]),p["font-style"]&&(m.fontStyle=p["font-style"]),Y=i(p["font-size"]||Y&&Y[0])||10,m.fontSize=100*Y+"px",v.textpath.string&&(U.innerHTML=n(v.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();v.W=p.w=(X.right-X.left)/100,v.H=p.h=(X.bottom-X.top)/100,v.X=p.x,v.Y=p.y+v.H/2,("x"in c||"y"in c)&&(v.path.v=t.format("m{0},{1}l{2},{1}",o(p.x*y),o(p.y*y),o(p.x*y)+1));for(var K=["x","y","text","font","font-family","font-weight","font-style","font-size"],q=0,J=K.length;q<J;q++)if(K[q]in c){v._.dirty=1;break}switch(p["text-anchor"]){case"start":v.textpath.style["v-text-align"]="left",v.bbx=v.W/2;break;case"end":v.textpath.style["v-text-align"]="right",v.bbx=-v.W/2;break;default:v.textpath.style["v-text-align"]="center",v.bbx=0}v.textpath.style["v-text-kern"]=!0}},P=function(e,o,s){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),c="linear",u=".5 .5";if(e.attrs.gradient=o,o=n(o).replace(t._radial_gradient,function(t,e,n){return c="radial",e&&n&&(e=i(e),n=i(n),a(e-.5,2)+a(n-.5,2)>.25&&(n=r.sqrt(.25-a(e-.5,2))*(2*(n>.5)-1)+.5),u=e+f+n),d}),o=o.split(/\s*\-\s*/),"linear"==c){var l=o.shift();if(l=-i(l),isNaN(l))return null}var h=t._parseDots(o);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(s),s.on=!0,s.method="none",s.color=h[0].color,s.color2=h[h.length-1].color;for(var p=[],m=0,b=h.length;m<b;m++)h[m].offset&&p.push(h[m].offset+f+h[m].color);s.colors=p.length?p.join():"0% "+s.color,"radial"==c?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=u,s.angle=0):(s.type="gradient",s.angle=(270-l)%360),e.appendChild(s)}return 1},M=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},C=t.el;M.prototype=C,C.constructor=M,C.transform=function(e){if(null==e)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d;r&&(i=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),c=this.skew,u=this.node,l=~n(this.attrs.fill).indexOf("-"),h=!n(this.attrs.fill).indexOf("url(");if(a.translate(1,1),h||l||"image"==this.type)if(c.matrix="1 0 0 1",c.offset="0 0",s=a.split(),l&&s.noRotation||!s.isSimple){u.style.filter=a.toFilter();var p=this.getBBox(),m=this.getBBox(1),b=p.x-m.x,g=p.y-m.y;u.coordorigin=b*-y+f+g*-y,E(this,1,1,b,g,0)}else u.style.filter=d,E(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else u.style.filter=d,c.matrix=n(a),c.offset=a.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},C.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if(t=n(t).split(l),t.length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},C.translate=function(t,e){return this.removed?this:(t=n(t).split(l),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},C.scale=function(t,e,r,o){if(this.removed)return this;if(t=n(t).split(l),t.length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},C.hide=function(){return!this.removed&&(this.node.style.display="none"),this},C.show=function(){return!this.removed&&(this.node.style.display=d),this},C.auxGetBBox=t.el.getBBox,C.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},C._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},C.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},C.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if(n==u&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=n.split(l),a={},c=0,f=s.length;c<f;c++)n=s[c],n in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return f-1?a:a[s[0]]}if(this.attrs&&null==i&&t.is(n,"array")){for(a={},c=0,f=n.length;c<f;c++)a[n[c]]=this.attr(n[c]);return a}var d;null!=i&&(d={},d[n]=i),null==i&&t.is(n,"object")&&(d=n);for(var p in d)h("raphael.attr."+p+"."+this.id,this,d[p]);if(d){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&d[e](p)&&t.is(this.paper.customAttributes[p],"function")){var m=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var b in m)m[e](b)&&(d[b]=m[b])}d.text&&"text"==this.type&&(this.textpath.string=d.text),k(this,d)}return this},C.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},C.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},C.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},C.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},C.blur=function(e){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(b,d),0!==+e?(this.attrs.blur=e,n.filter=i+f+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=O("shape");n.style.cssText=v,n.coordsize=y+f+y,n.coordorigin=e.coordorigin;var i=new M(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=d,k(i,r),e.canvas&&e.canvas.appendChild(n);var o=O("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(d),i},t._engine.rect=function(e,n,i,r,o,s){var a=t._rectPath(n,i,r,o,s),c=e.path(a),u=c.attrs;return c.X=u.x=n,c.Y=u.y=i,c.W=u.width=r,c.H=u.height=o,u.r=s,u.path=a,c.type="rect",c},t._engine.ellipse=function(t,e,n,i,r){var o=t.path();o.attrs;return o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",k(o,{cx:e,cy:n,rx:i,ry:r}),o},t._engine.circle=function(t,e,n,i){var r=t.path();r.attrs;return r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",k(r,{cx:e,cy:n,r:i}),r},t._engine.image=function(e,n,i,r,o,s){var a=t._rectPath(i,r,o,s),c=e.path(a).attr({stroke:"none"}),l=c.attrs,h=c.node,f=h.getElementsByTagName(u)[0];return l.src=n,c.X=l.x=i,c.Y=l.y=r,c.W=l.width=o,c.H=l.height=s,l.path=a,c.type="image",f.parentNode==h&&h.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",c._.fillpos=[i,r],c._.fillsize=[o,s],h.appendChild(f),E(c,1,1,0,0,0),c},t._engine.text=function(e,i,r,s){var a=O("shape"),c=O("path"),u=O("textpath");i=i||0,r=r||0,s=s||"",c.v=t.format("m{0},{1}l{2},{1}",o(i*y),o(r*y),o(i*y)+1),c.textpathok=!0,u.string=n(s),u.on=!0,a.style.cssText=v,a.coordsize=y+f+y,a.coordorigin="0 0";var l=new M(a,e),h={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};l.shape=a,l.path=c,l.textpath=u,l.type="text",l.attrs.text=n(s),l.attrs.x=i,l.attrs.y=r,l.attrs.w=1,l.attrs.h=1,k(l,h),a.appendChild(u),a.appendChild(c),e.canvas.appendChild(a);var p=O("skew");return p.on=!0,a.appendChild(p),l.skew=p,l.transform(d),l},t._engine.setSize=function(e,n){var i=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),i.width=e,i.height=n,i.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,i,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,i,r,o]);var s,a,c=this.getSize(),u=c.width,l=c.height;return o&&(s=l/r,a=u/i,i*s<u&&(e-=(u-i*s)/2/s),r*a<l&&(n-=(l-r*a)/2/a)),this._viewBox=[e,n,i,r,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:c},this.forEach(function(t){t.transform("...")}),this};var O;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),O=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){O=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,i=e.height,r=e.width,o=e.x,s=e.y;if(!n)throw new Error("VML container not found.");var a=new t._Paper,c=a.canvas=t._g.doc.createElement("div"),u=c.style;return o=o||0,s=s||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=216e5+f+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",c.appendChild(a.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==n?(t._g.doc.body.appendChild(c),u.left=o+"px",u.top=s+"px",u.position="absolute"):n.firstChild?n.insertBefore(c,n.firstChild):n.appendChild(c),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var A=t.st;for(var N in C)C[e](N)&&!A[e](N)&&(A[N]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(N))}}.apply(e,i))&&(t.exports=r)}])})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={add_classes:!1,editable:!1,listener:null,paddingbottom:30,paddingleft:15,paddingright:50,paddingtop:15,responsive:void 0,scale:1,staffwidth:740},r={header_only:!1,hint_measures:!1,print:!1,stop_on_warning:!1},o={oneSvgPerLine:!1,scrollHorizontal:!1,startingTune:0,viewportHorizontal:!1},s={animate:null,context:null,drum:"",drumBars:1,drumIntro:0,downloadLabel:"download midi",generateDownload:!1,generateInline:!0,inlineControls:{hide:!1,loopToggle:!1,selectionToggle:!1,standard:!0,startPlaying:!1,tempo:!1,tooltipLoop:"Click to toggle play once/repeat.",tooltipPlay:"Click to play/pause.",tooltipProgress:"Click to change the playback position.",tooltipReset:"Click to go to beginning.",tooltipTempo:"Change the playback speed.,"},listener:null,postTextDownload:"",postTextInline:"",preTextDownload:"",preTextInline:"",program:0,qpm:180,transpose:0},a="https://gleitz.github.io/midi-js-soundfonts/FluidR3_GM/",c={el:null,engraverParams:i,parserParams:r,renderParams:o},u=Object.assign({midiParams:s,soundfontUrl:a},c),l={editorParams:{canvas_id:null,generate_midi:null,generate_warnings:null,gui:null,indicate_changed:null,midi_download_id:null,midi_id:null,midi_options:s,onchange:null,paper_id:null,parser_options:r,render_options:o,warnings_id:null},soundfontUrl:a};e.editorProps=l,e.midiProps=u,e.notationProps=c},function(t,e,n){"use strict";function i(){}function r(t){try{return t.then}catch(t){return g=t,v}}function o(t,e){try{return t(e)}catch(t){return g=t,v}}function s(t,e,n){try{t(e,n)}catch(t){return g=t,v}}function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==i&&m(t,this)}function c(t,e,n){return new t.constructor(function(r,o){var s=new a(i);s.then(r,o),u(t,new p(e,n,s))})}function u(t,e){for(;3===t._83;)t=t._18;if(a._47&&a._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);l(t,e)}function l(t,e){b(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?h(e.promise,t._18):f(e.promise,t._18));var i=o(n,t._18);i===v?f(e.promise,g):h(e.promise,i)})}function h(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=r(e);if(n===v)return f(t,g);if(n===t.then&&e instanceof a)return t._83=3,t._18=e,void d(t);if("function"===typeof n)return void m(n.bind(e),t)}t._83=1,t._18=e,d(t)}function f(t,e){t._83=2,t._18=e,a._71&&a._71(t,e),d(t)}function d(t){if(1===t._75&&(u(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)u(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function m(t,e){var n=!1,i=s(t,function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,f(e,t))});n||i!==v||(n=!0,f(e,g))}var b=n(33),g=null,v={};t.exports=a,a._47=null,a._71=null,a._44=i,a.prototype.then=function(t,e){if(this.constructor!==a)return c(this,t,e);var n=new a(i);return u(this,new p(t,e,n)),n}},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";n(13),n(7)},function(t,e,n){"use strict";function i(){return"react-tabs-"+r++}e.a=i;var r=0},function(t,e,n){"use strict";function i(t){var e=0;return Object(o.a)(t,function(t){Object(s.a)(t)&&e++}),e}function r(t){var e=0;return Object(o.a)(t,function(t){Object(s.c)(t)&&e++}),e}e.b=i,e.a=r;var o=n(13),s=n(7)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Notation=e.Midi=e.Editor=void 0;var r=n(62),o=i(r),s=n(85),a=i(s),c=n(87),u=i(c);e.Editor=o.default,e.Midi=a.default,e.Notation=u.default,e.default=u.default},function(t,e,n){var i=n(1),r=n(16),o=n(64),s=n(17),a=n(65),c=n(27),u=n(66),l=function(){"use strict";function t(t,e,n){t.positioning||(t.positioning={}),t.positioning[e]=n}function e(t,e,n){t.fonts||(t.fonts={}),t.fonts[e]=n}function n(){var t={startChar:-1,endChar:-1};if(g.partForNextLine.length&&(t.part=g.partForNextLine),t.clef=g.currentVoice&&void 0!==g.staves[g.currentVoice.staffNum].clef?i.clone(g.staves[g.currentVoice.staffNum].clef):i.clone(g.clef),t.key=s.deepCopyKey(g.key),s.addPosToKey(t.clef,t.key),null!==g.meter?(g.currentVoice?(i.each(g.staves,function(t){t.meter=g.meter}),t.meter=g.staves[g.currentVoice.staffNum].meter,g.staves[g.currentVoice.staffNum].meter=null):t.meter=g.meter,g.meter=null):g.currentVoice&&g.staves[g.currentVoice.staffNum].meter&&(t.meter=g.staves[g.currentVoice.staffNum].meter,g.staves[g.currentVoice.staffNum].meter=null),g.currentVoice&&g.currentVoice.name&&(t.name=g.currentVoice.name),g.vocalfont&&(t.vocalfont=g.vocalfont),g.style&&(t.style=g.style),g.currentVoice){var e=g.staves[g.currentVoice.staffNum];e.brace&&(t.brace=e.brace),e.bracket&&(t.bracket=e.bracket),e.connectBarLines&&(t.connectBarLines=e.connectBarLines),e.name&&(t.name=e.name[g.currentVoice.index]),e.subname&&(t.subname=e.subname[g.currentVoice.index]),g.currentVoice.stem&&(t.stem=g.currentVoice.stem),g.currentVoice.stafflines&&(t.stafflines=g.currentVoice.stafflines),g.currentVoice.staffscale&&(t.staffscale=g.currentVoice.staffscale),g.currentVoice.scale&&(t.scale=g.currentVoice.scale),g.currentVoice.style&&(t.style=g.currentVoice.style),g.currentVoice.transpose&&(t.clef.transpose=g.currentVoice.transpose)}var n=void 0===g.currentVoice||0===g.currentVoice.staffNum&&0===g.currentVoice.index;0===g.barNumbers&&n&&1!==g.currBarNumber&&(t.barNumber=g.currBarNumber),m.startNewLine(t),g.partForNextLine=""}function l(t,e){if("&"===t.charAt(e)){for(var n=e;t.charAt(e)&&":"!==t.charAt(e)&&"|"!==t.charAt(e);)e++;return[e-n,t.substring(n+1,e)]}return[0]}function h(t){var e=t.origMeter;return e&&"specified"===e.type&&e.value&&0!==e.value.length?parseInt(e.value[0].num,10)/parseInt(e.value[0].den,10):1}function f(t,e){t.push({el_type:"hint"});for(var n=0;n<e.length;n++){var r=e[n],o=i.clone(r);if(t.push(o),"bar"===r.el_type)return}}function d(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(r)for(var o=0;o<r.voices.length;o++){var s=r.voices[o],a=i.voices[o];a&&f(a,s)}}}function p(){for(var t=0;t<m.lines.length;t++){var e=m.lines[t].staff;if(e){for(var n=t+1;n<m.lines.length&&void 0===m.lines[n].staff;)n++;if(n<m.lines.length){d(e,m.lines[n].staff)}}}}var m=new u,b=new a;this.getTune=function(){return m};var g={reset:function(){for(var t in this)this.hasOwnProperty(t)&&"function"!==typeof this[t]&&delete this[t];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.is_in_history=!1,this.partForNextLine="",this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.inTextBlock=!1,this.inPsBlock=!1,this.ignoredDecorations=[],this.textBlock="",this.score_is_present=!1,this.inEnding=!1,this.inTie=!1,this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[]},differentFont:function(t,e){return this[t].decoration!==e[t].decoration||(this[t].face!==e[t].face||(this[t].size!==e[t].size||(this[t].style!==e[t].style||this[t].weight!==e[t].weight)))},addFormattingOptions:function(n,i,r){"note"===r?("auto"!==this.vocalPosition&&t(n,"vocalPosition",this.vocalPosition),"auto"!==this.dynamicPosition&&t(n,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&t(n,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&t(n,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&t(n,"volumePosition",this.volumePosition),this.differentFont("annotationfont",i)&&e(n,"annotationfont",this.annotationfont),this.differentFont("gchordfont",i)&&e(n,"gchordfont",this.gchordfont),this.differentFont("vocalfont",i)&&e(n,"vocalfont",this.vocalfont)):"bar"===r&&("auto"!==this.dynamicPosition&&t(n,"dynamicPosition",this.dynamicPosition),"auto"!==this.chordPosition&&t(n,"chordPosition",this.chordPosition),"auto"!==this.ornamentPosition&&t(n,"ornamentPosition",this.ornamentPosition),"auto"!==this.volumePosition&&t(n,"volumePosition",this.volumePosition),this.differentFont("measurefont",i)&&e(n,"measurefont",this.measurefont),this.differentFont("repeatfont",i)&&e(n,"repeatfont",this.repeatfont))}},v=function(t){g.warnings||(g.warnings=[]),g.warnings.push(t)},y=function(t){g.warningObjects||(g.warningObjects=[]),g.warningObjects.push(t)},_=function(t){var e=i.gsub(t,"\x12"," ");return e=i.gsub(e,"&","&amp;"),e=i.gsub(e,"<","&lt;"),i.gsub(e,">","&gt;")},x=function(t,e,n){e||(e=" ");var i=e.charAt(n);" "===i&&(i="SPACE");var r=_(e.substring(0,n))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+i+"</span>"+_(e.substring(n+1));v("Music Line:"+m.getNumLines()+":"+(n+1)+": "+t+":  "+r),y({message:t,line:e,startChar:g.iChar+n,column:n})},w=new o(b,x,g,m);this.getWarnings=function(){return g.warnings},this.getWarningObjects=function(){return g.warningObjects};var S=function(t,e){if('"'===t.charAt(e)){var n=b.getBrackettedSubstring(t,e,5);if(n[2]||x("Missing the closing quote while parsing the chord symbol",t,e),n[0]>0&&n[1].length>0&&"^"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&"_"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&"<"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&">"===n[1].charAt(0))n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&"@"===n[1].charAt(0)){n[1]=n[1].substring(1);var i=b.getFloat(n[1]);0===i.digits&&x("Missing first position in absolutely positioned annotation.",t,e),n[1]=n[1].substring(i.digits),","!==n[1][0]&&x("Missing comma absolutely positioned annotation.",t,e),n[1]=n[1].substring(1);var r=b.getFloat(n[1]);0===r.digits&&x("Missing second position in absolutely positioned annotation.",t,e),n[1]=n[1].substring(r.digits);var o=b.skipWhiteSpace(n[1]);n[1]=n[1].substring(o),n[2]=null,n[3]={x:i.value,y:r.value}}else n[1]=n[1].replace(/([ABCDEFG])b/g,"$1\u266d"),n[1]=n[1].replace(/([ABCDEFG])#/g,"$1\u266f"),n[2]="default",n[1]=c.chordName(g,n[1]);return n}return[0,""]},E=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","slide","^","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x"],T=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],k=["crescendo(","crescendo)","diminuendo(","diminuendo)"],P=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],M=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],C=function(t,e){var n=g.macros[t.charAt(e)];if(void 0!==n)return"!"!==n.charAt(0)&&"+"!==n.charAt(0)||(n=n.substring(1)),"!"!==n.charAt(n.length-1)&&"+"!==n.charAt(n.length-1)||(n=n.substring(0,n.length-1)),i.detect(E,function(t){return n===t})?[1,n]:i.detect(T,function(t){return n===t})?("hidden"===g.volumePosition&&(n=""),[1,n]):i.detect(k,function(t){return"hidden"===g.dynamicPosition&&(n=""),n===t})?[1,n]:(i.detect(g.ignoredDecorations,function(t){return n===t})||x("Unknown macro: "+n,t,e),[1,""]);switch(t.charAt(e)){case".":return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var r=b.getBrackettedSubstring(t,e,5);return r[1].length>0&&("^"===r[1].charAt(0)||"_"===r[1].charAt(0))&&(r[1]=r[1].substring(1)),i.detect(E,function(t){return r[1]===t})?r:i.detect(T,function(t){return r[1]===t})?("hidden"===g.volumePosition&&(r[1]=""),r):i.detect(k,function(t){return r[1]===t})?("hidden"===g.dynamicPosition&&(r[1]=""),r):i.detect(P,function(t){return r[1]===t[0]&&(r[1]=t[1],!0)})?r:i.detect(M,function(t){return r[1]===t[0]&&(r[1]=t[1],!0)})?("hidden"===g.dynamicPosition&&(r[1]=""),r):"!"!==t.charAt(e)||1!==r[0]&&"!"===t.charAt(e+r[0]-1)?(x("Unknown decoration: "+r[1],t,e),r[1]="",r):[1,null];case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},O=function(t,e){for(var n=e;b.isWhiteSpace(t.charAt(e));)e++;return[e-n]},A=function(t,e){var n=b.getBarLine(t,e);if(0===n.len)return[0,""];if(n.warn)return x(n.warn,t,e),[n.len,""];for(var i=0;i<t.length&&" "===t.charAt(e+n.len+i);i++);var r=n.len;if("["===t.charAt(e+n.len+i)&&(n.len+=i+1),'"'===t.charAt(e+n.len)&&"["===t.charAt(e+n.len-1)){var o=b.getBrackettedSubstring(t,e+n.len,5);return[n.len+o[0],n.token,o[1]]}var s=b.getTokenOf(t.substring(e+n.len),"1234567890-,");return 0===s.len||"-"===s.token[0]?[r,n.token]:[n.len+s.len,n.token,s.token]},N=function(t,e){for(var n={},i=e;"("===t.charAt(e)||b.isWhiteSpace(t.charAt(e));)"("===t.charAt(e)&&(e+1<t.length&&t.charAt(e+1)>="2"&&t.charAt(e+1)<="9"?(void 0!==n.triplet?x("Can't nest triplets",t,e):(n.triplet=t.charAt(e+1)-"0",e+2<t.length&&":"===t.charAt(e+2)&&(e+3<t.length&&":"===t.charAt(e+3)?e+4<t.length&&t.charAt(e+4)>="1"&&t.charAt(e+4)<="9"?(n.num_notes=t.charAt(e+4)-"0",e+=3):x("expected number after the two colons after the triplet to mark the duration",t,e):e+3<t.length&&t.charAt(e+3)>="1"&&t.charAt(e+3)<="9"?e+4<t.length&&":"===t.charAt(e+4)?e+5<t.length&&t.charAt(e+5)>="1"&&t.charAt(e+5)<="9"&&(n.num_notes=t.charAt(e+5)-"0",e+=4):(n.num_notes=n.triplet,e+=3):x("expected number after the triplet to mark the duration",t,e))),e++):void 0===n.startSlur?n.startSlur=1:n.startSlur++),e++;return n.consumed=e-i,n},L=function(t,e){if(!t)return void x("Can't add words before the first line of music",t,0);e=i.strip(e),"-"!==e.charAt(e.length-1)&&(e+=" ");for(var n=[],r=0,o=!1,s=function(t){var s=i.strip(e.substring(r,t));if(r=t+1,s.length>0){o&&(s=i.gsub(s,"~"," "));var a=e.charAt(t);return"_"!==a&&"-"!==a&&(a=" "),n.push({syllable:b.translateString(s),divider:a}),o=!1,!0}return!1},a=0;a<e.length;a++)switch(e.charAt(a)){case" ":case"\x12":s(a);break;case"-":!s(a)&&n.length>0&&(i.last(n).divider="-",n.push({skip:!0,to:"next"}));break;case"_":s(a),n.push({skip:!0,to:"slur"});break;case"*":s(a),n.push({skip:!0,to:"next"});break;case"|":s(a),n.push({skip:!0,to:"bar"});break;case"~":o=!0}i.each(t,function(t){if(0!==n.length)if(n[0].skip){switch(n[0].to){case"next":case"slur":"note"===t.el_type&&null!==t.pitches&&n.shift();break;case"bar":"bar"===t.el_type&&n.shift()}"bar"!==t.el_type&&(void 0===t.lyric?t.lyric=[{syllable:"",divider:" "}]:t.lyric.push({syllable:"",divider:" "}))}else if("note"===t.el_type&&void 0===t.rest){var e=n.shift();e.syllable&&(e.syllable=e.syllable.replace(/ +/g,"\xa0")),void 0===t.lyric?t.lyric=[e]:t.lyric.push(e)}})},I=function(t,e){if(!t)return void x("Can't add symbols before the first line of music",t,0);e=i.strip(e),"-"!==e.charAt(e.length-1)&&(e+=" ");for(var n=[],r=0,o=!1,s=function(t){var s=i.strip(e.substring(r,t));if(r=t+1,s.length>0){o&&(s=i.gsub(s,"~"," "));var a=e.charAt(t);return"_"!==a&&"-"!==a&&(a=" "),n.push({syllable:b.translateString(s),divider:a}),o=!1,!0}return!1},a=0;a<e.length;a++)switch(e.charAt(a)){case" ":case"\x12":s(a);break;case"-":!s(a)&&n.length>0&&(i.last(n).divider="-",n.push({skip:!0,to:"next"}));break;case"_":s(a),n.push({skip:!0,to:"slur"});break;case"*":s(a),n.push({skip:!0,to:"next"});break;case"|":s(a),n.push({skip:!0,to:"bar"});break;case"~":o=!0}i.each(t,function(t){if(0!==n.length)if(n[0].skip)switch(n[0].to){case"next":case"slur":"note"===t.el_type&&null!==t.pitches&&n.shift();break;case"bar":"bar"===t.el_type&&n.shift()}else if("note"===t.el_type&&void 0===t.rest){var e=n.shift();void 0===t.lyric?t.lyric=[e]:t.lyric.push(e)}})},R=function(t,e){switch(t.charAt(e)){case">":return e<t.length-1&&">"===t.charAt(e+1)?[2,1.75,.25]:[1,1.5,.5];case"<":return e<t.length-1&&"<"===t.charAt(e+1)?[2,.25,1.75]:[1,.5,1.5]}return null},B=function(t){return void 0!==t.duration&&t.duration<.25&&(t.end_beam=!0),t},F={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},D={x:"invisible",y:"spacer",z:"rest",Z:"multimeasure"},j=function(t,e,n,i){for(var r=function(t){return"octave"===t||"duration"===t||"Zduration"===t||"broken_rhythm"===t||"end_slur"===t},o="startSlur",s=!1;;){switch(t.charAt(e)){case"(":if("startSlur"!==o)return r(o)?(n.endChar=e,n):null;void 0===n.startSlur?n.startSlur=1:n.startSlur++;break;case")":if(!r(o))return null;void 0===n.endSlur?n.endSlur=1:n.endSlur++;break;case"^":if("startSlur"===o)n.accidental="sharp",o="sharp2";else{if("sharp2"!==o)return r(o)?(n.endChar=e,n):null;n.accidental="dblsharp",o="pitch"}break;case"_":if("startSlur"===o)n.accidental="flat",o="flat2";else{if("flat2"!==o)return r(o)?(n.endChar=e,n):null;n.accidental="dblflat",o="pitch"}break;case"=":if("startSlur"!==o)return r(o)?(n.endChar=e,n):null;n.accidental="natural",o="pitch";break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if("startSlur"!==o&&"sharp2"!==o&&"flat2"!==o&&"pitch"!==o)return r(o)?(n.endChar=e,n):null;if(n.pitch=F[t.charAt(e)],c.note(g,n),o="octave",i&&0!==g.next_note_duration?(n.duration=g.default_length*g.next_note_duration,g.next_note_duration=0,s=!0):n.duration=g.default_length,g.clef&&"perc"===g.clef.type){var a=t.charAt(e);if(n.accidental){a={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^"}[n.accidental]+a}m.formatting&&m.formatting.midi&&m.formatting.midi.drummap&&(n.midipitch=m.formatting.midi.drummap[a])}break;case",":if("octave"!==o)return r(o)?(n.endChar=e,n):null;n.pitch-=7;break;case"'":if("octave"!==o)return r(o)?(n.endChar=e,n):null;n.pitch+=7;break;case"x":case"y":case"z":case"Z":if("startSlur"!==o)return r(o)?(n.endChar=e,n):null;n.rest={type:D[t.charAt(e)]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,"multimeasure"===n.rest.type?(n.duration=1,o="Zduration"):(i&&0!==g.next_note_duration?(n.duration=g.default_length*g.next_note_duration,g.next_note_duration=0,s=!0):n.duration=g.default_length,o="duration");break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if("octave"===o||"duration"===o){var u=b.getFraction(t,e);for(n.duration=n.duration*u.value,n.endChar=u.index;u.index<t.length&&(b.isWhiteSpace(t.charAt(u.index))||"-"===t.charAt(u.index));)"-"===t.charAt(u.index)?n.startTie={}:n=B(n),u.index++;e=u.index-1,o="broken_rhythm"}else if("sharp2"===o)n.accidental="quartersharp",o="pitch";else{if("flat2"!==o){if("Zduration"===o){var l=b.getNumber(t,e);return n.duration=l.num,n.endChar=l.index,n}return null}n.accidental="quarterflat",o="pitch"}break;case"-":if("startSlur"===o)m.addTieToLastNote(),n.endTie=!0;else{if("octave"!==o&&"duration"!==o&&"end_slur"!==o)return"broken_rhythm"===o?(n.endChar=e,n):null;if(n.startTie={},s||!i)return b.isWhiteSpace(t.charAt(e+1))&&B(n),n.endChar=e+1,n;o="broken_rhythm"}break;case" ":case"\t":if(!r(o))return null;n.end_beam=!0;do{"-"===t.charAt(e)&&(n.startTie={}),e++}while(e<t.length&&(b.isWhiteSpace(t.charAt(e))||"-"===t.charAt(e)));if(n.endChar=e,s||!i||"<"!==t.charAt(e)&&">"!==t.charAt(e))return n;e--,o="broken_rhythm";break;case">":case"<":if(!r(o))return null;if(!i)return n.endChar=e,n;var h=R(t,e);e+=h[0]-1,g.next_note_duration=h[2],n.duration=h[1]*n.duration,o="end_slur";break;default:return r(o)?(n.endChar=e,n):null}if(++e===t.length)return r(o)?(n.endChar=e,n):null}return null},V=function(t,e){if("{"===t.charAt(e)){var n=b.getBrackettedSubstring(t,e,1,"}");n[2]||x("Missing the closing '}' while parsing grace note",t,e),")"===t[e+n[0]]&&(n[0]++,n[1]+=")");for(var i=[],r=0,o=!1;r<n[1].length;){var s=!1;"/"===n[1].charAt(r)&&(s=!0,r++);var a=j(n[1],r,{},!1);null!==a?(a.duration=a.duration/(8*g.default_length),s&&(a.acciaccatura=!0),i.push(a),o&&(a.endTie=!0,o=!1),a.startTie&&(o=!0),r=a.endChar,delete a.endChar):(" "===n[1].charAt(r)?i.length>0&&(i[i.length-1].end_beam=!0):x("Unknown character '"+n[1].charAt(r)+"' while parsing grace note",t,e),r++)}if(i.length)return[n[0],i]}return[0]},G="ABCDEFGabcdefgxyzZ[]|^_{",H=function(t){w.resolveTempo(),g.is_in_header=!1;for(var e=0,r=g.iChar;b.isWhiteSpace(t.charAt(e))&&e<t.length;)e++;if(e!==t.length&&"%"!==t.charAt(e)){var o=g.start_new_line;void 0===g.continueall?g.start_new_line=!0:g.start_new_line=!1;var s=0,a=w.letter_to_body_header(t,e);a[0]>0&&(e+=a[0],"V"===a[1]&&(o=!0));for(var c={};e<t.length;){var u=e;if("%"===t.charAt(e))break;var f=w.letter_to_inline_header(t,e);if(f[0]>0)e+=f[0],"V"===f[1]&&(o=!0);else{o&&(n(),o=!1);for(var d;;)if(d=b.eatWhiteSpace(t,e),d>0&&(e+=d),e>0&&"\x12"===t.charAt(e-1)&&(d=w.letter_to_body_header(t,e),d[0]>0&&("V"===d[1]&&n(),e=d[0],g.start_new_line=!1)),d=O(t,e),d[0]>0&&(e+=d[0]),d=l(t,e),d[0]>0&&(m.appendElement("overlay",r,r+1,{}),e+=1),d=S(t,e),d[0]>0){c.chord||(c.chord=[]);var p=b.translateString(d[1]);p=p.replace(/;/g,"\n");for(var v=!1,y=0;y<c.chord.length;y++)c.chord[y].position===d[2]&&(v=!0,c.chord[y].name+="\n"+p);!1===v&&(null===d[2]&&d[3]?c.chord.push({name:p,rel_position:d[3]}):c.chord.push({name:p,position:d[2]})),e+=d[0];var _=b.skipWhiteSpace(t.substring(e));_>0&&(c.force_end_beam_last=!0),e+=_}else if(d=-1===G.indexOf(t.charAt(e))?C(t,e):[0],d[0]>0)null===d[1]?e+1<t.length&&n():d[1].length>0&&(0===d[1].indexOf("style=")?c.style=d[1].substr(6):(void 0===c.decoration&&(c.decoration=[]),c.decoration.push(d[1]))),e+=d[0];else{if(d=V(t,e),!(d[0]>0))break;c.gracenotes=d[1],e+=d[0]}if(d=A(t,e),d[0]>0){void 0!==c.gracenotes&&(c.rest={type:"spacer"},c.duration=.125,g.addFormattingOptions(c,m.formatting,"note"),m.appendElement("note",r+e,r+e+d[0],c),g.measureNotEmpty=!0,c={});var E={type:d[1]};if(0===E.type.length)x("Unknown bar type",t,e);else{if(g.inEnding&&"bar_thin"!==E.type&&(E.endEnding=!0,g.inEnding=!1),d[2]&&(E.startEnding=d[2],g.inEnding&&(E.endEnding=!0),g.inEnding=!0),void 0!==c.decoration&&(E.decoration=c.decoration),void 0!==c.chord&&(E.chord=c.chord),E.startEnding&&void 0===g.barFirstEndingNum?g.barFirstEndingNum=g.currBarNumber:E.startEnding&&E.endEnding&&g.barFirstEndingNum?g.currBarNumber=g.barFirstEndingNum:E.endEnding&&(g.barFirstEndingNum=void 0),"bar_invisible"!==E.type&&g.measureNotEmpty){(void 0===g.currentVoice||0===g.currentVoice.staffNum&&0===g.currentVoice.index)&&(g.currBarNumber++,g.barNumbers&&g.currBarNumber%g.barNumbers===0&&(E.barNumber=g.currBarNumber))}g.addFormattingOptions(c,m.formatting,"bar"),m.appendElement("bar",r+e,r+e+d[0],E),g.measureNotEmpty=!1,c={}}e+=d[0]}else if("&"===t[e])x("Overlay not yet supported",t,e),e++;else{if(d=N(t,e),d.consumed>0&&(void 0!==d.startSlur&&(c.startSlur=d.startSlur),void 0!==d.triplet&&(s>0?x("Can't nest triplets",t,e):(c.startTriplet=d.triplet,s=void 0===d.num_notes?d.triplet:d.num_notes)),e+=d.consumed),"["===t.charAt(e)){var T=e;e++;for(var k=null,P=!1,M=!1;!M;){var L=C(t,e);L[0]>0&&(e+=L[0]);var I=j(t,e,{},!1);if(null!==I)L[0]>0&&0!==L[1].indexOf("style=")&&(void 0===c.decoration&&(c.decoration=[]),c.decoration.push(L[1])),I.end_beam&&(c.end_beam=!0,delete I.end_beam),void 0===c.pitches?(c.duration=I.duration,c.pitches=[I]):c.pitches.push(I),delete I.duration,L[0]>0&&0===L[1].indexOf("style=")&&(c.pitches[c.pitches.length-1].style=L[1].substr(6)),g.inTieChord[c.pitches.length]&&(I.endTie=!0,g.inTieChord[c.pitches.length]=void 0),I.startTie&&(g.inTieChord[c.pitches.length]=!0),e=I.endChar,delete I.endChar;else if(" "===t.charAt(e))x("Spaces are not allowed in chords",t,e),e++;else{if(e<t.length&&"]"===t.charAt(e)){e++,0!==g.next_note_duration&&(c.duration=c.duration*g.next_note_duration,g.next_note_duration=0),g.inTie&&(i.each(c.pitches,function(t){t.endTie=!0}),g.inTie=!1),s>0&&0===--s&&(c.endTriplet=!0);for(var F=!1;e<t.length&&!F;){switch(t.charAt(e)){case" ":case"\t":B(c);break;case")":void 0===c.endSlur?c.endSlur=1:c.endSlur++;break;case"-":i.each(c.pitches,function(t){t.startTie={}}),g.inTie=!0;break;case">":case"<":var D=R(t,e);e+=D[0]-1,g.next_note_duration=D[2],k?k*=D[1]:k=D[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var H=b.getFraction(t,e);k=H.value,e=H.index," "===t.charAt(e)&&(P=!0),"-"===t.charAt(e)||")"===t.charAt(e)||" "===t.charAt(e)||"<"===t.charAt(e)||">"===t.charAt(e)?e--:F=!0;break;default:F=!0}F||e++}}else x("Expected ']' to end the chords",t,e);void 0!==c.pitches&&(null!==k&&(c.duration=c.duration*k,P&&B(c)),g.addFormattingOptions(c,m.formatting,"note"),m.appendElement("note",r+T,r+e,c),g.measureNotEmpty=!0,c={}),M=!0}}}else{var z={},W=j(t,e,z,!0);void 0!==z.endTie&&(g.inTie=!0),null!==W&&(void 0!==W.pitch?(c.pitches=[{}],void 0!==W.accidental&&(c.pitches[0].accidental=W.accidental),c.pitches[0].pitch=W.pitch,W.midipitch&&(c.pitches[0].midipitch=W.midipitch),void 0!==W.endSlur&&(c.pitches[0].endSlur=W.endSlur),void 0!==W.endTie&&(c.pitches[0].endTie=W.endTie),void 0!==W.startSlur&&(c.pitches[0].startSlur=W.startSlur),void 0!==c.startSlur&&(c.pitches[0].startSlur=c.startSlur),void 0!==W.startTie&&(c.pitches[0].startTie=W.startTie),void 0!==c.startTie&&(c.pitches[0].startTie=c.startTie)):(c.rest=W.rest,void 0!==W.endSlur&&(c.endSlur=W.endSlur),void 0!==W.endTie&&(c.rest.endTie=W.endTie),void 0!==W.startSlur&&(c.startSlur=W.startSlur),void 0!==W.startTie&&(c.rest.startTie=W.startTie),void 0!==c.startTie&&(c.rest.startTie=c.startTie)),void 0!==W.chord&&(c.chord=W.chord),void 0!==W.duration&&(c.duration=W.duration),void 0!==W.decoration&&(c.decoration=W.decoration),void 0!==W.graceNotes&&(c.graceNotes=W.graceNotes),delete c.startSlur,g.inTie&&(void 0!==c.pitches?(c.pitches[0].endTie=!0,g.inTie=!1):"spacer"!==c.rest.type&&(c.rest.endTie=!0,g.inTie=!1)),(W.startTie||c.startTie)&&(g.inTie=!0),e=W.endChar,s>0&&0===--s&&(c.endTriplet=!0),W.end_beam&&B(c),c.rest&&"rest"===c.rest.type&&1===c.duration&&(c.rest.type="whole",c.duration=h(g)),g.addFormattingOptions(c,m.formatting,"note"),m.appendElement("note",r+u,r+e,c),g.measureNotEmpty=!0,c={})}e===u&&(" "!==t.charAt(e)&&"`"!==t.charAt(e)&&x("Unknown character ignored",t,e),e++)}}}}},z=function(t){var e=w.parseHeader(t);e.regular&&H(e.str),e.newline&&void 0===g.continueall&&n(),e.words&&L(m.getCurrentVoice(),t.substring(2)),e.symbols&&I(m.getCurrentVoice(),t.substring(2)),e.recurse&&z(e.str)};this.parse=function(t,e){e||(e={}),m.reset(),e.print&&(m.media="print"),g.reset(),e.transpose?(g.globalTranspose=parseInt(e.transpose),0===g.globalTranspose&&(g.globalTranspose=void 0)):g.globalTranspose=void 0,w.reset(b,x,g,m),t=i.gsub(t,"\r\n","\n"),t=i.gsub(t,"\r","\n"),t+="\n",t=t.replace(/\n\\.*\n/g,"\n");var n=function(t,e,n){return e+" \x12"+(n?"                                                                                                                                                                                                     ".substring(0,n.length):"")};t=t.replace(/\\([ \t]*)(%.*)*\n/g,n);var o=t.split("\n");0===i.last(o).length&&o.pop();try{e.format&&r.globalFormatting(e.format),i.each(o,function(t){if(e.header_only&&!1===g.is_in_header)throw"normal_abort";if(e.stop_on_warning&&g.warnings)throw"normal_abort";g.is_in_history?":"===t.charAt(1)?(g.is_in_history=!1,z(t)):m.addMetaText("history",b.translateString(b.stripComment(t))):g.inTextBlock?i.startsWith(t,"%%endtext")?(m.addText(g.textBlock),g.inTextBlock=!1):i.startsWith(t,"%%")?g.textBlock+=" "+t.substring(2):g.textBlock+=" "+t:g.inPsBlock?i.startsWith(t,"%%endps")?g.inPsBlock=!1:g.textBlock+=" "+t:z(t),g.iChar+=t.length+1});var s=792,a=612;switch(g.papersize){case"legal":s=1008,a=612;break;case"A4":s=842.4,a=597.6}if(g.landscape){var c=s;s=a,a=c}g.openSlurs=m.cleanUp(a,s,g.barsperstaff,g.staffnonote,g.openSlurs)}catch(t){if("normal_abort"!==t)throw t}e.hint_measures&&p()}};t.exports=l},function(t,e){function n(t,e,n,i,r){for(var o=u[(t+49)%7],s=0,a=0;a<i.length;a++)i[a].note.toLowerCase()===o&&(s=l[i[a].acc]);for(var c=l[n],h=c-s,f=u[(e+49)%7],d=0,p=0;p<r.accidentals.length;p++)r.accidentals[p].note.toLowerCase()===f&&(d=l[r.accidentals[p].acc]);var m=h+d;return m<-2&&(e--,m+="c"===f||"f"===f?1:2),m>2&&(e++,m-="b"===f||"e"===f?1:2),console.log("accidentalChange",o,f,s,d,h,m),[e,m]}var i={},r={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},o=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],s=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];i.keySignature=function(t,e,n,i,a){var c=e[n];if(!c)return c;if(!t.globalTranspose)return{accidentals:c,root:i,acc:a};if(t.globalTransposeOrigKeySig=c,t.globalTranspose%12===0)return t.globalTransposeVerticalMovement=t.globalTranspose/12*7,{accidentals:c,root:i,acc:a};var u=n[0];"b"===n[1]||"#"===n[1]?(u+=n[1],n=n.substr(2)):n=n.substr(1);for(var l=r[u]+t.globalTranspose;l<0;)l+=12;l>11&&(l%=12);var h="m"===n[0]?s[l]:o[l],f=h+n,d=e[f];d.length>0&&"flat"===d[0].acc&&(t.globalTransposePreferFlats=!0);var p=f.charCodeAt(0)-u.charCodeAt(0);return t.globalTranspose>0?p<0?p+=7:0===p&&("#"!==u[1]&&"b"!==f[1]||(p+=7)):t.globalTranspose<0&&(p>0?p-=7:0===p&&("b"!==u[1]&&"#"!==f[1]||(p-=7))),t.globalTranspose>0?t.globalTransposeVerticalMovement=p+7*Math.floor(t.globalTranspose/12):t.globalTransposeVerticalMovement=p+7*Math.ceil(t.globalTranspose/12),console.log("globalTransposeVerticalMovement",u,f,t.globalTranspose,f.charCodeAt(0)-u.charCodeAt(0),p,7*Math.floor(t.globalTranspose/12),7*Math.ceil(t.globalTranspose/12),t.globalTransposeVerticalMovement),{accidentals:d,root:h[0],acc:h.length>1?h[1]:""}};var a=["C","C\u266f","D","D\u266f","E","F","F\u266f","G","G\u266f","A","A\u266f","B"],c=["C","D\u266d","D","E\u266d","E","F","G\u266d","G","A\u266d","A","B\u266d","B"];i.chordName=function(t,e){if(t.globalTranspose&&t.globalTranspose%12!==0){for(var n=t.globalTranspose;n<0;)n+=12;n>11&&(n%=12),e=e.replace(/C\u266d/g,"`~11`"),e=e.replace(/D\u266d/g,"`~1`"),e=e.replace(/E\u266d/g,"`~3`"),e=e.replace(/F\u266d/g,"`~4`"),e=e.replace(/G\u266d/g,"`~6`"),e=e.replace(/A\u266d/g,"`~8`"),e=e.replace(/B\u266d/g,"`~10`"),e=e.replace(/C\u266f/g,"`~1`"),e=e.replace(/D\u266f/g,"`~3`"),e=e.replace(/E\u266f/g,"`~5`"),e=e.replace(/F\u266f/g,"`~6`"),e=e.replace(/G\u266f/g,"`~8`"),e=e.replace(/A\u266f/g,"`~10`"),e=e.replace(/B\u266f/g,"`~0`"),e=e.replace(/C/g,"`~0`"),e=e.replace(/D/g,"`~2`"),e=e.replace(/E/g,"`~4`"),e=e.replace(/F/g,"`~5`"),e=e.replace(/G/g,"`~7`"),e=e.replace(/A/g,"`~9`"),e=e.replace(/B/g,"`~11`");for(var i=e.split("`"),r=0;r<i.length;r++)if("~"===i[r][0]){var o=parseInt(i[r].substr(1),10);o+=n,o>11&&(o-=12),i[r]=t.globalTransposePreferFlats?c[o]:a[o]}e=i.join("")}return e};var u=["c","d","e","f","g","a","b"],l={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},h={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"};i.note=function(t,e){if(t.globalTranspose){var i=e.pitch;if(e.pitch=e.pitch+t.globalTransposeVerticalMovement,e.accidental){var r=n(i,e.pitch,e.accidental,t.globalTransposeOrigKeySig,t.key);e.pitch=r[0],e.accidental=h[r[1]]}}},t.exports=i},function(t,e,n){function i(t,e,n,i,r,o,s){if(t&&i/n<.66&&!e)return null;if(Math.abs(n-i)<2)return null;var a=o*r,c=i-a;return o>0?(r=(n-c)/o,r*s>50&&(r=50/s),r):null}function r(t){for(var e=0;e<t.length;e++)for(var n=t[e],i=1;i<n.children.length-1;i++){var r=n.children[i];if(r.abcelem.rest&&("whole"===r.abcelem.rest.type||"multimeasure"===r.abcelem.rest.type)){var o=n.children[i-1],s=n.children[i+1],a=(s.x-o.x)/2+o.x;r.x=a-r.w/2;for(var c=0;c<r.children.length;c++)r.children[c].x=r.x}}}var o=n(2),s=n(68),a=n(82),c=n(18),u=function(t,e){e=e||{},t||(t=c(e.elementId,e.staffwidth,e.staffheight)),this.responsive=e.responsive,this.space=3*o.SPACE,this.scale=e.scale||void 0,e.staffwidth?(this.staffwidthScreen=e.staffwidth,this.staffwidthPrint=e.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.editable=e.editable||!1,this.listeners=[],e.listener&&this.addSelectListener(e.listener),this.usingSvg=!(!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),this.usingSvg&&e.add_classes&&(c._availableAttrs.class=""),c._availableAttrs["text-decoration"]="",c._availableAttrs["data-vertical"]="",this.renderer=new a(t,e.regression),this.renderer.setPaddingOverride(e),this.renderer.controller=this,this.reset()};u.prototype.reset=function(){this.selected=[],this.ingroup=!1,this.staffgroups=[],this.lastStaffGroupIndex=-1,this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset()},u.prototype.engraveABC=function(t,e){void 0===t[0]&&(t=[t]),this.reset();for(var n=0;n<t.length;n++)void 0===e&&(e=n),this.engraveTune(t[n],e);if(this.renderer.doRegression)return this.renderer.regressionLines.join("\n")},u.prototype.adjustNonScaledItems=function(t){this.width/=t,this.renderer.adjustNonScaledItems(t)},u.prototype.engraveTune=function(t,e){this.renderer.lineNumber=null,t.formatting.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},this.renderer.abctune=t,this.renderer.setVerticalSpace(t.formatting),this.renderer.measureNumber=null,this.renderer.noteNumber=null,this.renderer.setPrintMode("print"===t.media);var n=t.formatting.scale?t.formatting.scale:this.scale;void 0===n&&(n=this.renderer.isPrint?.75:1),this.renderer.setPadding(t),this.engraver=new s(t.formatting.bagpipes,this.renderer,e),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.renderer.engraver=this.engraver,t.formatting.staffwidth?this.width=1.33*t.formatting.staffwidth:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen,this.adjustNonScaledItems(n);var i,r,o=!1;for(i=0;i<t.lines.length;i++)r=t.lines[i],r.staff&&(r.staffGroup=this.engraver.createABCLine(r.staff,o?null:t.metaText.tempo),o=!0);var a=this.width;for(i=0;i<t.lines.length;i++)r=t.lines[i],r.staff&&(this.setXSpacing(r.staffGroup,t.formatting,i===t.lines.length-1),r.staffGroup.w>a&&(a=r.staffGroup.w));for(i=0;i<t.lines.length;i++)if(r=t.lines[i],r.staffGroup&&r.staffGroup.voices){for(var c=0;c<r.staffGroup.voices.length;c++)r.staffGroup.voices[c].layoutBeams();r.staffGroup.setUpperAndLowerElements(this.renderer)}for(i=0;i<t.lines.length;i++)r=t.lines[i],r.staffGroup&&(r.staffGroup.height=r.staffGroup.calcHeight());this.renderer.topMargin(t),this.renderer.engraveTopText(this.width,t),this.renderer.addMusicPadding(),this.staffgroups=[],this.lastStaffGroupIndex=-1;for(var u=0;u<t.lines.length;u++)this.renderer.lineNumber=u,r=t.lines[u],r.staff?this.engraveStaffLine(r.staffGroup):r.subtitle&&0!==u?this.renderer.outputSubtitle(this.width,r.subtitle):void 0!==r.text&&this.renderer.outputFreeText(r.text);this.renderer.moveY(24),this.renderer.engraveExtraText(this.width,t),this.renderer.setPaperSize(a,n,this.responsive)},u.prototype.setXSpacing=function(t,e,n){for(var o=this.space,s=0;s<3;s++){t.layout(o,this.renderer,!1);if(null===(o=i(n,!!e.stretchlast&&e.stretchlast,this.width+this.renderer.padding.left,t.w,o,t.spacingunits,t.minspace)))break}r(t.voices)},u.prototype.engraveStaffLine=function(t){this.lastStaffGroupIndex>-1&&this.renderer.addStaffPadding(this.staffgroups[this.lastStaffGroupIndex],t),this.renderer.voiceNumber=null,t.draw(this.renderer);var e=t.height*o.STEP;this.staffgroups[this.staffgroups.length]=t,this.lastStaffGroupIndex=this.staffgroups.length-1,this.renderer.y+=e},u.prototype.notifySelect=function(t,e,n){this.clearSelection(),t.highlight&&(this.selected=[t],t.highlight());for(var i=t.abcelem||{},r=0;r<this.listeners.length;r++)this.listeners[r].highlight&&this.listeners[r].highlight(i,e,n)},u.prototype.notifyChange=function(){for(var t=0;t<this.listeners.length;t++)this.listeners[t].modelChanged&&this.listeners[t].modelChanged()},u.prototype.clearSelection=function(){for(var t=0;t<this.selected.length;t++)this.selected[t].unhighlight();this.selected=[]},u.prototype.addSelectListener=function(t){this.listeners[this.listeners.length]=t},u.prototype.rangeHighlight=function(t,e){this.clearSelection();for(var n=0;n<this.staffgroups.length;n++)for(var i=this.staffgroups[n].voices,r=0;r<i.length;r++)for(var o=i[r].children,s=0;s<o.length;s++){var a=o[s].abcelem.startChar,c=o[s].abcelem.endChar;(e>a&&t<c||e===t&&e===c)&&(this.selected[this.selected.length]=o[s],o[s].highlight())}},t.exports=u},function(t,e){var n=function(t,e,n,i,r){this.anchor1=t,this.anchor2=e,this.above=n,this.force=i,this.isTie=r};n.prototype.setEndAnchor=function(t){this.anchor2=t,this.isTie&&(this.anchor1&&(this.anchor1.isTie=!0),this.anchor2&&(this.anchor2.isTie=!0))},n.prototype.setStartX=function(t){this.startLimitX=t},n.prototype.setEndX=function(t){this.endLimitX=t},n.prototype.setHint=function(){this.hint=!0},n.prototype.setUpperAndLowerElements=function(t){},n.prototype.layout=function(t,e){function n(t,e,n){return n?t.pitch:e&&void 0!==t.highestVert?t.highestVert:t.pitch}!this.force&&this.anchor2&&this.anchor2.pitch===this.anchor2.highestVert&&(this.above=!0),this.isTie?(this.anchor1&&(this.anchor1.tieAbove=this.above),this.anchor2&&(this.anchor2.tieAbove=this.above)):this.anchor2&&this.anchor2.isTie?this.above=this.anchor2.tieAbove:this.anchor1&&this.anchor1.isTie&&(this.above=this.anchor1.tieAbove),this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.startX=t,this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=e,this.anchor1&&this.anchor2?(this.startY=n(this.anchor1,this.above,this.isTie),this.endY=n(this.anchor2,this.above,this.isTie)):this.anchor1?(this.startY=n(this.anchor1,this.above,this.isTie),this.endY=n(this.anchor1,this.above,this.isTie)):this.anchor2?(this.startY=n(this.anchor2,this.above,this.isTie),this.endY=n(this.anchor2,this.above,this.isTie)):(this.startY=this.above?14:0,this.endY=this.above?14:0)},n.prototype.draw=function(t,e,n){this.layout(e,n);var i;this.hint&&(i="abcjs-hint"),t.drawArc(this.startX,this.endX,this.startY,this.endY,this.above,i,this.isTie)},t.exports=n},function(t,e,n){n(31),t.exports=n(37)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(32).enable(),window.Promise=n(35)),n(36),Object.assign=n(10)},function(t,e,n){"use strict";function i(){u=!1,a._47=null,a._71=null}function r(t){function e(e){(t.allRejections||s(h[e].error,t.whitelist||c))&&(h[e].displayId=l++,t.onUnhandled?(h[e].logged=!0,t.onUnhandled(h[e].displayId,h[e].error)):(h[e].logged=!0,o(h[e].displayId,h[e].error)))}function n(e){h[e].logged&&(t.onHandled?t.onHandled(h[e].displayId,h[e].error):h[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[e].displayId+".")))}t=t||{},u&&i(),u=!0;var r=0,l=0,h={};a._47=function(t){2===t._83&&h[t._56]&&(h[t._56].logged?n(t._56):clearTimeout(h[t._56].timeout),delete h[t._56])},a._71=function(t,n){0===t._75&&(t._56=r++,h[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),s(n,c)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function s(t,e){return e.some(function(e){return t instanceof e})}var a=n(20),c=[ReferenceError,TypeError,RangeError],u=!1;e.disable=i,e.enable=r},function(t,e,n){"use strict";(function(e){function n(t){s.length||(o(),a=!0),s[s.length]=t}function i(){for(;c<s.length;){var t=c;if(c+=1,s[t].call(),c>u){for(var e=0,n=s.length-c;e<n;e++)s[e]=s[e+c];s.length-=c,c=0}}s.length=0,c=0,a=!1}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}t.exports=n;var o,s=[],a=!1,c=0,u=1024,l="undefined"!==typeof e?e:self,h=l.MutationObserver||l.WebKitMutationObserver;o="function"===typeof h?function(t){var e=1,n=new h(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}(i):r(i),n.requestFlush=o,n.makeRequestCallFromTimer=r}).call(e,n(34))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){var e=new r(r._44);return e._83=1,e._18=t,e}var r=n(20);t.exports=r;var o=i(!0),s=i(!1),a=i(null),c=i(void 0),u=i(0),l=i("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return a;if(void 0===t)return c;if(!0===t)return o;if(!1===t)return s;if(0===t)return u;if(""===t)return l;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof r&&a.then===r.prototype.then){for(;3===a._83;)a=a._18;return 1===a._83?i(s,a._18):(2===a._83&&n(a._18),void a.then(function(t){i(s,t)},n))}var c=a.then;if("function"===typeof c){return void new r(c.bind(a)).then(function(t){i(s,t)},n)}}e[s]=a,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,s=0;s<e.length;s++)i(s,e[s])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function c(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function u(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&y(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function m(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function b(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&v.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},g.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];b.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=d,t.Response=b,t.fetch=function(t,e){return new Promise(function(n,i){var r=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new b(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n.n(i),o=n(39),s=n.n(o),a=n(47),c=(n.n(a),n(48)),u=n(88);s.a.render(r.a.createElement(c.a,null),document.getElementById("root")),Object(u.a)()},function(t,e,n){"use strict";function i(t){for(var e=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);v(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function r(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||A}function o(){}function s(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||A}function a(t,e,n){var i=void 0,r={},o=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)I.call(e,i)&&!R.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(i in a=t.defaultProps)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:w,type:t,key:o,ref:s,props:r,_owner:L.current}}function c(t){return"object"===typeof t&&null!==t&&t.$$typeof===w}function u(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function l(t,e,n,i){if(F.length){var r=F.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function h(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>F.length&&F.push(t)}function f(t,e,n,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case w:case S:s=!0}}if(s)return n(r,t,""===e?"."+d(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){o=t[a];var c=e+d(o,a);s+=f(o,c,n,r)}else if(null===t||"undefined"===typeof t?c=null:(c=O&&t[O]||t["@@iterator"],c="function"===typeof c?c:null),"function"===typeof c)for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=e+d(o,a++),s+=f(o,c,n,r);else"object"===o&&(n=""+t,i("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return s}function d(t,e){return"object"===typeof t&&null!==t&&null!=t.key?u(t.key):e.toString(36)}function p(t,e){t.func.call(t.context,e,t.count++)}function m(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?b(t,i,n,_.thatReturnsArgument):null!=t&&(c(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(B,"$&/")+"/")+n,t={$$typeof:w,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),i.push(t))}function b(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(B,"$&/")+"/"),e=l(e,o,i,r),null==t||f(t,"",m,e),h(e)}var g=n(10),v=n(11),y=n(21),_=n(12),x="function"===typeof Symbol&&Symbol.for,w=x?Symbol.for("react.element"):60103,S=x?Symbol.for("react.portal"):60106,E=x?Symbol.for("react.fragment"):60107,T=x?Symbol.for("react.strict_mode"):60108,k=x?Symbol.for("react.provider"):60109,P=x?Symbol.for("react.context"):60110,M=x?Symbol.for("react.async_mode"):60111,C=x?Symbol.for("react.forward_ref"):60112,O="function"===typeof Symbol&&Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&i("85"),this.updater.enqueueSetState(this,t,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},o.prototype=r.prototype;var N=s.prototype=new o;N.constructor=s,g(N,r.prototype),N.isPureReactComponent=!0;var L={current:null},I=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0},B=/\/+/g,F=[],D={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return b(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;e=l(null,null,e,n),null==t||f(t,"",p,e),h(e)},count:function(t){return null==t?0:f(t,"",_.thatReturnsNull,null)},toArray:function(t){var e=[];return b(t,e,null,_.thatReturnsArgument),e},only:function(t){return c(t)||i("143"),t}},createRef:function(){return{current:null}},Component:r,PureComponent:s,createContext:function(t,e){return void 0===e&&(e=null),t={$$typeof:P,_calculateChangedBits:e,_defaultValue:t,_currentValue:t,_changedBits:0,Provider:null,Consumer:null},t.Provider={$$typeof:k,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:C,render:t}},Fragment:E,StrictMode:T,unstable_AsyncMode:M,createElement:a,cloneElement:function(t,e,n){(null===t||void 0===t)&&i("267",t);var r=void 0,o=g({},t.props),s=t.key,a=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,c=L.current),void 0!==e.key&&(s=""+e.key);var u=void 0;t.type&&t.type.defaultProps&&(u=t.type.defaultProps);for(r in e)I.call(e,r)&&!R.hasOwnProperty(r)&&(o[r]=void 0===e[r]&&void 0!==u?u[r]:e[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){u=Array(r);for(var l=0;l<r;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:w,type:t.type,key:s,ref:a,props:o,_owner:c}},createFactory:function(t){var e=a.bind(null,t);return e.type=t,e},isValidElement:c,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:L,assign:g}},j=Object.freeze({default:D}),V=j&&D||j;t.exports=V.default?V.default:V},function(t,e,n){"use strict";function i(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}i(),t.exports=n(40)},function(t,e,n){"use strict";function i(t){for(var e=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);un(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function r(t,e,n,i,r,o,s,a,c){this._hasCaughtError=!1,this._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this._caughtError=t,this._hasCaughtError=!0}}function o(){if(vn._hasRethrowError){var t=vn._rethrowError;throw vn._rethrowError=null,vn._hasRethrowError=!1,t}}function s(){if(yn)for(var t in _n){var e=_n[t],n=yn.indexOf(t);if(-1<n||i("96",t),!xn[n]){e.extractEvents||i("97",t),xn[n]=e,n=e.eventTypes;for(var r in n){var o=void 0,s=n[r],c=e,u=r;wn.hasOwnProperty(u)&&i("99",u),wn[u]=s;var l=s.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&a(l[o],c,u);o=!0}else s.registrationName?(a(s.registrationName,c,u),o=!0):o=!1;o||i("98",r,t)}}}}function a(t,e,n){Sn[t]&&i("100",t),Sn[t]=e,En[t]=e.eventTypes[n].dependencies}function c(t){yn&&i("101"),yn=Array.prototype.slice.call(t),s()}function u(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];_n.hasOwnProperty(e)&&_n[e]===r||(_n[e]&&i("102",e),_n[e]=r,n=!0)}n&&s()}function l(t,e,n,i){e=t.type||"unknown-event",t.currentTarget=Mn(i),vn.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function h(t,e){return null==e&&i("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function f(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function d(t,e){if(t){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)l(t,e,n[r],i[r]);else n&&l(t,e,n,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function p(t){return d(t,!0)}function m(t){return d(t,!1)}function b(t,e){var n=t.stateNode;if(!n)return null;var r=kn(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(t=t.type,r=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&i("231",e,typeof n),n)}function g(t,e){null!==t&&(Cn=h(Cn,t)),t=Cn,Cn=null,t&&(e?f(t,p):f(t,m),Cn&&i("95"),vn.rethrowCaughtError())}function v(t,e,n,i){for(var r=null,o=0;o<xn.length;o++){var s=xn[o];s&&(s=s.extractEvents(t,e,n,i))&&(r=h(r,s))}g(r,!1)}function y(t){if(t[Ln])return t[Ln];for(;!t[Ln];){if(!t.parentNode)return null;t=t.parentNode}return t=t[Ln],5===t.tag||6===t.tag?t:null}function _(t){if(5===t.tag||6===t.tag)return t.stateNode;i("33")}function x(t){return t[In]||null}function w(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function S(t,e,n){for(var i=[];t;)i.push(t),t=w(t);for(t=i.length;0<t--;)e(i[t],"captured",n);for(t=0;t<i.length;t++)e(i[t],"bubbled",n)}function E(t,e,n){(e=b(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=h(n._dispatchListeners,e),n._dispatchInstances=h(n._dispatchInstances,t))}function T(t){t&&t.dispatchConfig.phasedRegistrationNames&&S(t._targetInst,E,t)}function k(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?w(e):null,S(e,E,t)}}function P(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=b(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=h(n._dispatchListeners,e),n._dispatchInstances=h(n._dispatchInstances,t))}function M(t){t&&t.dispatchConfig.registrationName&&P(t._targetInst,null,t)}function C(t){f(t,T)}function O(t,e,n,i){if(n&&i)t:{for(var r=n,o=i,s=0,a=r;a;a=w(a))s++;a=0;for(var c=o;c;c=w(c))a++;for(;0<s-a;)r=w(r),s--;for(;0<a-s;)o=w(o),a--;for(;s--;){if(r===o||r===o.alternate)break t;r=w(r),o=w(o)}r=null}else r=null;for(o=r,r=[];n&&n!==o&&(null===(s=n.alternate)||s!==o);)r.push(n),n=w(n);for(n=[];i&&i!==o&&(null===(s=i.alternate)||s!==o);)n.push(i),i=w(i);for(i=0;i<r.length;i++)P(r[i],"bubbled",t);for(t=n.length;0<t--;)P(n[t],"captured",e)}function A(){return!Fn&&hn.canUseDOM&&(Fn="textContent"in document.documentElement?"textContent":"innerText"),Fn}function N(){if(Dn._fallbackText)return Dn._fallbackText;var t,e,n=Dn._startText,i=n.length,r=L(),o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Dn._fallbackText=r.slice(t,1<e?1-e:void 0),Dn._fallbackText}function L(){return"value"in Dn._root?Dn._root.value:Dn._root[A()]}function I(t,e,n,i){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?dn.thatReturnsTrue:dn.thatReturnsFalse,this.isPropagationStopped=dn.thatReturnsFalse,this}function R(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function B(t){t instanceof this||i("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function F(t){t.eventPool=[],t.getPooled=R,t.release=B}function D(t,e){switch(t){case"topKeyUp":return-1!==zn.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function j(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function V(t,e){switch(t){case"topCompositionEnd":return j(e);case"topKeyPress":return 32!==e.which?null:(Jn=!0,Kn);case"topTextInput":return t=e.data,t===Kn&&Jn?null:t;default:return null}}function G(t,e){if(Qn)return"topCompositionEnd"===t||!Wn&&D(t,e)?(t=N(),Dn._root=null,Dn._startText=null,Dn._fallbackText=null,Qn=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return Xn?null:e.data;default:return null}}function H(t){if(t=Pn(t)){$n&&"function"===typeof $n.restoreControlledState||i("194");var e=kn(t.stateNode);$n.restoreControlledState(t.stateNode,t.type,e)}}function z(t){ei?ni?ni.push(t):ni=[t]:ei=t}function W(){return null!==ei||null!==ni}function U(){if(ei){var t=ei,e=ni;if(ni=ei=null,H(t),e)for(t=0;t<e.length;t++)H(e[t])}}function Y(t,e){return t(e)}function X(t,e,n){return t(e,n)}function K(){}function q(t,e){if(ri)return t(e);ri=!0;try{return Y(t,e)}finally{ri=!1,W()&&(K(),U())}}function J(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!oi[t.type]:"textarea"===e}function Q(t){return t=t.target||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Z(t,e){return!(!hn.canUseDOM||e&&!("addEventListener"in document))&&(t="on"+t,e=t in document,e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e="function"===typeof e[t]),e)}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function tt(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.get.call(this)},set:function(t){i=""+t,n.set.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}function et(t){t._valueTracker||(t._valueTracker=tt(t))}function nt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=$(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function it(t){return null===t||"undefined"===typeof t?null:(t=vi&&t[vi]||t["@@iterator"],"function"===typeof t?t:null)}function rt(t){if("function"===typeof(t=t.type))return t.displayName||t.name;if("string"===typeof t)return t;switch(t){case fi:return"ReactFragment";case hi:return"ReactPortal";case ui:return"ReactCall";case li:return"ReactReturn"}if("object"===typeof t&&null!==t)switch(t.$$typeof){case gi:return t=t.render.displayName||t.render.name||"",""!==t?"ForwardRef("+t+")":"ForwardRef"}return null}function ot(t){var e="";do{t:switch(t.tag){case 0:case 1:case 2:case 5:var n=t._debugOwner,i=t._debugSource,r=rt(t),o=null;n&&(o=rt(n)),n=i,r="\n    in "+(r||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break t;default:r=""}e+=r,t=t.return}while(t);return e}function st(t){return!!xi.hasOwnProperty(t)||!_i.hasOwnProperty(t)&&(yi.test(t)?xi[t]=!0:(_i[t]=!0,!1))}function at(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}function ct(t,e,n,i){if(null===e||"undefined"===typeof e||at(t,e,n,i))return!0;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ut(t,e,n,i,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e}function lt(t){return t[1].toUpperCase()}function ht(t,e,n,i){var r=wi.hasOwnProperty(e)?wi[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(ct(e,n,r,i)&&(n=null),i||null===r?st(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(r=r.type,n=3===r||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}function ft(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function dt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=vt(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function pt(t,e){null!=(e=e.checked)&&ht(t,"checked",e,!1)}function mt(t,e){pt(t,e);var n=vt(e.value);null!=n&&("number"===e.type?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n)),e.hasOwnProperty("value")?gt(t,e.type,n):e.hasOwnProperty("defaultValue")&&gt(t,e.type,vt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function bt(t,e){(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue"))&&(""===t.value&&(t.value=""+t._wrapperState.initialValue),t.defaultValue=""+t._wrapperState.initialValue),e=t.name,""!==e&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function gt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function vt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function yt(t,e,n){return t=I.getPooled(Ei.change,t,e,n),t.type="change",z(n),C(t),t}function _t(t){g(t,!1)}function xt(t){if(nt(_(t)))return t}function wt(t,e){if("topChange"===t)return e}function St(){Ti&&(Ti.detachEvent("onpropertychange",Et),ki=Ti=null)}function Et(t){"value"===t.propertyName&&xt(ki)&&(t=yt(ki,t,Q(t)),q(_t,t))}function Tt(t,e,n){"topFocus"===t?(St(),Ti=e,ki=n,Ti.attachEvent("onpropertychange",Et)):"topBlur"===t&&St()}function kt(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return xt(ki)}function Pt(t,e){if("topClick"===t)return xt(e)}function Mt(t,e){if("topInput"===t||"topChange"===t)return xt(e)}function Ct(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Oi[t])&&!!e[t]}function Ot(){return Ct}function At(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function Nt(t){return!!(t=t._reactInternalFiber)&&2===At(t)}function Lt(t){2!==At(t)&&i("188")}function It(t){var e=t.alternate;if(!e)return e=At(t),3===e&&i("188"),1===e?null:t;for(var n=t,r=e;;){var o=n.return,s=o?o.alternate:null;if(!o||!s)break;if(o.child===s.child){for(var a=o.child;a;){if(a===n)return Lt(o),t;if(a===r)return Lt(o),e;a=a.sibling}i("188")}if(n.return!==r.return)n=o,r=s;else{a=!1;for(var c=o.child;c;){if(c===n){a=!0,n=o,r=s;break}if(c===r){a=!0,r=o,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=o;break}if(c===r){a=!0,r=s,n=o;break}c=c.sibling}a||i("189")}}n.alternate!==r&&i("190")}return 3!==n.tag&&i("188"),n.stateNode.current===n?t:e}function Rt(t){if(!(t=It(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Bt(t){if(!(t=It(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ft(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Dt(t,e){var n=t[0].toUpperCase()+t.slice(1),i="on"+n;n="top"+n,e={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:e},Wi[t]=e,Ui[n]=e}function jt(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=y(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],v(t.topLevelType,e,t.nativeEvent,Q(t.nativeEvent))}function Vt(t){qi=!!t}function Gt(t,e,n){if(!n)return null;t=(Xi(t)?zt:Wt).bind(null,t),n.addEventListener(e,t,!1)}function Ht(t,e,n){if(!n)return null;t=(Xi(t)?zt:Wt).bind(null,t),n.addEventListener(e,t,!0)}function zt(t,e){X(Wt,t,e)}function Wt(t,e){if(qi){var n=Q(e);if(n=y(n),null!==n&&"number"===typeof n.tag&&2!==At(n)&&(n=null),Ki.length){var i=Ki.pop();i.topLevelType=t,i.nativeEvent=e,i.targetInst=n,t=i}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{q(jt,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Ki.length&&Ki.push(t)}}}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function Yt(t){if(Zi[t])return Zi[t];if(!Qi[t])return t;var e,n=Qi[t];for(e in n)if(n.hasOwnProperty(e)&&e in $i)return Zi[t]=n[e];return t}function Xt(t){return Object.prototype.hasOwnProperty.call(t,rr)||(t[rr]=ir++,nr[t[rr]]={}),nr[t[rr]]}function Kt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qt(t,e){var n=Kt(t);t=0;for(var i;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Kt(n)}}function Jt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}function Qt(t,e){if(lr||null==ar||ar!==pn())return null;var n=ar;return"selectionStart"in n&&Jt(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ur&&mn(ur,n)?null:(ur=n,t=I.getPooled(sr.select,cr,t,e),t.type="select",t.target=ar,C(t),t)}function Zt(t,e,n,i){this.tag=t,this.key=n,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=e,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function $t(t,e,n){var i=t.alternate;return null===i?(i=new Zt(t.tag,e,t.key,t.mode),i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.expirationTime=n,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function te(t,e,n){var r=t.type,o=t.key;t=t.props;var s=void 0;if("function"===typeof r)s=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"===typeof r)s=5;else switch(r){case fi:return ee(t.children,e,n,o);case bi:s=11,e|=3;break;case di:s=11,e|=2;break;case ui:s=7;break;case li:s=9;break;default:if("object"===typeof r&&null!==r)switch(r.$$typeof){case pi:s=13;break;case mi:s=12;break;case gi:s=14;break;default:if("number"===typeof r.tag)return e=r,e.pendingProps=t,e.expirationTime=n,e;i("130",null==r?r:typeof r,"")}else i("130",null==r?r:typeof r,"")}return e=new Zt(s,t,o,e),e.type=r,e.expirationTime=n,e}function ee(t,e,n,i){return t=new Zt(10,t,i,e),t.expirationTime=n,t}function ne(t,e,n){return t=new Zt(6,t,null,e),t.expirationTime=n,t}function ie(t,e,n){return e=new Zt(4,null!==t.children?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function re(t){return function(e){try{return t(e)}catch(t){}}}function oe(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);fr=re(function(t){return e.onCommitFiberRoot(n,t)}),dr=re(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function se(t){"function"===typeof fr&&fr(t)}function ae(t){"function"===typeof dr&&dr(t)}function ce(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function ue(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}function le(t){pr=mr=null;var e=t.alternate,n=t.updateQueue;null===n&&(n=t.updateQueue=ce(null)),null!==e?null===(t=e.updateQueue)&&(t=e.updateQueue=ce(null)):t=null,pr=n,mr=t!==n?t:null}function he(t,e){le(t),t=pr;var n=mr;null===n?ue(t,e):null===t.last||null===n.last?(ue(t,e),ue(n,e)):(ue(t,e),n.last=e)}function fe(t,e,n,i){return t=t.partialState,"function"===typeof t?t.call(e,n,i):t}function de(t,e,n,i,r,o){null!==t&&t.updateQueue===n&&(n=e.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,capturedValues:n.capturedValues,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?t=n.baseState:(t=n.baseState=e.memoizedState,n.isInitialized=!0);for(var s=!0,a=n.first,c=!1;null!==a;){var u=a.expirationTime;if(u>o){var l=n.expirationTime;(0===l||l>u)&&(n.expirationTime=u),c||(c=!0,n.baseState=t)}else c||(n.first=a.next,null===n.first&&(n.last=null)),a.isReplace?(t=fe(a,i,t,r),s=!0):(u=fe(a,i,t,r))&&(t=s?fn({},t,u):fn(t,u),s=!1),a.isForced&&(n.hasForceUpdate=!0),null!==a.callback&&(u=n.callbackList,null===u&&(u=n.callbackList=[]),u.push(a)),null!==a.capturedValue&&(u=n.capturedValues,null===u?n.capturedValues=[a.capturedValue]:u.push(a.capturedValue));a=a.next}return null!==n.callbackList?e.effectTag|=32:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(e.updateQueue=null),c||(n.baseState=t),t}function pe(t,e){var n=t.callbackList;if(null!==n)for(t.callbackList=null,t=0;t<n.length;t++){var r=n[t],o=r.callback;r.callback=null,"function"!==typeof o&&i("191",o),o.call(e)}}function me(t,e,n,i,r){function o(t,e,n,i,r,o){if(null===e||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)return!0;var s=t.stateNode;return t=t.type,"function"===typeof s.shouldComponentUpdate?s.shouldComponentUpdate(n,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!mn(e,n)||!mn(i,r))}function s(t,e){e.updater=p,t.stateNode=e,e._reactInternalFiber=t}function a(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&p.enqueueReplaceState(e,e.state,null)}function c(t,e,n,i){if(t=t.type,"function"===typeof t.getDerivedStateFromProps)return t.getDerivedStateFromProps.call(null,n,i)}var u=t.cacheContext,l=t.getMaskedContext,h=t.getUnmaskedContext,f=t.isContextConsumer,d=t.hasContextChanged,p={isMounted:Nt,enqueueSetState:function(t,i,r){t=t._reactInternalFiber,r=void 0===r?null:r;var o=n(t);he(t,{expirationTime:o,partialState:i,callback:r,isReplace:!1,isForced:!1,capturedValue:null,next:null}),e(t,o)},enqueueReplaceState:function(t,i,r){t=t._reactInternalFiber,r=void 0===r?null:r;var o=n(t);he(t,{expirationTime:o,partialState:i,callback:r,isReplace:!0,isForced:!1,capturedValue:null,next:null}),e(t,o)},enqueueForceUpdate:function(t,i){t=t._reactInternalFiber,i=void 0===i?null:i;var r=n(t);he(t,{expirationTime:r,partialState:null,callback:i,isReplace:!1,isForced:!0,capturedValue:null,next:null}),e(t,r)}};return{adoptClassInstance:s,callGetDerivedStateFromProps:c,constructClassInstance:function(t,e){var n=t.type,i=h(t),r=f(t),o=r?l(t,i):gn;n=new n(e,o);var a=null!==n.state&&void 0!==n.state?n.state:null;return s(t,n),t.memoizedState=a,e=c(t,n,e,a),null!==e&&void 0!==e&&(t.memoizedState=fn({},t.memoizedState,e)),r&&u(t,i,o),n},mountClassInstance:function(t,e){var n=t.type,i=t.alternate,r=t.stateNode,o=t.pendingProps,s=h(t);r.props=o,r.state=t.memoizedState,r.refs=gn,r.context=l(t,s),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(n=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&p.enqueueReplaceState(r,r.state,null),null!==(n=t.updateQueue)&&(r.state=de(i,t,n,r,o,e))),"function"===typeof r.componentDidMount&&(t.effectTag|=4)},resumeMountClassInstance:function(t,e){var n=t.type,s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,f=t.pendingProps,p=s.context,m=h(t);m=l(t,m),(n="function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(u!==f||p!==m)&&a(t,s,f,m),p=t.memoizedState,e=null!==t.updateQueue?de(null,t,t.updateQueue,s,f,e):p;var b=void 0;if(u!==f&&(b=c(t,s,f,e)),null!==b&&void 0!==b){e=null===e||void 0===e?b:fn({},e,b);var g=t.updateQueue;null!==g&&(g.baseState=fn({},g.baseState,b))}return u!==f||p!==e||d()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((u=o(t,u,f,p,e,m))?(n||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),i(t,f),r(t,e)),s.props=f,s.state=e,s.context=m,u):("function"===typeof s.componentDidMount&&(t.effectTag|=4),!1)},updateClassInstance:function(t,e,n){var s=e.type,u=e.stateNode;u.props=e.memoizedProps,u.state=e.memoizedState;var f=e.memoizedProps,p=e.pendingProps,m=u.context,b=h(e);b=l(e,b),(s="function"===typeof s.getDerivedStateFromProps||"function"===typeof u.getSnapshotBeforeUpdate)||"function"!==typeof u.UNSAFE_componentWillReceiveProps&&"function"!==typeof u.componentWillReceiveProps||(f!==p||m!==b)&&a(e,u,p,b),m=e.memoizedState,n=null!==e.updateQueue?de(t,e,e.updateQueue,u,p,n):m;var g=void 0;if(f!==p&&(g=c(e,u,p,n)),null!==g&&void 0!==g){n=null===n||void 0===n?g:fn({},n,g);var v=e.updateQueue;null!==v&&(v.baseState=fn({},v.baseState,g))}return f!==p||m!==n||d()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((g=o(e,f,p,m,n,b))?(s||"function"!==typeof u.UNSAFE_componentWillUpdate&&"function"!==typeof u.componentWillUpdate||("function"===typeof u.componentWillUpdate&&u.componentWillUpdate(p,n,b),"function"===typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(p,n,b)),"function"===typeof u.componentDidUpdate&&(e.effectTag|=4),"function"===typeof u.getSnapshotBeforeUpdate&&(e.effectTag|=2048)):("function"!==typeof u.componentDidUpdate||f===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=4),"function"!==typeof u.getSnapshotBeforeUpdate||f===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=2048),i(e,p),r(e,n)),u.props=p,u.state=n,u.context=b,g):("function"!==typeof u.componentDidUpdate||f===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=4),"function"!==typeof u.getSnapshotBeforeUpdate||f===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=2048),!1)}}}function be(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(2!==n.tag&&i("110"),r=n.stateNode),r||i("147",t);var o=""+t;return null!==e&&null!==e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs===gn?r.refs={}:r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}"string"!==typeof t&&i("148"),n._owner||i("254",t)}return t}function ge(t,e){"textarea"!==t.type&&i("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function ve(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return t=$t(t,e,n),t.index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index,i<n?(e.effectTag=2,n):i):(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function c(t,e,n,i){return null===e||6!==e.tag?(e=ne(n,t.mode,i),e.return=t,e):(e=o(e,n,i),e.return=t,e)}function u(t,e,n,i){return null!==e&&e.type===n.type?(i=o(e,n.props,i),i.ref=be(t,e,n),i.return=t,i):(i=te(n,t.mode,i),i.ref=be(t,e,n),i.return=t,i)}function l(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=ie(n,t.mode,i),e.return=t,e):(e=o(e,n.children||[],i),e.return=t,e)}function h(t,e,n,i,r){return null===e||10!==e.tag?(e=ee(n,t.mode,i,r),e.return=t,e):(e=o(e,n,i),e.return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return e=ne(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case ci:return n=te(e,t.mode,n),n.ref=be(t,null,e),n.return=t,n;case hi:return e=ie(e,t.mode,n),e.return=t,e}if(br(e)||it(e))return e=ee(e,t.mode,n,null),e.return=t,e;ge(t,e)}return null}function d(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:c(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ci:return n.key===r?n.type===fi?h(t,e,n.props.children,i,r):u(t,e,n,i):null;case hi:return n.key===r?l(t,e,n,i):null}if(br(n)||it(n))return null!==r?null:h(t,e,n,i,null);ge(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return t=t.get(n)||null,c(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case ci:return t=t.get(null===i.key?n:i.key)||null,i.type===fi?h(e,t,i.props.children,r,i.key):u(e,t,i,r);case hi:return t=t.get(null===i.key?n:i.key)||null,l(e,t,i,r)}if(br(i)||it(i))return t=t.get(n)||null,h(e,t,i,r,null);ge(e,i)}return null}function m(i,o,a,c){for(var u=null,l=null,h=o,m=o=0,b=null;null!==h&&m<a.length;m++){h.index>m?(b=h,h=null):b=h.sibling;var g=d(i,h,a[m],c);if(null===g){null===h&&(h=b);break}t&&h&&null===g.alternate&&e(i,h),o=s(g,o,m),null===l?u=g:l.sibling=g,l=g,h=b}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)(h=f(i,a[m],c))&&(o=s(h,o,m),null===l?u=h:l.sibling=h,l=h);return u}for(h=r(i,h);m<a.length;m++)(b=p(h,i,m,a[m],c))&&(t&&null!==b.alternate&&h.delete(null===b.key?m:b.key),o=s(b,o,m),null===l?u=b:l.sibling=b,l=b);return t&&h.forEach(function(t){return e(i,t)}),u}function b(o,a,c,u){var l=it(c);"function"!==typeof l&&i("150"),null==(c=l.call(c))&&i("151");for(var h=l=null,m=a,b=a=0,g=null,v=c.next();null!==m&&!v.done;b++,v=c.next()){m.index>b?(g=m,m=null):g=m.sibling;var y=d(o,m,v.value,u);if(null===y){m||(m=g);break}t&&m&&null===y.alternate&&e(o,m),a=s(y,a,b),null===h?l=y:h.sibling=y,h=y,m=g}if(v.done)return n(o,m),l;if(null===m){for(;!v.done;b++,v=c.next())null!==(v=f(o,v.value,u))&&(a=s(v,a,b),null===h?l=v:h.sibling=v,h=v);return l}for(m=r(o,m);!v.done;b++,v=c.next())null!==(v=p(m,o,b,v.value,u))&&(t&&null!==v.alternate&&m.delete(null===v.key?b:v.key),a=s(v,a,b),null===h?l=v:h.sibling=v,h=v);return t&&m.forEach(function(t){return e(o,t)}),l}return function(t,r,s,c){"object"===typeof s&&null!==s&&s.type===fi&&null===s.key&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case ci:t:{var l=s.key;for(u=r;null!==u;){if(u.key===l){if(10===u.tag?s.type===fi:u.type===s.type){n(t,u.sibling),r=o(u,s.type===fi?s.props.children:s.props,c),r.ref=be(t,u,s),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}s.type===fi?(r=ee(s.props.children,t.mode,c,s.key),r.return=t,t=r):(c=te(s,t.mode,c),c.ref=be(t,r,s),c.return=t,t=c)}return a(t);case hi:t:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(t,r.sibling),r=o(r,s.children||[],c),r.return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}r=ie(s,t.mode,c),r.return=t,t=r}return a(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(t,r.sibling),r=o(r,s,c),r.return=t,t=r):(n(t,r),r=ne(s,t.mode,c),r.return=t,t=r),a(t);if(br(s))return m(t,r,s,c);if(it(s))return b(t,r,s,c);if(u&&ge(t,s),"undefined"===typeof s)switch(t.tag){case 2:case 1:c=t.type,i("152",c.displayName||c.name||"Component")}return n(t,r)}}function ye(t,e,n,r,o,s,a){function c(t,e,n){u(t,e,n,e.expirationTime)}function u(t,e,n,i){e.child=null===t?vr(e,null,n,i):gr(e,t.child,n,i)}function l(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function h(t,e,n,i,r,o){if(l(t,e),!n&&!r)return i&&k(e,!1),m(t,e);n=e.stateNode,si.current=e;var s=r?null:n.render();return e.effectTag|=1,r&&(u(t,e,null,o),e.child=null),u(t,e,s,o),e.memoizedState=n.state,e.memoizedProps=n.props,i&&k(e,!0),e.child}function f(t){var e=t.stateNode;e.pendingContext?T(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T(t,e.context,!1),y(t,e.containerInfo)}function d(t,e,n,i){var r=t.child;for(null!==r&&(r.return=t);null!==r;){switch(r.tag){case 12:var o=0|r.stateNode;if(r.type===e&&0!==(o&n)){for(o=r;null!==o;){var s=o.alternate;if(0===o.expirationTime||o.expirationTime>i)o.expirationTime=i,null!==s&&(0===s.expirationTime||s.expirationTime>i)&&(s.expirationTime=i);else{if(null===s||!(0===s.expirationTime||s.expirationTime>i))break;s.expirationTime=i}o=o.return}o=null}else o=r.child;break;case 13:o=r.type===t.type?null:r.child;break;default:o=r.child}if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){o=r;break}o=o.return}r=o}}function p(t,e,n){var i=e.type._context,r=e.pendingProps,o=e.memoizedProps;if(!S()&&o===r)return e.stateNode=0,_(e),m(t,e);var s=r.value;if(e.memoizedProps=r,null===o)s=1073741823;else if(o.value===r.value){if(o.children===r.children)return e.stateNode=0,_(e),m(t,e);s=0}else{var a=o.value;if(a===s&&(0!==a||1/a===1/s)||a!==a&&s!==s){if(o.children===r.children)return e.stateNode=0,_(e),m(t,e);s=0}else if(s="function"===typeof i._calculateChangedBits?i._calculateChangedBits(a,s):1073741823,0===(s|=0)){if(o.children===r.children)return e.stateNode=0,_(e),m(t,e)}else d(e,i,s,n)}return e.stateNode=s,_(e),c(t,e,r.children),e.child}function m(t,e){if(null!==t&&e.child!==t.child&&i("153"),null!==e.child){t=e.child;var n=$t(t,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=$t(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}var b=t.shouldSetTextContent,g=t.shouldDeprioritizeSubtree,v=e.pushHostContext,y=e.pushHostContainer,_=r.pushProvider,x=n.getMaskedContext,w=n.getUnmaskedContext,S=n.hasContextChanged,E=n.pushContextProvider,T=n.pushTopLevelContextObject,k=n.invalidateContextProvider,P=o.enterHydrationState,M=o.resetHydrationState,C=o.tryToClaimNextHydratableInstance;t=me(n,s,a,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var O=t.adoptClassInstance,A=t.callGetDerivedStateFromProps,N=t.constructClassInstance,L=t.mountClassInstance,I=t.resumeMountClassInstance,R=t.updateClassInstance;return{beginWork:function(t,e,n){if(0===e.expirationTime||e.expirationTime>n){switch(e.tag){case 3:f(e);break;case 2:E(e);break;case 4:y(e,e.stateNode.containerInfo);break;case 13:_(e)}return null}switch(e.tag){case 0:null!==t&&i("155");var r=e.type,o=e.pendingProps,s=w(e);return s=x(e,s),r=r(o,s),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(s=e.type,e.tag=2,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"===typeof s.getDerivedStateFromProps&&null!==(o=A(e,r,o,e.memoizedState))&&void 0!==o&&(e.memoizedState=fn({},e.memoizedState,o)),o=E(e),O(e,r),L(e,n),t=h(t,e,!0,o,!1,n)):(e.tag=1,c(t,e,r),e.memoizedProps=o,t=e.child),t;case 1:return o=e.type,n=e.pendingProps,S()||e.memoizedProps!==n?(r=w(e),r=x(e,r),o=o(n,r),e.effectTag|=1,c(t,e,o),e.memoizedProps=n,t=e.child):t=m(t,e),t;case 2:o=E(e),null===t?null===e.stateNode?(N(e,e.pendingProps),L(e,n),r=!0):r=I(e,n):r=R(t,e,n),s=!1;var a=e.updateQueue;return null!==a&&null!==a.capturedValues&&(s=r=!0),h(t,e,r,o,s,n);case 3:t:if(f(e),null!==(r=e.updateQueue)){if(s=e.memoizedState,o=de(t,e,r,null,null,n),e.memoizedState=o,null!==(r=e.updateQueue)&&null!==r.capturedValues)r=null;else{if(s===o){M(),t=m(t,e);break t}r=o.element}s=e.stateNode,(null===t||null===t.child)&&s.hydrate&&P(e)?(e.effectTag|=2,e.child=vr(e,null,r,n)):(M(),c(t,e,r)),e.memoizedState=o,t=e.child}else M(),t=m(t,e);return t;case 5:return v(e),null===t&&C(e),o=e.type,a=e.memoizedProps,r=e.pendingProps,s=null!==t?t.memoizedProps:null,S()||a!==r||((a=1&e.mode&&g(o,r))&&(e.expirationTime=1073741823),a&&1073741823===n)?(a=r.children,b(o,r)?a=null:s&&b(o,s)&&(e.effectTag|=16),l(t,e),1073741823!==n&&1&e.mode&&g(o,r)?(e.expirationTime=1073741823,e.memoizedProps=r,t=null):(c(t,e,a),e.memoizedProps=r,t=e.child)):t=m(t,e),t;case 6:return null===t&&C(e),e.memoizedProps=e.pendingProps,null;case 8:e.tag=7;case 7:return o=e.pendingProps,S()||e.memoizedProps!==o||(o=e.memoizedProps),r=o.children,e.stateNode=null===t?vr(e,e.stateNode,r,n):gr(e,t.stateNode,r,n),e.memoizedProps=o,e.stateNode;case 9:return null;case 4:return y(e,e.stateNode.containerInfo),o=e.pendingProps,S()||e.memoizedProps!==o?(null===t?e.child=gr(e,null,o,n):c(t,e,o),e.memoizedProps=o,t=e.child):t=m(t,e),t;case 14:return n=e.type.render,n=n(e.pendingProps,e.ref),c(t,e,n),e.memoizedProps=n,e.child;case 10:return n=e.pendingProps,S()||e.memoizedProps!==n?(c(t,e,n),e.memoizedProps=n,t=e.child):t=m(t,e),t;case 11:return n=e.pendingProps.children,S()||null!==n&&e.memoizedProps!==n?(c(t,e,n),e.memoizedProps=n,t=e.child):t=m(t,e),t;case 13:return p(t,e,n);case 12:t:{r=e.type,s=e.pendingProps,a=e.memoizedProps,o=r._currentValue;var u=r._changedBits;if(S()||0!==u||a!==s){e.memoizedProps=s;var T=s.unstable_observedBits;if(void 0!==T&&null!==T||(T=1073741823),e.stateNode=T,0!==(u&T))d(e,r,u,n);else if(a===s){t=m(t,e);break t}n=s.children,n=n(o),c(t,e,n),t=e.child}else t=m(t,e)}return t;default:i("156")}}}}function _e(t,e,n,r,o){function s(t){t.effectTag|=4}var a=t.createInstance,c=t.createTextInstance,u=t.appendInitialChild,l=t.finalizeInitialChildren,h=t.prepareUpdate,f=t.persistence,d=e.getRootHostContainer,p=e.popHostContext,m=e.getHostContext,b=e.popHostContainer,g=n.popContextProvider,v=n.popTopLevelContextObject,y=r.popProvider,_=o.prepareToHydrateHostInstance,x=o.prepareToHydrateHostTextInstance,w=o.popHydrationState,S=void 0,E=void 0,T=void 0;return t.mutation?(S=function(){},E=function(t,e,n){(e.updateQueue=n)&&s(e)},T=function(t,e,n,i){n!==i&&s(e)}):i(f?"235":"236"),{completeWork:function(t,e,n){var r=e.pendingProps;switch(e.tag){case 1:return null;case 2:return g(e),t=e.stateNode,r=e.updateQueue,null!==r&&null!==r.capturedValues&&(e.effectTag&=-65,"function"===typeof t.componentDidCatch?e.effectTag|=256:r.capturedValues=null),null;case 3:return b(e),v(e),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(w(e),e.effectTag&=-3),S(e),t=e.updateQueue,null!==t&&null!==t.capturedValues&&(e.effectTag|=256),null;case 5:p(e),n=d();var o=e.type;if(null!==t&&null!=e.stateNode){var f=t.memoizedProps,k=e.stateNode,P=m();k=h(k,o,f,r,n,P),E(t,e,k,o,f,r,n,P),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!r)return null===e.stateNode&&i("166"),null;if(t=m(),w(e))_(e,n,t)&&s(e);else{f=a(o,r,n,t,e);t:for(P=e.child;null!==P;){if(5===P.tag||6===P.tag)u(f,P.stateNode);else if(4!==P.tag&&null!==P.child){P.child.return=P,P=P.child;continue}if(P===e)break;for(;null===P.sibling;){if(null===P.return||P.return===e)break t;P=P.return}P.sibling.return=P.return,P=P.sibling}l(f,o,r,n,t)&&s(e),e.stateNode=f}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)T(t,e,t.memoizedProps,r);else{if("string"!==typeof r)return null===e.stateNode&&i("166"),null;t=d(),n=m(),w(e)?x(e)&&s(e):e.stateNode=c(r,t,n,e)}return null;case 7:(r=e.memoizedProps)||i("165"),e.tag=8,o=[];t:for((f=e.stateNode)&&(f.return=e);null!==f;){if(5===f.tag||6===f.tag||4===f.tag)i("247");else if(9===f.tag)o.push(f.pendingProps.value);else if(null!==f.child){f.child.return=f,f=f.child;continue}for(;null===f.sibling;){if(null===f.return||f.return===e)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}return f=r.handler,r=f(r.props,o),e.child=gr(e,null!==t?t.child:null,r,n),e.child;case 8:return e.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return b(e),S(e),null;case 13:return y(e),null;case 12:return null;case 0:i("167");default:i("156")}}}}function xe(t,e,n,i,r){var o=t.popHostContainer,s=t.popHostContext,a=e.popContextProvider,c=e.popTopLevelContextObject,u=n.popProvider;return{throwException:function(t,e,n){e.effectTag|=512,e.firstEffect=e.lastEffect=null,e={value:n,source:e,stack:ot(e)};do{switch(t.tag){case 3:return le(t),t.updateQueue.capturedValues=[e],void(t.effectTag|=1024);case 2:if(n=t.stateNode,0===(64&t.effectTag)&&null!==n&&"function"===typeof n.componentDidCatch&&!r(n)){le(t),n=t.updateQueue;var i=n.capturedValues;return null===i?n.capturedValues=[e]:i.push(e),void(t.effectTag|=1024)}}t=t.return}while(null!==t)},unwindWork:function(t){switch(t.tag){case 2:a(t);var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return o(t),c(t),e=t.effectTag,1024&e?(t.effectTag=-1025&e|64,t):null;case 5:return s(t),null;case 4:return o(t),null;case 13:return u(t),null;default:return null}},unwindInterruptedWork:function(t){switch(t.tag){case 2:a(t);break;case 3:o(t),c(t);break;case 5:s(t);break;case 4:o(t);break;case 13:u(t)}}}}function we(t,e){var n=e.source;null===e.stack&&ot(n),null!==n&&rt(n),e=e.value,null!==t&&2===t.tag&&rt(t);try{e&&e.suppressReactErrorLogging||console.error(e)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}}function Se(t,e,n,r,o){function s(t){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(n){e(t,n)}else n.current=null}function a(t){switch("function"===typeof ae&&ae(t),t.tag){case 2:s(t);var n=t.stateNode;if("function"===typeof n.componentWillUnmount)try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(n){e(t,n)}break;case 5:s(t);break;case 7:c(t.stateNode);break;case 4:f&&l(t)}}function c(t){for(var e=t;;)if(a(e),null===e.child||f&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function u(t){return 5===t.tag||3===t.tag||4===t.tag}function l(t){for(var e=t,n=!1,r=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&i("160"),n.tag){case 5:r=n.stateNode,o=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag)c(e),o?w(r,e.stateNode):x(r,e.stateNode);else if(4===e.tag?r=e.stateNode.containerInfo:a(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}var h=t.getPublicInstance,f=t.mutation;t=t.persistence,f||i(t?"235":"236");var d=f.commitMount,p=f.commitUpdate,m=f.resetTextContent,b=f.commitTextUpdate,g=f.appendChild,v=f.appendChildToContainer,y=f.insertBefore,_=f.insertInContainerBefore,x=f.removeChild,w=f.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(t,e){switch(e.tag){case 2:if(2048&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,t.props=e.memoizedProps,t.state=e.memoizedState,e=t.getSnapshotBeforeUpdate(n,r),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:break;default:i("163")}},commitResetTextContent:function(t){m(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(u(e)){var n=e;break t}e=e.return}i("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(m(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||u(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)n?r?_(e,o.stateNode,n):y(e,o.stateNode,n):r?v(e,o.stateNode):g(e,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(t){l(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var o=e.type,s=e.updateQueue;e.updateQueue=null,null!==s&&p(n,s,o,t,r,e)}break;case 6:null===e.stateNode&&i("162"),n=e.memoizedProps,b(e.stateNode,null!==t?t.memoizedProps:n,n);break;case 3:break;default:i("163")}},commitLifeCycles:function(t,e,n){switch(n.tag){case 2:if(t=n.stateNode,4&n.effectTag)if(null===e)t.props=n.memoizedProps,t.state=n.memoizedState,t.componentDidMount();else{var r=e.memoizedProps;e=e.memoizedState,t.props=n.memoizedProps,t.state=n.memoizedState,t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}n=n.updateQueue,null!==n&&pe(n,t);break;case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=h(n.child.stateNode);break;case 2:t=n.child.stateNode}pe(e,t)}break;case 5:t=n.stateNode,null===e&&4&n.effectTag&&d(t,n.type,n.memoizedProps,n);break;case 6:case 4:break;default:i("163")}},commitErrorLogging:function(t,e){switch(t.tag){case 2:var n=t.type;e=t.stateNode;var r=t.updateQueue;(null===r||null===r.capturedValues)&&i("264");var s=r.capturedValues;for(r.capturedValues=null,"function"!==typeof n.getDerivedStateFromCatch&&o(e),e.props=t.memoizedProps,e.state=t.memoizedState,n=0;n<s.length;n++){r=s[n];var a=r.value,c=r.stack;we(t,r),e.componentDidCatch(a,{componentStack:null!==c?c:""})}break;case 3:for(n=t.updateQueue,(null===n||null===n.capturedValues)&&i("264"),s=n.capturedValues,n.capturedValues=null,n=0;n<s.length;n++)r=s[n],we(t,r),e(r.value);break;default:i("265")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:t=h(n);break;default:t=n}"function"===typeof e?e(t):e.current=t}},commitDetachRef:function(t){null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null)}}}function Ee(t,e){function n(t){return t===yr&&i("174"),t}var r=t.getChildHostContext,o=t.getRootHostContext;t=e.createCursor;var s=e.push,a=e.pop,c=t(yr),u=t(yr),l=t(yr);return{getHostContext:function(){return n(c.current)},getRootHostContainer:function(){return n(l.current)},popHostContainer:function(t){a(c,t),a(u,t),a(l,t)},popHostContext:function(t){u.current===t&&(a(c,t),a(u,t))},pushHostContainer:function(t,e){s(l,e,t),s(u,t,t),s(c,yr,t),e=o(e),a(c,t),s(c,e,t)},pushHostContext:function(t){var e=n(l.current),i=n(c.current);e=r(i,t.type,e),i!==e&&(s(u,t,t),s(c,e,t))}}}function Te(t){function e(t,e){var n=new Zt(5,null,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case 5:return null!==(e=s(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=a(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function r(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;f=t}var o=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){i("175")},prepareToHydrateHostTextInstance:function(){i("176")},popHydrationState:function(){return!1}};var s=t.canHydrateInstance,a=t.canHydrateTextInstance,c=t.getNextHydratableSibling,u=t.getFirstHydratableChild,l=t.hydrateInstance,h=t.hydrateTextInstance,f=null,d=null,p=!1;return{enterHydrationState:function(t){return d=u(t.stateNode.containerInfo),f=t,p=!0},resetHydrationState:function(){d=f=null,p=!1},tryToClaimNextHydratableInstance:function(t){if(p){var i=d;if(i){if(!n(t,i)){if(!(i=c(i))||!n(t,i))return t.effectTag|=2,p=!1,void(f=t);e(f,d)}f=t,d=u(i)}else t.effectTag|=2,p=!1,f=t}},prepareToHydrateHostInstance:function(t,e,n){return e=l(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return h(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==f)return!1;if(!p)return r(t),p=!0,!1;var n=t.type;if(5!==t.tag||"head"!==n&&"body"!==n&&!o(n,t.memoizedProps))for(n=d;n;)e(t,n),n=c(n);return r(t),d=f?c(t.stateNode):null,!0}}}function ke(t){function e(t,e,n){t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n}function n(t){return 2===t.tag&&null!=t.type.childContextTypes}function r(t,e){var n=t.stateNode,r=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;n=n.getChildContext();for(var o in n)o in r||i("108",rt(t)||"Unknown",o);return fn({},e,n)}var o=t.createCursor,s=t.push,a=t.pop,c=o(gn),u=o(!1),l=gn;return{getUnmaskedContext:function(t){return n(t)?l:c.current},cacheContext:e,getMaskedContext:function(t,n){var i=t.type.contextTypes;if(!i)return gn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var o,s={};for(o in i)s[o]=n[o];return r&&e(t,n,s),s},hasContextChanged:function(){return u.current},isContextConsumer:function(t){return 2===t.tag&&null!=t.type.contextTypes},isContextProvider:n,popContextProvider:function(t){n(t)&&(a(u,t),a(c,t))},popTopLevelContextObject:function(t){a(u,t),a(c,t)},pushTopLevelContextObject:function(t,e,n){null!=c.cursor&&i("168"),s(c,e,t),s(u,n,t)},processChildContext:r,pushContextProvider:function(t){if(!n(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||gn,l=c.current,s(c,e,t),s(u,u.current,t),!0},invalidateContextProvider:function(t,e){var n=t.stateNode;if(n||i("169"),e){var o=r(t,l);n.__reactInternalMemoizedMergedChildContext=o,a(u,t),a(c,t),s(c,o,t)}else a(u,t);s(u,e,t)},findCurrentUnmaskedContext:function(t){for(2!==At(t)||2!==t.tag?i("170"):void 0;3!==t.tag;){if(n(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;(t=t.return)||i("171")}return t.stateNode.context}}}function Pe(t){var e=t.createCursor,n=t.push,i=t.pop,r=e(null),o=e(null),s=e(0);return{pushProvider:function(t){var e=t.type._context;n(s,e._changedBits,t),n(o,e._currentValue,t),n(r,t,t),e._currentValue=t.pendingProps.value,e._changedBits=t.stateNode},popProvider:function(t){var e=s.current,n=o.current;i(r,t),i(o,t),i(s,t),t=t.type._context,t._currentValue=n,t._changedBits=e}}}function Me(){var t=[],e=-1;return{createCursor:function(t){return{current:t}},isEmpty:function(){return-1===e},pop:function(n){0>e||(n.current=t[e],t[e]=null,e--)},push:function(n,i){e++,t[e]=n.current,n.current=i},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}function Ce(t){function e(){if(null!==$)for(var t=$.return;null!==t;)N(t),t=t.return;tt=null,et=0,$=null,rt=!1}function n(t){return null!==st&&st.has(t)}function r(t){for(;;){var e=t.alternate,n=t.return,i=t.sibling;if(0===(512&t.effectTag)){e=C(e,t,et);var r=t;if(1073741823===et||1073741823!==r.expirationTime){t:switch(r.tag){case 3:case 2:var o=r.updateQueue;o=null===o?0:o.expirationTime;break t;default:o=0}for(var s=r.child;null!==s;)0!==s.expirationTime&&(0===o||o>s.expirationTime)&&(o=s.expirationTime),s=s.sibling;r.expirationTime=o}if(null!==e)return e;if(null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==i)return i;if(null===n){rt=!0;break}t=n}else{if(null!==(t=A(t)))return t.effectTag&=2559,t;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==i)return i;if(null===n)break;t=n}}return null}function o(t){var e=M(t.alternate,t,et);return null===e&&(e=r(t)),si.current=null,e}function s(t,n,s){Z&&i("243"),Z=!0,n===et&&t===tt&&null!==$||(e(),tt=t,et=n,$=$t(tt.current,null,et),t.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(s)for(;null!==$&&!w();)$=o($);else for(;null!==$;)$=o($)}catch(t){if(null===$){a=!0,S(t);break}s=$;var c=s.return;if(null===c){a=!0,S(t);break}O(c,s,t),$=r(s)}break}return Z=!1,a||null!==$?null:rt?(t.pendingCommitExpirationTime=n,t.current.alternate):void i("262")}function a(t,e,n,i){t={value:n,source:t,stack:ot(t)},he(e,{expirationTime:i,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:t,next:null}),l(e,i)}function c(t,e){t:{Z&&!it&&i("263");for(var r=t.return;null!==r;){switch(r.tag){case 2:var o=r.stateNode;if("function"===typeof r.type.getDerivedStateFromCatch||"function"===typeof o.componentDidCatch&&!n(o)){a(t,r,e,1),t=void 0;break t}break;case 3:a(t,r,e,1),t=void 0;break t}r=r.return}3===t.tag&&a(t,t,e,1),t=void 0}return t}function u(t){return t=0!==Q?Q:Z?it?1:et:1&t.mode?xt?10*(1+((h()+15)/10|0)):25*(1+((h()+500)/25|0)):1,xt&&(0===pt||t>pt)&&(pt=t),t}function l(t,n){t:{for(;null!==t;){if((0===t.expirationTime||t.expirationTime>n)&&(t.expirationTime=n),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>n)&&(t.alternate.expirationTime=n),null===t.return){if(3!==t.tag){n=void 0;break t}var r=t.stateNode;!Z&&0!==et&&n<et&&e(),Z&&!it&&tt===r||p(r,n),Et>St&&i("185")}t=t.return}n=void 0}return n}function h(){return q=H()-X,K=2+(q/10|0)}function f(t,e,n,i,r){var o=Q;Q=1;try{return t(e,n,i,r)}finally{Q=o}}function d(t){if(0!==ut){if(t>ut)return;W(lt)}var e=H()-X;ut=t,lt=z(b,{timeout:10*(t-2)-e})}function p(t,e){if(null===t.nextScheduledRoot)t.remainingExpirationTime=e,null===ct?(at=ct=t,t.nextScheduledRoot=t):(ct=ct.nextScheduledRoot=t,ct.nextScheduledRoot=at);else{var n=t.remainingExpirationTime;(0===n||e<n)&&(t.remainingExpirationTime=e)}ht||(yt?_t&&(ft=t,dt=1,_(t,1,!1)):1===e?g():d(e))}function m(){var t=0,e=null;if(null!==ct)for(var n=ct,r=at;null!==r;){var o=r.remainingExpirationTime;if(0===o){if((null===n||null===ct)&&i("244"),r===r.nextScheduledRoot){at=ct=r.nextScheduledRoot=null;break}if(r===at)at=o=r.nextScheduledRoot,ct.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===ct){ct=n,ct.nextScheduledRoot=at,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||o<t)&&(t=o,e=r),r===ct)break;n=r,r=r.nextScheduledRoot}}n=ft,null!==n&&n===e&&1===t?Et++:Et=0,ft=e,dt=t}function b(t){v(0,!0,t)}function g(){v(1,!1,null)}function v(t,e,n){if(vt=n,m(),e)for(;null!==ft&&0!==dt&&(0===t||t>=dt)&&(!mt||h()>=dt);)_(ft,dt,!mt),m();else for(;null!==ft&&0!==dt&&(0===t||t>=dt);)_(ft,dt,!1),m();null!==vt&&(ut=0,lt=-1),0!==dt&&d(dt),vt=null,mt=!1,y()}function y(){if(Et=0,null!==wt){var t=wt;wt=null;for(var e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){bt||(bt=!0,gt=t)}}}if(bt)throw t=gt,gt=null,bt=!1,t}function _(t,e,n){ht&&i("245"),ht=!0,n?(n=t.finishedWork,null!==n?x(t,n,e):(t.finishedWork=null,null!==(n=s(t,e,!0))&&(w()?t.finishedWork=n:x(t,n,e)))):(n=t.finishedWork,null!==n?x(t,n,e):(t.finishedWork=null,null!==(n=s(t,e,!1))&&x(t,n,e))),ht=!1}function x(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===wt?wt=[r]:wt.push(r),r._defer))return t.finishedWork=e,void(t.remainingExpirationTime=0);t.finishedWork=null,it=Z=!0,n=e.stateNode,n.current===e&&i("177"),r=n.pendingCommitExpirationTime,0===r&&i("261"),n.pendingCommitExpirationTime=0;var o=h();if(si.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var s=e.firstEffect}else s=e;else s=e.firstEffect;for(U(n.containerInfo),nt=s;null!==nt;){var a=!1,u=void 0;try{for(;null!==nt;)2048&nt.effectTag&&L(nt.alternate,nt),nt=nt.nextEffect}catch(t){a=!0,u=t}a&&(null===nt&&i("178"),c(nt,u),null!==nt&&(nt=nt.nextEffect))}for(nt=s;null!==nt;){a=!1,u=void 0;try{for(;null!==nt;){var l=nt.effectTag;if(16&l&&I(nt),128&l){var f=nt.alternate;null!==f&&G(f)}switch(14&l){case 2:R(nt),nt.effectTag&=-3;break;case 6:R(nt),nt.effectTag&=-3,F(nt.alternate,nt);break;case 4:F(nt.alternate,nt);break;case 8:B(nt)}nt=nt.nextEffect}}catch(t){a=!0,u=t}a&&(null===nt&&i("178"),c(nt,u),null!==nt&&(nt=nt.nextEffect))}for(Y(n.containerInfo),n.current=e,nt=s;null!==nt;){l=!1,f=void 0;try{for(s=n,a=o,u=r;null!==nt;){var d=nt.effectTag;36&d&&D(s,nt.alternate,nt,a,u),256&d&&j(nt,S),128&d&&V(nt);var p=nt.nextEffect;nt.nextEffect=null,nt=p}}catch(t){l=!0,f=t}l&&(null===nt&&i("178"),c(nt,f),null!==nt&&(nt=nt.nextEffect))}Z=it=!1,"function"===typeof se&&se(e.stateNode),e=n.current.expirationTime,0===e&&(st=null),t.remainingExpirationTime=e}function w(){return!(null===vt||vt.timeRemaining()>Tt)&&(mt=!0)}function S(t){null===ft&&i("246"),ft.remainingExpirationTime=0,bt||(bt=!0,gt=t)}var E=Me(),T=Ee(t,E),k=ke(E);E=Pe(E);var P=Te(t),M=ye(t,T,k,E,P,l,u).beginWork,C=_e(t,T,k,E,P).completeWork;T=xe(T,k,E,l,n);var O=T.throwException,A=T.unwindWork,N=T.unwindInterruptedWork;T=Se(t,c,l,u,function(t){null===st?st=new Set([t]):st.add(t)},h);var L=T.commitBeforeMutationLifeCycles,I=T.commitResetTextContent,R=T.commitPlacement,B=T.commitDeletion,F=T.commitWork,D=T.commitLifeCycles,j=T.commitErrorLogging,V=T.commitAttachRef,G=T.commitDetachRef,H=t.now,z=t.scheduleDeferredCallback,W=t.cancelDeferredCallback,U=t.prepareForCommit,Y=t.resetAfterCommit,X=H(),K=2,q=X,J=0,Q=0,Z=!1,$=null,tt=null,et=0,nt=null,it=!1,rt=!1,st=null,at=null,ct=null,ut=0,lt=-1,ht=!1,ft=null,dt=0,pt=0,mt=!1,bt=!1,gt=null,vt=null,yt=!1,_t=!1,xt=!1,wt=null,St=1e3,Et=0,Tt=1;return{recalculateCurrentTime:h,computeExpirationForFiber:u,scheduleWork:l,requestWork:p,flushRoot:function(t,e){ht&&i("253"),ft=t,dt=e,_(t,e,!1),g(),y()},batchedUpdates:function(t,e){var n=yt;yt=!0;try{return t(e)}finally{(yt=n)||ht||g()}},unbatchedUpdates:function(t,e){if(yt&&!_t){_t=!0;try{return t(e)}finally{_t=!1}}return t(e)},flushSync:function(t,e){ht&&i("187");var n=yt;yt=!0;try{return f(t,e)}finally{yt=n,g()}},flushControlled:function(t){var e=yt;yt=!0;try{f(t)}finally{(yt=e)||ht||v(1,!1,null)}},deferredUpdates:function(t){var e=Q;Q=25*(1+((h()+500)/25|0));try{return t()}finally{Q=e}},syncUpdates:f,interactiveUpdates:function(t,e,n){if(xt)return t(e,n);yt||ht||0===pt||(v(pt,!1,null),pt=0);var i=xt,r=yt;yt=xt=!0;try{return t(e,n)}finally{xt=i,(yt=r)||ht||g()}},flushInteractiveUpdates:function(){ht||0===pt||(v(pt,!1,null),pt=0)},computeUniqueAsyncExpiration:function(){var t=25*(1+((h()+500)/25|0));return t<=J&&(t=J+1),J=t},legacyContext:k}}function Oe(t){function e(t,e,n,i,r,o){if(i=e.current,n){n=n._reactInternalFiber;var a=c(n);n=u(n)?l(n,a):a}else n=gn;return null===e.context?e.context=n:e.pendingContext=n,e=o,he(i,{expirationTime:r,partialState:{element:t},callback:void 0===e?null:e,isReplace:!1,isForced:!1,capturedValue:null,next:null}),s(i,r),r}var n=t.getPublicInstance;t=Ce(t);var r=t.recalculateCurrentTime,o=t.computeExpirationForFiber,s=t.scheduleWork,a=t.legacyContext,c=a.findCurrentUnmaskedContext,u=a.isContextProvider,l=a.processChildContext;return{createContainer:function(t,e,n){return e=new Zt(3,null,null,e?3:0),t={current:e,containerInfo:t,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},e.stateNode=t},updateContainer:function(t,n,i,s){var a=n.current,c=r();return a=o(a),e(t,n,i,c,a,s)},updateContainerAtExpirationTime:function(t,n,i,o,s){return e(t,n,i,r(),o,s)},flushRoot:t.flushRoot,requestWork:t.requestWork,computeUniqueAsyncExpiration:t.computeUniqueAsyncExpiration,batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,syncUpdates:t.syncUpdates,interactiveUpdates:t.interactiveUpdates,flushInteractiveUpdates:t.flushInteractiveUpdates,flushControlled:t.flushControlled,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:function(t){var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?i("188"):i("268",Object.keys(t))),t=Rt(e),null===t?null:t.stateNode},findHostInstanceWithNoPortals:function(t){return t=Bt(t),null===t?null:t.stateNode},injectIntoDevTools:function(t){var e=t.findFiberByHostInstance;return oe(fn({},t,{findHostInstanceByFiber:function(t){return t=Rt(t),null===t?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}}}function Ae(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:hi,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function Ne(t){var e="";return ln.Children.forEach(t,function(t){null==t||"string"!==typeof t&&"number"!==typeof t||(e+=t)}),e}function Le(t,e){return t=fn({children:void 0},e),(e=Ne(e.children))&&(t.children=e),t}function Ie(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Re(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function Be(t,e){return null!=e.dangerouslySetInnerHTML&&i("91"),fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fe(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&i("92"),Array.isArray(e)&&(1>=e.length||i("93"),e=e[0]),n=""+e),null==n&&(n="")),t._wrapperState={initialValue:""+n}}function De(t,e){var n=e.value;null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function je(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function Ve(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ve(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function He(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function ze(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=n,o=e[n];r=null==o||"boolean"===typeof o||""===o?"":i||"number"!==typeof o||0===o||Vr.hasOwnProperty(r)&&Vr[r]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}function We(t,e,n){e&&(Hr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&i("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&i("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||i("61")),null!=e.style&&"object"!==typeof e.style&&i("62",n()))}function Ue(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ye(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=Xt(t);e=En[e];for(var i=0;i<e.length;i++){var r=e[i];n.hasOwnProperty(r)&&n[r]||("topScroll"===r?Ht("topScroll","scroll",t):"topFocus"===r||"topBlur"===r?(Ht("topFocus","focus",t),Ht("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===r?(Z("cancel",!0)&&Ht("topCancel","cancel",t),n.topCancel=!0):"topClose"===r?(Z("close",!0)&&Ht("topClose","close",t),n.topClose=!0):tr.hasOwnProperty(r)&&Gt(r,tr[r],t),n[r]=!0)}}function Xe(t,e,n,i){return n=9===n.nodeType?n:n.ownerDocument,i===Fr.html&&(i=Ve(t)),i===Fr.html?"script"===t?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"===typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(i,t),t}function Ke(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function qe(t,e,n,i){var r=Ue(e,n);switch(e){case"iframe":case"object":Gt("topLoad","load",t);var o=n;break;case"video":case"audio":for(o in er)er.hasOwnProperty(o)&&Gt(o,er[o],t);o=n;break;case"source":Gt("topError","error",t),o=n;break;case"img":case"image":case"link":Gt("topError","error",t),Gt("topLoad","load",t),o=n;break;case"form":Gt("topReset","reset",t),Gt("topSubmit","submit",t),o=n;break;case"details":Gt("topToggle","toggle",t),o=n;break;case"input":dt(t,n),o=ft(t,n),Gt("topInvalid","invalid",t),Ye(i,"onChange");break;case"option":o=Le(t,n);break;case"select":Re(t,n),o=fn({},n,{value:void 0}),Gt("topInvalid","invalid",t),Ye(i,"onChange");break;case"textarea":Fe(t,n),o=Be(t,n),Gt("topInvalid","invalid",t),Ye(i,"onChange");break;default:o=n}We(e,o,zr);var s,a=o;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];"style"===s?ze(t,c,zr):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&jr(t,c):"children"===s?"string"===typeof c?("textarea"!==e||""!==c)&&He(t,c):"number"===typeof c&&He(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(Sn.hasOwnProperty(s)?null!=c&&Ye(i,s):null!=c&&ht(t,s,c,r))}switch(e){case"input":et(t),bt(t,n);break;case"textarea":et(t),je(t,n);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,e=n.value,null!=e?Ie(t,!!n.multiple,e,!1):null!=n.defaultValue&&Ie(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=dn)}}function Je(t,e,n,i,r){var o=null;switch(e){case"input":n=ft(t,n),i=ft(t,i),o=[];break;case"option":n=Le(t,n),i=Le(t,i),o=[];break;case"select":n=fn({},n,{value:void 0}),i=fn({},i,{value:void 0}),o=[];break;case"textarea":n=Be(t,n),i=Be(t,i),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof i.onClick&&(t.onclick=dn)}We(e,i,zr),e=t=void 0;var s=null;for(t in n)if(!i.hasOwnProperty(t)&&n.hasOwnProperty(t)&&null!=n[t])if("style"===t){var a=n[t];for(e in a)a.hasOwnProperty(e)&&(s||(s={}),s[e]="")}else"dangerouslySetInnerHTML"!==t&&"children"!==t&&"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(Sn.hasOwnProperty(t)?o||(o=[]):(o=o||[]).push(t,null));for(t in i){var c=i[t];if(a=null!=n?n[t]:void 0,i.hasOwnProperty(t)&&c!==a&&(null!=c||null!=a))if("style"===t)if(a){for(e in a)!a.hasOwnProperty(e)||c&&c.hasOwnProperty(e)||(s||(s={}),s[e]="");for(e in c)c.hasOwnProperty(e)&&a[e]!==c[e]&&(s||(s={}),s[e]=c[e])}else s||(o||(o=[]),o.push(t,s)),s=c;else"dangerouslySetInnerHTML"===t?(c=c?c.__html:void 0,a=a?a.__html:void 0,null!=c&&a!==c&&(o=o||[]).push(t,""+c)):"children"===t?a===c||"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(t,""+c):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&(Sn.hasOwnProperty(t)?(null!=c&&Ye(r,t),o||a===c||(o=[])):(o=o||[]).push(t,c))}return s&&(o=o||[]).push("style",s),o}function Qe(t,e,n,i,r){"input"===n&&"radio"===r.type&&null!=r.name&&pt(t,r),Ue(n,i),i=Ue(n,r);for(var o=0;o<e.length;o+=2){var s=e[o],a=e[o+1];"style"===s?ze(t,a,zr):"dangerouslySetInnerHTML"===s?jr(t,a):"children"===s?He(t,a):ht(t,s,a,i)}switch(n){case"input":mt(t,r);break;case"textarea":De(t,r);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,n=r.value,null!=n?Ie(t,!!r.multiple,n,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ie(t,!!r.multiple,r.defaultValue,!0):Ie(t,!!r.multiple,r.multiple?[]:"",!1))}}function Ze(t,e,n,i,r){switch(e){case"iframe":case"object":Gt("topLoad","load",t);break;case"video":case"audio":for(var o in er)er.hasOwnProperty(o)&&Gt(o,er[o],t);break;case"source":Gt("topError","error",t);break;case"img":case"image":case"link":Gt("topError","error",t),Gt("topLoad","load",t);break;case"form":Gt("topReset","reset",t),Gt("topSubmit","submit",t);break;case"details":Gt("topToggle","toggle",t);break;case"input":dt(t,n),Gt("topInvalid","invalid",t),Ye(r,"onChange");break;case"select":Re(t,n),Gt("topInvalid","invalid",t),Ye(r,"onChange");break;case"textarea":Fe(t,n),Gt("topInvalid","invalid",t),Ye(r,"onChange")}We(e,n,zr),i=null;for(var s in n)n.hasOwnProperty(s)&&(o=n[s],"children"===s?"string"===typeof o?t.textContent!==o&&(i=["children",o]):"number"===typeof o&&t.textContent!==""+o&&(i=["children",""+o]):Sn.hasOwnProperty(s)&&null!=o&&Ye(r,s));switch(e){case"input":et(t),bt(t,n);break;case"textarea":et(t),je(t,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(t.onclick=dn)}return i}function $e(t,e){return t.nodeValue!==e}function tn(t){this._expirationTime=Xr.computeUniqueAsyncExpiration(),this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function en(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function nn(t,e,n){this._internalRoot=Xr.createContainer(t,e,n)}function rn(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function on(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function sn(t,e){if(e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new nn(t,!1,e)}function an(t,e,n,r,o){rn(n)||i("200");var s=n._reactRootContainer;if(s){if("function"===typeof o){var a=o;o=function(){var t=Xr.getPublicRootInstance(s._internalRoot);a.call(t)}}null!=t?s.legacy_renderSubtreeIntoContainer(t,e,o):s.render(e,o)}else{if(s=n._reactRootContainer=sn(n,r),"function"===typeof o){var c=o;o=function(){var t=Xr.getPublicRootInstance(s._internalRoot);c.call(t)}}Xr.unbatchedUpdates(function(){null!=t?s.legacy_renderSubtreeIntoContainer(t,e,o):s.render(e,o)})}return Xr.getPublicRootInstance(s._internalRoot)}function cn(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return rn(e)||i("200"),Ae(t,e,null,n)}var un=n(11),ln=n(0),hn=n(41),fn=n(10),dn=n(12),pn=n(42),mn=n(43),bn=n(44),gn=n(21);ln||i("227");var vn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(t,e,n,i,o,s,a,c,u){r.apply(vn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,i,r,o,s,a,c){if(vn.invokeGuardedCallback.apply(this,arguments),vn.hasCaughtError()){var u=vn.clearCaughtError();vn._hasRethrowError||(vn._hasRethrowError=!0,vn._rethrowError=u)}},rethrowCaughtError:function(){return o.apply(vn,arguments)},hasCaughtError:function(){return vn._hasCaughtError},clearCaughtError:function(){if(vn._hasCaughtError){var t=vn._caughtError;return vn._caughtError=null,vn._hasCaughtError=!1,t}i("198")}},yn=null,_n={},xn=[],wn={},Sn={},En={},Tn=Object.freeze({plugins:xn,eventNameDispatchConfigs:wn,registrationNameModules:Sn,registrationNameDependencies:En,possibleRegistrationNames:null,injectEventPluginOrder:c,injectEventPluginsByName:u}),kn=null,Pn=null,Mn=null,Cn=null,On={injectEventPluginOrder:c,injectEventPluginsByName:u},An=Object.freeze({injection:On,getListener:b,runEventsInBatch:g,runExtractedEventsInBatch:v}),Nn=Math.random().toString(36).slice(2),Ln="__reactInternalInstance$"+Nn,In="__reactEventHandlers$"+Nn,Rn=Object.freeze({precacheFiberNode:function(t,e){e[Ln]=t},getClosestInstanceFromNode:y,getInstanceFromNode:function(t){return t=t[Ln],!t||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:_,getFiberCurrentPropsFromNode:x,updateFiberProps:function(t,e){t[In]=e}}),Bn=Object.freeze({accumulateTwoPhaseDispatches:C,accumulateTwoPhaseDispatchesSkipTarget:function(t){f(t,k)},accumulateEnterLeaveDispatches:O,accumulateDirectDispatches:function(t){f(t,M)}}),Fn=null,Dn={_root:null,_startText:null,_fallbackText:null},jn="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),Vn={type:null,target:null,currentTarget:dn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};fn(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=dn.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=dn.thatReturnsTrue)},persist:function(){this.isPersistent=dn.thatReturnsTrue},isPersistent:dn.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<jn.length;e++)this[jn[e]]=null}}),I.Interface=Vn,I.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var r=new e;return fn(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=fn({},i.Interface,t),n.extend=i.extend,F(n),n},F(I);var Gn=I.extend({data:null}),Hn=I.extend({data:null}),zn=[9,13,27,32],Wn=hn.canUseDOM&&"CompositionEvent"in window,Un=null;hn.canUseDOM&&"documentMode"in document&&(Un=document.documentMode);var Yn=hn.canUseDOM&&"TextEvent"in window&&!Un,Xn=hn.canUseDOM&&(!Wn||Un&&8<Un&&11>=Un),Kn=String.fromCharCode(32),qn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Jn=!1,Qn=!1,Zn={eventTypes:qn,extractEvents:function(t,e,n,i){var r=void 0,o=void 0;if(Wn)t:{switch(t){case"topCompositionStart":r=qn.compositionStart;break t;case"topCompositionEnd":r=qn.compositionEnd;break t;case"topCompositionUpdate":r=qn.compositionUpdate;break t}r=void 0}else Qn?D(t,n)&&(r=qn.compositionEnd):"topKeyDown"===t&&229===n.keyCode&&(r=qn.compositionStart);return r?(Xn&&(Qn||r!==qn.compositionStart?r===qn.compositionEnd&&Qn&&(o=N()):(Dn._root=i,Dn._startText=L(),Qn=!0)),r=Gn.getPooled(r,e,n,i),o?r.data=o:null!==(o=j(n))&&(r.data=o),C(r),o=r):o=null,(t=Yn?V(t,n):G(t,n))?(e=Hn.getPooled(qn.beforeInput,e,n,i),e.data=t,C(e)):e=null,null===o?e:null===e?o:[o,e]}},$n=null,ti={injectFiberControlledHostComponent:function(t){$n=t}},ei=null,ni=null,ii=Object.freeze({injection:ti,enqueueStateRestore:z,needsStateRestore:W,restoreStateIfNeeded:U}),ri=!1,oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},si=ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ai="function"===typeof Symbol&&Symbol.for,ci=ai?Symbol.for("react.element"):60103,ui=ai?Symbol.for("react.call"):60104,li=ai?Symbol.for("react.return"):60105,hi=ai?Symbol.for("react.portal"):60106,fi=ai?Symbol.for("react.fragment"):60107,di=ai?Symbol.for("react.strict_mode"):60108,pi=ai?Symbol.for("react.provider"):60109,mi=ai?Symbol.for("react.context"):60110,bi=ai?Symbol.for("react.async_mode"):60111,gi=ai?Symbol.for("react.forward_ref"):60112,vi="function"===typeof Symbol&&Symbol.iterator,yi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_i={},xi={},wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wi[t]=new ut(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wi[e]=new ut(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){wi[t]=new ut(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(t){wi[t]=new ut(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wi[t]=new ut(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){wi[t]=new ut(t,3,!0,t.toLowerCase(),null)}),["capture","download"].forEach(function(t){wi[t]=new ut(t,4,!1,t.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(t){wi[t]=new ut(t,6,!1,t.toLowerCase(),null)}),["rowSpan","start"].forEach(function(t){wi[t]=new ut(t,5,!1,t.toLowerCase(),null)});var Si=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Si,lt);wi[e]=new ut(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Si,lt);wi[e]=new ut(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Si,lt);wi[e]=new ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),wi.tabIndex=new ut("tabIndex",1,!1,"tabindex",null);var Ei={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ti=null,ki=null,Pi=!1;hn.canUseDOM&&(Pi=Z("input")&&(!document.documentMode||9<document.documentMode));var Mi={eventTypes:Ei,_isInputEventSupported:Pi,extractEvents:function(t,e,n,i){var r=e?_(e):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type?o=wt:J(r)?Pi?o=Mt:(o=kt,s=Tt):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Pt),o&&(o=o(t,e)))return yt(o,n,i);s&&s(t,r,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||r._wrapperState)&&t.controlled&&"number"===r.type&&gt(r,"number",r.value)}},Ci=I.extend({view:null,detail:null}),Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Ai=Ci.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ot,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}}),Ni={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Li={eventTypes:Ni,extractEvents:function(t,e,n,i){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=n.relatedTarget||n.toElement)?y(e):null):t=null,t===e)return null;var o=null==t?r:_(t);r=null==e?r:_(e);var s=Ai.getPooled(Ni.mouseLeave,t,n,i);return s.type="mouseleave",s.target=o,s.relatedTarget=r,n=Ai.getPooled(Ni.mouseEnter,e,n,i),n.type="mouseenter",n.target=r,n.relatedTarget=o,O(s,n,t,e),[s,n]}},Ii=I.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ri=I.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bi=Ci.extend({relatedTarget:null}),Fi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Di={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ji=Ci.extend({key:function(t){if(t.key){var e=Fi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=Ft(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?Di[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ot,charCode:function(t){return"keypress"===t.type?Ft(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ft(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Vi=Ai.extend({dataTransfer:null}),Gi=Ci.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ot}),Hi=I.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),zi=Ai.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),Wi={},Ui={};"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(t){Dt(t,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(t){Dt(t,!1)});var Yi={eventTypes:Wi,isInteractiveTopLevelEventType:function(t){return void 0!==(t=Ui[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,i){var r=Ui[t];if(!r)return null;switch(t){case"topKeyPress":if(0===Ft(n))return null;case"topKeyDown":case"topKeyUp":t=ji;break;case"topBlur":case"topFocus":t=Bi;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=Ai;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=Vi;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=Gi;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=Ii;break;case"topTransitionEnd":t=Hi;break;case"topScroll":t=Ci;break;case"topWheel":t=zi;break;case"topCopy":case"topCut":case"topPaste":t=Ri;break;default:t=I}return e=t.getPooled(r,e,n,i),C(e),e}},Xi=Yi.isInteractiveTopLevelEventType,Ki=[],qi=!0,Ji=Object.freeze({get _enabled(){return qi},setEnabled:Vt,isEnabled:function(){return qi},trapBubbledEvent:Gt,trapCapturedEvent:Ht,dispatchEvent:Wt}),Qi={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Zi={},$i={};hn.canUseDOM&&($i=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);var tr={topAnimationEnd:Yt("animationend"),topAnimationIteration:Yt("animationiteration"),topAnimationStart:Yt("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Yt("transitionend"),topWheel:"wheel"},er={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},nr={},ir=0,rr="_reactListenersID"+(""+Math.random()).slice(2),or=hn.canUseDOM&&"documentMode"in document&&11>=document.documentMode,sr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ar=null,cr=null,ur=null,lr=!1,hr={eventTypes:sr,extractEvents:function(t,e,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){t:{o=Xt(o),r=En.onSelect;for(var s=0;s<r.length;s++){var a=r[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break t}}o=!0}r=!o}if(r)return null;switch(o=e?_(e):window,t){case"topFocus":(J(o)||"true"===o.contentEditable)&&(ar=o,cr=e,ur=null);break;case"topBlur":ur=cr=ar=null;break;case"topMouseDown":lr=!0;break;case"topContextMenu":case"topMouseUp":return lr=!1,Qt(n,i);case"topSelectionChange":if(or)break;case"topKeyDown":case"topKeyUp":return Qt(n,i)}return null}};On.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),kn=Rn.getFiberCurrentPropsFromNode,Pn=Rn.getInstanceFromNode,Mn=Rn.getNodeFromInstance,On.injectEventPluginsByName({SimpleEventPlugin:Yi,EnterLeaveEventPlugin:Li,ChangeEventPlugin:Mi,SelectEventPlugin:hr,BeforeInputEventPlugin:Zn});var fr=null,dr=null;new Set;var pr=void 0,mr=void 0,br=Array.isArray,gr=ve(!0),vr=ve(!1),yr={},_r=Object.freeze({default:Oe}),xr=_r&&Oe||_r,wr=xr.default?xr.default:xr,Sr="object"===typeof performance&&"function"===typeof performance.now,Er=void 0;Er=Sr?function(){return performance.now()}:function(){return Date.now()};var Tr=void 0,kr=void 0;if(hn.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Pr=null,Mr=!1,Cr=-1,Or=!1,Ar=0,Nr=33,Lr=33,Ir=void 0;Ir=Sr?{didTimeout:!1,timeRemaining:function(){var t=Ar-performance.now();return 0<t?t:0}}:{didTimeout:!1,timeRemaining:function(){var t=Ar-Date.now();return 0<t?t:0}};var Rr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===Rr){if(Mr=!1,t=Er(),0>=Ar-t){if(!(-1!==Cr&&Cr<=t))return void(Or||(Or=!0,requestAnimationFrame(Br)));Ir.didTimeout=!0}else Ir.didTimeout=!1;Cr=-1,t=Pr,Pr=null,null!==t&&t(Ir)}},!1);var Br=function(t){Or=!1;var e=t-Ar+Lr;e<Lr&&Nr<Lr?(8>e&&(e=8),Lr=e<Nr?Nr:e):Nr=e,Ar=t+Lr,Mr||(Mr=!0,window.postMessage(Rr,"*"))};Tr=function(t,e){return Pr=t,null!=e&&"number"===typeof e.timeout&&(Cr=Er()+e.timeout),Or||(Or=!0,requestAnimationFrame(Br)),0},kr=function(){Pr=null,Mr=!1,Cr=-1}}else Tr=window.requestIdleCallback,kr=window.cancelIdleCallback;else Tr=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0},didTimeout:!1})})},kr=function(t){clearTimeout(t)};var Fr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Dr=void 0,jr=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==Fr.svg||"innerHTML"in t)t.innerHTML=e;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+e+"</svg>",e=Dr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Vr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gr=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(t){Gr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vr[e]=Vr[t]})});var Hr=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),zr=dn.thatReturns(""),Wr=Object.freeze({createElement:Xe,createTextNode:Ke,setInitialProperties:qe,diffProperties:Je,updateProperties:Qe,diffHydratedProperties:Ze,diffHydratedText:$e,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(mt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=x(r);o||i("90"),nt(r),mt(r,o)}}}break;case"textarea":De(t,n);break;case"select":null!=(e=n.value)&&Ie(t,!!n.multiple,e,!1)}}});ti.injectFiberControlledHostComponent(Wr);var Ur=null,Yr=null;tn.prototype.render=function(t){this._defer||i("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new en;return Xr.updateContainerAtExpirationTime(t,e,null,n,r._onCommit),r},tn.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},tn.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||i("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,o=e;o!==this;)r=o,o=o._next;null===r&&i("251"),r._next=o._next,this._next=e,t.firstBatch=this}this._defer=!1,Xr.flushRoot(t,n),e=this._next,this._next=null,e=t.firstBatch=e,null!==e&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},tn.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},en.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},en.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&i("191",n),n()}}},nn.prototype.render=function(t,e){var n=this._internalRoot,i=new en;return e=void 0===e?null:e,null!==e&&i.then(e),Xr.updateContainer(t,n,null,i._onCommit),i},nn.prototype.unmount=function(t){var e=this._internalRoot,n=new en;return t=void 0===t?null:t,null!==t&&n.then(t),Xr.updateContainer(null,e,null,n._onCommit),n},nn.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var i=this._internalRoot,r=new en;return n=void 0===n?null:n,null!==n&&r.then(n),Xr.updateContainer(e,i,t,r._onCommit),r},nn.prototype.createBatch=function(){var t=new tn(this),e=t._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=t,t._next=null;else{for(n=null;null!==i&&i._expirationTime<=e;)n=i,i=i._next;t._next=i,null!==n&&(n._next=t)}return t};var Xr=wr({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ge(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ge(t,e)}return t},getChildHostContext:function(t,e){return Ge(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){Ur=qi;var t=pn();if(Jt(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{e.nodeType,r.nodeType}catch(t){e=null;break t}var o=0,s=-1,a=-1,c=0,u=0,l=t,h=null;e:for(;;){for(var f;l!==e||0!==i&&3!==l.nodeType||(s=o+i),l!==r||0!==n&&3!==l.nodeType||(a=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(f=l.firstChild);)h=l,l=f;for(;;){if(l===t)break e;if(h===e&&++c===i&&(s=o),h===r&&++u===n&&(a=o),null!==(f=l.nextSibling))break;l=h,h=l.parentNode}l=f}e=-1===s||-1===a?null:{start:s,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;Yr={focusedElem:t,selectionRange:e},Vt(!1)},resetAfterCommit:function(){var t=Yr,e=pn(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&bn(document.documentElement,n)){if(Jt(n))if(e=i.start,t=i.end,void 0===t&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(window.getSelection){e=window.getSelection();var r=n[A()].length;t=Math.min(i.start,r),i=void 0===i.end?t:Math.min(i.end,r),!e.extend&&t>i&&(r=i,i=t,t=r),r=qt(n,t);var o=qt(n,i);if(r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)){var s=document.createRange();s.setStart(r.node,r.offset),e.removeAllRanges(),t>i?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s))}}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}Yr=null,Vt(Ur),Ur=null},createInstance:function(t,e,n,i,r){return t=Xe(t,e,n,i),t[Ln]=r,t[In]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,i){return qe(t,e,n,i),on(e,n)},prepareUpdate:function(t,e,n,i,r){return Je(t,e,n,i,r)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"===typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,n,i){return t=Ke(t,e),t[Ln]=i,t},now:Er,mutation:{commitMount:function(t,e,n){on(e,n)&&t.focus()},commitUpdate:function(t,e,n,i,r){t[In]=r,Qe(t,e,n,i,r)},resetTextContent:function(t){He(t,"")},commitTextUpdate:function(t,e,n){t.nodeValue=n},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,n,i,r,o){return t[Ln]=o,t[In]=n,Ze(t,e,n,r,i)},hydrateTextInstance:function(t,e,n){return t[Ln]=n,$e(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Tr,cancelDeferredCallback:kr}),Kr=Xr;Y=Kr.batchedUpdates,X=Kr.interactiveUpdates,K=Kr.flushInteractiveUpdates;var qr={createPortal:cn,findDOMNode:function(t){return null==t?null:1===t.nodeType?t:Xr.findHostInstance(t)},hydrate:function(t,e,n){return an(null,t,e,!0,n)},render:function(t,e,n){return an(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&i("38"),an(t,e,n,!1,r)},unmountComponentAtNode:function(t){return rn(t)||i("40"),!!t._reactRootContainer&&(Xr.unbatchedUpdates(function(){an(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return cn.apply(void 0,arguments)},unstable_batchedUpdates:Xr.batchedUpdates,unstable_deferredUpdates:Xr.deferredUpdates,flushSync:Xr.flushSync,unstable_flushControlled:Xr.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:An,EventPluginRegistry:Tn,EventPropagators:Bn,ReactControlledComponent:ii,ReactDOMComponentTree:Rn,ReactDOMEventListener:Ji},unstable_createRoot:function(t,e){return new nn(t,!0,null!=e&&!0===e.hydrate)}};Xr.injectIntoDevTools({findFiberByHostInstance:y,bundleType:0,version:"16.3.2",rendererPackageName:"react-dom"});var Jr=Object.freeze({default:qr}),Qr=Jr&&qr||Jr;t.exports=Qr.default?Qr.default:Qr},function(t,e,n){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},function(t,e,n){"use strict";function i(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=i},function(t,e,n){"use strict";function i(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function r(t,e){if(i(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(!o.call(e,n[s])||!i(t[n[s]],e[n[s]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function i(t,e){return!(!t||!e)&&(t===e||!r(t)&&(r(e)?i(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var r=n(45);t.exports=i},function(t,e,n){"use strict";function i(t){return r(t)&&3==t.nodeType}var r=n(46);t.exports=i},function(t,e,n){"use strict";function i(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"===typeof n.Node?t instanceof n.Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}t.exports=i},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(49),u=(n.n(c),n(50)),l=n(58),h=(n.n(l),n(59)),f=n(61),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),d(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(u.d,null,a.a.createElement(u.b,null,a.a.createElement(u.a,null,"MusicXML"),a.a.createElement(u.a,null,"Abc"),a.a.createElement(u.a,null,"MuseScore.com")),a.a.createElement(u.c,null,a.a.createElement(h.a,null)),a.a.createElement(u.c,null,a.a.createElement(f.a,null)),a.a.createElement(u.c,null,a.a.createElement("iframe",{width:"100%",height:"700px",src:"https://musescore.com/user/28587737/scores/5108258/embed",frameborder:"0",allowfullscreen:!0}),a.a.createElement("span",null,a.a.createElement("a",{href:"https%3A%2F%2Fmusescore.com%2Fuser%2F28587737%2Fscores%2F5108258"},"Golden Slippers")),a.a.createElement("h4",null,"Pros"),a.a.createElement("ul",null,a.a.createElement("li",null,"Player highlights current measure."),a.a.createElement("li",null,"No conversion from MuseScore format needed.")),a.a.createElement("h4",null,"Cons"),a.a.createElement("ul",null,a.a.createElement("li",null,"$50 per year -- perhaps we could qualify for a non-profit discount"),a.a.createElement("li",null,"Depends on external resource"),a.a.createElement("li",null,"Load time")))))}}]),e}(s.Component);e.a=p},function(t,e){},function(t,e,n){"use strict";var i=n(51);n.d(e,"d",function(){return i.a});var r=n(55);n.d(e,"b",function(){return r.a});var o=n(56);n.d(e,"a",function(){return o.a});var s=n(57);n.d(e,"c",function(){return s.a});n(23)},function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return l});var o=n(3),s=(n.n(o),n(0)),a=n.n(s),c=(n(22),n(54)),u=n(24),l=function(t){function e(n){var i;return i=t.call(this,n)||this,i.handleSelected=function(t,n,r){if("function"!==typeof i.props.onSelect||!1!==i.props.onSelect(t,n,r)){var o={focus:"keydown"===r.type};e.inUncontrolledMode(i.props)&&(o.selectedIndex=t),i.setState(o)}},i.state=e.copyPropsToState(i.props,{},i.props.defaultFocus),i}r(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.setState(function(n){return e.copyPropsToState(t,n)})},e.inUncontrolledMode=function(t){return null===t.selectedIndex},e.copyPropsToState=function(t,n,i){void 0===i&&(i=!1);var r={focus:i};if(e.inUncontrolledMode(t)){var o=Object(u.b)(t.children)-1,s=null;s=null!=n.selectedIndex?Math.min(n.selectedIndex,o):t.defaultIndex||0,r.selectedIndex=s}return r},n.render=function(){var t=this.props,e=t.children,n=(t.defaultIndex,t.defaultFocus,i(t,["children","defaultIndex","defaultFocus"]));return n.focus=this.state.focus,n.onSelect=this.handleSelected,null!=this.state.selectedIndex&&(n.selectedIndex=this.state.selectedIndex),a.a.createElement(c.a,n,e)},e}(s.Component);l.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null},l.propTypes={},l.tabsRole="Tabs"},function(t,e,n){"use strict";var i=n(12),r=n(11),o=n(53);t.exports=function(){function t(t,e,n,i,s,a){a!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}function r(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function a(t){return"getAttribute"in t&&"tab"===t.getAttribute("role")}function c(t){return"true"===t.getAttribute("aria-disabled")}n.d(e,"a",function(){return y});var u,l=n(3),h=(n.n(l),n(0)),f=n.n(h),d=n(8),p=n.n(d),m=n(23),b=(n(22),n(24)),g=n(13),v=n(7);try{u=!("undefined"===typeof window||!window.document||!window.document.activeElement)}catch(t){u=!1}var y=function(t){function e(){for(var e,n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=n=t.call.apply(t,[this].concat(r))||this,n.tabNodes=[],n.handleKeyDown=function(t){if(n.isTabFromContainer(t.target)){var e=n.props.selectedIndex,i=!1,r=!1;32!==t.keyCode&&13!==t.keyCode||(i=!0,r=!1,n.handleClick(t)),37===t.keyCode||38===t.keyCode?(e=n.getPrevTab(e),i=!0,r=!0):39!==t.keyCode&&40!==t.keyCode||(e=n.getNextTab(e),i=!0,r=!0),i&&t.preventDefault(),r&&n.setSelected(e,t)}},n.handleClick=function(t){var e=t.target;do{if(n.isTabFromContainer(e)){if(c(e))return;var i=[].slice.call(e.parentNode.children).filter(a).indexOf(e);return void n.setSelected(i,t)}}while(null!==(e=e.parentNode))},e||o(n)}s(e,t);var n=e.prototype;return n.setSelected=function(t,e){t<0||t>=this.getTabsCount()||this.props.onSelect(t,this.props.selectedIndex,e)},n.getNextTab=function(t){for(var e=this.getTabsCount(),n=t+1;n<e;n++)if(!c(this.getTab(n)))return n;for(var i=0;i<t;i++)if(!c(this.getTab(i)))return i;return t},n.getPrevTab=function(t){for(var e=t;e--;)if(!c(this.getTab(e)))return e;for(e=this.getTabsCount();e-- >t;)if(!c(this.getTab(e)))return e;return t},n.getTabsCount=function(){return Object(b.b)(this.props.children)},n.getPanelsCount=function(){return Object(b.a)(this.props.children)},n.getTab=function(t){return this.tabNodes["tabs-"+t]},n.getChildren=function(){var t=this,e=0,n=this.props,i=n.children,r=n.disabledTabClassName,o=n.focus,s=n.forceRenderTabPanel,a=n.selectedIndex,c=n.selectedTabClassName,l=n.selectedTabPanelClassName;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var d=this.tabIds.length-this.getTabsCount();d++<0;)this.tabIds.push(Object(m.a)()),this.panelIds.push(Object(m.a)());return Object(g.b)(i,function(n){var i=n;if(Object(v.b)(n)){var d=0,p=!1;u&&(p=f.a.Children.toArray(n.props.children).filter(v.a).some(function(e,n){return document.activeElement===t.getTab(n)})),i=Object(h.cloneElement)(n,{children:Object(g.b)(n.props.children,function(e){var n="tabs-"+d,i=a===d,s={tabRef:function(e){t.tabNodes[n]=e},id:t.tabIds[d],panelId:t.panelIds[d],selected:i,focus:i&&(o||p)};return c&&(s.selectedClassName=c),r&&(s.disabledClassName=r),d++,Object(h.cloneElement)(e,s)})})}else if(Object(v.c)(n)){var m={id:t.panelIds[e],tabId:t.tabIds[e],selected:a===e};s&&(m.forceRender=s),l&&(m.selectedClassName=l),e++,i=Object(h.cloneElement)(n,m)}return i})},n.isTabFromContainer=function(t){if(!a(t))return!1;var e=t.parentElement;do{if(e===this.node)return!0;if(e.getAttribute("data-tabs"))break;e=e.parentElement}while(e);return!1},n.render=function(){var t=this,e=this.props,n=(e.children,e.className),o=(e.disabledTabClassName,e.domRef),s=(e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,r(e,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName"]));return f.a.createElement("div",i({},s,{className:p()(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(e){t.node=e,o&&o(e)},"data-tabs":!0}),this.getChildren())},e}(h.Component);y.defaultProps={className:"react-tabs",focus:!1},y.propTypes={}},function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}function r(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return h});var s=n(3),a=(n.n(s),n(0)),c=n.n(a),u=n(8),l=n.n(u),h=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.className,o=r(t,["children","className"]);return c.a.createElement("ul",i({},o,{className:l()(n),role:"tablist"}),e)},e}(a.Component);h.defaultProps={className:"react-tabs__tab-list"},h.propTypes={},h.tabsRole="TabList"},function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}function r(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return h});var s=n(3),a=(n.n(s),n(0)),c=n.n(a),u=n(8),l=n.n(u),h=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.componentDidMount=function(){this.checkFocus()},n.componentDidUpdate=function(){this.checkFocus()},n.checkFocus=function(){this.props.selected&&this.props.focus&&this.node.focus()},n.render=function(){var t,e=this,n=this.props,o=n.children,s=n.className,a=n.disabled,u=n.disabledClassName,h=(n.focus,n.id),f=n.panelId,d=n.selected,p=n.selectedClassName,m=n.tabIndex,b=n.tabRef,g=r(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return c.a.createElement("li",i({},g,{className:l()(s,(t={},t[p]=d,t[u]=a,t)),ref:function(t){e.node=t,b&&b(t)},role:"tab",id:h,"aria-selected":d?"true":"false","aria-disabled":a?"true":"false","aria-controls":f,tabIndex:m||(d?"0":null)}),o)},e}(a.Component);h.defaultProps={className:"react-tabs__tab",disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},h.propTypes={},h.tabsRole="Tab"},function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}function r(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return h});var s=n(3),a=(n.n(s),n(0)),c=n.n(a),u=n(8),l=n.n(u),h=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){var t,e=this.props,n=e.children,o=e.className,s=e.forceRender,a=e.id,u=e.selected,h=e.selectedClassName,f=e.tabId,d=r(e,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return c.a.createElement("div",i({},d,{className:l()(o,(t={},t[h]=u,t)),role:"tabpanel",id:a,"aria-labelledby":f}),s||u?n:null)},e}(a.Component);h.defaultProps={className:"react-tabs__tab-panel",forceRender:!1,selectedClassName:"react-tabs__tab-panel--selected"},h.propTypes={},h.tabsRole="TabPanel"},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(60),u=(n.n(c),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),l=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"componentDidMount",value:function(){var t=new c.OpenSheetMusicDisplay("mus",!1,"canvas");t.load("library/Golden_Slippers.musicxml").then(function(){t.zoom=.8,t.render()},function(t){return console.err(t)}).then(function(){return console.log("Sheet music displayed.")},function(t){return console.err(t)})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{id:"mus"}),a.a.createElement("h4",null,"Pros"),a.a.createElement("ul",null,a.a.createElement("li",null,"Flows with page resize.  (For now resize window and then refresh.  Will make auto-refresh if we go this way.)"),a.a.createElement("li",null,"Future version should support tablature.")))}}]),e}(s.Component);e.a=l},function(t,e,n){!function(e,n){t.exports=n()}(window,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=112)}([function(t,e,n){"use strict";function i(t){return t}function r(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var n=65536,i=e.getTypeOf(t),r=!0;if("uint8array"===i?r=f.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=f.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return f.stringifyByChunk(t,i,n)}catch(t){n=Math.floor(n/2)}return f.stringifyByChar(t)}function s(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var a=n(14),c=n(84),u=n(40),l=n(150),h=n(27);e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&1===String.fromCharCode.apply(null,u.allocBuffer(1)).length}catch(t){return!1}}()}};e.applyFromCharCode=o;var d={};d.string={string:i,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return r(t,new Uint8Array(t.length))},nodebuffer:function(t){return r(t,u.allocBuffer(t.length))}},d.array={string:o,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u.newBufferFrom(t)}},d.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:o,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return u.newBufferFrom(t)}},d.nodebuffer={string:o,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:i},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return d[i][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&u.isBuffer(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){l(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,i,o,s){return h.Promise.resolve(n).then(function(t){return a.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new h.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(n){var u,l=e.getTypeOf(n);return l?("arraybuffer"===l?n=e.transformTo("uint8array",n):"string"===l&&(s?n=c.decode(n):i&&!0!==o&&(n=r(u=n,a.uint8array?new Uint8Array(u.length):new Array(u.length)))),n):h.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=!0),this.numerator=0,this.denominator=1,this.wholeValue=0,this.numerator=t,this.denominator=e,this.wholeValue=n,i&&this.simplify(),this.setRealValue()}return t.max=function(t,e){return t.RealValue>e.RealValue?t:e},t.Equal=function(t,e){return t.wholeValue===e.wholeValue&&t.Denominator===e.Denominator&&t.Numerator===e.Numerator},t.createFromFraction=function(e){return new t(e.numerator,e.denominator,e.wholeValue,!1)},t.plus=function(t,e){var n=t.clone();return n.Add(e),n},t.minus=function(t,e){var n=t.clone();return n.Sub(e),n},t.greatestCommonDenominator=function(t,e){if(0===t)return e;if(1===e)return 1;for(;0!==e;)t>e?t-=e:e-=t;return t},t.prototype.toString=function(){var t=this.numerator+"/"+this.denominator;return 0!==this.wholeValue&&(t=this.wholeValue+" "+t),t},t.prototype.clone=function(){return new t(this.numerator,this.denominator,this.wholeValue,!1)},Object.defineProperty(t.prototype,"Numerator",{get:function(){return this.numerator},set:function(t){this.numerator!==t&&(this.numerator=t,this.simplify(),this.setRealValue())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Denominator",{get:function(){return this.denominator},set:function(t){this.denominator!==t&&(this.denominator=t,0!==this.numerator&&this.simplify(),this.setRealValue())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WholeValue",{get:function(){return this.wholeValue},set:function(t){this.wholeValue!==t&&(this.wholeValue=t,this.setRealValue())},enumerable:!0,configurable:!0}),t.prototype.GetExpandedNumerator=function(){return this.wholeValue*this.denominator+this.numerator},t.prototype.IsNegative=function(){return this.realValue<0},Object.defineProperty(t.prototype,"RealValue",{get:function(){return this.realValue},enumerable:!0,configurable:!0}),t.prototype.expand=function(t){this.numerator*=t,this.denominator*=t,0!==this.wholeValue&&(this.numerator+=this.wholeValue*this.denominator,this.wholeValue=0)},t.prototype.Add=function(t){this.numerator=(this.wholeValue*this.denominator+this.numerator)*t.denominator+(t.wholeValue*t.denominator+t.numerator)*this.denominator,this.denominator=this.denominator*t.denominator,this.wholeValue=0,this.simplify(),this.setRealValue()},t.prototype.Sub=function(t){this.numerator=(this.wholeValue*this.denominator+this.numerator)*t.denominator-(t.wholeValue*t.denominator+t.numerator)*this.denominator,this.denominator=this.denominator*t.denominator,this.wholeValue=0,this.simplify(),this.setRealValue()},t.prototype.Quantize=function(e){if(this.denominator<=e)return this;for(var n=new t(this.numerator+1,this.denominator,this.wholeValue);n.Denominator>e;)n.Numerator++;if(this.numerator>this.denominator){for(var i=new t(this.numerator-1,this.denominator,this.wholeValue);i.Denominator>e;)i.Numerator--;if(i.Denominator<n.Denominator)return i}return n},t.prototype.Equals=function(t){return this.realValue===t.realValue},t.prototype.CompareTo=function(t){var e=this.realValue-t.realValue;return e?e<0?-1:1:0},t.prototype.lt=function(t){return this.realValue<t.realValue},t.prototype.lte=function(t){return this.realValue<=t.realValue},t.prototype.setRealValue=function(){this.realValue=this.wholeValue+this.numerator/this.denominator},t.prototype.simplify=function(){if(0!==this.numerator){var e=t.greatestCommonDenominator(Math.abs(this.numerator),Math.abs(this.denominator));this.numerator/=e,this.denominator/=e;var n=Math.floor(this.numerator/this.denominator);if(0!==n&&(this.wholeValue+=n,this.numerator-=n*this.denominator,0===this.numerator&&(this.denominator=1)),this.denominator>t.maximumAllowedNumber){var i=this.denominator/t.maximumAllowedNumber;this.numerator=Math.round(this.numerator/i),this.denominator=Math.round(this.denominator/i)}this.numerator>t.maximumAllowedNumber&&(i=this.numerator/t.maximumAllowedNumber,this.numerator=Math.round(this.numerator/i),this.denominator=Math.round(this.denominator/i))}else this.denominator=1},t.maximumAllowedNumber=46340,t}();e.Fraction=i},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.C=0]="C",t[t.D=2]="D",t[t.E=4]="E",t[t.F=5]="F",t[t.G=7]="G",t[t.A=9]="A",t[t.B=11]="B"}(i=e.NoteEnum||(e.NoteEnum={})),function(t){t[t.DOUBLEFLAT=-2]="DOUBLEFLAT",t[t.FLAT=-1]="FLAT",t[t.NONE=0]="NONE",t[t.SHARP=1]="SHARP",t[t.DOUBLESHARP=2]="DOUBLESHARP",t[t.NATURAL=3]="NATURAL"}(r=e.AccidentalEnum||(e.AccidentalEnum={}));var o=function(){function t(e,n,i){this.accidental=r.NONE,this.fundamentalNote=e,this.octave=n,this.accidental=i,this.halfTone=e+12*(n+t.octXmlDiff)+i,this.frequency=t.calcFrequency(this)}return t.getNoteEnumString=function(t){switch(t){case i.C:return"C";case i.D:return"D";case i.E:return"E";case i.F:return"F";case i.G:return"G";case i.A:return"A";case i.B:return"B";default:return""}},t.CalculateTransposedHalfTone=function(e,n){var i=e.fundamentalNote+e.accidental+n;return t.WrapAroundCheck(i,12)},t.WrapAroundCheck=function(t,e){for(var n=0;t<0;)t+=e,n--;for(;t>=e;)t-=e,n++;return{overflow:n,value:t}},t.calcFrequency=function(e){var n,r=0;if(e instanceof t){var o=e;r=o.octave-1,n=o.fundamentalNote-i.A+o.accidental}else"number"==typeof e&&(n=e-57);return 440*Math.pow(2,r)*Math.pow(2,n/12)},t.calcFractionalKey=function(e){return Math.log(e/440)/Math.LN10*t.halftoneFactor+57},t.fromFrequency=function(e){var n=t.calcFractionalKey(e)+.5,i=Math.floor(n/12)-t.octXmlDiff,o=Math.floor(n)%12,s=o,a=r.NONE;return-1===this.pitchEnumValues.indexOf(s)&&(s=o-1,a=r.SHARP),new t(s,i,a)},t.fromHalftone=function(e){var n=Math.floor(e/12)-t.octXmlDiff,i=e%12,o=i,s=r.NONE;return-1===this.pitchEnumValues.indexOf(o)&&(o=i-1,s=r.SHARP),new t(o,n,s)},t.ceiling=function(t){var e=t%=12;return-1===this.pitchEnumValues.indexOf(e)&&(e=t+1),e},t.floor=function(t){var e=t%=12;return-1===this.pitchEnumValues.indexOf(e)&&(e=t-1),e},Object.defineProperty(t.prototype,"Octave",{get:function(){return this.octave},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FundamentalNote",{get:function(){return this.fundamentalNote},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Accidental",{get:function(){return this.accidental},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Frequency",{get:function(){return this.frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OctaveXmlDifference",{get:function(){return t.octXmlDiff},enumerable:!0,configurable:!0}),t.prototype.getHalfTone=function(){return this.halfTone},t.prototype.getTransposedPitch=function(t){if(t>12)throw new Error("rewrite this method to handle bigger octave changes or don't use is with bigger octave changes!");return t>0?this.getHigherPitchByTransposeFactor(t):t<0?this.getLowerPitchByTransposeFactor(-t):this},t.prototype.DoEnharmonicChange=function(){switch(this.accidental){case r.FLAT:case r.DOUBLEFLAT:this.fundamentalNote=this.getPreviousFundamentalNote(this.fundamentalNote),this.accidental=this.halfTone-(this.fundamentalNote+12*(this.octave+t.octXmlDiff));break;case r.SHARP:case r.DOUBLESHARP:this.fundamentalNote=this.getNextFundamentalNote(this.fundamentalNote),this.accidental=this.halfTone-(this.fundamentalNote+12*(this.octave+t.octXmlDiff));break;default:return}},t.prototype.ToString=function(){return"Note: "+this.fundamentalNote+", octave: "+this.octave.toString()+", alter: "+this.accidental},t.prototype.OperatorEquals=function(t){return void 0!==this&&void 0!==t&&this.FundamentalNote===t.FundamentalNote&&this.Octave===t.Octave&&this.Accidental===t.Accidental},t.prototype.OperatorNotEqual=function(t){return!(this===t)},t.prototype.getHigherPitchByTransposeFactor=function(e){var n,i=t.pitchEnumValues.indexOf(this.fundamentalNote),o=this.octave;return i+e>t.pitchEnumValues.length-1?(n=t.pitchEnumValues[i+e-t.pitchEnumValues.length],o++):n=t.pitchEnumValues[i+e],new t(n,o,r.NONE)},t.prototype.getLowerPitchByTransposeFactor=function(e){var n,i=t.pitchEnumValues.indexOf(this.fundamentalNote),o=this.octave;return i-e<0?(n=t.pitchEnumValues[t.pitchEnumValues.length+i-e],o--):n=t.pitchEnumValues[i-e],new t(n,o,r.NONE)},t.prototype.getNextFundamentalNote=function(e){var n=t.pitchEnumValues.indexOf(e);return n=(n+1)%t.pitchEnumValues.length,t.pitchEnumValues[n]},t.prototype.getPreviousFundamentalNote=function(e){var n=t.pitchEnumValues.indexOf(e);return n>0?t.pitchEnumValues[n-1]:t.pitchEnumValues[t.pitchEnumValues.length-1]},t.pitchEnumValues=[i.C,i.D,i.E,i.F,i.G,i.A,i.B],t.halftoneFactor=12/(Math.LN2/Math.LN10),t.octXmlDiff=3,t}();e.Pitch=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.debug("[opensheetmusicdisplay] ",t.join(" "))},t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log("[opensheetmusicdisplay] ",t.join(" "))},t.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error("[opensheetmusicdisplay] ",t.join(" "))},t.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn("[opensheetmusicdisplay] ",t.join(" "))},t}();e.Logging=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(18),o=n(5),s=n(104),a=n(61),c=function(){function t(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),this.isSymbol=!1,this.relativePositionHasBeenSet=!1,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1,this.absolutePosition=new o.PointF2D,this.relativePosition=new o.PointF2D,this.size=new s.SizeF2D,this.marginSize=new s.SizeF2D,this.upperLeftCorner=new o.PointF2D,this.upperLeftMarginCorner=new o.PointF2D,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.borderMarginLeft=0,this.borderMarginRight=0,this.borderMarginTop=0,this.borderMarginBottom=0,this.childElements=[],this.parent=e,this.dataObject=t,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1,void 0!==e&&(this.Parent=e)}return Object.defineProperty(t.prototype,"RelativePositionHasBeenSet",{get:function(){return this.relativePositionHasBeenSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"XBordersHaveBeenSet",{get:function(){return this.xBordersHaveBeenSet},set:function(t){this.xBordersHaveBeenSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"YBordersHaveBeenSet",{get:function(){return this.yBordersHaveBeenSet},set:function(t){this.yBordersHaveBeenSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AbsolutePosition",{get:function(){return this.absolutePosition},set:function(t){this.absolutePosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RelativePosition",{get:function(){return this.relativePosition},set:function(t){this.relativePosition=t,this.relativePositionHasBeenSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Size",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MarginSize",{get:function(){return this.marginSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpperLeftCorner",{get:function(){return this.upperLeftCorner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpperLeftMarginCorner",{get:function(){return this.upperLeftMarginCorner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderLeft",{get:function(){return this.borderLeft},set:function(t){this.borderLeft=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderRight",{get:function(){return this.borderRight},set:function(t){this.borderRight=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderTop",{get:function(){return this.borderTop},set:function(t){this.borderTop=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderBottom",{get:function(){return this.borderBottom},set:function(t){this.borderBottom=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginLeft",{get:function(){return this.borderMarginLeft},set:function(t){this.borderMarginLeft=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginRight",{get:function(){return this.borderMarginRight},set:function(t){this.borderMarginRight=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginTop",{get:function(){return this.borderMarginTop},set:function(t){this.borderMarginTop=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginBottom",{get:function(){return this.borderMarginBottom},set:function(t){this.borderMarginBottom=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BoundingRectangle",{get:function(){return this.boundingRectangle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BoundingMarginRectangle",{get:function(){return this.boundingMarginRectangle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChildElements",{get:function(){return this.childElements},set:function(t){this.childElements=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t,this.parent.ChildElements.indexOf(this)>-1?console.error("BoundingBox of "+this.dataObject.constructor.name+" already in children list of "+this.parent.dataObject.constructor.name+"'s BoundingBox"):this.parent.ChildElements.push(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataObject",{get:function(){return this.dataObject},enumerable:!0,configurable:!0}),t.prototype.setAbsolutePositionFromParent=function(){void 0!==this.parent?(this.absolutePosition.x=this.parent.AbsolutePosition.x+this.relativePosition.x,this.absolutePosition.y=this.parent.AbsolutePosition.y+this.relativePosition.y):this.absolutePosition=this.relativePosition},t.prototype.calculateAbsolutePosition=function(){this.absolutePosition.x=this.relativePosition.x,this.absolutePosition.y=this.relativePosition.y;for(var t=this.parent;void 0!==t;)this.absolutePosition.x+=t.relativePosition.x,this.absolutePosition.y+=t.relativePosition.y,t=t.parent},t.prototype.calculateAbsolutePositionsRecursiveWithoutTopelement=function(){this.absolutePosition.x=0,this.absolutePosition.y=0;for(var t=0,e=this.ChildElements.length;t<e;++t)this.ChildElements[t].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)},t.prototype.calculateAbsolutePositionsRecursive=function(t,e){this.absolutePosition.x=this.relativePosition.x+t,this.absolutePosition.y=this.relativePosition.y+e;for(var n=0,i=this.ChildElements.length;n<i;++n)this.ChildElements[n].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)},t.prototype.calculateAbsolutePositionsOfChildren=function(){for(var t=0,e=this.ChildElements.length;t<e;++t)this.ChildElements[t].calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)},t.prototype.calculateBoundingBox=function(){if(0!==this.childElements.length){for(var t=0,e=this.ChildElements.length;t<e;++t)(l=this.ChildElements[t]).calculateBoundingBox();var n=Number.MAX_VALUE,i=Number.MIN_VALUE,r=Number.MAX_VALUE,o=Number.MIN_VALUE,s=Number.MAX_VALUE,a=Number.MIN_VALUE,c=Number.MAX_VALUE,u=Number.MIN_VALUE;for(this.isSymbol&&(n=this.borderLeft,i=this.borderRight,r=this.borderTop,o=this.borderBottom,s=this.borderMarginLeft,a=this.borderMarginRight,c=this.borderMarginTop,u=this.borderMarginBottom),t=0,e=this.ChildElements.length;t<e;++t){var l=this.ChildElements[t];n=Math.min(n,l.relativePosition.x+l.borderLeft),i=Math.max(i,l.relativePosition.x+l.borderRight),r=Math.min(r,l.relativePosition.y+l.borderTop),o=Math.max(o,l.relativePosition.y+l.borderBottom),s=Math.min(s,l.relativePosition.x+l.borderMarginLeft),a=Math.max(a,l.relativePosition.x+l.borderMarginRight),c=Math.min(c,l.relativePosition.y+l.borderMarginTop),u=Math.max(u,l.relativePosition.y+l.borderMarginBottom)}this.borderLeft=n,this.borderRight=i,this.borderTop=r,this.borderBottom=o,this.borderMarginLeft=s,this.borderMarginRight=a,this.borderMarginTop=c,this.borderMarginBottom=u,this.calculateRectangle(),this.calculateMarginRectangle(),this.xBordersHaveBeenSet=!0,this.yBordersHaveBeenSet=!0}},t.prototype.calculateTopBottomBorders=function(){if(0!==this.childElements.length){for(var t=0,e=this.ChildElements.length;t<e;++t)(s=this.ChildElements[t]).calculateTopBottomBorders();var n=Number.MAX_VALUE,i=Number.MIN_VALUE,r=Number.MAX_VALUE,o=Number.MIN_VALUE;for(this.yBordersHaveBeenSet&&(n=this.borderTop,i=this.borderBottom,r=this.borderMarginTop,o=this.borderMarginBottom),t=0,e=this.ChildElements.length;t<e;++t){var s=this.ChildElements[t];n=Math.min(n,s.relativePosition.y+s.borderTop),i=Math.max(i,s.relativePosition.y+s.borderBottom),r=Math.min(r,s.relativePosition.y+s.borderMarginTop),o=Math.max(o,s.relativePosition.y+s.borderMarginBottom)}this.borderTop=n,this.borderBottom=i,this.borderMarginTop=r,this.borderMarginBottom=o,this.calculateRectangle(),this.calculateMarginRectangle()}},t.prototype.computeNonOverlappingPositionWithMargin=function(t,e,n){this.RelativePosition=new o.PointF2D(n.x,n.y),this.setAbsolutePositionFromParent();var s=0,a=!1;do{switch(e){case i.Left:case i.Right:s=this.relativePosition.x,t.calculateMarginPositionAlongDirection(this,e),a=Math.abs(s-this.relativePosition.x)>.001;break;case i.Up:case i.Down:s=this.relativePosition.y,t.calculateMarginPositionAlongDirection(this,e),a=Math.abs(s-this.relativePosition.y)>.001;break;default:throw new r.ArgumentOutOfRangeException("direction")}}while(a)},t.prototype.collisionDetection=function(t){var e=Math.min(this.AbsolutePosition.x+this.borderRight,t.absolutePosition.x+t.borderRight)-Math.max(this.AbsolutePosition.x+this.borderLeft,t.absolutePosition.x+t.borderLeft),n=Math.min(this.AbsolutePosition.y+this.borderBottom,t.absolutePosition.y+t.borderBottom)-Math.max(this.AbsolutePosition.y+this.borderTop,t.absolutePosition.y+t.borderTop);return e>0&&n>0},t.prototype.liesInsideBorders=function(t){var e=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderLeft&&t.absolutePosition.x+t.borderLeft<=this.AbsolutePosition.x+this.borderRight,n=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderRight&&t.absolutePosition.x+t.borderRight<=this.AbsolutePosition.x+this.borderRight;if(e&&n){var i=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderTop&&t.absolutePosition.y+t.borderTop<=this.AbsolutePosition.y+this.borderBottom,r=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderBottom&&t.absolutePosition.y+t.borderBottom<=this.AbsolutePosition.y+this.borderBottom;if(i&&r)return!0}return!1},t.prototype.pointLiesInsideBorders=function(t){return this.AbsolutePosition.x+this.borderLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderRight&&this.AbsolutePosition.y+this.borderTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderBottom},t.prototype.marginCollisionDetection=function(t){var e=Math.min(this.AbsolutePosition.x+this.borderMarginRight,t.absolutePosition.x+t.borderMarginRight)-Math.max(this.AbsolutePosition.x+this.borderMarginLeft,t.absolutePosition.x+t.borderMarginLeft),n=Math.min(this.AbsolutePosition.y+this.borderMarginBottom,t.absolutePosition.y+t.borderMarginBottom)-Math.max(this.AbsolutePosition.y+this.borderMarginTop,t.absolutePosition.y+t.borderMarginTop);return e>0&&n>0},t.prototype.liesInsideMargins=function(t){var e=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginLeft&&t.absolutePosition.x+t.borderMarginLeft<=this.AbsolutePosition.x+this.borderMarginRight,n=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginRight&&t.absolutePosition.x+t.borderMarginRight<=this.AbsolutePosition.x+this.borderMarginRight;if(e&&n){var i=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginTop&&t.absolutePosition.y+t.borderMarginTop<=this.AbsolutePosition.y+this.borderMarginBottom,r=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginBottom&&t.absolutePosition.y+t.borderMarginBottom<=this.AbsolutePosition.y+this.borderMarginBottom;if(i&&r)return!0}return!1},t.prototype.pointLiesInsideMargins=function(t){return this.AbsolutePosition.x+this.borderMarginLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderMarginRight&&this.AbsolutePosition.y+this.borderMarginTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderMarginBottom},t.prototype.computeNonOverlappingPosition=function(t,e,n){this.RelativePosition=new o.PointF2D(n.x,n.y),this.setAbsolutePositionFromParent();var s=0,a=!1;do{switch(e){case i.Left:case i.Right:s=this.relativePosition.x,t.calculatePositionAlongDirection(this,e),a=Math.abs(s-this.relativePosition.x)>1e-4;break;case i.Up:case i.Down:s=this.relativePosition.y,t.calculatePositionAlongDirection(this,e),a=Math.abs(s-this.relativePosition.y)>1e-4;break;default:throw new r.ArgumentOutOfRangeException("direction")}}while(a)},t.prototype.getClickedObjectOfType=function(t){var e=this.dataObject;if(this.pointLiesInsideBorders(t)&&void 0!==e)return e;for(var n=0,i=this.childElements.length;n<i;++n){var r=this.childElements[n].getClickedObjectOfType(t);if(void 0!==r)return r}},t.prototype.getObjectsInRegion=function(t,e){if(void 0===e&&(e=!0),void 0!==this.dataObject)if(e){if(t.liesInsideBorders(this))return[this.dataObject]}else if(t.collisionDetection(this))return[this.dataObject];for(var n=[],i=0,r=this.childElements;i<r.length;i++){var o=r[i];n.concat(o.getObjectsInRegion(t,e))}return n},t.prototype.calculateRectangle=function(){this.upperLeftCorner=new o.PointF2D(this.borderLeft,this.borderTop),this.size=new s.SizeF2D(this.borderRight-this.borderLeft,this.borderBottom-this.borderTop),this.boundingRectangle=a.RectangleF2D.createFromLocationAndSize(this.upperLeftCorner,this.size)},t.prototype.calculateMarginRectangle=function(){this.upperLeftMarginCorner=new o.PointF2D(this.borderMarginLeft,this.borderMarginTop),this.marginSize=new s.SizeF2D(this.borderMarginRight-this.borderMarginLeft,this.borderMarginBottom-this.borderMarginTop),this.boundingMarginRectangle=a.RectangleF2D.createFromLocationAndSize(this.upperLeftMarginCorner,this.marginSize)},t.prototype.calculateMarginPositionAlongDirection=function(t,e){if(this!==t){if(this.isSymbol&&this.marginCollisionDetection(t)){var n=0;switch(e){case i.Left:return n=this.absolutePosition.x+this.borderMarginLeft-(t.absolutePosition.x+t.borderMarginRight),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case i.Right:return n=this.absolutePosition.x+this.borderMarginRight-(t.absolutePosition.x+t.borderMarginLeft),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case i.Up:return n=this.absolutePosition.y+this.borderMarginTop-(t.absolutePosition.y+t.borderMarginBottom),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);case i.Down:return n=this.absolutePosition.y+this.borderMarginBottom-(t.absolutePosition.y+t.borderMarginTop),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);default:throw new r.ArgumentOutOfRangeException("direction")}}for(var o=0,s=this.ChildElements.length;o<s;++o)this.ChildElements[o].calculateMarginPositionAlongDirection(t,e)}},t.prototype.calculatePositionAlongDirection=function(t,e){if(this!==t){if(this.isSymbol&&this.collisionDetection(t)){var n=void 0;switch(e){case i.Left:return n=this.absolutePosition.x+this.borderLeft-(t.absolutePosition.x+t.borderRight),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case i.Right:return n=this.absolutePosition.x+this.borderRight-(t.absolutePosition.x+t.borderLeft),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case i.Up:return n=this.absolutePosition.y+this.borderTop-(t.absolutePosition.y+t.borderBottom),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);case i.Down:return n=this.absolutePosition.y+this.borderBottom-(t.absolutePosition.y+t.borderTop),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);default:throw new r.ArgumentOutOfRangeException("direction")}}for(var o=0,s=this.ChildElements.length;o<s;++o)this.ChildElements[o].calculatePositionAlongDirection(t,e)}},t}();e.BoundingBox=c,function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(i=e.ColDirEnum||(e.ColDirEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return Object.defineProperty(t,"Empty",{get:function(){return new t},enumerable:!0,configurable:!0}),t.pointsAreEqual=function(t,e){return t.x===e.x&&t.y===e.y},t.prototype.ToString=function(){return"["+this.x+", "+this.y+"]"},t}();e.PointF2D=i},function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s,a=n(2),c=n(62),u=n(2),l=n(2),h=n(18),f=function(t){function e(e,n,i){void 0===e&&(e=o.G),void 0===n&&(n=0),void 0===i&&(i=2);var r=t.call(this,void 0)||this;return r.clefType=o.G,r.line=2,r.octaveOffset=0,r.line=i,r.clefType=e,r.octaveOffset=n,r.calcParameters(),r}return r(e,t),e.getDefaultClefFromMidiInstrument=function(t){switch(t){case s.Acoustic_Grand_Piano:case s.Electric_Bass_finger:case s.Electric_Bass_pick:case s.Fretless_Bass:case s.Slap_Bass_1:case s.Slap_Bass_2:case s.Synth_Bass_1:case s.Synth_Bass_2:case s.Contrabass:return new e(o.F,0,4);default:return new e(o.G,0,2)}},e.getAllPossibleClefs=function(){for(var t=[],n=0;n<=2;n++){var i=new e(o.G,n,2);t.push(i)}for(var r=-2;r<=0;r++){var s=new e(o.F,r,4);t.push(s)}return t},e.isSupportedClef=function(t){switch(t){case o.G:case o.F:case o.C:case o.percussion:return!0;default:return!1}},Object.defineProperty(e.prototype,"ClefType",{get:function(){return this.clefType},set:function(t){this.clefType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Line",{get:function(){return this.line},set:function(t){this.line=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OctaveOffset",{get:function(){return this.octaveOffset},set:function(t){this.octaveOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ClefPitch",{get:function(){return this.clefPitch},set:function(t){this.clefPitch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ReferenceCyPosition",{get:function(){return this.referenceCyPosition},set:function(t){this.referenceCyPosition=t},enumerable:!0,configurable:!0}),e.prototype.Equals=function(t){return this===t||void 0!==this&&void 0!==t&&this.ClefPitch===t.ClefPitch&&this.Line===t.Line},e.prototype.NotEqual=function(t){return!this.Equals(t)},e.prototype.ToString=function(){return"ClefType: "+this.clefType},e.prototype.calcParameters=function(){switch(this.clefType){case o.G:this.clefPitch=new a.Pitch(u.NoteEnum.G,1+this.octaveOffset,l.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+2;break;case o.F:this.clefPitch=new a.Pitch(u.NoteEnum.F,0+this.octaveOffset,l.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+1.5;break;case o.C:this.clefPitch=new a.Pitch(u.NoteEnum.C,1+this.octaveOffset,l.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line;break;case o.percussion:this.clefPitch=new a.Pitch(u.NoteEnum.C,2,l.AccidentalEnum.NONE),this.referenceCyPosition=2;break;default:throw new h.ArgumentOutOfRangeException("clefType")}},e}(c.AbstractNotationInstruction);e.ClefInstruction=f,function(t){t[t.G=0]="G",t[t.F=1]="F",t[t.C=2]="C",t[t.percussion=3]="percussion",t[t.TAB=4]="TAB"}(o=e.ClefEnum||(e.ClefEnum={})),function(t){t[t.None=-1]="None",t[t.Acoustic_Grand_Piano=0]="Acoustic_Grand_Piano",t[t.Bright_Acoustic_Piano=1]="Bright_Acoustic_Piano",t[t.Electric_Grand_Piano=2]="Electric_Grand_Piano",t[t.Honky_tonk_Piano=3]="Honky_tonk_Piano",t[t.Electric_Piano_1=4]="Electric_Piano_1",t[t.Electric_Piano_2=5]="Electric_Piano_2",t[t.Harpsichord=6]="Harpsichord",t[t.Clavinet=7]="Clavinet",t[t.Celesta=8]="Celesta",t[t.Glockenspiel=9]="Glockenspiel",t[t.Music_Box=10]="Music_Box",t[t.Vibraphone=11]="Vibraphone",t[t.Marimba=12]="Marimba",t[t.Xylophone=13]="Xylophone",t[t.Tubular_Bells=14]="Tubular_Bells",t[t.Dulcimer=15]="Dulcimer",t[t.Drawbar_Organ=16]="Drawbar_Organ",t[t.Percussive_Organ=17]="Percussive_Organ",t[t.Rock_Organ=18]="Rock_Organ",t[t.Church_Organ=19]="Church_Organ",t[t.Reed_Organ=20]="Reed_Organ",t[t.Accordion=21]="Accordion",t[t.Harmonica=22]="Harmonica",t[t.Tango_Accordion=23]="Tango_Accordion",t[t.Acoustic_Guitar_nylon=24]="Acoustic_Guitar_nylon",t[t.Acoustic_Guitar_steel=25]="Acoustic_Guitar_steel",t[t.Electric_Guitar_jazz=26]="Electric_Guitar_jazz",t[t.Electric_Guitar_clean=27]="Electric_Guitar_clean",t[t.Electric_Guitar_muted=28]="Electric_Guitar_muted",t[t.Overdriven_Guitar=29]="Overdriven_Guitar",t[t.Distortion_Guitar=30]="Distortion_Guitar",t[t.Guitar_harmonics=31]="Guitar_harmonics",t[t.Acoustic_Bass=32]="Acoustic_Bass",t[t.Electric_Bass_finger=33]="Electric_Bass_finger",t[t.Electric_Bass_pick=34]="Electric_Bass_pick",t[t.Fretless_Bass=35]="Fretless_Bass",t[t.Slap_Bass_1=36]="Slap_Bass_1",t[t.Slap_Bass_2=37]="Slap_Bass_2",t[t.Synth_Bass_1=38]="Synth_Bass_1",t[t.Synth_Bass_2=39]="Synth_Bass_2",t[t.Violin=40]="Violin",t[t.Viola=41]="Viola",t[t.Cello=42]="Cello",t[t.Contrabass=43]="Contrabass",t[t.Tremolo_Strings=44]="Tremolo_Strings",t[t.Pizzicato_Strings=45]="Pizzicato_Strings",t[t.Orchestral_Harp=46]="Orchestral_Harp",t[t.Timpani=47]="Timpani",t[t.String_Ensemble_1=48]="String_Ensemble_1",t[t.String_Ensemble_2=49]="String_Ensemble_2",t[t.Synth_Strings_1=50]="Synth_Strings_1",t[t.Synth_Strings_2=51]="Synth_Strings_2",t[t.Choir_Aahs=52]="Choir_Aahs",t[t.Voice_Oohs=53]="Voice_Oohs",t[t.Synth_Voice=54]="Synth_Voice",t[t.Orchestra_Hit=55]="Orchestra_Hit",t[t.Trumpet=56]="Trumpet",t[t.Trombone=57]="Trombone",t[t.Tuba=58]="Tuba",t[t.Muted_Trumpet=59]="Muted_Trumpet",t[t.French_Horn=60]="French_Horn",t[t.Brass_Section=61]="Brass_Section",t[t.Synth_Brass_1=62]="Synth_Brass_1",t[t.Synth_Brass_2=63]="Synth_Brass_2",t[t.Soprano_Sax=64]="Soprano_Sax",t[t.Alto_Sax=65]="Alto_Sax",t[t.Tenor_Sax=66]="Tenor_Sax",t[t.Baritone_Sax=67]="Baritone_Sax",t[t.Oboe=68]="Oboe",t[t.English_Horn=69]="English_Horn",t[t.Bassoon=70]="Bassoon",t[t.Clarinet=71]="Clarinet",t[t.Piccolo=72]="Piccolo",t[t.Flute=73]="Flute",t[t.Recorder=74]="Recorder",t[t.Pan_Flute=75]="Pan_Flute",t[t.Blown_Bottle=76]="Blown_Bottle",t[t.Shakuhachi=77]="Shakuhachi",t[t.Whistle=78]="Whistle",t[t.Ocarina=79]="Ocarina",t[t.Lead_1_square=80]="Lead_1_square",t[t.Lead_2_sawtooth=81]="Lead_2_sawtooth",t[t.Lead_3_calliope=82]="Lead_3_calliope",t[t.Lead_4_chiff=83]="Lead_4_chiff",t[t.Lead_5_charang=84]="Lead_5_charang",t[t.Lead_6_voice=85]="Lead_6_voice",t[t.Lead_7_fifths=86]="Lead_7_fifths",t[t.Lead_8_bass_lead=87]="Lead_8_bass_lead",t[t.Pad_1_new_age=88]="Pad_1_new_age",t[t.Pad_2_warm=89]="Pad_2_warm",t[t.Pad_3_polysynth=90]="Pad_3_polysynth",t[t.Pad_4_choir=91]="Pad_4_choir",t[t.Pad_5_bowed=92]="Pad_5_bowed",t[t.Pad_6_metallic=93]="Pad_6_metallic",t[t.Pad_7_halo=94]="Pad_7_halo",t[t.Pad_8_sweep=95]="Pad_8_sweep",t[t.FX_1_rain=96]="FX_1_rain",t[t.FX_2_soundtrack=97]="FX_2_soundtrack",t[t.FX_3_crystal=98]="FX_3_crystal",t[t.FX_4_atmosphere=99]="FX_4_atmosphere",t[t.FX_5_brightness=100]="FX_5_brightness",t[t.FX_6_goblins=101]="FX_6_goblins",t[t.FX_7_echoes=102]="FX_7_echoes",t[t.FX_8_scifi=103]="FX_8_scifi",t[t.Sitar=104]="Sitar",t[t.Banjo=105]="Banjo",t[t.Shamisen=106]="Shamisen",t[t.Koto=107]="Koto",t[t.Kalimba=108]="Kalimba",t[t.Bag_pipe=109]="Bag_pipe",t[t.Fiddle=110]="Fiddle",t[t.Shanai=111]="Shanai",t[t.Tinkle_Bell=112]="Tinkle_Bell",t[t.Agogo=113]="Agogo",t[t.Steel_Drums=114]="Steel_Drums",t[t.Woodblock=115]="Woodblock",t[t.Taiko_Drum=116]="Taiko_Drum",t[t.Melodic_Tom=117]="Melodic_Tom",t[t.Synth_Drum=118]="Synth_Drum",t[t.Reverse_Cymbal=119]="Reverse_Cymbal",t[t.Guitar_Fret_Noise=120]="Guitar_Fret_Noise",t[t.Breath_Noise=121]="Breath_Noise",t[t.Seashore=122]="Seashore",t[t.Bird_Tweet=123]="Bird_Tweet",t[t.Telephone_Ring=124]="Telephone_Ring",t[t.Helicopter=125]="Helicopter",t[t.Applause=126]="Applause",t[t.Gunshot=127]="Gunshot",t[t.Percussion=128]="Percussion"}(s=e.MidiInstrument||(e.MidiInstrument={}))},function(t,e,n){"use strict";function i(t){return"function"==typeof t}function r(t){return void 0===t}function o(t){return"[object String]"===Object.prototype.toString.call(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.prototype.hasOwnProperty;e.has=function(t,e){return s.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":r(t)?"COLLECTION_UNDEFINED":o(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,n){if(void 0===n&&(n=","),null===t)return"COLLECTION_NULL";if(r(t))return"COLLECTION_UNDEFINED";if(o(t))return t.toString();var i="{",s=!0;for(var a in t)e.has(t,a)&&(s?s=!1:i+=n,i=i+a+":"+t[a]);return i+"}"},e.isFunction=i,e.isUndefined=r,e.isString=o,e.reverseCompareFunction=function(t){return r(t)||!i(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},e.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return Object.defineProperty(t.prototype,"PositionAndShape",{get:function(){return this.boundingBox},set:function(t){this.boundingBox=t},enumerable:!0,configurable:!0}),t}();e.GraphicalObject=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||i.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!i.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!i.isUndefined(t)&&!i.isUndefined(e)){var n,r="$"+this.toStr(t),o=this.table[r];return i.isUndefined(o)?(this.nElements++,n=void 0):n=o.value,this.table[r]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!i.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!i.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();e.default=r},function(t,e,n){"use strict";(function(t){function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,n)}function s(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=u(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(e,n),s=(t=r(t,i)).write(e,n);return s!==i&&(t=t.slice(0,s)),t}(t,e,n):function(t,e){if(o.isBuffer(e)){var n=0|l(e.length);return 0===(t=r(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?r(t,0):u(t,e);if("Buffer"===e.type&&V(e.data))return u(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(a(e),t=r(t,e<0?0:0|l(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function u(t,e){var n=e.length<0?0:0|l(e.length);t=r(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function l(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function h(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(i)return R(t).length;e=(""+e).toLowerCase(),i=!0}}function f(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function d(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:p(t,e,n,i,r);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):p(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function p(t,e,n,i,r){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var s,a=1,c=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,c/=2,u/=2,n/=2}if(r){var l=-1;for(s=n;s<c;s++)if(o(t,s)===o(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===u)return l*a}else-1!==l&&(s-=s-l),l=-1}else for(n+u>c&&(n=c-u),s=n;s>=0;s--){for(var h=!0,f=0;f<u;f++)if(o(t,s+f)!==o(e,f)){h=!1;break}if(h)return s}return-1}function m(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,i){return F(R(e,t.length-n),t,n,i)}function g(t,e,n,i){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function v(t,e,n,i){return g(t,e,n,i)}function y(t,e,n,i){return F(B(e),t,n,i)}function _(t,e,n,i){return F(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function x(t,e,n){return 0===e&&n===t.length?D.fromByteArray(t):D.fromByteArray(t.slice(e,n))}function w(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,c,u=t[r],l=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=h}return function(t){var e=t.length;if(e<=G)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=G));return n}(i)}function S(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function E(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function T(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=I(t[o]);return r}function k(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,i,r,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function C(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function O(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function A(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,i,r){return r||A(t,0,n,4),j.write(t,e,n,i,23,4),n+4}function L(t,e,n,i,r){return r||A(t,0,n,8),j.write(t,e,n,i,52,8),n+8}function I(t){return t<16?"0"+t.toString(16):t.toString(16)}function R(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return D.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}var D=n(162),j=n(161),V=n(89);e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return s(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return function(t,e,n,i){return a(e),e<=0?r(t,e):void 0!==n?"string"==typeof i?r(t,e).fill(n,i):r(t,e).fill(n):r(t,e)}(null,t,e,n)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!V(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=o.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?w(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,i,r){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var s=r-i,a=n-e,c=Math.min(s,a),u=this.slice(i,r),l=t.slice(e,n),h=0;h<c;++h)if(u[h]!==l[h]){s=u[h],a=l[h];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return d(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return d(this,t,e,n,!1)},o.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return g(this,t,e,n);case"latin1":case"binary":return v(this,t,e,n);case"base64":return y(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var G=4096;o.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=o.prototype;else{var r=e-t;n=new o(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+t]}return n},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),j.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),j.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),j.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),j.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||M(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||M(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,s=i-n;if(this===t&&n<e&&e<i)for(r=s-1;r>=0;--r)t[r+e]=this[r+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},o.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var a=o.isBuffer(t)?t:R(new o(t,i).toString()),c=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%c]}return this};var H=/[^+\/0-9A-Za-z-_]/g}).call(this,n(23))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(62),s=n(2),a=n(2),c=function(t){function e(e,n,i){void 0===e&&(e=void 0),void 0===n&&(n=0),void 0===i&&(i=u.major);var r=t.call(this,e)||this;return r.Key=n,r.mode=i,r}return r(e,t),e.copy=function(t){return new e(t.parent,t.Key,t.Mode)},e.getNoteEnumList=function(t){var n=[];if(t.keyType>0)for(var i=0;i<t.keyType;i++)n.push(e.sharpPositionList[i]);if(t.keyType<0)for(i=0;i<Math.abs(t.keyType);i++)n.push(e.flatPositionList[i]);return n},e.getAllPossibleMajorKeyInstructions=function(){for(var t=[],n=-7;n<7;n++){var i=new e(void 0,n,u.major);t.push(i)}return t},Object.defineProperty(e.prototype,"Key",{get:function(){return this.keyType},set:function(t){this.keyType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mode",{get:function(){return this.mode},set:function(t){this.mode=t},enumerable:!0,configurable:!0}),e.prototype.getFundamentalNotesOfAccidentals=function(){var t=[];if(this.keyType>0)for(var n=0;n<this.keyType;n++)t.push(e.sharpPositionList[n]);else if(this.keyType<0)for(n=0;n<-this.keyType;n++)t.push(e.flatPositionList[n]);return t},e.prototype.getAlterationForPitch=function(t){return this.keyType>0&&e.sharpPositionList.indexOf(t.FundamentalNote)<=this.keyType?a.AccidentalEnum.SHARP:this.keyType<0&&e.flatPositionList.indexOf(t.FundamentalNote)<=Math.abs(this.keyType)?a.AccidentalEnum.FLAT:a.AccidentalEnum.NONE},e.prototype.ToString=function(){return"Key: "+this.keyType+this.mode},e.prototype.OperatorEquals=function(t){return this===t||void 0!==this&&void 0!==t&&this.Key===t.Key&&this.Mode===t.Mode},e.prototype.OperatorNotEqual=function(t){return!this.OperatorEquals(t)},e.sharpPositionList=[s.NoteEnum.F,s.NoteEnum.C,s.NoteEnum.G,s.NoteEnum.D,s.NoteEnum.A,s.NoteEnum.E,s.NoteEnum.B],e.flatPositionList=[s.NoteEnum.B,s.NoteEnum.E,s.NoteEnum.A,s.NoteEnum.D,s.NoteEnum.G,s.NoteEnum.C,s.NoteEnum.F],e}(o.AbstractNotationInstruction);e.KeyInstruction=c;var u,l=function(){return function(t,e){this.note=t,this.halfTone=e}}();e.NoteEnumToHalfToneLink=l,function(t){t[t.major=0]="major",t[t.minor=1]="minor",t[t.none=2]="none",t[t.dorian=3]="dorian",t[t.phrygian=4]="phrygian",t[t.lydian=5]="lydian",t[t.mixolydian=6]="mixolydian",t[t.aeolian=7]="aeolian",t[t.ionian=8]="ionian",t[t.locrian=9]="locrian"}(u=e.KeyEnum||(e.KeyEnum={}))},function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},s={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(r)},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=0===r.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(88).Readable}catch(t){e.nodestream=!1}}).call(this,n(11).Buffer)},function(t,e,n){var i;i=function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(2),o=n(5),s=n(3),a=n(10),c=n(14),u=n(30),l=n(4),h=n(43),f=n(20),d=n(45),p=n(18),m=n(29),b=n(15),g=n(33),v=n(55),y=n(56),_=n(41),x=n(42),w=n(57),S=n(22),E=n(27),T=n(39),k=n(37),P=n(40),M=n(44),C=n(21),O=n(19),A=n(58),N=n(52),L=n(53),I=n(59),R=n(17),B=n(34),F=n(51),D=n(25),j=n(60),V=n(16),G=n(61),H=n(62),z=n(63),W=n(64),U=n(65),Y=n(8),X=n(35),K=n(50),q=n(66),J=n(67),Q=n(68),Z=n(38),$=n(69),tt=n(70),et=n(28),nt=n(46),it=n(71),rt=n(72),ot=n(31),st=n(32),at=n(73),ct=n(36),ut=n(74),lt=n(54),ht=n(9),ft=n(75),dt=n(76),pt=n(78),mt=n(77),bt=n(6);i.Vex.Flow=r.Flow,i.Vex.Flow.Element=o.Element,i.Vex.Flow.Fraction=s.Fraction,i.Vex.Flow.Renderer=a.Renderer,i.Vex.Flow.Formatter=c.Formatter,i.Vex.Flow.Music=u.Music,i.Vex.Flow.Glyph=l.Glyph,i.Vex.Flow.Stave=h.Stave,i.Vex.Flow.StaveNote=f.StaveNote,i.Vex.Flow.StaveModifier=d.StaveModifier,i.Vex.Flow.Voice=p.Voice,i.Vex.Flow.Accidental=m.Accidental,i.Vex.Flow.Beam=b.Beam,i.Vex.Flow.StaveTie=g.StaveTie,i.Vex.Flow.TabStave=v.TabStave,i.Vex.Flow.TabNote=y.TabNote,i.Vex.Flow.Bend=_.Bend,i.Vex.Flow.Vibrato=x.Vibrato,i.Vex.Flow.VibratoBracket=w.VibratoBracket,i.Vex.Flow.Note=S.Note,i.Vex.Flow.ModifierContext=E.ModifierContext,i.Vex.Flow.TickContext=T.TickContext,i.Vex.Flow.Articulation=k.Articulation,i.Vex.Flow.Annotation=P.Annotation,i.Vex.Flow.Barline=M.Barline,i.Vex.Flow.NoteHead=C.NoteHead,i.Vex.Flow.StaveConnector=O.StaveConnector,i.Vex.Flow.ClefNote=A.ClefNote,i.Vex.Flow.KeySignature=N.KeySignature,i.Vex.Flow.TimeSignature=L.TimeSignature,i.Vex.Flow.TimeSigNote=I.TimeSigNote,i.Vex.Flow.Stem=R.Stem,i.Vex.Flow.TabTie=B.TabTie,i.Vex.Flow.Clef=F.Clef,i.Vex.Flow.Modifier=D.Modifier,i.Vex.Flow.TabSlide=j.TabSlide,i.Vex.Flow.Tuplet=V.Tuplet,i.Vex.Flow.GraceNote=G.GraceNote,i.Vex.Flow.GraceTabNote=H.GraceTabNote,i.Vex.Flow.Tuning=z.Tuning,i.Vex.Flow.KeyManager=W.KeyManager,i.Vex.Flow.StaveHairpin=U.StaveHairpin,i.Vex.Flow.BoundingBox=Y.BoundingBox,i.Vex.Flow.Stroke=X.Stroke,i.Vex.Flow.TextNote=K.TextNote,i.Vex.Flow.Curve=q.Curve,i.Vex.Flow.TextDynamics=J.TextDynamics,i.Vex.Flow.StaveLine=Q.StaveLine,i.Vex.Flow.Ornament=Z.Ornament,i.Vex.Flow.PedalMarking=$.PedalMarking,i.Vex.Flow.TextBracket=tt.TextBracket,i.Vex.Flow.FretHandFinger=et.FretHandFinger,i.Vex.Flow.Repetition=nt.Repetition,i.Vex.Flow.BarNote=it.BarNote,i.Vex.Flow.GhostNote=rt.GhostNote,i.Vex.Flow.NoteSubGroup=ot.NoteSubGroup,i.Vex.Flow.GraceNoteGroup=st.GraceNoteGroup,i.Vex.Flow.Tremolo=at.Tremolo,i.Vex.Flow.StringNumber=ct.StringNumber,i.Vex.Flow.Crescendo=ut.Crescendo,i.Vex.Flow.Volta=lt.Volta,i.Vex.Flow.Font=ht.Font,i.Vex.Flow.System=ft.System,i.Vex.Flow.Factory=dt.Factory,i.Vex.Flow.Parser=pt.Parser,i.Vex.Flow.EasyScore=mt.EasyScore,i.Vex.Flow.Registry=bt.Registry,e.default=i.Vex,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){};r.L=function(t,e){if(e){var n=Array.prototype.slice.call(e).join(" ");window.console.log(t+": "+n)}},r.MakeException=function(t){return function(e){function i(e,r){n(this,i);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return o.name=t,o.message=e,o.data=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,Error),i}()};var o=function(){function t(e,i){n(this,t),this.code=e,this.message=i}return i(t,[{key:"toString",value:function(){return"[RuntimeError] "+this.code+":"+this.message}}]),t}();r.RERR=r.RuntimeError=o,r.Merge=function(t,e){for(var n in e)t[n]=e[n];return t},r.Min=Math.min,r.Max=Math.max,r.forEach=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},r.RoundN=function(t,e){return t%e>=e/2?parseInt(t/e,10)*e+e:parseInt(t/e,10)*e},r.MidLine=function(t,e){var n=e+(t-e)/2;return n%2>0&&(n=r.RoundN(10*n,5)/10),n},r.SortAndUnique=function(t,e,n){if(t.length>1){var i=[],r=void 0;t.sort(e);for(var o=0;o<t.length;++o)0!==o&&n(t[o],r)||i.push(t[o]),r=t[o];return i}return t},r.Contains=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},r.getCanvasContext=function(t){if(!t)throw new r.RERR("BadArgument","Invalid canvas selector: "+t);var e=document.getElementById(t);if(!e||!e.getContext)throw new r.RERR("UnsupportedBrowserError","This browser does not support HTML5 Canvas");return e.getContext("2d")},r.drawDot=function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?"#55":arguments[3];t.save(),t.setFillStyle(i),t.beginPath(),t.arc(e,n,3,0,2*Math.PI,!0),t.closePath(),t.fill(),t.restore()},r.BM=function(t,e){var n=(new Date).getTime();e();var i=(new Date).getTime()-n;r.L(t+i+"ms")},r.StackTrace=function(){return(new Error).stack},r.W=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.join(" ");window.console.log("Warning: ",i,r.StackTrace())},(r.Prefix=function(t){return r.Prefix.prefix+t}).prefix="vf-",e.Vex=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Flow=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=n(1),o=n(3),s=n(4),a={STEM_WIDTH:1.5,STEM_HEIGHT:35,STAVE_LINE_THICKNESS:1,RESOLUTION:16384,DEFAULT_NOTATION_FONT_SCALE:39,DEFAULT_TABLATURE_FONT_SCALE:39,SLASH_NOTEHEAD_WIDTH:15,TEXT_HEIGHT_OFFSET_HACK:1,IsKerned:!0,clefProperties:function(t){if(!t)throw new r.Vex.RERR("BadArgument","Invalid clef: "+t);var e=a.clefProperties.values[t];if(!e)throw new r.Vex.RERR("BadArgument","Invalid clef: "+t);return e}};a.clefProperties.values={treble:{line_shift:0},bass:{line_shift:6},tenor:{line_shift:4},alto:{line_shift:3},soprano:{line_shift:1},percussion:{line_shift:0},"mezzo-soprano":{line_shift:2},"baritone-c":{line_shift:5},"baritone-f":{line_shift:5},subbass:{line_shift:7},french:{line_shift:-1}},a.keyProperties=function(t,e,n){void 0===e&&(e="treble");var o={octave_shift:0};"object"===(void 0===n?"undefined":i(n))&&r.Vex.Merge(o,n);var s=t.split("/");if(s.length<2)throw new r.Vex.RERR("BadArguments","Key must have note + octave and an optional glyph: "+t);var c=s[0].toUpperCase(),u=a.keyProperties.note_values[c];if(!u)throw new r.Vex.RERR("BadArguments","Invalid key name: "+c);u.octave&&(s[1]=u.octave);var l=parseInt(s[1],10),h=(7*(l+=-1*o.octave_shift)-28+u.index)/2,f=0;(h+=a.clefProperties(e).line_shift)<=0&&2*h%2==0&&(f=1),h>=6&&2*h%2==0&&(f=-1);var d=void 0!==u.int_val?12*l+u.int_val:null,p=u.code,m=u.shift_right;if(s.length>2&&s[2]){var b=s[2].toUpperCase(),g=a.keyProperties.note_glyph[b];g&&(p=g.code,m=g.shift_right)}return{key:c,octave:l,line:h,int_value:d,accidental:u.accidental,code:p,stroke:f,shift_right:m,displaced:!1}},a.keyProperties.note_values={C:{index:0,int_val:0,accidental:null},CN:{index:0,int_val:0,accidental:"n"},"C#":{index:0,int_val:1,accidental:"#"},"C##":{index:0,int_val:2,accidental:"##"},CB:{index:0,int_val:-1,accidental:"b"},CBB:{index:0,int_val:-2,accidental:"bb"},D:{index:1,int_val:2,accidental:null},DN:{index:1,int_val:2,accidental:"n"},"D#":{index:1,int_val:3,accidental:"#"},"D##":{index:1,int_val:4,accidental:"##"},DB:{index:1,int_val:1,accidental:"b"},DBB:{index:1,int_val:0,accidental:"bb"},E:{index:2,int_val:4,accidental:null},EN:{index:2,int_val:4,accidental:"n"},"E#":{index:2,int_val:5,accidental:"#"},"E##":{index:2,int_val:6,accidental:"##"},EB:{index:2,int_val:3,accidental:"b"},EBB:{index:2,int_val:2,accidental:"bb"},F:{index:3,int_val:5,accidental:null},FN:{index:3,int_val:5,accidental:"n"},"F#":{index:3,int_val:6,accidental:"#"},"F##":{index:3,int_val:7,accidental:"##"},FB:{index:3,int_val:4,accidental:"b"},FBB:{index:3,int_val:3,accidental:"bb"},G:{index:4,int_val:7,accidental:null},GN:{index:4,int_val:7,accidental:"n"},"G#":{index:4,int_val:8,accidental:"#"},"G##":{index:4,int_val:9,accidental:"##"},GB:{index:4,int_val:6,accidental:"b"},GBB:{index:4,int_val:5,accidental:"bb"},A:{index:5,int_val:9,accidental:null},AN:{index:5,int_val:9,accidental:"n"},"A#":{index:5,int_val:10,accidental:"#"},"A##":{index:5,int_val:11,accidental:"##"},AB:{index:5,int_val:8,accidental:"b"},ABB:{index:5,int_val:7,accidental:"bb"},B:{index:6,int_val:11,accidental:null},BN:{index:6,int_val:11,accidental:"n"},"B#":{index:6,int_val:12,accidental:"#"},"B##":{index:6,int_val:13,accidental:"##"},BB:{index:6,int_val:10,accidental:"b"},BBB:{index:6,int_val:9,accidental:"bb"},R:{index:6,int_val:9,rest:!0},X:{index:6,accidental:"",octave:4,code:"v3e",shift_right:5.5}},a.keyProperties.note_glyph={D0:{code:"v27",shift_right:-.5},D1:{code:"v2d",shift_right:-.5},D2:{code:"v22",shift_right:-.5},D3:{code:"v70",shift_right:-.5},T0:{code:"v49",shift_right:-2},T1:{code:"v93",shift_right:.5},T2:{code:"v40",shift_right:.5},T3:{code:"v7d",shift_right:.5},X0:{code:"v92",shift_right:-2},X1:{code:"v95",shift_right:-.5},X2:{code:"v7f",shift_right:.5},X3:{code:"v3b",shift_right:-2}},a.integerToNote=function(t){if(void 0===t)throw new r.Vex.RERR("BadArguments","Undefined integer for integerToNote");if(t<-2)throw new r.Vex.RERR("BadArguments","integerToNote requires integer > -2: "+t);var e=a.integerToNote.table[t];if(!e)throw new r.Vex.RERR("BadArguments","Unknown note value for integer: "+t);return e},a.integerToNote.table={0:"C",1:"C#",2:"D",3:"D#",4:"E",5:"F",6:"F#",7:"G",8:"G#",9:"A",10:"A#",11:"B"},a.tabToGlyph=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=null,i=0,r=0;if("X"===t.toString().toUpperCase()){var o=new s.Glyph("v7f",a.DEFAULT_TABLATURE_FONT_SCALE).getMetrics();n="v7f",i=o.width,r=-o.height/2}else i=a.textWidth(t.toString());return{text:t,code:n,getWidth:function(){return i*e},shift_y:r}},a.textWidth=function(t){return 7*t.toString().length},a.articulationCodes=function(t){return a.articulationCodes.articulations[t]},a.articulationCodes.articulations={"a.":{code:"v23",between_lines:!0},av:{code:"v28",between_lines:!0},"a>":{code:"v42",between_lines:!0},"a-":{code:"v25",between_lines:!0},"a^":{code:"va",between_lines:!1},"a+":{code:"v8b",between_lines:!1},ao:{code:"v94",between_lines:!1},ah:{code:"vb9",between_lines:!1},"a@a":{code:"v43",between_lines:!1},"a@u":{code:"v5b",between_lines:!1},"a|":{code:"v75",between_lines:!1},am:{code:"v97",between_lines:!1},"a,":{code:"vb3",between_lines:!1}},a.accidentalCodes=function(t){return a.accidentalCodes.accidentals[t]},a.accidentalCodes.accidentals={"#":{code:"v18",parenRightPaddingAdjustment:-1},"##":{code:"v7f",parenRightPaddingAdjustment:-1},b:{code:"v44",parenRightPaddingAdjustment:-2},bb:{code:"v26",parenRightPaddingAdjustment:-2},n:{code:"v4e",parenRightPaddingAdjustment:-1},"{":{code:"v9c",parenRightPaddingAdjustment:-1},"}":{code:"v84",parenRightPaddingAdjustment:-1},db:{code:"v9e",parenRightPaddingAdjustment:-1},d:{code:"vab",parenRightPaddingAdjustment:0},bbs:{code:"v90",parenRightPaddingAdjustment:-1},"++":{code:"v51",parenRightPaddingAdjustment:-1},"+":{code:"v78",parenRightPaddingAdjustment:-1},"+-":{code:"v8d",parenRightPaddingAdjustment:-1},"++-":{code:"v7a",parenRightPaddingAdjustment:-1},bs:{code:"vb7",parenRightPaddingAdjustment:-1},bss:{code:"v39",parenRightPaddingAdjustment:-1},o:{code:"vd0",parenRightPaddingAdjustment:-1},k:{code:"vd1",parenRightPaddingAdjustment:-1}},a.accidentalColumnsTable={1:{a:[1],b:[1]},2:{a:[1,2]},3:{a:[1,3,2],b:[1,2,1],second_on_bottom:[1,2,3]},4:{a:[1,3,4,2],b:[1,2,3,1],spaced_out_tetrachord:[1,2,1,2]},5:{a:[1,3,5,4,2],b:[1,2,4,3,1],spaced_out_pentachord:[1,2,3,2,1],very_spaced_out_pentachord:[1,2,1,2,1]},6:{a:[1,3,5,6,4,2],b:[1,2,4,5,3,1],spaced_out_hexachord:[1,3,2,1,3,2],very_spaced_out_hexachord:[1,2,1,2,1,2]}},a.ornamentCodes=function(t){return a.ornamentCodes.ornaments[t]},a.ornamentCodes.ornaments={mordent:{code:"v1e"},mordent_inverted:{code:"v45"},turn:{code:"v72"},turn_inverted:{code:"v33"},tr:{code:"v1f"},upprall:{code:"v60"},downprall:{code:"vb4"},prallup:{code:"v6d"},pralldown:{code:"v2c"},upmordent:{code:"v29"},downmordent:{code:"v68"},lineprall:{code:"v20"},prallprall:{code:"v86"}},a.keySignature=function(t){var e=a.keySignature.keySpecs[t];if(!e)throw new r.Vex.RERR("BadKeySignature","Bad key signature spec: '"+t+"'");if(!e.acc)return[];for(var n=a.keySignature.accidentalList(e.acc),i=[],o=0;o<e.num;++o){var s=n[o];i.push({type:e.acc,line:s})}return i},a.keySignature.keySpecs={C:{acc:null,num:0},Am:{acc:null,num:0},F:{acc:"b",num:1},Dm:{acc:"b",num:1},Bb:{acc:"b",num:2},Gm:{acc:"b",num:2},Eb:{acc:"b",num:3},Cm:{acc:"b",num:3},Ab:{acc:"b",num:4},Fm:{acc:"b",num:4},Db:{acc:"b",num:5},Bbm:{acc:"b",num:5},Gb:{acc:"b",num:6},Ebm:{acc:"b",num:6},Cb:{acc:"b",num:7},Abm:{acc:"b",num:7},G:{acc:"#",num:1},Em:{acc:"#",num:1},D:{acc:"#",num:2},Bm:{acc:"#",num:2},A:{acc:"#",num:3},"F#m":{acc:"#",num:3},E:{acc:"#",num:4},"C#m":{acc:"#",num:4},B:{acc:"#",num:5},"G#m":{acc:"#",num:5},"F#":{acc:"#",num:6},"D#m":{acc:"#",num:6},"C#":{acc:"#",num:7},"A#m":{acc:"#",num:7}},a.unicode={sharp:String.fromCharCode(parseInt("266F",16)),flat:String.fromCharCode(parseInt("266D",16)),natural:String.fromCharCode(parseInt("266E",16)),triangle:String.fromCharCode(parseInt("25B3",16)),"o-with-slash":String.fromCharCode(parseInt("00F8",16)),degrees:String.fromCharCode(parseInt("00B0",16)),circle:String.fromCharCode(parseInt("25CB",16))},a.keySignature.accidentalList=function(t){return{b:[2,.5,2.5,1,3,1.5,3.5],"#":[0,1.5,-.5,1,2.5,.5,2]}[t]},a.parseNoteDurationString=function(t){if("string"!=typeof t)return null;var e=/(\d*\/?\d+|[a-z])(d*)([nrhms]|$)/.exec(t);if(!e)return null;var n=e[1],i=e[2].length,r=e[3];return 0===r.length&&(r="n"),{duration:n,dots:i,type:r}},a.parseNoteData=function(t){var e=t.duration,n=a.parseNoteDurationString(e);if(!n)return null;var i=a.durationToTicks(n.duration);if(null==i)return null;var r=t.type;if(r){if("n"!==r&&"r"!==r&&"h"!==r&&"m"!==r&&"s"!==r)return null}else(r=n.type)||(r="n");var o=t.dots?t.dots:n.dots;if("number"!=typeof o)return null;for(var s=i,c=0;c<o;c++){if(s<=1)return null;i+=s/=2}return{duration:n.duration,type:r,dots:o,ticks:i}},a.sanitizeDuration=function(t){var e=a.durationAliases[t];if(void 0!==e&&(t=e),void 0===a.durationToTicks.durations[t])throw new r.Vex.RERR("BadArguments","The provided duration is not valid: "+t);return t},a.durationToFraction=function(t){return(new o.Fraction).parse(a.sanitizeDuration(t))},a.durationToNumber=function(t){return a.durationToFraction(t).value()},a.durationToTicks=function(t){t=a.sanitizeDuration(t);var e=a.durationToTicks.durations[t];return void 0===e?null:e},a.durationToTicks.durations={"1/2":2*a.RESOLUTION,1:a.RESOLUTION/1,2:a.RESOLUTION/2,4:a.RESOLUTION/4,8:a.RESOLUTION/8,16:a.RESOLUTION/16,32:a.RESOLUTION/32,64:a.RESOLUTION/64,128:a.RESOLUTION/128,256:a.RESOLUTION/256},a.durationAliases={w:"1",h:"2",q:"4",b:"256"},a.durationToGlyph=function(t,e){t=a.sanitizeDuration(t);var n=a.durationToGlyph.duration_codes[t];if(void 0===n)return null;e||(e="n");var i=n.type[e];return void 0===i?null:r.Vex.Merge(r.Vex.Merge({},n.common),i)},a.durationToGlyph.duration_codes={"1/2":{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"v53",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-a.STEM_HEIGHT,stem_down_extension:-a.STEM_HEIGHT,gracenote_stem_up_extension:-a.STEM_HEIGHT,gracenote_stem_down_extension:-a.STEM_HEIGHT,tabnote_stem_up_extension:-a.STEM_HEIGHT,tabnote_stem_down_extension:-a.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v53"},h:{code_head:"v59"},m:{code_head:"vf",stem_offset:0},r:{code_head:"v31",rest:!0,position:"B/5",dot_shiftY:.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},1:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"v1d",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-a.STEM_HEIGHT,stem_down_extension:-a.STEM_HEIGHT,gracenote_stem_up_extension:-a.STEM_HEIGHT,gracenote_stem_down_extension:-a.STEM_HEIGHT,tabnote_stem_up_extension:-a.STEM_HEIGHT,tabnote_stem_down_extension:-a.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v1d"},h:{code_head:"v46"},m:{code_head:"v92",stem_offset:-3},r:{code_head:"v5c",rest:!0,position:"D/5",dot_shiftY:.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},2:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"v81",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v81"},h:{code_head:"v2d"},m:{code_head:"v95",stem_offset:-3},r:{code_head:"vc",stem:!1,rest:!0,position:"B/4",dot_shiftY:-.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},4:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e",stem_offset:-3},r:{code_head:"v7c",stem:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1.5,line_below:1.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},8:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,beam_count:1,code_flag_upstem:"v54",code_flag_downstem:"v9a",stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"va5",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1,line_below:1},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},16:{common:{beam_count:2,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v3f",code_flag_downstem:"v8f",stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v3c",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1,line_below:2},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},32:{common:{beam_count:3,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v47",code_flag_downstem:"v2a",stem_up_extension:9,stem_down_extension:9,gracenote_stem_up_extension:-12,gracenote_stem_down_extension:-12,tabnote_stem_up_extension:8,tabnote_stem_down_extension:5,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v55",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-1.5,line_above:2,line_below:2},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},64:{common:{beam_count:4,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"va9",code_flag_downstem:"v58",stem_up_extension:13,stem_down_extension:13,gracenote_stem_up_extension:-10,gracenote_stem_down_extension:-10,tabnote_stem_up_extension:12,tabnote_stem_down_extension:9,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v38",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-1.5,line_above:2,line_below:3},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},128:{common:{beam_count:5,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v9b",code_flag_downstem:"v30",stem_up_extension:22,stem_down_extension:22,gracenote_stem_up_extension:-8,gracenote_stem_down_extension:-8,tabnote_stem_up_extension:21,tabnote_stem_down_extension:18,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"vaa",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:1.5,line_above:3,line_below:3},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}}},a.TIME4_4={num_beats:4,beat_value:4,resolution:a.RESOLUTION},e.Flow=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Fraction=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.set(e,n)}return i(t,null,[{key:"GCD",value:function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new r.Vex.RERR("BadArgument","Invalid numbers: "+t+", "+e);for(var n=void 0;0!==e;)n=e,e=t%e,t=n;return t}},{key:"LCM",value:function(e,n){return e*n/t.GCD(e,n)}},{key:"LCMM",value:function(e){if(0===e.length)return 0;if(1===e.length)return e[0];if(2===e.length)return t.LCM(e[0],e[1]);var n=e[0];return e.shift(),t.LCM(n,t.LCMM(e))}}]),i(t,[{key:"set",value:function(t,e){return this.numerator=void 0===t?1:t,this.denominator=void 0===e?1:e,this}},{key:"value",value:function(){return this.numerator/this.denominator}},{key:"simplify",value:function(){var e=this.numerator,n=this.denominator,i=t.GCD(e,n);return e/=i,(n/=i)<0&&(n=-n,e=-e),this.set(e,n)}},{key:"add",value:function(e,n){var i=void 0,r=void 0;e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:0,r=void 0!==n?n:1);var o=t.LCM(this.denominator,r),s=o/this.denominator,a=o/r,c=this.numerator*s+i*a;return this.set(c,o)}},{key:"subtract",value:function(e,n){var i=void 0,r=void 0;e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:0,r=void 0!==n?n:1);var o=t.LCM(this.denominator,r),s=o/this.denominator,a=o/r,c=this.numerator*s-i*a;return this.set(c,o)}},{key:"multiply",value:function(e,n){var i=void 0,r=void 0;return e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:1,r=void 0!==n?n:1),this.set(this.numerator*i,this.denominator*r)}},{key:"divide",value:function(e,n){var i=void 0,r=void 0;return e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:1,r=void 0!==n?n:1),this.set(this.numerator*r,this.denominator*i)}},{key:"equals",value:function(e){var n=t.__compareA.copy(e).simplify(),i=t.__compareB.copy(this).simplify();return n.numerator===i.numerator&&n.denominator===i.denominator}},{key:"greaterThan",value:function(e){var n=t.__compareB.copy(this);return n.subtract(e),n.numerator>0}},{key:"greaterThanEquals",value:function(e){var n=t.__compareB.copy(this);return n.subtract(e),n.numerator>=0}},{key:"lessThan",value:function(t){return!this.greaterThanEquals(t)}},{key:"lessThanEquals",value:function(t){return!this.greaterThan(t)}},{key:"clone",value:function(){return new t(this.numerator,this.denominator)}},{key:"copy",value:function(t){return this.set(t.numerator,t.denominator)}},{key:"quotient",value:function(){return Math.floor(this.numerator/this.denominator)}},{key:"fraction",value:function(){return this.numerator%this.denominator}},{key:"abs",value:function(){return this.denominator=Math.abs(this.denominator),this.numerator=Math.abs(this.numerator),this}},{key:"toString",value:function(){return this.numerator+"/"+this.denominator}},{key:"toSimplifiedString",value:function(){return t.__tmp.copy(this).simplify().toString()}},{key:"toMixedString",value:function(){var e="",n=this.quotient(),i=t.__tmp.copy(this);return n<0?i.abs().fraction():i.fraction(),0!==n?(e+=n,0!==i.numerator&&(e+=" "+i.toSimplifiedString())):e=0===i.numerator?"0":i.toSimplifiedString(),e}},{key:"parse",value:function(t){var e=t.split("/"),n=parseInt(e[0],10),i=e[1]?parseInt(e[1],10):1;return this.set(n,i)}}]),t}();e.Fraction=o,o.__compareA=new o,o.__compareB=new o,o.__tmp=new o},function(t,e,n){"use strict";function i(t,e,n,i,r,o){function s(){return e+t[h++]*i}function a(){return n+t[h++]*r}for(var c=void 0,u=void 0,l=void 0,h=0;h<t.length;)switch(c=t[h++]){case"m":case"l":o[c](s(),a());break;case"q":u=s(),l=a(),o.q(s(),a(),u,l);break;case"b":u=s(),l=a(),o.b(s(),a(),s(),a(),u,l)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Glyph=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(5),a=n(7),c=n(8),u=n(9);e.Glyph=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.setAttribute("type","Glyph"),r.code=t,r.point=n,r.options={cache:!0,font:u.Font},r.metrics=null,r.x_shift=0,r.y_shift=0,r.originShift={x:0,y:0},i?r.setOptions(i):r.reset(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Element),r(e,null,[{key:"loadMetrics",value:function(t,e,n){var i=t.glyphs[e];if(!i)throw new o.Vex.RERR("BadGlyph","Glyph "+e+" does not exist in font.");var r=i.x_min,s=i.x_max,a=i.ha,c=void 0;if(i.o)return n?i.cached_outline?c=i.cached_outline:(c=i.o.split(" "),i.cached_outline=c):(i.cached_outline&&delete i.cached_outline,c=i.o.split(" ")),{x_min:r,x_max:s,ha:a,outline:c};throw new o.Vex.RERR("BadGlyph","Glyph "+e+" has no outline defined.")}},{key:"renderGlyph",value:function(t,n,i,r,o,s){var a=72*r/(100*u.Font.resolution),c=e.loadMetrics(u.Font,o,!s);e.renderOutline(t,c.outline,a,n,i)}},{key:"renderOutline",value:function(t,e,n,r,o){t.beginPath(),t.moveTo(r,o),i(e,r,o,n,-n,{m:t.moveTo.bind(t),l:t.lineTo.bind(t),q:t.quadraticCurveTo.bind(t),b:t.bezierCurveTo.bind(t)}),t.fill()}},{key:"getOutlineBoundingBox",value:function(t,e,n,r){var o=new a.BoundingBoxComputation;return i(t,n,r,e,-e,{m:o.addPoint.bind(o),l:o.addPoint.bind(o),q:o.addQuadraticCurve.bind(o),b:o.addBezierCurve.bind(o)}),new c.BoundingBox(o.x1,o.y1,o.width(),o.height())}}]),r(e,[{key:"setOptions",value:function(t){o.Vex.Merge(this.options,t),this.reset()}},{key:"setPoint",value:function(t){return this.point=t,this}},{key:"setStave",value:function(t){return this.stave=t,this}},{key:"setXShift",value:function(t){return this.x_shift=t,this}},{key:"setYShift",value:function(t){return this.y_shift=t,this}},{key:"reset",value:function(){this.scale=72*this.point/(100*this.options.font.resolution),this.metrics=e.loadMetrics(this.options.font,this.code,this.options.cache),this.bbox=e.getOutlineBoundingBox(this.metrics.outline,this.scale,0,0)}},{key:"getMetrics",value:function(){if(!this.metrics)throw new o.Vex.RuntimeError("BadGlyph","Glyph "+this.code+" is not initialized.");return{x_min:this.metrics.x_min*this.scale,x_max:this.metrics.x_max*this.scale,width:this.bbox.getW(),height:this.bbox.getH()}}},{key:"setOriginX",value:function(t){var e=this.bbox,n=(t-Math.abs(e.getX()/e.getW()))*e.getW();this.originShift.x=-n}},{key:"setOriginY",value:function(t){var e=this.bbox,n=(t-Math.abs(e.getY()/e.getH()))*e.getH();this.originShift.y=-n}},{key:"setOrigin",value:function(t,e){this.setOriginX(t),this.setOriginY(e)}},{key:"render",value:function(t,n,i){if(!this.metrics)throw new o.Vex.RuntimeError("BadGlyph","Glyph "+this.code+" is not initialized.");var r=this.metrics.outline,s=this.scale;this.setRendered(),this.applyStyle(t),e.renderOutline(t,r,s,n+this.originShift.x,i+this.originShift.y),this.restoreStyle(t)}},{key:"renderToStave",value:function(t){if(this.checkContext(),!this.metrics)throw new o.Vex.RuntimeError("BadGlyph","Glyph "+this.code+" is not initialized.");if(!this.stave)throw new o.Vex.RuntimeError("GlyphError","No valid stave");var n=this.metrics.outline,i=this.scale;this.setRendered(),this.applyStyle(),e.renderOutline(this.context,n,i,t+this.x_shift,this.stave.getYForGlyphs()+this.y_shift),this.restoreStyle()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Element=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(6);(e.Element=function(){function t(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).type;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attrs={id:t.newID(),el:null,type:e||"Base",classes:{}},this.boundingBox=null,this.context=null,this.rendered=!1,o.Registry.getDefaultRegistry()&&o.Registry.getDefaultRegistry().register(this)}return i(t,null,[{key:"newID",value:function(){return"auto"+t.ID++}}]),i(t,[{key:"setStyle",value:function(t){return this.style=t,this}},{key:"getStyle",value:function(){return this.style}},{key:"applyStyle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.context:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.getStyle():arguments[1];return e?(t.save(),e.shadowColor&&t.setShadowColor(e.shadowColor),e.shadowBlur&&t.setShadowBlur(e.shadowBlur),e.fillStyle&&t.setFillStyle(e.fillStyle),e.strokeStyle&&t.setStrokeStyle(e.strokeStyle),e.lineWidth&&t.setLineWidth(e.lineWidth),this):this}},{key:"restoreStyle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.context:arguments[0];return(arguments.length<=1||void 0===arguments[1]?this.getStyle():arguments[1])?(t.restore(),this):this}},{key:"hasClass",value:function(t){return!0===this.attrs.classes[t]}},{key:"addClass",value:function(t){return this.attrs.classes[t]=!0,this.registry&&this.registry.onUpdate({id:this.getAttribute("id"),name:"class",value:t,oldValue:null}),this}},{key:"removeClass",value:function(t){return delete this.attrs.classes[t],this.registry&&this.registry.onUpdate({id:this.getAttribute("id"),name:"class",value:null,oldValue:t}),this}},{key:"onRegister",value:function(t){return this.registry=t,this}},{key:"isRendered",value:function(){return this.rendered}},{key:"setRendered",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];return this.rendered=t,this}},{key:"getAttributes",value:function(){return this.attrs}},{key:"getAttribute",value:function(t){return this.attrs[t]}},{key:"setAttribute",value:function(t,e){var n=this.attrs.id,i=this.attrs[t];return this.attrs[t]=e,this.registry&&this.registry.onUpdate({id:n,name:t,value:e,oldValue:i}),this}},{key:"getContext",value:function(){return this.context}},{key:"setContext",value:function(t){return this.context=t,this}},{key:"getBoundingBox",value:function(){return this.boundingBox}},{key:"checkContext",value:function(){if(!this.context)throw new r.Vex.RERR("NoContext","No rendering context attached to instance");return this.context}}]),t}()).ID=1e3},function(t,e,n){"use strict";function i(t,e,n,i,r){t[e][n]||(t[e][n]={}),t[e][n][i]=r}Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=e.X=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=e.X=o.Vex.MakeException("RegistryError");(e.Registry=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clear()}return r(t,null,[{key:"INDEXES",get:function(){return["type"]}}]),r(t,[{key:"clear",value:function(){return this.index={id:{},type:{},class:{}},this}},{key:"updateIndex",value:function(t){var e=t.id,n=t.name,r=t.value,o=t.oldValue,s=this.getElementById(e);null!==o&&this.index[n][o]&&delete this.index[n][o][e],null!==r&&i(this.index,n,r,s.getAttribute("id"),s)}},{key:"register",value:function(e,n){var r=this;if(!(n=n||e.getAttribute("id")))throw new s("Can't add element without `id` attribute to registry",e);return e.setAttribute("id",n),i(this.index,"id",n,n,e),t.INDEXES.forEach(function(t){r.updateIndex({id:n,name:t,value:e.getAttribute(t),oldValue:null})}),e.onRegister(this),this}},{key:"getElementById",value:function(t){return this.index.id[t]?this.index.id[t][t]:null}},{key:"getElementsByAttribute",value:function(t,e){var n=this.index[t];return n&&n[e]?Object.keys(n[e]).map(function(t){return n[e][t]}):[]}},{key:"getElementsByType",value:function(t){return this.getElementsByAttribute("type",t)}},{key:"getElementsByClass",value:function(t){return this.getElementsByAttribute("class",t)}},{key:"onUpdate",value:function(e){var n=e.id,i=e.name,r=e.value,o=e.oldValue;return function(t,e){return t.filter(function(t){return t===e}).length>0}(t.INDEXES.concat(["id","class"]),i)?(this.updateIndex({id:n,name:i,value:r,oldValue:o}),this):this}}],[{key:"enableDefaultRegistry",value:function(e){t.defaultRegistry=e}},{key:"getDefaultRegistry",value:function(){return t.defaultRegistry}},{key:"disableDefaultRegistry",value:function(){t.defaultRegistry=null}}]),t}()).defaultRegistry=null},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.BoundingBoxComputation=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.addPoint(e,n),this.addPoint(i,r)}return n(t,[{key:"width",value:function(){return this.x2-this.x1}},{key:"height",value:function(){return this.y2-this.y1}},{key:"addPoint",value:function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}},{key:"addX",value:function(t){this.addPoint(t,null)}},{key:"addY",value:function(t){this.addPoint(null,t)}},{key:"addQuadraticCurve",value:function(t,e,n,i,r,o){var s=t+2/3*(n-t),a=e+2/3*(i-e),c=s+1/3*(r-t),u=a+1/3*(o-e);this.addBezierCurve(t,e,s,a,c,u,r,o)}},{key:"addBezierCurve",value:function(t,e,n,i,r,o,s,a){var c=[t,e],u=[n,i],l=[r,o],h=[s,a],f=void 0;this.addPoint(c[0],c[1]),this.addPoint(h[0],h[1]);var d=function(t,e){return Math.pow(1-t,3)*c[e]+3*Math.pow(1-t,2)*t*u[e]+3*(1-t)*Math.pow(t,2)*l[e]+Math.pow(t,3)*h[e]};for(f=0;f<=1;f++){var p=6*c[f]-12*u[f]+6*l[f],m=-3*c[f]+9*u[f]-9*l[f]+3*h[f],b=3*u[f]-3*c[f];if(0!==m){var g=Math.pow(p,2)-4*b*m;if(!(g<0)){var v=(-p+Math.sqrt(g))/(2*m);0<v&&v<1&&(0===f&&this.addX(d(v,f)),1===f&&this.addY(d(v,f)));var y=(-p-Math.sqrt(g))/(2*m);0<y&&y<1&&(0===f&&this.addX(d(y,f)),1===f&&this.addY(d(y,f)))}}else{if(0===p)continue;var _=-b/p;0<_&&_<1&&(0===f&&this.addX(d(_,f)),1===f&&this.addY(d(_,f)))}}}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.BoundingBox=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.w=i,this.h=r}return n(t,null,[{key:"copy",value:function(e){return new t(e.x,e.y,e.w,e.h)}}]),n(t,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getW",value:function(){return this.w}},{key:"getH",value:function(){return this.h}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setH",value:function(t){return this.h=t,this}},{key:"move",value:function(t,e){this.x+=t,this.y+=e}},{key:"clone",value:function(){return t.copy(this)}},{key:"mergeWith",value:function(t,e){var n=t,i=this.x<n.x?this.x:n.x,r=this.y<n.y?this.y:n.y,o=Math.max(this.x+this.w,n.x+n.w)-i,s=Math.max(this.y+this.h,n.y+n.h)-r;return this.x=i,this.y=r,this.w=o,this.h=s,e&&this.draw(e),this}},{key:"draw",value:function(t,e,n){e||(e=0),n||(n=0),t.rect(this.x+e,this.y+n,this.w,this.h),t.stroke()}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Font={glyphs:{v0:{x_min:0,x_max:514.5,ha:525,o:"m 236 648 b 246 648 238 648 242 648 b 288 646 261 648 283 648 b 472 513 364 634 428 587 b 514 347 502 464 514 413 b 462 163 514 272 499 217 b 257 44 409 83 333 44 b 50 163 181 44 103 83 b 0 347 14 217 0 272 b 40 513 0 413 12 464 b 236 648 87 591 155 638 m 277 614 b 253 616 273 616 261 616 b 242 616 247 616 243 616 b 170 499 193 609 181 589 b 159 348 163 446 159 398 b 166 222 159 308 161 266 b 201 91 174 138 183 106 b 257 76 215 81 235 76 b 311 91 277 76 299 81 b 347 222 330 106 338 138 b 353 348 352 266 353 308 b 344 499 353 398 351 446 b 277 614 333 587 322 606 m 257 -1 l 258 -1 l 255 -1 l 257 -1 m 257 673 l 258 673 l 255 673 l 257 673 "},v1:{x_min:-1.359375,x_max:344.359375,ha:351,o:"m 126 637 l 129 638 l 198 638 l 266 638 l 269 635 b 274 631 272 634 273 632 l 277 627 l 277 395 b 279 156 277 230 277 161 b 329 88 281 123 295 106 b 344 69 341 81 344 79 b 337 55 344 62 343 59 l 333 54 l 197 54 l 61 54 l 58 55 b 50 69 53 59 50 62 b 65 88 50 79 53 81 b 80 97 72 91 74 93 b 117 156 103 113 112 129 b 117 345 117 161 117 222 l 117 528 l 100 503 l 38 406 b 14 383 24 384 23 383 b -1 398 5 383 -1 390 b 4 415 -1 403 1 409 b 16 437 5 416 10 426 l 72 539 l 100 596 b 121 632 119 631 119 631 b 126 637 122 634 125 635 m 171 -1 l 172 -1 l 170 -1 l 171 -1 m 171 673 l 172 673 l 170 673 l 171 673 "},v2:{x_min:-1.359375,x_max:458.6875,ha:468,o:"m 197 648 b 216 648 201 648 208 648 b 258 646 232 648 253 648 b 419 546 333 637 393 599 b 432 489 428 528 432 509 b 356 342 432 440 405 384 b 235 278 322 313 288 295 b 69 170 166 256 107 217 b 69 169 69 170 69 169 b 69 169 69 169 69 169 b 74 173 69 169 72 170 b 209 222 112 204 163 222 b 310 195 247 222 274 215 b 371 179 332 184 352 179 b 396 181 379 179 387 179 b 428 202 409 184 423 194 b 442 212 431 209 436 212 b 458 197 450 212 458 206 b 441 148 458 190 449 165 b 299 44 409 84 353 44 b 288 45 295 44 292 44 b 250 61 274 45 268 49 b 122 99 212 86 164 99 b 73 91 104 99 88 97 b 28 63 53 84 34 72 b 14 54 25 56 20 54 b 1 62 9 54 4 56 l -1 65 l -1 79 b 0 99 -1 91 0 95 b 2 113 1 102 2 108 b 164 309 20 197 81 272 b 285 470 232 341 277 398 b 287 487 287 476 287 481 b 171 595 287 551 239 595 b 155 595 166 595 160 595 b 142 592 145 594 142 594 b 145 589 142 592 142 591 b 179 527 168 576 179 551 b 132 455 179 496 163 467 b 104 451 122 452 112 451 b 27 530 62 451 27 487 b 29 555 27 538 27 546 b 197 648 44 601 115 639 m 228 -1 l 230 -1 l 227 -1 l 228 -1 m 228 673 l 230 673 l 227 673 l 228 673 "},v3:{x_min:-1.359375,x_max:409.6875,ha:418,o:"m 174 648 b 191 648 176 648 183 648 b 225 648 204 648 220 648 b 402 523 317 638 389 588 b 404 503 404 517 404 510 b 402 484 404 495 404 488 b 264 373 389 437 334 394 b 257 370 259 371 257 371 b 257 370 257 370 257 370 b 264 369 258 370 261 369 b 409 202 359 334 409 267 b 318 72 409 152 381 104 b 200 43 281 52 240 43 b 23 113 134 43 69 68 b 0 169 6 129 0 149 b 77 249 0 210 29 249 l 77 249 b 152 174 125 249 152 212 b 103 102 152 145 137 116 b 103 102 103 102 103 102 b 147 94 103 101 132 95 b 153 94 149 94 151 94 b 265 206 219 94 265 141 b 264 226 265 213 265 219 b 147 355 253 299 204 353 b 126 371 133 356 126 362 b 147 388 126 383 132 388 b 254 474 196 391 238 424 b 259 502 258 484 259 494 b 182 592 259 544 228 582 b 156 595 175 595 166 595 b 115 592 142 595 129 594 l 111 591 l 115 588 b 152 524 141 574 152 549 b 92 449 152 491 130 458 b 76 448 87 448 81 448 b -1 530 32 448 -1 488 b 20 581 -1 548 5 566 b 174 648 55 619 108 641 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 "},v4:{x_min:0,x_max:468.21875,ha:478,o:"m 174 637 b 232 638 175 638 189 638 b 277 638 245 638 259 638 l 378 638 l 381 635 b 389 623 386 632 389 627 b 382 609 389 617 386 613 b 366 589 381 606 372 598 l 313 528 l 245 451 l 209 410 l 155 348 l 84 267 b 59 240 72 252 59 240 b 59 240 59 240 59 240 b 151 238 59 238 68 238 l 242 238 l 242 303 b 243 371 242 369 242 370 b 289 426 245 374 254 385 l 303 441 l 317 456 l 338 483 l 360 506 l 371 520 b 386 527 375 526 381 527 b 400 519 392 527 397 524 b 401 440 401 516 401 514 b 401 377 401 423 401 402 l 401 238 l 426 238 b 453 237 449 238 450 238 b 465 217 461 234 465 226 b 460 202 465 212 464 206 b 426 197 454 197 453 197 l 401 197 l 401 180 b 451 88 402 129 412 109 b 468 69 465 81 468 79 b 461 55 468 62 466 59 l 458 54 l 321 54 l 185 54 l 182 55 b 175 69 176 59 175 62 b 191 88 175 79 176 81 b 240 180 230 109 240 129 l 240 197 l 125 197 b 73 195 104 195 87 195 b 8 197 10 195 9 197 b 0 212 2 199 0 205 b 0 212 0 212 0 212 b 20 242 0 219 0 219 b 163 610 104 344 163 492 b 174 637 163 628 166 634 m 234 -1 l 235 -1 l 232 -1 l 234 -1 m 234 673 l 235 673 l 232 673 l 234 673 "},v5:{x_min:0,x_max:409.6875,ha:418,o:"m 47 637 b 53 638 49 638 50 638 b 69 634 55 638 61 637 b 210 610 114 619 161 610 b 363 634 259 610 311 619 b 382 638 372 637 378 638 b 392 634 386 638 389 637 b 397 623 396 630 397 627 b 393 610 397 620 396 616 b 298 505 368 552 338 520 b 212 494 277 498 246 494 b 65 517 163 494 106 502 b 61 517 62 517 61 517 b 61 517 61 517 61 517 b 51 408 61 517 51 412 b 51 408 51 408 51 408 b 51 408 51 408 51 408 b 61 412 53 408 55 409 b 125 434 80 421 103 430 b 185 441 145 440 166 441 b 409 244 310 441 409 353 b 401 191 409 227 406 209 b 197 43 375 105 287 43 b 159 47 183 43 171 44 b 23 123 112 56 61 86 b 0 180 6 140 0 159 b 76 260 0 220 31 260 b 92 259 81 260 87 259 b 152 183 132 251 152 216 b 100 112 152 152 134 122 b 95 111 98 112 95 111 b 95 111 95 111 95 111 b 129 98 95 109 119 101 b 148 97 136 97 141 97 b 264 235 206 97 261 158 b 265 248 265 240 265 244 b 210 398 265 312 243 373 b 179 408 201 406 194 408 b 174 408 178 408 176 408 b 53 369 130 408 88 394 b 34 359 39 359 38 359 b 17 374 24 359 17 365 b 39 628 17 384 38 625 b 47 637 40 631 43 635 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 "},v6:{x_min:0,x_max:475.03125,ha:485,o:"m 255 648 b 274 648 259 648 266 648 b 314 646 288 648 307 648 b 450 555 374 637 438 594 b 454 530 453 546 454 538 b 375 451 454 485 416 451 b 328 467 359 451 343 455 b 300 526 310 483 300 503 b 352 598 300 557 319 589 b 356 599 355 598 356 599 b 352 602 356 599 355 601 b 288 616 330 612 308 616 b 210 584 257 616 230 605 b 164 433 189 559 174 508 b 160 374 163 415 160 381 b 160 374 160 374 160 374 b 160 374 160 374 160 374 b 168 377 160 374 164 376 b 258 395 200 390 228 395 b 366 367 294 395 328 387 b 475 223 436 333 475 283 b 472 197 475 215 473 206 b 349 65 462 141 419 95 b 259 43 317 51 288 43 b 167 69 230 43 200 52 b 4 290 80 113 20 195 b 0 349 1 309 0 328 b 20 467 0 391 6 433 b 255 648 58 563 155 637 m 269 363 b 257 363 265 363 261 363 b 210 345 236 363 220 356 b 186 226 196 324 186 272 b 187 198 186 216 186 206 b 213 95 191 151 202 112 b 257 76 221 83 238 76 b 270 77 261 76 266 76 b 321 156 299 81 310 99 b 329 229 326 183 329 206 b 321 301 329 252 326 274 b 269 363 311 342 298 359 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 "},v7:{x_min:0,x_max:442.359375,ha:451,o:"m 147 648 b 166 649 153 649 160 649 b 313 598 217 649 273 630 b 340 587 323 588 328 587 l 341 587 b 412 628 367 587 390 601 b 427 638 416 635 421 638 b 439 632 431 638 435 637 b 442 623 441 630 442 628 b 430 569 442 616 439 603 b 352 369 408 492 377 410 b 300 259 325 324 313 298 b 273 84 283 205 273 140 b 265 55 273 65 272 59 l 261 54 l 181 54 l 99 54 l 96 55 b 91 61 95 56 92 59 l 89 63 l 89 77 b 147 263 89 133 111 202 b 261 401 176 313 212 355 b 378 541 315 449 349 489 l 382 548 l 375 544 b 240 495 333 512 285 495 b 129 535 198 495 160 509 b 84 560 108 552 95 560 b 76 559 81 560 78 560 b 31 487 59 555 43 530 b 14 470 27 473 24 470 b 1 477 8 470 4 471 l 0 480 l 0 553 l 0 627 l 1 630 b 16 638 4 635 9 638 b 23 635 17 638 20 637 b 49 626 36 626 39 626 b 96 638 59 626 80 630 b 104 639 99 638 102 639 b 117 644 107 641 112 642 b 147 648 125 645 137 648 m 220 -1 l 221 -1 l 219 -1 l 220 -1 m 220 673 l 221 673 l 219 673 l 220 673 "},v8:{x_min:0,x_max:488.640625,ha:499,o:"m 217 648 b 245 649 225 648 235 649 b 453 516 343 649 430 595 b 458 478 455 503 458 491 b 412 370 458 440 441 398 b 411 369 412 369 411 369 b 415 365 411 367 412 367 b 488 231 462 331 488 281 b 472 165 488 208 483 186 b 243 43 434 86 338 43 b 63 104 178 43 112 62 b 0 233 20 140 0 186 b 73 365 0 283 24 331 l 77 369 l 72 374 b 29 476 42 406 29 441 b 217 648 29 557 103 635 m 258 605 b 242 606 253 605 247 606 b 157 552 198 606 157 580 b 160 541 157 548 159 544 b 319 413 176 503 242 452 l 337 403 l 338 406 b 359 476 352 428 359 452 b 258 605 359 537 318 595 m 138 326 b 130 330 134 328 130 330 b 130 330 130 330 130 330 b 107 305 127 330 112 313 b 84 231 91 281 84 256 b 243 86 84 156 151 86 b 249 87 245 86 246 87 b 347 156 303 88 347 120 b 344 172 347 162 345 167 b 156 319 325 227 257 281 b 138 326 151 322 144 324 m 243 -1 l 245 -1 l 242 -1 l 243 -1 m 243 673 l 245 673 l 242 673 l 243 673 "},v9:{x_min:0,x_max:475.03125,ha:485,o:"m 191 646 b 212 649 198 648 205 649 b 255 644 227 649 243 646 b 458 448 348 616 428 539 b 475 342 469 415 475 378 b 460 244 475 308 469 274 b 193 44 421 124 303 44 b 91 69 157 44 122 51 b 19 161 43 97 19 126 b 21 181 19 167 20 174 b 98 241 32 220 65 241 b 170 186 129 241 160 223 b 172 166 171 179 172 173 b 121 94 172 134 152 102 b 117 93 118 94 117 93 b 121 90 117 93 118 91 b 185 76 142 80 164 76 b 270 119 220 76 251 91 b 308 259 287 145 300 194 b 313 317 310 277 313 310 b 313 317 313 317 313 317 b 313 317 313 317 313 317 b 304 315 313 317 308 316 b 216 295 273 302 245 295 b 145 308 193 295 170 299 b 19 398 88 327 42 360 b 0 469 5 420 0 444 b 24 551 0 496 8 526 b 191 646 54 596 125 637 m 227 614 b 215 616 224 616 220 616 b 202 614 210 616 206 616 b 152 535 174 610 163 592 b 144 463 147 509 144 485 b 152 391 144 440 147 417 b 216 328 163 344 179 328 b 280 391 253 328 269 344 b 288 463 285 417 288 440 b 280 535 288 485 285 509 b 227 614 269 594 258 610 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 "},va:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -8 -1 b -1 0 -5 -1 -4 0 b 16 -11 5 0 13 -4 b 83 -186 17 -12 47 -90 l 148 -358 l 148 -363 b 127 -385 148 -376 138 -385 b 112 -378 122 -385 118 -383 b 54 -226 110 -374 114 -385 b 0 -81 24 -147 0 -81 b -55 -226 -1 -81 -25 -147 b -114 -378 -115 -385 -111 -374 b -129 -385 -119 -383 -123 -385 b -149 -363 -140 -385 -149 -376 l -149 -358 l -84 -186 b -19 -11 -49 -90 -19 -12 b -8 -1 -17 -8 -12 -4 "},vb:{x_min:0,x_max:428.75,ha:438,o:"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 "},vc:{x_min:0,x_max:447.8125,ha:457,o:"m 0 86 l 0 173 l 223 173 l 447 173 l 447 86 l 447 0 l 223 0 l 0 0 l 0 86 "},vf:{x_min:0,x_max:370.21875,ha:378,o:"m 0 0 l 0 277 l 61 277 l 122 277 l 122 0 l 122 -278 l 61 -278 l 0 -278 l 0 0 m 246 -1 l 246 277 l 308 277 l 370 277 l 370 -1 l 370 -278 l 308 -278 l 246 -278 l 246 -1 "},v10:{x_min:0,x_max:559.421875,ha:571,o:"m 5 127 b 14 127 6 127 9 127 b 51 126 25 127 43 127 b 175 98 93 122 138 112 l 186 94 b 279 51 210 86 255 65 b 285 47 280 51 283 48 b 319 27 291 44 311 31 l 326 22 b 359 0 332 19 352 4 l 367 -6 b 371 -9 368 -6 370 -8 l 379 -15 b 387 -22 383 -18 386 -20 l 398 -30 l 411 -40 l 417 -47 l 427 -55 l 434 -61 b 441 -66 436 -62 439 -65 l 446 -72 l 453 -77 l 462 -87 b 558 -188 490 -113 549 -176 b 559 -195 559 -191 559 -194 b 548 -205 559 -201 555 -205 b 541 -204 547 -205 544 -205 b 534 -198 539 -201 536 -199 l 525 -191 b 481 -162 518 -187 490 -167 b 472 -155 477 -159 472 -156 b 468 -152 470 -155 469 -154 b 461 -149 466 -152 464 -151 b 428 -130 454 -145 441 -137 b 371 -99 413 -122 372 -99 b 363 -95 371 -99 367 -98 b 353 -91 357 -94 353 -91 b 348 -90 353 -91 352 -91 b 332 -81 343 -87 341 -86 b 27 -12 230 -37 127 -13 b 0 -5 4 -11 2 -11 b 0 58 0 -2 0 27 b 0 122 0 88 0 120 b 5 127 1 124 4 126 "},v11:{x_min:-155.171875,x_max:153.8125,ha:157,o:"m -137 353 b -130 353 -136 353 -133 353 b -112 349 -125 353 -119 352 b -100 342 -110 347 -104 344 b 0 317 -69 326 -35 317 b 111 349 38 317 76 328 b 129 353 117 352 123 353 b 153 327 142 353 153 344 b 144 302 153 320 153 317 b 27 6 93 226 50 113 b 21 -13 24 -11 24 -11 b 0 -26 17 -22 8 -26 b -24 -12 -9 -26 -19 -22 b -28 5 -24 -9 -27 -2 b -145 302 -53 117 -95 224 b -155 327 -155 317 -155 320 b -137 353 -155 340 -148 349 "},v18:{x_min:0,x_max:323.9375,ha:331,o:"m 217 535 b 225 537 220 537 221 537 b 245 524 235 537 242 533 l 246 521 l 247 390 l 247 258 l 273 265 b 306 270 288 269 299 270 b 322 259 315 270 319 267 b 323 208 323 256 323 233 b 322 158 323 184 323 159 b 288 140 318 148 315 147 b 247 130 254 131 247 130 b 247 65 247 130 247 104 b 247 20 247 51 247 36 l 247 -88 l 273 -81 b 306 -76 289 -77 299 -76 b 318 -81 311 -76 315 -77 b 323 -123 323 -87 323 -86 l 323 -138 l 323 -154 b 318 -195 323 -191 323 -190 b 269 -210 314 -199 315 -199 b 249 -216 259 -213 250 -216 l 247 -216 l 247 -349 l 246 -483 l 245 -487 b 225 -499 242 -495 234 -499 b 206 -487 219 -499 210 -495 l 205 -483 l 205 -355 l 205 -227 l 204 -227 l 181 -233 l 138 -244 b 117 -249 127 -247 117 -249 b 115 -385 115 -249 115 -256 l 115 -523 l 114 -526 b 95 -538 110 -534 102 -538 b 74 -526 87 -538 78 -534 l 73 -523 l 73 -391 b 72 -260 73 -269 73 -260 b 72 -260 72 -260 72 -260 b 19 -273 61 -263 23 -273 b 0 -260 10 -273 4 -267 b 0 -209 0 -256 0 -256 l 0 -162 l 1 -158 b 61 -134 5 -148 5 -148 l 73 -131 l 73 -22 b 72 86 73 79 73 86 b 72 86 72 86 72 86 b 19 74 61 83 23 74 b 0 86 10 74 4 79 b 0 137 0 90 0 90 l 0 184 l 1 188 b 61 212 5 198 5 198 l 73 215 l 73 348 l 73 481 l 74 485 b 95 498 78 492 87 498 b 103 495 98 498 100 496 b 114 485 107 494 111 489 l 115 481 l 115 353 l 115 226 l 121 226 b 159 235 123 227 141 231 l 198 247 l 205 248 l 205 384 l 205 521 l 206 524 b 217 535 209 528 212 533 m 205 9 b 205 119 205 70 205 119 l 205 119 b 182 113 204 119 194 116 l 138 102 b 117 97 127 99 117 97 b 115 -12 115 97 115 91 l 115 -122 l 121 -120 b 159 -111 123 -119 141 -115 l 198 -101 l 205 -98 l 205 9 "},v1b:{x_min:0,x_max:559.421875,ha:571,o:"m 544 204 b 548 204 545 204 547 204 b 559 194 555 204 559 199 b 559 190 559 192 559 191 b 530 156 559 188 556 184 b 462 86 510 134 481 104 b 453 76 458 81 454 77 l 446 70 l 441 65 b 434 59 439 63 436 61 l 427 54 b 409 37 426 51 416 44 b 392 23 398 29 394 26 b 387 19 389 22 387 20 b 379 13 386 19 383 16 l 371 8 l 367 5 l 359 -1 l 337 -16 b 285 -48 319 -29 298 -41 l 279 -52 b 186 -95 255 -66 210 -87 l 175 -99 b 23 -129 127 -117 68 -129 b 17 -129 20 -129 19 -129 b 1 -123 2 -129 2 -129 b 0 -49 0 -122 0 -83 b 0 4 0 -22 0 1 b 27 11 2 9 4 9 b 185 31 78 12 145 20 b 198 34 186 31 193 33 b 314 73 234 44 277 58 b 349 88 328 79 340 84 b 353 90 352 90 353 90 b 363 94 353 90 357 93 b 371 98 367 97 371 98 b 428 129 372 98 413 120 b 461 148 441 136 454 144 b 468 151 464 149 466 151 b 472 154 469 152 470 154 b 481 161 473 155 477 158 b 525 190 490 166 518 186 l 534 197 b 540 201 536 198 539 199 b 544 204 541 202 544 204 "},v1d:{x_min:0,x_max:619.3125,ha:632,o:"m 274 184 b 307 186 285 186 296 186 b 616 22 465 186 597 116 b 619 -1 617 13 619 5 b 308 -187 619 -104 483 -187 b 0 -1 133 -187 0 -102 b 5 36 0 11 1 23 b 274 184 29 115 141 176 m 289 161 b 272 162 284 162 277 162 b 171 41 209 162 171 108 b 205 -73 171 5 182 -34 b 345 -163 243 -133 298 -163 b 436 -98 385 -163 420 -142 b 446 -43 443 -80 446 -62 b 289 161 446 47 377 147 "},v1e:{x_min:-402.890625,x_max:401.53125,ha:410,o:"m -219 173 b -213 174 -217 174 -215 174 b -202 173 -209 174 -205 173 b -114 86 -200 172 -179 151 b -28 0 -66 37 -28 0 b 40 84 -28 0 2 37 b 117 174 111 173 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b -42 -86 27 0 -4 -38 b -118 -174 -112 -174 -111 -173 b -123 -176 -119 -176 -121 -176 b -133 -174 -126 -176 -130 -174 b -296 -12 -136 -173 -172 -137 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 172 -398 -43 -228 167 b -219 173 -223 172 -220 173 "},v1f:{x_min:-340.28125,x_max:338.921875,ha:346,o:"m -32 520 b -29 521 -31 520 -31 521 b -23 519 -27 521 -24 520 b -20 513 -21 517 -20 516 b -21 506 -20 512 -20 509 b -31 474 -23 502 -27 488 l -53 402 l -66 352 l -68 349 l -57 349 b -32 351 -51 349 -40 351 b 123 370 19 352 74 359 b 137 371 127 370 133 371 b 170 356 152 371 164 366 b 171 355 170 355 170 355 b 216 366 174 355 183 358 b 280 378 268 377 266 377 b 287 378 283 378 284 378 b 332 349 307 378 322 369 b 338 319 336 341 338 330 b 332 301 338 310 336 302 b 242 280 329 299 246 280 b 242 280 242 280 242 280 b 235 288 236 280 235 283 b 235 292 235 290 235 291 b 236 302 236 297 236 299 b 220 337 236 316 230 330 l 216 340 l 210 335 b 159 276 189 322 172 301 b 118 149 152 265 156 274 b 81 34 84 36 85 36 b -8 13 78 33 -4 13 b -8 13 -8 13 -8 13 b -14 20 -12 15 -14 15 b -8 44 -14 24 -12 31 b -2 66 -5 55 -2 65 b -2 66 -2 66 -2 66 l -2 66 b -43 41 -2 66 -21 55 b -114 4 -98 8 -98 8 b -144 0 -123 0 -134 0 b -242 99 -197 0 -242 43 b -242 109 -242 102 -242 105 b -212 219 -240 122 -242 116 b -185 312 -197 270 -185 312 l -185 312 b -189 312 -185 312 -186 312 b -259 312 -200 312 -227 312 b -321 310 -291 312 -310 310 b -334 312 -330 310 -334 312 b -340 319 -338 313 -340 316 b -336 326 -340 322 -338 324 b -291 337 -334 326 -314 331 l -247 347 l -210 348 b -172 348 -190 348 -172 348 b -168 363 -172 348 -171 355 b -145 442 -151 424 -145 441 b -133 452 -144 444 -140 446 l -77 489 b -32 520 -53 506 -32 520 m 57 334 b 53 335 55 335 54 335 b 44 334 50 335 49 335 b -70 316 8 326 -28 320 b -78 309 -78 316 -78 316 b -108 202 -80 305 -88 274 b -141 81 -136 112 -141 93 b -140 74 -141 79 -141 77 b -117 49 -137 59 -127 49 b -107 52 -114 49 -110 51 b 16 127 -106 54 14 126 b 42 217 16 127 42 215 b 49 241 42 222 44 229 b 73 320 53 251 73 317 b 57 334 73 327 65 333 "},v20:{x_min:-571.671875,x_max:570.3125,ha:582,o:"m -559 351 b -551 352 -556 352 -553 352 b -530 338 -543 352 -533 348 b -529 169 -530 337 -529 291 l -529 1 l -507 27 l -441 112 b -382 174 -394 169 -390 174 b -378 174 -381 174 -379 174 b -281 86 -370 174 -375 179 b -196 0 -234 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 279 172 b 289 174 285 174 288 174 b 300 173 294 174 298 173 b 462 11 303 172 340 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 375 -176 371 -176 b 280 -87 367 -173 347 -152 b 194 0 234 -38 194 0 b 126 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 44 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -140 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -288 -176 b -300 -174 -294 -176 -298 -174 b -464 -11 -303 -173 -374 -102 l -476 0 l -506 -37 b -539 -76 -528 -65 -537 -74 b -551 -80 -543 -79 -547 -80 b -570 -68 -558 -80 -566 -76 l -571 -65 l -571 136 b -570 340 -571 331 -571 337 b -559 351 -568 344 -564 348 "},v22:{x_min:0,x_max:432.828125,ha:442,o:"m 209 186 b 213 187 210 187 212 187 b 216 187 215 187 216 187 b 224 174 216 186 220 180 b 420 -1 269 105 338 43 b 432 -12 431 -8 432 -9 b 421 -23 432 -15 432 -16 b 228 -180 345 -70 264 -137 b 219 -188 221 -188 221 -188 l 219 -188 b 208 -177 215 -188 215 -188 b 10 1 163 -106 93 -44 b 0 11 0 6 0 8 b 10 22 0 13 0 15 b 202 179 87 69 167 136 b 209 186 206 183 209 186 "},v23:{x_min:0,x_max:133.390625,ha:136,o:"m 54 66 b 65 68 58 68 61 68 b 122 37 88 68 110 56 b 133 -1 130 26 133 12 b 104 -58 133 -23 123 -44 b 66 -69 92 -65 78 -69 b 10 -38 44 -69 23 -58 b 0 -1 2 -27 0 -13 b 54 66 0 30 20 61 "},v25:{x_min:0,x_max:318.5,ha:325,o:"m 20 376 b 167 377 23 377 96 377 b 296 376 231 377 294 377 b 318 347 311 371 318 359 b 296 316 318 333 311 320 b 159 315 294 315 227 315 b 21 316 91 315 24 315 b 0 345 6 320 0 333 b 20 376 0 359 6 371 "},v26:{x_min:-21.78125,x_max:483.1875,ha:493,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 179 164 199 187 192 l 210 176 l 210 396 l 210 617 l 212 621 b 231 632 216 628 223 632 b 250 620 239 632 247 628 b 251 383 251 616 251 616 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 "},v27:{x_min:0,x_max:432.828125,ha:442,o:"m 208 184 b 213 187 209 186 212 187 b 224 176 217 187 221 183 b 245 147 225 172 235 159 b 419 -1 288 90 347 38 b 431 -8 424 -4 431 -8 b 432 -12 432 -9 432 -11 b 430 -18 432 -13 432 -16 b 364 -61 424 -20 383 -47 b 225 -183 307 -102 250 -152 b 223 -187 224 -184 223 -187 b 220 -188 221 -188 220 -188 b 208 -176 216 -188 210 -184 b 187 -148 205 -173 197 -159 b 12 0 144 -90 84 -38 b 0 11 4 5 0 8 b 16 24 0 13 4 18 b 183 158 83 69 141 115 b 208 184 194 169 198 173 m 183 105 b 176 113 181 109 176 113 b 172 109 176 113 175 112 b 92 45 149 90 117 62 l 88 41 l 102 31 b 247 -105 160 -6 210 -55 l 254 -115 l 257 -112 l 269 -102 b 340 -45 287 -87 319 -61 l 344 -43 l 330 -33 b 183 105 272 6 221 54 "},v28:{x_min:-73.5,x_max:72.140625,ha:74,o:"m -72 252 l -73 254 l 0 254 l 72 254 l 70 252 b 0 -1 70 248 0 -1 b -72 252 -1 -1 -72 248 "},v29:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m 175 273 b 182 274 178 273 181 274 b 202 262 190 274 198 269 b 204 158 204 259 204 259 l 204 56 l 250 112 b 303 174 296 172 298 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 208 -6 213 0 210 -2 l 204 -12 l 204 -147 b 204 -210 204 -173 204 -194 b 198 -292 204 -297 204 -287 b 183 -299 194 -297 189 -299 b 164 -287 175 -299 167 -295 b 163 -174 163 -284 163 -284 l 161 -63 l 119 -117 b 65 -176 76 -170 73 -176 b 61 -176 63 -176 62 -176 b -35 -87 51 -174 57 -180 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -363 174 -374 170 -371 174 b -359 174 -362 174 -360 174 b -262 86 -351 174 -356 179 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 147 11 -13 172 35 123 l 157 -1 l 160 1 l 163 4 l 163 130 b 164 260 163 256 163 258 b 175 273 166 266 170 270 "},v2a:{x_min:-21.78125,x_max:366.140625,ha:374,o:"m 276 1378 b 284 1379 279 1379 281 1379 b 306 1360 292 1379 298 1374 b 352 1247 326 1326 343 1286 b 366 1139 362 1213 366 1175 b 347 1009 366 1093 359 1049 l 344 1002 l 347 992 b 352 971 348 986 351 977 b 366 863 362 936 366 899 b 347 732 366 818 359 773 l 344 725 l 347 716 b 352 695 348 710 351 700 b 366 588 362 659 366 623 b 223 262 366 464 314 345 b 189 233 212 252 212 252 b 35 76 126 183 73 129 b -1 16 20 56 2 27 b -19 4 -4 9 -12 4 l -21 4 l -21 137 l -21 270 l -17 270 b 186 344 59 281 134 308 b 319 606 270 399 319 499 b 317 650 319 620 319 635 l 315 659 l 314 655 b 223 537 288 607 258 570 b 189 509 212 528 212 528 b 35 352 126 459 73 405 b -1 292 20 333 2 303 b -19 280 -4 285 -12 280 l -21 280 l -21 413 l -21 546 l -17 546 b 186 620 59 557 134 584 b 319 882 270 675 319 775 b 317 925 319 896 319 911 l 315 935 l 314 931 b 223 813 288 884 258 846 b 189 785 212 805 212 805 b 35 628 126 735 73 681 b -1 569 20 609 2 580 b -19 556 -4 562 -12 556 l -21 556 l -21 689 l -21 823 l -17 823 b 202 907 68 835 152 867 b 319 1157 280 968 319 1061 b 270 1338 319 1218 303 1281 b 262 1358 264 1349 262 1353 b 262 1364 262 1360 262 1363 b 276 1378 265 1371 269 1376 "},v2c:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -413 173 b -408 174 -412 174 -409 174 b -397 173 -404 174 -400 173 b -308 86 -394 172 -374 151 b -223 0 -261 37 -223 0 b -153 84 -223 0 -191 37 b -77 174 -83 173 -84 172 b -72 174 -76 174 -74 174 b -62 173 -68 174 -63 173 b 25 86 -59 172 -39 151 b 112 0 73 37 111 0 b 181 84 112 0 144 37 b 257 174 251 173 251 172 b 262 174 258 174 261 174 b 273 173 266 174 270 173 b 436 9 276 172 347 101 l 447 -1 l 477 36 b 522 79 511 79 513 79 l 522 79 b 552 51 533 79 539 73 b 596 -112 582 6 596 -51 b 567 -262 596 -161 586 -213 b 539 -322 558 -287 544 -316 b 524 -327 534 -326 529 -327 b 504 -315 515 -327 507 -323 b 503 -308 503 -312 503 -309 b 511 -285 503 -302 504 -297 b 555 -113 540 -227 555 -169 b 544 -34 555 -86 551 -59 b 522 19 540 -16 530 8 l 521 22 l 481 -26 l 405 -122 b 353 -176 366 -172 362 -176 b 349 -176 352 -176 351 -176 b 253 -87 341 -176 347 -180 b 167 0 206 -38 167 0 b 99 -86 167 0 136 -38 b 21 -174 27 -174 28 -173 b 17 -176 20 -176 19 -176 b 6 -174 13 -176 9 -174 b -81 -87 4 -173 -14 -152 b -167 0 -129 -38 -167 0 b -236 -86 -167 0 -198 -38 b -313 -174 -307 -174 -306 -173 b -318 -176 -314 -176 -315 -176 b -328 -174 -321 -176 -325 -174 b -491 -12 -330 -173 -367 -137 l -503 0 l -530 -34 b -570 -77 -562 -73 -564 -76 b -577 -79 -571 -79 -574 -79 b -597 -58 -588 -79 -597 -69 b -596 -49 -597 -55 -597 -52 b -417 172 -593 -43 -423 167 b -413 173 -417 172 -415 173 "},v2d:{x_min:0,x_max:438.28125,ha:447,o:"m 212 190 b 219 191 213 191 216 191 b 236 176 225 191 228 190 b 419 18 277 105 341 49 b 436 5 431 13 434 11 b 438 -1 438 4 438 1 b 424 -16 438 -8 432 -13 b 356 -49 409 -20 379 -36 b 234 -180 306 -83 258 -133 b 219 -192 230 -188 224 -192 b 200 -176 213 -192 206 -187 b 9 -15 157 -102 89 -45 b 0 0 2 -12 0 -6 b 16 18 0 9 2 12 b 200 176 93 48 159 104 b 212 190 205 186 208 188 m 239 113 b 236 117 238 116 238 117 b 230 108 235 117 234 115 b 92 -15 196 58 140 8 b 88 -18 91 -16 88 -18 b 92 -20 88 -18 91 -19 b 198 -116 130 -43 166 -74 b 200 -117 200 -117 200 -117 b 201 -117 200 -117 201 -117 b 264 -43 212 -98 242 -62 b 345 15 288 -19 321 4 b 348 18 347 16 348 16 b 344 20 348 18 347 19 b 239 113 307 41 266 79 "},v2f:{x_min:-1.359375,x_max:680.5625,ha:694,o:"m 597 1042 b 604 1042 600 1042 602 1042 b 642 1002 627 1042 642 1022 b 619 966 642 988 635 974 b 439 927 574 942 503 927 l 426 927 l 426 921 b 430 838 428 893 430 866 b 345 480 430 696 398 560 b 179 391 307 423 249 391 b 156 392 171 391 164 392 b 138 394 149 394 142 394 b 103 434 115 396 103 416 b 129 471 103 451 111 466 b 141 474 133 473 137 474 b 172 459 153 474 164 469 b 181 455 175 456 176 455 b 187 456 182 455 185 455 b 253 520 212 460 234 483 b 315 836 294 605 315 714 b 311 928 315 867 314 898 b 302 945 310 943 311 942 b 245 953 283 950 262 953 b 130 891 193 953 149 931 b 84 860 119 870 102 860 b 36 905 61 860 39 877 b 36 910 36 907 36 909 b 80 970 36 931 50 949 b 249 1017 125 1000 187 1017 b 322 1009 273 1017 299 1014 l 341 1003 b 436 991 372 995 406 991 b 577 1031 495 991 545 1004 b 597 1042 583 1038 590 1041 m 416 360 b 424 360 419 360 421 360 b 481 309 454 360 479 338 b 503 145 484 280 495 199 b 585 -185 525 16 555 -106 b 630 -245 596 -213 613 -237 l 634 -247 l 638 -245 b 647 -244 641 -245 645 -244 b 680 -278 666 -244 680 -262 b 664 -308 680 -290 675 -301 b 638 -312 658 -310 650 -312 b 613 -309 631 -312 623 -310 b 477 -201 555 -303 502 -260 b 417 -2 460 -159 434 -72 b 416 5 417 1 416 5 b 416 5 416 5 416 5 b 411 -5 415 5 413 0 b 359 -97 397 -33 377 -70 b 353 -106 355 -102 353 -105 b 359 -112 353 -108 355 -109 b 409 -130 375 -123 390 -129 b 426 -134 420 -130 421 -131 b 431 -147 428 -137 431 -141 b 420 -162 431 -152 427 -159 b 382 -169 409 -166 396 -169 b 323 -155 363 -169 341 -165 l 317 -152 l 314 -155 b 62 -303 240 -240 148 -295 b 36 -305 55 -305 44 -305 b 23 -303 29 -305 24 -305 b -1 -273 6 -299 -1 -287 b 31 -240 -1 -256 10 -240 b 36 -240 32 -240 34 -240 b 42 -241 38 -241 39 -241 b 134 -204 63 -241 99 -226 b 367 288 265 -115 357 81 b 375 330 368 313 370 320 b 416 360 383 347 400 358 m 360 -359 b 379 -359 363 -359 371 -359 b 424 -360 396 -359 416 -359 b 646 -502 536 -373 624 -430 b 649 -527 649 -510 649 -519 b 530 -673 649 -578 604 -635 l 521 -677 l 529 -681 b 653 -811 592 -714 637 -762 b 660 -853 658 -827 660 -839 b 645 -911 660 -873 656 -892 b 426 -1021 608 -981 519 -1021 b 283 -989 377 -1021 328 -1011 b 235 -949 249 -972 239 -964 b 234 -936 234 -946 234 -941 b 234 -928 234 -934 234 -931 l 235 -925 l 234 -927 l 225 -934 b 87 -982 186 -966 138 -982 b 80 -982 85 -982 83 -982 b 55 -981 70 -981 58 -981 b 17 -943 32 -981 17 -964 b 54 -904 17 -921 35 -904 b 78 -914 62 -904 72 -909 l 83 -918 l 88 -918 b 190 -831 122 -918 166 -881 b 269 -506 242 -727 269 -612 b 268 -462 269 -492 269 -477 b 266 -449 266 -458 266 -452 b 265 -444 266 -445 266 -444 b 257 -446 264 -444 261 -445 b 132 -545 196 -470 152 -505 b 88 -573 122 -563 104 -573 b 39 -523 63 -573 39 -553 b 63 -476 39 -505 44 -494 b 360 -359 136 -408 235 -369 m 419 -424 b 393 -423 411 -423 406 -423 l 375 -423 l 377 -426 b 379 -439 377 -427 378 -434 b 383 -510 382 -463 383 -487 b 314 -811 383 -609 360 -710 b 266 -893 296 -850 285 -870 b 264 -898 265 -896 264 -898 l 264 -898 b 264 -898 264 -898 264 -898 b 268 -898 264 -898 266 -898 b 273 -898 270 -898 272 -898 b 300 -909 283 -898 291 -900 b 426 -957 340 -941 385 -957 b 476 -949 443 -957 460 -954 b 547 -853 522 -931 547 -893 b 485 -745 547 -816 526 -775 b 397 -707 460 -727 432 -714 b 366 -675 375 -703 366 -692 b 396 -642 366 -657 377 -645 b 530 -557 455 -637 511 -601 b 536 -527 534 -548 536 -537 b 419 -424 536 -480 490 -437 "},v30:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 276 1900 b 284 1901 279 1900 281 1901 b 306 1883 291 1901 298 1896 b 367 1686 347 1825 367 1757 b 343 1558 367 1643 359 1600 l 338 1549 l 343 1537 b 367 1411 359 1497 367 1454 b 343 1282 367 1367 359 1324 l 338 1272 l 343 1261 b 367 1135 359 1221 367 1178 b 343 1007 367 1090 359 1047 l 338 996 l 343 985 b 367 859 359 945 367 902 b 343 731 367 814 359 771 l 338 720 l 343 709 b 367 582 359 667 367 626 b 289 362 367 503 340 426 b 239 312 276 345 259 330 b 29 77 152 237 76 152 b -1 18 14 54 2 30 b -19 4 -4 11 -12 4 l -21 4 l -21 133 l -20 260 l -13 262 b 98 299 17 269 62 284 b 111 305 103 302 110 305 b 167 334 123 310 156 327 b 319 595 264 391 319 491 b 313 659 319 616 318 638 b 310 667 311 664 311 667 b 307 663 310 667 308 666 b 240 588 289 637 269 614 b 16 331 141 505 62 413 b -1 294 8 316 1 302 b -19 280 -4 287 -12 280 l -21 280 l -21 408 l -20 537 l -13 538 b 98 576 17 545 62 560 b 111 581 103 578 110 581 b 167 610 123 587 156 603 b 319 871 264 667 319 767 b 313 935 319 892 318 913 b 310 942 311 941 311 942 b 307 939 310 942 308 941 b 240 864 289 913 269 889 b 16 607 141 781 62 689 b -1 570 8 592 1 578 b -19 556 -4 563 -12 556 l -21 556 l -21 684 l -20 813 l -13 814 b 98 852 17 821 62 836 b 111 857 103 855 110 857 b 167 886 123 863 156 880 b 319 1147 264 943 319 1043 b 313 1211 319 1168 318 1189 b 310 1218 311 1217 311 1218 b 307 1215 310 1218 308 1217 b 240 1140 289 1188 269 1165 b 16 884 141 1057 62 966 b -1 846 8 868 1 855 b -19 832 -4 839 -12 832 l -21 832 l -21 960 l -20 1089 l -13 1090 b 98 1128 17 1097 62 1111 b 111 1134 103 1131 110 1134 b 167 1163 123 1139 156 1156 b 319 1424 264 1220 319 1320 b 313 1486 319 1444 318 1465 b 310 1494 311 1493 311 1494 b 307 1492 310 1494 308 1493 b 240 1417 289 1464 269 1442 b 16 1160 141 1333 62 1242 b -1 1121 8 1145 1 1131 b -19 1109 -4 1115 -12 1109 l -21 1109 l -21 1236 l -20 1365 l -13 1367 b 98 1404 17 1374 62 1388 b 111 1410 103 1407 110 1410 b 250 1508 172 1437 215 1467 b 319 1701 296 1564 319 1633 b 270 1859 319 1757 303 1814 b 262 1882 265 1868 262 1875 b 276 1900 262 1890 266 1896 "},v31:{x_min:0,x_max:386.5625,ha:394,o:"m 0 173 l 0 347 l 193 347 l 386 347 l 386 173 l 386 0 l 193 0 l 0 0 l 0 173 "},v33:{x_min:-423.3125,x_max:421.9375,ha:431,o:"m -10 276 b -2 277 -8 277 -5 277 b 17 265 5 277 13 273 b 19 163 19 260 19 260 l 19 68 l 39 45 b 277 -95 122 -34 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -54 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 200 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 137 b 421 22 421 37 421 29 b 257 -198 421 -86 347 -188 b 242 -198 251 -198 247 -198 b 20 -105 181 -198 95 -163 l 19 -104 l 19 -183 b 19 -216 19 -195 19 -206 b 12 -273 19 -272 17 -267 b -2 -278 8 -277 2 -278 b -21 -266 -10 -278 -19 -274 b -23 -165 -23 -263 -23 -262 l -23 -69 l -44 -47 b -250 86 -117 23 -183 66 b -295 94 -270 93 -284 94 b -315 91 -302 94 -308 94 b -381 5 -356 81 -381 43 b -355 -56 -381 -16 -372 -40 b -299 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -168 -77 -196 -58 -179 -65 b -151 -122 -156 -90 -151 -105 b -179 -174 -151 -141 -160 -162 b -239 -195 -194 -184 -217 -192 b -257 -197 -245 -195 -250 -197 b -423 -5 -349 -197 -423 -113 b -423 0 -423 -4 -423 -1 b -277 194 -420 97 -362 173 b -247 197 -268 197 -258 197 b -24 104 -185 197 -100 162 l -23 102 l -23 181 b -21 265 -23 260 -23 260 b -10 276 -20 269 -14 274 "},v34:{x_min:0,x_max:622.03125,ha:635,o:"m 398 417 b 406 419 401 419 404 419 b 427 398 417 419 427 409 b 427 391 427 395 427 392 b 34 -274 424 385 38 -272 b 20 -280 29 -278 25 -280 b 0 -259 9 -280 0 -270 b 0 -252 0 -256 0 -254 b 393 413 2 -247 389 410 b 398 417 394 415 397 416 m 592 417 b 600 419 594 419 597 419 b 622 398 611 419 622 409 b 620 391 622 395 620 392 b 227 -274 617 385 231 -272 b 213 -280 223 -278 219 -280 b 193 -259 202 -280 193 -270 b 194 -252 193 -256 193 -254 b 586 413 196 -247 582 410 b 592 417 588 415 590 416 "},v36:{x_min:-1.359375,x_max:1064.390625,ha:1086,o:"m 296 692 b 314 694 302 694 307 694 b 386 685 337 694 366 689 b 548 498 480 660 548 580 b 548 481 548 492 548 487 b 455 395 541 426 499 395 b 370 462 420 395 383 417 b 362 496 364 477 362 488 b 377 514 362 509 367 514 b 393 501 386 514 390 510 b 432 474 397 484 413 474 b 470 487 445 474 458 478 b 491 530 484 496 491 510 b 490 544 491 534 491 539 b 333 660 479 606 411 657 l 323 662 l 315 646 b 269 524 285 591 269 556 b 321 431 269 492 287 466 b 349 395 338 413 343 408 b 363 342 359 378 363 362 b 359 312 363 333 362 322 b 285 158 348 266 318 206 b 281 152 283 155 281 152 b 281 152 281 152 281 152 b 287 154 283 152 284 152 b 318 155 298 154 308 155 b 461 98 371 155 419 136 l 464 97 l 483 112 b 503 129 494 120 503 127 b 504 130 503 129 504 129 b 503 138 504 131 503 134 b 500 180 500 152 500 166 b 553 326 500 238 518 288 b 604 366 560 331 592 358 b 649 381 617 376 632 381 b 696 362 665 381 681 374 b 724 302 714 347 724 324 b 695 238 724 278 714 255 b 660 210 691 234 662 212 b 579 148 658 209 582 151 b 579 148 579 148 579 148 b 596 106 579 144 589 119 b 622 77 604 88 609 83 b 657 69 632 72 645 69 b 748 112 688 69 721 84 b 755 123 754 117 755 120 b 755 127 755 124 755 126 b 751 165 752 137 751 151 b 758 219 751 183 754 202 b 894 387 774 290 820 347 b 896 390 896 388 896 388 b 891 398 896 391 895 392 b 622 560 827 477 730 535 b 600 580 605 564 600 569 b 617 596 600 591 607 596 b 628 595 622 596 624 596 b 1057 248 846 552 1020 412 b 1064 191 1061 229 1064 209 b 922 0 1064 94 1005 9 b 902 -1 916 -1 909 -1 b 774 76 847 -1 800 26 b 769 83 770 81 770 83 b 769 81 769 83 769 83 b 627 -1 733 29 677 -1 b 548 27 597 -1 570 8 b 515 88 537 37 525 61 l 513 95 l 510 93 l 453 45 b 390 0 396 0 396 0 b 390 0 390 0 390 0 b 374 15 381 0 377 4 b 268 105 359 69 314 105 b 250 104 262 105 257 105 l 243 102 l 234 90 b 155 1 201 49 159 2 b 147 -1 152 0 149 -1 b 130 15 138 -1 130 6 b 132 20 130 18 132 19 b 136 31 133 22 134 27 b 220 131 149 74 178 109 b 231 137 225 134 230 136 b 302 278 280 202 302 244 b 265 335 302 299 295 309 b 209 442 234 363 213 402 b 209 455 209 446 209 451 b 279 648 209 502 232 564 l 285 659 l 283 659 b 176 627 238 653 210 645 b 57 477 111 594 66 538 b 55 459 55 471 55 464 b 72 409 55 437 61 415 b 93 403 78 405 87 403 b 152 467 123 403 151 431 b 168 488 153 483 157 488 b 185 462 181 488 185 483 l 185 460 b 137 344 183 409 168 369 b 78 322 119 328 98 322 b 13 360 50 322 25 335 b -1 426 4 380 -1 402 b 89 610 -1 488 32 559 b 296 692 147 659 210 685 m 926 348 b 921 353 924 351 922 353 b 914 348 920 353 918 351 b 823 167 857 306 823 237 b 828 124 823 154 826 138 b 890 31 837 79 862 40 b 896 31 892 31 894 31 b 956 104 916 31 940 59 b 970 191 965 129 970 159 b 966 241 970 208 969 224 b 926 348 959 277 945 313 m 627 326 b 619 326 624 326 622 326 b 598 316 611 326 604 323 b 568 215 579 288 568 255 b 568 208 568 213 568 210 b 571 183 570 195 570 184 l 571 183 b 594 201 571 183 582 191 l 634 231 b 660 259 653 247 656 248 b 664 278 662 266 664 272 b 627 326 664 299 649 320 "},v38:{x_min:-1.359375,x_max:651.96875,ha:665,o:"m 389 644 b 405 645 394 645 400 645 b 504 566 450 645 492 613 b 507 541 506 557 507 549 b 480 471 507 514 498 489 l 477 467 l 483 470 b 609 591 539 485 586 531 b 613 601 611 595 613 599 b 631 609 619 607 624 609 b 651 588 641 609 651 602 b 200 -946 651 584 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 537 313 478 300 508 b 389 644 300 585 334 635 "},v39:{x_min:-171.5,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 553 20 616 20 614 b 20 491 20 503 20 491 l 20 491 b 153 535 47 501 149 535 b 174 514 167 535 174 524 b 164 496 174 508 171 501 b 92 470 164 495 132 484 l 20 445 l 20 390 b 20 363 20 378 20 370 b 20 333 20 340 20 333 l 20 333 b 153 377 47 344 149 377 b 174 356 167 377 174 367 b 164 338 174 349 171 342 b 92 312 164 338 132 326 l 20 288 l 20 219 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 30 -21 -212 -21 -212 b -21 273 -21 163 -21 273 b -84 252 -21 273 -50 263 b -152 230 -133 234 -145 230 b -157 231 -155 230 -156 231 b -171 252 -166 234 -171 244 b -160 270 -171 259 -167 266 b -27 316 -159 270 -93 294 l -21 319 l -21 374 b -21 431 -21 406 -21 431 b -84 409 -21 431 -50 421 b -152 388 -133 392 -145 388 b -157 390 -155 388 -156 388 b -171 409 -166 392 -171 401 b -160 428 -171 417 -167 424 b -27 474 -159 428 -93 451 l -21 476 l -21 546 b -20 620 -21 614 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v3b:{x_min:0,x_max:484.5625,ha:494,o:"m 228 245 b 239 247 234 247 239 247 b 243 247 240 247 242 247 b 303 238 257 247 287 242 b 484 -2 417 208 484 104 b 412 -177 484 -65 461 -127 b 243 -248 363 -226 303 -248 b 6 -63 138 -248 36 -180 b 0 -1 1 -41 0 -20 b 228 245 0 127 98 240 m 255 181 b 240 183 247 183 245 183 b 232 181 238 183 235 183 b 142 152 200 180 168 170 l 138 149 l 190 97 l 242 44 l 294 97 l 345 149 l 340 152 b 255 181 315 169 284 180 m 147 -54 l 197 -1 l 147 51 l 95 104 l 91 99 b 62 -1 72 70 62 34 b 66 -43 62 -15 63 -29 b 91 -101 72 -63 80 -84 l 95 -106 l 147 -54 m 393 99 b 389 104 390 102 389 104 b 337 51 389 104 366 80 l 285 -1 l 337 -54 l 389 -106 l 393 -101 b 421 -1 412 -72 421 -36 b 393 99 421 34 412 69 m 294 -98 b 242 -45 265 -69 242 -45 b 190 -98 242 -45 219 -69 l 138 -151 l 142 -154 b 242 -184 172 -174 206 -184 b 340 -154 276 -184 311 -174 l 345 -151 l 294 -98 "},v3c:{x_min:0,x_max:450.53125,ha:460,o:"m 189 302 b 204 303 193 302 198 303 b 303 224 250 303 292 270 b 306 199 304 216 306 208 b 279 129 306 173 296 147 l 276 126 l 281 127 b 408 249 337 142 385 190 b 412 259 409 254 412 258 b 430 267 417 265 423 267 b 450 247 441 267 450 259 b 200 -605 450 242 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 194 111 136 99 165 b 189 302 99 244 133 292 "},v3e:{x_min:0,x_max:406.96875,ha:415,o:"m 21 183 b 28 183 24 183 25 183 b 42 181 34 183 39 183 b 127 108 47 179 47 179 b 202 41 168 72 202 41 b 279 108 204 41 238 72 b 357 177 321 145 356 176 b 375 183 363 181 370 183 b 406 151 392 183 406 169 b 404 137 406 147 405 141 b 322 62 401 131 398 129 b 251 0 284 27 251 0 b 322 -63 251 -1 284 -29 b 404 -138 398 -130 401 -133 b 406 -152 405 -142 406 -148 b 375 -184 406 -170 392 -184 b 357 -179 370 -184 363 -183 b 279 -109 356 -177 321 -147 b 202 -43 238 -73 204 -43 b 127 -109 202 -43 168 -73 b 49 -179 85 -147 50 -177 b 31 -184 43 -183 36 -184 b 0 -152 13 -184 0 -170 b 2 -138 0 -148 0 -142 b 83 -63 5 -133 8 -130 b 155 0 122 -29 155 -1 b 83 62 155 0 122 27 b 8 129 43 97 10 127 b 0 151 2 136 0 144 b 21 183 0 165 8 177 "},v3f:{x_min:-24.5,x_max:317.140625,ha:324,o:"m -24 -147 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 58 -123 6 -43 31 -86 b 196 -278 93 -173 134 -219 b 317 -570 274 -356 317 -460 b 294 -713 317 -617 308 -666 l 289 -724 l 294 -735 b 317 -873 308 -780 317 -827 b 235 -1132 317 -963 288 -1054 b 209 -1165 228 -1140 224 -1146 b 189 -1177 204 -1172 196 -1177 b 171 -1164 182 -1177 175 -1172 b 168 -1154 170 -1161 168 -1159 b 181 -1132 168 -1149 172 -1142 b 269 -891 238 -1064 269 -975 b 269 -881 269 -886 269 -884 b 262 -814 269 -857 265 -827 b 258 -800 261 -811 259 -806 b 142 -628 240 -731 198 -667 b -8 -589 112 -606 47 -589 b -20 -589 -13 -589 -19 -589 l -24 -589 l -24 -449 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 58 -424 6 -345 31 -388 b 194 -580 93 -476 136 -523 b 259 -660 221 -606 245 -635 b 261 -663 259 -662 261 -663 b 264 -656 262 -663 262 -660 b 269 -587 268 -632 269 -610 b 264 -521 269 -566 268 -544 b 262 -512 264 -517 262 -513 b 258 -498 261 -509 259 -503 b 142 -326 240 -428 198 -365 b -8 -287 112 -303 47 -288 b -20 -287 -13 -287 -19 -287 l -24 -287 l -24 -147 "},v40:{x_min:-1.359375,x_max:436.921875,ha:446,o:"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 "},v41:{x_min:-1.359375,x_max:556.6875,ha:568,o:"m 294 322 b 318 323 299 322 308 323 b 360 320 334 323 352 322 b 526 217 430 310 490 273 b 543 166 537 202 543 184 b 447 70 543 117 503 70 b 445 70 447 70 446 70 b 359 159 394 72 359 113 b 368 201 359 173 362 187 b 442 245 382 229 412 245 b 455 244 446 245 451 245 b 460 244 458 244 460 244 b 460 244 460 244 460 244 b 454 248 460 244 458 245 b 325 291 417 276 372 291 b 285 287 313 291 299 290 b 144 -2 183 269 144 190 b 281 -290 144 -208 179 -280 b 304 -291 289 -291 298 -291 b 524 -105 412 -291 506 -212 b 541 -84 526 -88 530 -84 b 556 -101 551 -84 556 -90 b 549 -138 556 -111 553 -122 b 334 -322 521 -237 435 -310 b 302 -324 323 -323 313 -324 b 13 -101 172 -324 54 -234 b -1 -1 4 -68 -1 -34 b 294 322 -1 161 121 303 "},v42:{x_min:-348.4375,x_max:24.5,ha:25,o:"m -330 155 b -322 156 -329 156 -326 156 b -315 156 -319 156 -317 156 b -298 147 -311 155 -308 154 b -19 30 -224 98 -122 55 l 2 26 b 24 -1 17 22 24 13 b 2 -27 24 -15 17 -23 l -19 -31 b -298 -148 -122 -56 -224 -99 b -322 -158 -313 -158 -315 -158 b -348 -131 -338 -158 -348 -145 b -344 -117 -348 -127 -347 -122 b -328 -104 -341 -112 -338 -111 b -127 -8 -269 -65 -202 -33 b -106 0 -115 -4 -106 -1 b -127 6 -106 0 -115 2 b -328 102 -202 31 -269 63 b -344 116 -338 109 -341 111 b -348 130 -347 120 -348 124 b -330 155 -348 141 -341 152 "},v43:{x_min:-442.359375,x_max:441,ha:450,o:"m -31 487 b -1 488 -21 488 -10 488 b 434 104 216 488 397 330 b 441 27 438 79 441 47 b 439 12 441 20 439 15 b 419 0 435 4 427 0 b 404 5 413 0 408 1 b 398 30 400 11 398 13 b 0 351 390 213 213 351 b -59 348 -20 351 -39 349 b -400 30 -251 324 -393 191 b -405 5 -400 13 -401 11 b -420 0 -409 1 -415 0 b -441 12 -428 0 -436 4 b -442 27 -441 15 -442 20 b -435 104 -442 47 -439 79 b -31 487 -401 316 -235 474 m -13 131 b -1 133 -9 133 -5 133 b 51 105 19 133 39 123 b 61 70 58 95 61 83 b 51 34 61 58 58 45 b -1 6 39 16 19 6 b -46 27 -17 6 -34 13 b -62 69 -57 38 -62 54 b -13 131 -62 98 -44 124 "},v44:{x_min:-21.78125,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v45:{x_min:-402.890625,x_max:401.53125,ha:410,o:"m -10 273 b -4 274 -9 273 -6 274 b 16 262 4 274 12 269 b 17 158 17 259 17 259 l 17 56 l 62 112 b 117 174 110 172 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b 21 -6 27 0 24 -2 l 17 -12 l 17 -147 b 17 -210 17 -173 17 -194 b 10 -292 17 -297 16 -287 b -2 -299 6 -297 2 -299 b -21 -287 -10 -299 -19 -295 b -24 -174 -23 -284 -23 -284 l -24 -63 l -66 -117 b -121 -176 -110 -170 -114 -176 b -125 -176 -122 -176 -123 -176 b -296 -12 -134 -174 -125 -184 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 170 -398 -43 -231 165 b -212 174 -221 173 -216 174 b -202 173 -208 174 -205 174 b -39 11 -200 172 -151 122 l -28 -1 l -25 1 l -24 4 l -24 130 b -23 260 -24 256 -24 258 b -10 273 -20 266 -16 270 "},v46:{x_min:0,x_max:627.46875,ha:640,o:"m 306 190 b 314 191 308 191 311 191 b 326 184 318 191 322 190 l 336 173 b 510 52 377 127 442 80 b 515 49 513 51 515 49 b 611 16 537 40 579 24 b 627 0 624 13 627 9 b 607 -18 627 -11 624 -13 b 330 -181 490 -49 389 -109 b 314 -192 323 -190 319 -192 b 306 -191 311 -192 308 -192 b 294 -177 302 -188 302 -188 b 257 -140 287 -170 265 -148 b 19 -18 193 -84 114 -44 b 0 0 2 -13 0 -11 b 16 16 0 9 2 13 b 110 49 47 24 89 40 b 117 52 111 49 114 51 b 145 65 126 56 130 58 b 281 163 200 93 245 124 b 300 186 288 170 291 174 b 306 190 300 187 303 188 m 317 137 b 313 142 315 141 314 142 b 308 137 313 142 311 141 b 161 4 276 84 220 33 b 155 0 159 1 155 0 b 163 -4 155 0 159 -2 b 308 -138 220 -34 276 -84 b 313 -142 311 -141 313 -142 b 317 -138 314 -142 315 -141 b 464 -4 351 -84 406 -34 b 470 0 468 -2 470 0 b 464 4 470 0 468 1 b 317 137 406 33 351 84 "},v47:{x_min:-24.5,x_max:315.78125,ha:322,o:"m -24 -145 l -24 -5 l -20 -5 b 1 -26 -10 -5 -6 -9 b 175 -241 31 -86 96 -166 b 314 -548 259 -323 304 -420 b 315 -589 315 -555 315 -571 b 314 -630 315 -606 315 -623 b 298 -730 311 -664 306 -699 l 295 -742 l 296 -748 b 314 -850 304 -778 311 -813 b 315 -892 315 -857 315 -874 b 314 -932 315 -909 315 -925 b 298 -1032 311 -967 306 -1002 l 295 -1045 l 296 -1050 b 314 -1153 304 -1081 311 -1115 b 315 -1193 315 -1160 315 -1177 b 314 -1235 315 -1211 315 -1228 b 217 -1526 306 -1338 270 -1444 b 201 -1533 213 -1532 208 -1533 b 182 -1522 193 -1533 185 -1529 b 179 -1514 181 -1518 179 -1517 b 189 -1489 179 -1508 182 -1501 b 266 -1217 240 -1403 266 -1308 b 262 -1156 266 -1196 265 -1177 b 110 -907 247 -1043 190 -950 b 0 -889 87 -895 50 -889 l -1 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 1 -631 -10 -610 -6 -614 b 175 -846 31 -691 96 -771 b 259 -956 213 -884 236 -914 b 265 -966 262 -961 264 -966 b 265 -966 265 -966 265 -966 b 265 -953 265 -964 265 -959 b 266 -920 266 -943 266 -932 b 262 -853 266 -898 265 -873 b 110 -605 247 -741 190 -648 b 0 -587 87 -592 50 -587 l -1 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 1 -328 -10 -308 -6 -312 b 175 -544 31 -388 96 -469 b 259 -655 213 -581 236 -612 b 265 -663 262 -659 264 -663 b 265 -663 265 -663 265 -663 b 265 -650 265 -663 265 -657 b 266 -617 266 -641 266 -630 b 262 -551 266 -595 265 -570 b 110 -303 247 -438 190 -345 b 0 -284 87 -290 50 -284 l -1 -284 l -24 -284 l -24 -145 "},v49:{x_min:0,x_max:630.203125,ha:643,o:"m 308 204 b 314 205 310 205 313 205 b 326 201 319 205 323 204 b 355 154 328 199 338 180 b 401 83 362 142 392 95 l 409 72 b 431 41 412 66 424 49 b 619 -174 498 -51 570 -134 b 630 -192 626 -180 630 -186 b 626 -202 630 -195 628 -199 b 616 -206 623 -205 620 -206 b 552 -188 608 -206 592 -202 b 310 -155 488 -169 392 -155 b 268 -156 295 -155 281 -155 b 77 -188 197 -161 126 -173 b 13 -206 35 -202 20 -206 b 9 -206 12 -206 10 -206 b 0 -191 2 -202 0 -197 b 8 -176 0 -186 2 -180 b 204 49 58 -136 138 -43 l 220 72 l 227 83 b 295 188 245 108 281 166 b 308 204 299 197 304 202 m 315 147 b 314 147 315 147 314 147 b 314 147 314 147 314 147 b 306 129 314 145 310 138 l 296 105 b 281 72 292 97 284 77 l 274 56 b 181 -123 247 -4 212 -72 l 174 -134 l 176 -133 b 314 -123 215 -127 272 -123 b 451 -133 356 -123 413 -127 l 454 -134 l 449 -123 b 353 56 417 -72 381 -4 l 347 72 b 332 105 344 77 336 97 l 322 129 b 315 147 318 138 315 145 "},v4a:{x_min:70.78125,x_max:378.390625,ha:315,o:"m 246 373 b 254 373 249 373 251 373 b 372 324 303 373 360 351 b 378 302 377 317 378 309 b 338 251 378 278 362 255 b 328 249 334 249 332 249 b 283 294 303 249 283 270 b 288 315 283 301 284 308 b 289 319 289 317 289 319 b 289 319 289 319 289 319 b 283 320 289 320 287 320 b 270 322 279 322 274 322 b 206 288 242 322 215 308 b 206 283 206 287 206 285 b 257 223 206 267 230 238 b 284 206 272 213 277 210 b 351 90 328 173 351 130 b 340 47 351 74 348 59 b 205 -30 314 -2 264 -30 b 182 -29 198 -30 190 -30 b 84 15 147 -24 103 -5 b 70 48 74 24 70 36 b 108 99 70 70 85 94 b 121 102 112 101 117 102 b 167 56 147 102 167 80 b 159 31 167 48 164 40 l 156 26 l 157 26 b 190 20 167 22 178 20 b 220 26 201 20 212 22 b 258 65 243 34 258 51 b 257 70 258 66 258 69 b 204 126 249 94 234 109 b 114 258 148 158 114 209 b 125 302 114 273 118 288 b 246 373 147 342 193 370 "},v4b:{x_min:0,x_max:503.609375,ha:514,o:"m 274 430 b 277 430 276 430 277 430 b 310 394 296 430 310 415 b 308 383 310 391 308 387 b 306 367 307 381 307 374 b 236 120 298 305 272 210 b 40 -273 189 -5 125 -134 b 20 -287 35 -283 27 -287 b 5 -281 14 -287 9 -285 b 0 -267 1 -277 0 -273 b 9 -242 0 -262 2 -255 b 246 395 137 -12 232 242 b 274 430 249 416 257 427 m 468 430 b 472 430 469 430 470 430 b 503 394 490 430 503 415 b 502 383 503 391 503 387 b 499 367 502 381 500 374 b 431 120 491 305 465 210 b 234 -273 382 -5 318 -134 b 213 -287 228 -283 220 -287 b 198 -281 208 -287 202 -285 b 193 -267 194 -277 193 -273 b 202 -242 193 -262 196 -255 b 439 395 330 -12 426 242 b 468 430 442 416 451 427 "},v4d:{x_min:-311.6875,x_max:310.328125,ha:317,o:"m -9 388 b -2 390 -8 390 -5 390 b 5 388 1 390 4 390 b 19 378 10 387 16 383 b 23 333 23 371 23 371 b 24 298 23 299 24 298 b 81 276 34 298 65 285 b 213 91 145 240 190 177 b 224 24 217 76 224 36 b 257 24 224 24 235 24 b 299 19 292 24 292 24 b 310 -1 306 15 310 6 b 299 -23 310 -11 306 -19 b 257 -27 292 -27 292 -27 b 224 -29 235 -27 224 -29 b 213 -95 224 -40 217 -80 b 81 -280 190 -181 145 -244 b 24 -301 65 -290 34 -301 b 23 -335 24 -301 23 -303 l 23 -340 b 17 -381 23 -374 23 -374 b -1 -391 13 -388 5 -391 b -21 -381 -9 -391 -17 -388 b -27 -340 -27 -374 -27 -374 l -27 -335 b -28 -301 -27 -303 -27 -301 b -85 -280 -38 -301 -69 -290 b -217 -95 -149 -244 -194 -181 b -228 -29 -221 -80 -228 -40 b -259 -27 -228 -29 -238 -27 b -300 -23 -294 -27 -294 -27 b -311 -2 -307 -19 -311 -11 b -294 23 -311 8 -304 19 b -259 24 -291 23 -284 24 b -228 24 -239 24 -228 24 b -217 91 -228 36 -221 76 b -85 276 -194 177 -149 240 b -28 298 -69 285 -38 298 b -27 333 -27 298 -27 299 b -27 371 -27 362 -27 369 b -9 388 -24 378 -17 385 m -27 136 b -28 247 -27 197 -28 247 b -61 216 -31 247 -53 226 b -123 33 -95 172 -121 98 l -125 24 l -76 24 l -27 24 l -27 136 m 29 242 b 24 247 27 245 24 247 b 23 136 24 247 23 197 l 23 24 l 72 24 l 121 24 l 119 33 b 29 242 115 116 77 206 m -27 -140 l -27 -27 l -76 -27 l -125 -27 l -123 -36 b -61 -220 -121 -102 -95 -176 b -28 -251 -53 -230 -31 -251 b -27 -140 -28 -251 -27 -201 m 119 -36 l 121 -27 l 72 -27 l 23 -27 l 23 -140 b 24 -251 23 -201 24 -251 b 57 -220 27 -251 49 -230 b 119 -36 91 -176 117 -102 "},v4e:{x_min:0,x_max:239.5625,ha:244,o:"m 10 460 b 20 462 13 462 14 462 b 39 449 28 462 35 458 l 40 446 l 40 326 b 40 205 40 259 40 205 b 127 227 40 205 80 215 b 220 249 196 244 213 249 b 227 247 224 249 225 248 b 238 237 231 245 235 241 l 239 233 l 239 -106 l 239 -448 l 238 -451 b 219 -463 234 -459 225 -463 b 198 -451 210 -463 202 -459 l 197 -448 l 197 -324 b 197 -201 197 -248 197 -201 b 110 -223 196 -201 157 -210 b 17 -245 42 -240 24 -245 b 10 -242 13 -245 13 -244 b 0 -233 6 -241 2 -237 l 0 -230 l 0 108 l 0 446 l 0 449 b 10 460 2 453 6 458 m 197 22 b 197 70 197 41 197 58 b 196 116 197 113 197 116 l 196 116 b 118 97 196 116 160 106 l 40 77 l 40 -18 b 40 -112 40 -69 40 -112 l 119 -93 l 197 -73 l 197 22 "},v51:{x_min:-1.359375,x_max:455.96875,ha:465,o:"m 352 541 b 357 542 353 542 355 542 b 377 530 364 542 372 537 l 378 526 l 378 394 l 379 262 l 404 266 b 436 270 420 269 430 270 b 450 265 443 270 446 269 b 455 220 455 259 455 260 l 455 208 l 455 161 l 454 156 b 411 140 449 147 447 147 b 378 133 393 137 379 134 b 378 68 378 133 378 106 b 378 22 378 54 378 38 l 379 -87 l 404 -83 b 436 -79 420 -80 430 -79 b 450 -84 443 -79 446 -80 b 455 -129 455 -90 455 -88 l 455 -141 l 455 -188 l 454 -192 b 413 -209 449 -202 447 -202 b 382 -215 398 -212 383 -215 l 378 -215 l 378 -345 l 378 -380 b 375 -485 378 -484 378 -480 b 357 -494 371 -491 364 -494 b 340 -485 351 -494 344 -491 b 336 -383 337 -480 336 -484 l 336 -349 l 336 -223 l 334 -223 b 291 -231 334 -223 314 -227 l 247 -240 l 247 -371 l 246 -503 l 245 -506 b 225 -519 242 -514 234 -519 b 206 -506 219 -519 210 -514 l 205 -503 l 205 -376 l 205 -248 l 160 -256 l 115 -265 l 115 -396 l 115 -527 l 114 -531 b 95 -544 110 -539 102 -544 b 76 -531 87 -544 78 -539 l 73 -527 l 73 -399 b 73 -273 73 -330 73 -273 b 49 -277 73 -273 61 -274 b 17 -281 32 -280 24 -281 b 4 -276 10 -281 8 -280 b -1 -234 0 -269 -1 -272 b 0 -219 -1 -229 0 -224 l 0 -170 l 1 -167 b 10 -158 2 -163 6 -159 b 49 -149 13 -156 16 -155 l 73 -145 l 73 -34 b 73 76 73 26 73 76 b 49 72 73 76 61 74 b 17 68 32 69 24 68 b 4 73 10 68 8 69 b -1 115 0 80 -1 77 b 0 130 -1 120 0 124 l 0 179 l 1 181 b 10 191 2 186 6 190 b 49 199 13 192 16 194 l 73 204 l 73 338 b 73 374 73 352 73 365 b 77 483 73 484 73 477 b 95 492 81 489 88 492 b 111 483 100 492 107 489 b 115 378 115 477 115 483 l 115 342 b 117 212 115 223 115 212 b 204 229 117 212 200 227 l 205 229 l 205 365 l 205 502 l 206 505 b 225 517 210 513 219 517 b 245 505 234 517 242 513 l 246 502 l 247 369 l 247 237 l 249 237 b 336 254 253 238 336 254 b 337 390 336 254 337 302 l 337 526 l 338 530 b 352 541 341 535 347 539 m 336 15 b 336 126 336 102 336 126 l 336 126 b 291 117 336 126 315 122 l 247 109 l 247 -1 l 247 -112 l 249 -112 b 336 -95 253 -111 336 -95 b 336 15 336 -95 336 -56 m 205 -120 b 205 -55 205 -120 205 -93 b 205 -9 205 -41 205 -24 l 205 101 l 160 93 l 115 84 l 115 -26 b 115 -83 115 -49 115 -69 b 117 -137 115 -133 115 -137 b 205 -120 118 -137 204 -120 "},v52:{x_min:-10.890625,x_max:298.078125,ha:294,o:"m 138 473 b 142 474 140 473 141 474 b 164 459 148 474 153 470 b 191 402 183 442 191 423 b 181 353 191 388 187 371 b 178 349 179 352 178 349 b 179 348 178 348 179 348 b 185 349 181 348 182 348 b 255 376 210 355 234 363 b 272 381 264 381 266 381 b 298 355 287 381 298 370 b 288 330 298 348 298 345 b 171 34 238 254 194 141 b 166 13 168 16 168 16 b 144 1 161 5 152 1 b 121 15 134 1 125 5 b 115 33 119 18 117 24 b 0 330 91 145 49 252 b -10 355 -9 345 -10 348 b 13 381 -10 371 0 381 b 31 376 19 381 25 380 b 132 345 61 358 103 345 l 136 345 l 137 355 b 145 378 138 359 142 370 b 152 415 149 394 152 405 b 137 452 152 427 148 438 b 133 464 134 458 133 460 b 138 473 133 467 134 470 "},v53:{x_min:0,x_max:902.421875,ha:921,o:"m 17 240 b 24 241 19 241 21 241 b 32 240 28 241 31 241 b 46 229 38 238 43 234 b 50 88 50 223 50 237 b 50 -1 50 63 50 34 b 50 -90 50 -36 50 -65 b 46 -231 50 -238 50 -224 b 25 -242 42 -238 34 -242 b 0 -224 14 -242 4 -235 b 0 2 0 -222 0 -108 b 0 223 0 112 0 220 b 17 240 2 230 9 237 m 110 240 b 118 241 111 241 114 241 b 126 240 121 241 123 241 b 142 223 133 237 140 230 b 144 123 144 220 144 205 b 144 29 144 45 144 29 b 144 29 144 29 144 29 b 393 183 166 106 264 167 b 450 186 412 184 431 186 b 756 29 600 186 732 120 b 756 29 756 29 756 29 b 758 123 758 29 758 45 b 760 227 758 226 758 223 b 784 241 766 237 774 241 b 804 229 792 241 800 237 b 809 88 808 223 809 237 l 809 -1 l 809 -90 b 804 -231 809 -238 808 -224 b 784 -242 800 -238 792 -242 b 762 -231 775 -242 766 -238 b 758 -124 756 -224 758 -231 b 756 -30 758 -47 758 -30 b 756 -30 756 -30 756 -30 b 509 -184 736 -108 637 -169 b 450 -187 488 -187 469 -187 b 144 -30 300 -187 168 -122 b 144 -30 144 -30 144 -30 b 144 -124 144 -30 144 -47 b 140 -231 144 -231 144 -224 b 118 -242 134 -238 126 -242 b 92 -224 107 -242 96 -235 b 92 2 92 -222 92 -108 b 92 223 92 112 92 220 b 110 240 95 230 102 237 m 432 161 b 413 162 426 162 420 162 b 313 41 351 162 313 109 b 347 -73 313 5 323 -34 b 487 -163 385 -133 439 -163 b 578 -97 526 -163 562 -142 b 588 -43 585 -80 588 -62 b 432 161 588 47 518 147 m 868 240 b 876 241 869 241 872 241 b 884 240 879 241 882 241 b 898 229 890 238 894 234 b 902 88 902 223 902 237 l 902 -1 l 902 -90 b 898 -231 902 -238 902 -224 b 876 -242 892 -238 884 -242 b 852 -224 865 -242 854 -235 b 850 2 850 -222 850 -108 b 852 223 850 112 850 220 b 868 240 853 230 860 237 "},v54:{x_min:-24.5,x_max:317.140625,ha:324,o:"m -24 -161 l -24 -5 l -20 -5 b 0 -24 -9 -5 -2 -12 b 171 -315 21 -124 84 -233 b 317 -660 268 -406 317 -531 b 187 -1014 317 -782 274 -909 b 161 -1034 172 -1034 171 -1034 b 141 -1013 149 -1034 141 -1025 b 152 -991 141 -1004 142 -1002 b 266 -682 228 -899 266 -788 b 174 -430 266 -588 236 -498 b -23 -317 136 -388 66 -348 b -24 -161 -23 -316 -24 -285 "},v55:{x_min:0,x_max:551.25,ha:563,o:"m 289 644 b 304 645 294 645 299 645 b 404 566 349 645 392 613 b 406 541 405 557 406 549 b 379 471 406 514 397 489 l 377 467 l 382 470 b 509 591 438 485 485 531 b 513 601 510 595 513 599 b 530 609 518 607 524 609 b 551 588 540 609 551 602 b 200 -605 551 584 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 195 112 136 99 165 b 118 256 99 217 106 238 b 204 303 138 287 171 303 b 292 249 238 303 273 285 b 306 199 302 234 306 217 b 279 129 306 173 296 148 l 276 126 l 281 127 b 408 248 336 142 385 190 b 473 470 409 254 473 469 b 473 470 473 470 473 470 b 465 464 473 470 469 467 b 341 421 428 435 383 421 b 236 458 303 421 266 433 b 200 537 212 478 200 508 b 289 644 200 585 234 635 "},v58:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 259 1553 b 265 1553 261 1553 264 1553 b 288 1540 272 1553 277 1550 b 367 1351 340 1493 367 1424 b 336 1221 367 1308 357 1263 l 332 1211 l 333 1208 b 367 1077 356 1170 367 1124 b 336 945 367 1032 357 986 l 332 935 l 333 932 b 367 800 356 893 367 848 b 336 669 367 756 357 710 l 332 659 l 333 656 b 367 523 356 617 367 571 b 345 412 367 485 360 446 b 231 273 322 356 284 310 b -1 19 121 195 27 93 b -17 4 -4 11 -10 5 l -21 4 l -21 134 l -21 265 l -17 265 b 133 291 20 265 96 278 b 318 537 245 328 318 433 b 307 603 318 559 315 582 b 303 614 304 612 304 614 b 298 609 302 614 300 613 b 231 549 281 589 258 567 b -1 295 121 471 27 369 b -17 280 -4 287 -10 281 l -21 280 l -21 410 l -21 541 l -17 541 b 133 567 20 541 96 555 b 318 813 245 605 318 709 b 307 880 318 835 315 859 b 303 891 304 888 304 891 b 298 885 302 891 300 888 b 231 825 281 866 258 843 b -1 571 121 748 27 645 b -17 556 -4 563 -10 557 l -21 556 l -21 687 l -21 817 l -17 817 b 133 843 20 817 96 830 b 318 1089 245 881 318 985 b 307 1156 318 1111 315 1134 b 303 1167 304 1164 304 1167 b 298 1161 302 1167 300 1164 b 231 1102 281 1140 258 1120 b -1 848 121 1024 27 921 b -17 832 -4 839 -10 834 l -21 832 l -21 963 l -21 1093 l -17 1093 b 114 1113 12 1093 78 1103 b 313 1314 215 1142 289 1218 b 318 1364 317 1331 318 1347 b 255 1511 318 1422 295 1478 b 243 1532 247 1519 243 1525 b 259 1553 243 1540 250 1550 "},v59:{x_min:0,x_max:464.140625,ha:474,o:"m 0 0 l 0 347 l 76 347 l 153 347 l 153 0 l 153 -348 l 76 -348 l 0 -348 l 0 0 m 308 -1 l 308 347 l 386 347 l 464 347 l 464 -1 l 464 -348 l 386 -348 l 308 -348 l 308 -1 "},v5a:{x_min:-171.5,x_max:170.140625,ha:174,o:"m -6 566 b 0 567 -5 567 -2 567 b 14 556 6 567 12 563 b 92 285 14 555 50 433 b 170 13 166 33 170 19 b 168 13 170 13 170 13 b 161 1 168 8 167 4 l 159 0 l 122 0 l 84 0 l 81 1 b 21 195 76 5 78 -5 b -32 381 -8 297 -32 381 b -87 197 -32 381 -57 298 b -141 8 -115 94 -140 9 b -155 0 -142 2 -149 0 b -171 15 -163 0 -171 5 b -14 556 -171 18 -24 528 b -6 566 -14 560 -10 564 "},v5b:{x_min:-441,x_max:439.640625,ha:449,o:"m -428 -2 b -421 0 -427 -1 -424 0 b -406 -6 -416 0 -409 -2 b -400 -31 -401 -12 -400 -15 b -1 -352 -392 -215 -215 -352 b 58 -349 19 -352 38 -351 b 398 -31 250 -326 392 -192 b 404 -6 398 -15 400 -12 b 419 -1 408 -2 413 -1 b 439 -13 427 -1 435 -5 b 439 -29 439 -16 439 -22 b 434 -105 439 -48 438 -80 b 0 -489 397 -333 213 -489 b -68 -484 -23 -489 -44 -488 b -441 -36 -280 -452 -436 -263 b -441 -30 -441 -34 -441 -31 b -428 -2 -441 -11 -439 -5 m -13 -9 b -1 -8 -9 -8 -5 -8 b 50 -36 19 -8 39 -19 b 61 -72 57 -47 61 -59 b 50 -106 61 -84 57 -97 b -1 -134 39 -124 19 -134 b -46 -115 -17 -134 -34 -129 b -62 -72 -57 -102 -62 -87 b -13 -9 -62 -44 -44 -16 "},v5c:{x_min:0,x_max:447.8125,ha:457,o:"m 0 -87 l 0 0 l 223 0 l 447 0 l 447 -87 l 447 -174 l 223 -174 l 0 -174 l 0 -87 "},v5d:{x_min:-1.359375,x_max:592.078125,ha:604,o:"m 280 692 b 295 694 283 692 289 694 b 310 692 300 694 307 692 b 357 630 340 684 357 657 b 336 580 357 612 351 594 b 311 538 321 566 311 549 b 352 492 311 512 330 492 b 366 495 357 492 362 492 b 397 553 390 503 397 517 b 415 603 397 576 402 591 b 460 623 427 617 443 623 b 509 599 479 623 498 614 b 522 559 518 587 522 573 b 494 506 522 538 513 519 b 451 495 481 498 473 496 b 415 488 432 495 426 494 b 394 449 404 483 394 464 b 394 448 394 448 394 448 l 394 440 l 397 433 b 428 409 404 420 413 413 b 438 408 431 408 435 408 b 479 431 450 408 462 415 b 528 455 495 448 510 455 b 548 452 534 455 541 453 b 592 391 577 442 592 416 b 549 331 592 365 577 340 b 528 327 541 328 534 327 b 479 351 510 327 495 335 b 438 374 464 367 450 374 b 417 369 431 374 424 373 b 394 333 402 360 394 348 b 400 312 394 326 396 319 b 451 287 408 294 420 288 b 513 258 484 285 499 278 b 522 223 519 247 522 234 b 461 159 522 190 496 159 b 449 161 457 159 453 159 b 397 229 416 167 397 191 b 366 288 397 265 390 278 b 352 290 362 290 357 290 b 315 262 336 290 321 280 b 311 245 313 256 311 251 b 334 204 311 233 318 220 b 355 170 348 190 351 184 b 357 152 356 166 357 159 b 355 136 357 147 356 140 b 295 88 345 104 321 88 b 232 152 264 88 232 112 b 255 204 232 174 238 186 b 279 244 273 222 279 231 l 279 245 b 238 290 279 270 259 290 b 224 288 234 290 228 290 b 193 229 200 278 193 265 b 141 161 193 191 174 167 b 129 159 137 159 133 159 b 68 223 93 159 68 190 b 77 258 68 234 70 247 b 138 287 91 278 106 285 b 185 302 166 287 175 291 b 196 333 193 312 196 323 b 174 369 196 347 187 360 b 152 374 166 373 159 374 b 111 351 140 374 126 367 b 62 327 95 335 80 327 b 51 328 58 327 54 327 b -1 391 16 334 -1 363 b 53 455 -1 420 17 449 b 62 455 57 455 59 455 b 111 431 80 455 95 448 b 152 408 127 415 140 408 b 161 409 155 408 159 408 b 193 433 176 413 186 420 l 196 440 l 196 448 b 196 451 196 449 196 449 b 190 471 196 459 194 463 b 137 495 182 489 167 495 l 134 495 l 134 495 b 68 560 95 495 68 521 b 129 623 68 596 95 623 b 144 621 134 623 138 623 b 193 553 175 614 193 589 b 224 495 193 517 200 503 b 238 492 228 492 234 492 b 279 538 259 492 279 512 b 254 580 279 549 269 566 b 232 630 239 594 232 612 b 280 692 232 657 250 684 m 307 456 b 295 458 303 458 299 458 b 230 391 258 458 230 426 b 236 360 230 381 231 371 b 295 324 249 337 272 324 b 353 360 318 324 341 337 b 360 391 357 370 360 381 b 307 456 360 421 340 451 "},v60:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m -367 173 b -362 174 -366 174 -364 174 b -351 173 -357 174 -353 173 b -262 86 -348 172 -328 151 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 72 86 -13 172 6 151 b 157 0 119 37 157 0 b 227 84 159 0 189 37 b 303 174 298 173 296 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 144 -86 213 0 182 -38 b 68 -174 73 -174 74 -173 b 62 -176 66 -176 65 -176 b 53 -174 59 -176 55 -174 b -35 -87 50 -173 29 -152 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -367 173 -375 169 -372 172 "},v62:{x_min:46.28125,x_max:669.671875,ha:563,o:"m 183 376 b 189 376 185 376 187 376 b 212 374 197 376 208 376 b 265 337 234 369 253 355 b 274 317 268 331 273 320 b 274 316 274 317 274 316 b 280 323 276 316 276 319 b 311 358 288 337 299 348 b 319 366 315 360 318 365 b 356 376 326 373 340 376 b 382 371 364 376 374 374 b 428 337 400 366 417 352 b 436 317 431 331 436 320 b 438 316 436 317 436 316 b 442 323 438 316 439 319 b 475 358 451 337 462 348 b 483 366 477 360 481 365 b 518 376 488 373 503 376 b 544 373 528 376 536 376 b 604 285 579 360 604 326 b 597 249 604 273 601 258 b 543 63 596 247 544 70 b 541 54 543 61 541 55 b 540 44 540 51 540 47 b 552 23 540 33 545 23 b 552 23 552 23 552 23 b 647 126 586 29 627 72 b 658 138 651 136 653 138 b 660 138 660 138 660 138 b 669 129 666 137 669 136 b 654 88 669 122 665 109 b 562 -12 631 43 602 9 l 549 -19 b 521 -27 540 -24 530 -27 b 447 30 490 -27 458 -4 b 443 58 445 38 443 48 b 450 93 443 72 446 84 b 504 278 453 97 504 272 b 507 288 506 283 506 287 b 509 298 507 292 509 295 b 491 326 509 310 502 320 b 487 327 490 327 488 327 b 479 324 484 327 483 326 b 441 270 462 316 443 288 b 435 249 441 265 436 254 b 398 127 434 248 419 195 b 362 4 379 61 362 5 b 328 -1 359 -1 362 -1 b 314 -1 323 -1 319 -1 b 302 -1 310 -1 306 -1 b 266 4 266 -1 269 -1 b 265 6 265 5 265 5 b 303 144 265 13 272 34 b 343 278 325 216 343 276 b 344 288 343 281 344 285 b 345 298 345 291 345 295 b 330 326 345 310 340 320 b 323 327 328 327 325 327 b 317 324 322 327 321 326 b 279 270 300 316 281 288 b 273 249 279 265 274 254 b 236 127 272 248 255 195 b 200 4 216 61 200 5 b 164 -1 197 -1 198 -1 b 151 -1 161 -1 156 -1 b 140 -1 147 -1 142 -1 b 103 4 104 -1 106 -1 b 103 6 103 5 103 5 b 141 144 103 13 108 34 b 181 278 161 216 179 276 b 182 288 181 281 181 285 b 183 298 182 291 183 295 b 168 324 183 310 178 320 b 160 327 166 326 163 327 b 141 320 156 327 151 324 b 69 230 112 305 85 272 b 57 215 65 217 62 215 b 55 215 57 215 55 215 b 46 224 49 215 46 217 b 59 260 46 231 50 242 b 151 363 81 306 112 341 b 161 369 155 365 160 367 b 183 376 166 371 174 374 "},v68:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 155 11 -5 172 43 123 l 166 -1 l 168 1 l 170 4 l 170 130 b 171 260 170 256 170 258 b 191 274 175 269 183 274 b 205 267 196 274 201 272 b 212 158 212 262 210 273 l 212 56 l 257 112 b 311 173 304 172 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 216 -6 221 -1 219 -2 l 212 -12 l 212 -147 b 212 -210 212 -173 212 -194 b 205 -292 212 -297 210 -287 b 191 -299 201 -297 196 -299 b 172 -287 183 -299 175 -295 b 170 -174 171 -284 171 -284 l 170 -63 l 127 -117 b 73 -176 84 -170 80 -176 b 68 -176 72 -176 70 -176 b -27 -87 59 -174 65 -180 b -114 0 -74 -38 -112 0 b -182 -86 -114 0 -145 -38 b -258 -174 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 "},v6c:{x_min:-1.359375,x_max:193.28125,ha:197,o:"m 78 233 b 87 233 81 233 84 233 b 187 140 132 233 174 195 b 193 102 190 127 193 115 b 43 -113 193 22 136 -62 b 27 -119 36 -116 31 -119 b 19 -108 21 -119 19 -115 b 29 -97 19 -102 20 -101 b 102 13 73 -72 102 -27 b 92 51 102 26 98 40 l 91 54 l 84 54 b 8 104 53 54 21 74 b -1 142 1 116 -1 130 b 78 233 -1 187 31 227 "},v6d:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m 544 335 b 553 337 548 337 551 337 b 575 313 563 337 570 330 b 589 226 583 285 589 256 b 517 8 589 152 563 76 b 464 -58 507 -4 503 -9 l 401 -136 b 362 -176 372 -172 370 -176 b 357 -176 360 -176 359 -176 b 261 -87 349 -174 355 -180 b 175 0 215 -38 175 0 b 106 -86 175 0 144 -38 b 29 -174 35 -174 36 -173 b 24 -176 28 -176 27 -176 b 14 -174 21 -176 17 -174 b -73 -87 12 -173 -8 -152 b -159 0 -121 -38 -159 0 b -228 -86 -160 0 -190 -38 b -304 -174 -299 -174 -298 -173 b -310 -176 -306 -176 -308 -176 b -319 -174 -314 -176 -318 -174 b -483 -12 -323 -173 -359 -137 l -495 0 l -524 -34 b -562 -77 -553 -73 -556 -76 b -568 -79 -564 -79 -566 -79 b -590 -58 -581 -79 -590 -69 b -588 -49 -590 -55 -589 -52 b -412 170 -585 -43 -417 165 b -398 174 -408 173 -402 174 b -389 173 -394 174 -392 174 b -300 86 -387 172 -366 151 b -215 -1 -254 37 -215 -1 b -145 84 -215 -1 -183 37 b -69 173 -74 173 -76 172 b -63 174 -68 174 -66 174 b -54 173 -61 174 -57 173 b 34 86 -51 172 -31 151 b 119 -1 81 37 119 -1 b 189 84 121 -1 151 37 b 265 173 259 173 258 172 b 270 174 266 174 269 174 b 280 173 274 174 279 173 b 370 84 283 172 303 151 b 455 -1 416 37 455 -1 l 455 -1 b 476 24 455 -1 469 15 b 547 226 522 87 547 159 b 534 302 547 252 543 278 b 532 317 533 308 532 313 b 544 335 532 326 536 333 "},v6f:{x_min:-80.3125,x_max:78.9375,ha:81,o:"m 63 191 b 69 192 65 192 66 192 b 77 188 72 192 76 191 b 78 183 78 187 78 186 b 74 158 78 179 77 172 l 66 115 b 9 -161 49 30 10 -158 b -10 -187 6 -172 -1 -181 b -34 -194 -17 -191 -25 -194 b -80 -147 -58 -194 -80 -174 b -80 -141 -80 -144 -80 -142 b 9 70 -80 -134 -73 -117 l 49 163 b 63 191 59 188 61 190 "},v70:{x_min:0,x_max:436.921875,ha:446,o:"m 213 190 b 217 191 215 191 216 191 b 231 184 223 191 228 188 b 249 154 240 167 246 159 b 419 18 292 91 348 45 b 436 -1 435 11 436 8 b 424 -16 436 -9 434 -13 b 308 -87 394 -26 340 -59 b 231 -186 276 -117 257 -142 b 219 -192 228 -191 225 -192 b 198 -174 209 -192 208 -191 b 47 -33 161 -113 110 -63 b 10 -16 34 -26 17 -19 b 0 -1 2 -13 0 -9 b 17 18 0 8 1 11 b 198 173 95 48 156 101 b 213 190 206 187 208 188 "},v72:{x_min:-423.3125,x_max:421.9375,ha:431,o:"m -262 197 b -247 197 -257 197 -253 197 b -118 162 -210 197 -163 184 b 40 45 -61 134 -13 98 b 277 -95 119 -33 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -55 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 201 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 136 b 421 22 421 37 421 29 b 245 -199 421 -93 338 -199 b 238 -198 243 -199 240 -199 b -44 -47 148 -194 50 -141 b -250 86 -114 22 -183 66 b -295 94 -270 91 -283 94 b -315 91 -302 94 -307 94 b -381 4 -356 81 -381 43 b -355 -56 -381 -18 -372 -40 b -298 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -178 -69 -200 -58 -189 -62 b -151 -122 -160 -81 -151 -101 b -171 -167 -151 -138 -157 -155 b -239 -195 -185 -181 -213 -192 b -257 -197 -245 -197 -250 -197 b -423 -5 -352 -197 -423 -109 b -412 65 -423 16 -419 40 b -262 197 -389 137 -329 188 "},v74:{x_min:-206.890625,x_max:428.75,ha:438,o:"m 389 -351 b 394 -351 390 -351 393 -351 b 428 -385 413 -351 428 -367 b 428 -394 428 -388 428 -391 b 394 -428 426 -406 421 -410 l 332 -473 l 269 -516 l 205 -560 l 141 -603 l 77 -648 l 13 -692 l -50 -737 l -114 -780 l -145 -802 b -171 -813 -157 -810 -163 -813 b -175 -813 -172 -813 -174 -813 b -206 -777 -194 -811 -206 -795 b -202 -760 -206 -771 -205 -766 b -87 -675 -197 -752 -206 -757 l -34 -639 l 83 -557 l 145 -514 l 209 -470 l 272 -427 b 389 -351 375 -356 381 -352 "},v75:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -137 381 b -130 383 -134 383 -133 383 b -111 371 -122 383 -114 378 b -55 224 -110 370 -85 305 b 0 80 -25 145 -1 80 b 54 224 0 80 24 145 b 112 377 114 384 110 373 b 127 384 118 381 122 384 b 148 362 138 384 148 374 l 148 356 l 83 183 b 16 9 47 88 17 11 b -1 0 12 2 5 0 b -14 5 -5 0 -10 1 b -84 183 -19 9 -13 -6 l -149 356 l -149 362 b -137 381 -149 371 -145 378 "},v78:{x_min:0,x_max:193.28125,ha:197,o:"m 85 514 b 95 517 88 517 89 517 b 114 505 103 517 110 513 l 115 502 l 115 376 b 115 249 115 306 115 249 b 141 258 117 249 127 252 l 167 266 l 172 266 b 190 254 181 265 187 262 l 193 251 l 193 202 l 193 188 b 187 147 193 149 191 152 b 147 130 183 142 182 141 l 115 119 l 115 9 b 115 -99 115 -51 115 -99 b 141 -91 115 -99 127 -95 b 171 -81 166 -81 167 -81 l 171 -81 b 191 -94 181 -81 189 -87 b 193 -142 191 -97 193 -120 b 191 -195 193 -167 191 -194 b 125 -227 187 -205 187 -204 l 115 -230 l 115 -366 l 115 -503 l 114 -506 b 95 -519 110 -514 102 -519 b 74 -506 87 -519 78 -514 l 73 -503 l 73 -374 b 73 -245 73 -260 73 -245 b 73 -245 73 -245 73 -245 b 55 -252 72 -245 63 -249 l 32 -260 b 19 -263 27 -262 23 -263 b 4 -256 13 -263 8 -260 b 0 -215 0 -251 0 -254 b 0 -199 0 -210 0 -206 l 0 -152 l 1 -149 b 8 -140 2 -145 5 -141 b 42 -127 9 -140 24 -133 l 73 -116 l 73 -5 b 73 23 73 4 73 15 b 73 105 73 70 73 105 b 49 97 73 105 61 101 b 17 88 32 91 23 88 b 4 95 10 88 8 91 b 0 137 0 101 0 98 b 0 151 0 141 0 145 l 0 199 l 1 202 b 43 224 5 212 5 212 l 73 234 l 73 367 l 73 502 l 74 505 b 85 514 77 509 81 513 "},v79:{x_min:-1.359375,x_max:899.703125,ha:918,o:"m 307 349 b 332 351 315 351 323 351 b 443 340 367 351 408 347 b 741 47 607 306 720 195 b 744 0 743 31 744 16 b 660 -303 744 -90 713 -206 b 28 -755 534 -531 304 -695 b 14 -756 23 -755 19 -756 b -1 -741 4 -756 -1 -750 b 21 -720 -1 -731 1 -728 b 567 -56 337 -601 548 -344 b 568 -11 568 -41 568 -24 b 442 285 568 129 525 233 b 325 319 406 308 367 319 b 93 177 232 319 137 266 b 84 154 91 170 84 155 b 84 154 84 154 84 154 b 88 156 84 154 85 155 b 159 177 110 170 134 177 b 257 134 194 177 231 162 b 294 41 281 108 294 73 b 171 -97 294 -24 246 -90 b 156 -98 166 -97 161 -98 b 6 74 73 -98 6 -22 b 6 80 6 76 6 79 b 307 349 10 223 141 340 m 839 215 b 845 216 841 216 842 216 b 862 213 852 216 860 215 b 899 163 887 206 899 184 b 872 117 899 145 890 127 b 847 111 865 112 856 111 b 808 130 833 111 818 117 b 796 162 800 140 796 151 b 839 215 796 187 812 212 m 839 -112 b 845 -112 841 -112 842 -112 b 862 -115 852 -112 860 -113 b 899 -165 887 -122 899 -144 b 872 -210 899 -183 890 -201 b 847 -217 865 -215 856 -217 b 808 -198 833 -217 818 -210 b 796 -165 800 -188 796 -177 b 839 -112 796 -140 812 -116 "},v7a:{x_min:-1.359375,x_max:386.5625,ha:394,o:"m 249 535 b 257 537 251 537 253 537 b 276 524 266 537 273 533 l 277 521 l 279 419 l 279 316 l 304 323 b 337 328 319 326 330 328 b 353 316 347 328 349 324 b 355 266 355 315 355 290 b 353 215 355 241 355 217 b 319 198 349 206 347 205 b 279 187 284 190 279 188 b 279 156 279 187 279 174 b 279 136 279 151 279 144 l 279 84 l 289 87 l 330 98 b 367 105 352 102 362 105 b 378 101 372 105 375 104 b 386 61 385 95 386 94 b 386 40 386 55 386 48 l 386 -5 l 385 -8 b 374 -19 383 -12 378 -18 b 291 -40 372 -19 347 -26 b 279 -43 284 -41 279 -43 b 279 -83 279 -43 279 -59 b 279 -95 279 -87 279 -91 l 279 -145 l 304 -140 b 337 -133 321 -136 330 -133 b 349 -140 343 -133 347 -136 b 355 -181 355 -145 355 -142 l 355 -197 l 355 -210 b 349 -252 355 -249 355 -247 b 300 -269 345 -258 347 -258 b 280 -274 291 -272 281 -273 l 279 -274 l 277 -378 l 277 -483 l 276 -487 b 257 -499 273 -495 265 -499 b 238 -487 249 -499 242 -495 l 236 -483 l 236 -384 l 236 -285 l 235 -285 l 212 -291 l 170 -301 b 148 -308 159 -305 148 -306 b 147 -415 147 -308 147 -313 l 147 -523 l 145 -526 b 126 -538 141 -534 133 -538 b 106 -526 118 -538 110 -534 l 104 -523 l 104 -420 b 103 -317 104 -326 104 -317 b 103 -317 103 -317 103 -317 b 50 -330 92 -322 54 -330 b 31 -317 42 -330 35 -326 b 29 -267 29 -315 29 -315 l 29 -219 l 32 -216 b 92 -192 36 -206 36 -206 l 104 -190 l 104 -138 b 103 -87 104 -91 104 -87 b 103 -87 103 -87 103 -87 b 88 -91 103 -87 96 -88 l 49 -101 b 17 -106 32 -105 23 -106 b 6 -102 13 -106 10 -105 b -1 -62 0 -97 -1 -95 b 0 -41 -1 -56 0 -49 l 0 4 l 1 6 b 10 16 2 11 6 15 b 91 37 12 18 38 24 l 104 41 l 104 93 b 103 144 104 140 104 144 b 103 144 103 144 103 144 b 50 131 92 141 54 131 b 31 144 42 131 35 137 b 29 195 29 147 29 148 l 29 242 l 32 245 b 92 269 36 255 36 255 l 104 273 l 104 377 l 104 481 l 106 485 b 126 498 110 492 118 498 b 134 495 129 498 132 496 b 145 485 138 494 142 489 l 147 481 l 147 383 l 147 283 l 152 284 b 190 294 155 285 171 290 l 230 303 l 236 305 l 236 413 l 236 521 l 238 524 b 249 535 240 528 243 533 m 236 126 b 235 177 236 154 236 177 l 235 177 b 213 172 235 177 225 174 l 170 161 b 147 155 157 158 147 155 b 147 124 147 155 147 142 b 147 102 147 117 147 111 l 147 52 l 153 54 l 228 72 l 236 74 l 236 126 m 236 -105 b 235 -54 236 -65 236 -54 l 235 -54 b 231 -55 235 -54 234 -54 b 172 -69 227 -55 204 -62 l 149 -76 l 147 -76 l 147 -127 l 147 -179 l 152 -177 b 190 -167 155 -177 171 -173 l 230 -158 l 236 -156 l 236 -105 "},v7c:{x_min:0,x_max:300.8125,ha:307,o:"m 49 505 b 53 506 50 505 51 506 b 70 496 58 506 62 503 b 81 485 73 492 78 488 l 96 473 l 111 459 l 122 449 l 134 438 l 182 396 l 255 330 b 292 291 292 298 292 298 l 292 290 l 292 284 l 283 270 b 209 36 234 197 209 113 b 288 -170 209 -44 235 -119 b 299 -184 295 -179 299 -181 b 300 -191 300 -187 300 -188 b 285 -206 300 -199 294 -206 b 280 -206 283 -206 281 -206 b 247 -201 270 -202 259 -201 b 176 -222 223 -201 197 -208 b 114 -340 136 -249 114 -292 b 172 -471 114 -384 134 -433 b 185 -492 182 -481 185 -487 b 181 -502 185 -496 183 -499 b 171 -508 176 -505 174 -508 b 152 -498 166 -508 160 -503 b 0 -284 65 -428 12 -352 b 0 -260 0 -278 0 -270 b 1 -238 0 -252 0 -242 b 148 -140 16 -177 73 -140 b 209 -148 167 -140 189 -142 b 215 -149 212 -148 215 -149 b 215 -149 215 -149 215 -149 l 215 -149 b 201 -136 215 -148 209 -142 l 157 -97 l 96 -41 b 17 34 21 24 17 29 b 17 37 17 36 17 36 b 17 38 17 37 17 38 b 25 56 17 44 17 44 b 110 298 81 131 110 219 b 46 474 110 367 88 431 b 38 491 40 480 38 487 b 49 505 38 498 42 502 "},v7d:{x_min:-1.359375,x_max:436.921875,ha:446,o:"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 "},v7f:{x_min:0,x_max:367.5,ha:375,o:"m 0 124 l 0 187 l 61 187 l 122 187 l 122 138 l 122 91 l 153 61 l 183 30 l 213 61 l 243 91 l 243 138 l 243 187 l 306 187 l 367 187 l 367 124 l 367 61 l 321 61 l 274 61 l 243 30 l 213 0 l 243 -31 l 274 -62 l 321 -62 l 367 -62 l 367 -124 l 367 -188 l 306 -188 l 243 -188 l 243 -140 l 243 -93 l 213 -62 l 183 -31 l 153 -62 l 122 -93 l 122 -140 l 122 -188 l 61 -188 l 0 -188 l 0 -124 l 0 -62 l 46 -62 l 92 -62 l 123 -31 l 153 0 l 123 30 l 92 61 l 46 61 l 0 61 l 0 124 "},v80:{x_min:29.9375,x_max:420.578125,ha:371,o:"m 115 345 b 221 347 117 345 166 347 b 411 345 306 347 409 345 b 420 330 416 342 420 335 b 415 319 420 326 419 321 b 178 118 397 303 179 118 b 178 117 178 118 178 117 b 181 117 178 117 178 117 b 189 117 182 117 185 117 b 193 117 190 117 191 117 b 247 98 215 117 232 111 b 296 75 266 83 280 76 b 302 75 299 75 300 75 b 322 91 311 75 315 79 b 322 91 322 91 322 91 b 322 91 322 91 322 91 b 319 91 322 91 321 91 b 313 90 318 90 315 90 b 283 107 300 90 288 97 b 277 126 279 114 277 121 b 319 167 277 149 295 167 b 319 167 319 167 319 167 b 362 118 347 167 362 147 b 355 82 362 108 359 96 b 311 33 349 65 340 55 b 224 1 284 12 253 1 b 194 5 213 1 204 2 b 168 18 183 8 178 11 b 110 36 151 30 130 36 b 57 15 88 36 68 29 b 47 11 54 12 51 11 b 31 20 40 11 34 13 b 29 26 31 22 29 25 b 68 66 29 36 39 45 b 285 250 73 71 281 248 b 285 250 285 250 285 250 b 231 252 285 252 261 252 b 137 250 190 252 141 250 b 93 227 122 248 110 241 b 78 220 88 222 83 220 b 66 227 74 220 70 222 b 63 234 65 229 63 231 b 85 291 63 241 69 252 b 115 345 108 342 108 344 "},v81:{x_min:0,x_max:428.75,ha:438,o:"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 m 366 131 b 352 134 362 133 357 134 b 219 81 321 134 269 115 b 47 -111 126 23 50 -62 b 47 -112 47 -111 47 -112 b 77 -136 47 -129 58 -136 b 264 -45 118 -136 194 -101 b 382 109 336 12 382 76 b 366 131 382 120 377 129 "},v83:{x_min:-1.359375,x_max:847.96875,ha:865,o:"m 488 1499 b 495 1500 490 1500 492 1500 b 541 1465 507 1500 521 1490 b 679 1078 622 1372 679 1210 b 677 1050 679 1068 677 1060 b 477 642 668 893 604 764 l 443 609 l 431 596 l 431 592 l 438 562 l 449 508 l 460 458 b 481 355 475 390 481 355 b 481 355 481 355 481 355 b 490 356 481 355 485 355 b 528 358 495 356 511 358 b 558 356 540 358 552 356 b 839 95 699 338 808 237 b 847 22 845 72 847 47 b 631 -303 847 -113 766 -242 b 620 -309 623 -308 620 -309 l 620 -310 b 631 -359 620 -310 626 -333 l 646 -435 l 660 -496 b 672 -588 668 -535 672 -563 b 664 -653 672 -610 669 -630 b 383 -875 630 -792 509 -875 b 201 -810 321 -875 257 -855 b 129 -680 151 -768 129 -730 b 274 -530 129 -592 200 -530 b 351 -553 300 -530 326 -538 b 412 -669 393 -582 412 -626 b 287 -805 412 -735 366 -800 l 279 -805 l 285 -809 b 383 -830 318 -823 351 -830 b 586 -718 464 -830 540 -789 b 626 -584 612 -678 626 -631 b 619 -528 626 -566 623 -548 b 612 -495 619 -526 616 -510 b 577 -324 590 -387 577 -324 b 577 -324 577 -324 577 -324 b 568 -326 575 -324 571 -324 b 528 -334 558 -328 537 -333 b 465 -338 506 -337 485 -338 b 24 -11 269 -338 87 -206 b -1 145 8 41 -1 93 b 96 442 -1 249 32 351 b 322 714 166 541 236 626 l 352 745 l 345 782 l 332 843 l 315 921 b 303 984 310 950 304 978 b 295 1082 298 1017 295 1049 b 413 1426 295 1208 336 1329 b 488 1499 436 1456 477 1496 m 549 1301 b 541 1301 547 1301 544 1301 b 411 1207 500 1301 447 1263 b 355 1004 374 1152 355 1079 b 359 942 355 984 356 963 b 371 881 362 927 363 917 l 385 818 b 392 782 389 799 392 784 l 392 782 b 434 828 393 782 424 816 b 607 1165 534 941 594 1060 b 608 1193 608 1175 608 1183 b 597 1270 608 1224 604 1254 b 549 1301 589 1286 571 1299 m 398 528 b 393 555 396 542 393 553 b 392 555 393 555 393 555 b 317 470 390 555 347 505 b 190 298 266 408 212 334 b 127 70 148 227 127 148 b 155 -77 127 19 137 -30 b 468 -303 209 -216 333 -303 b 519 -299 484 -303 502 -302 b 568 -284 541 -295 568 -287 l 568 -284 b 563 -263 568 -284 566 -274 l 534 -120 l 511 -13 l 496 61 l 480 133 b 469 187 472 176 469 187 b 468 188 469 187 469 188 b 416 162 462 188 430 172 b 337 13 364 126 337 69 b 413 -124 337 -40 363 -93 b 428 -144 424 -131 428 -137 b 428 -149 428 -145 428 -148 b 409 -166 426 -161 419 -166 b 394 -162 405 -166 400 -165 b 240 77 302 -122 240 -27 l 240 77 b 430 342 240 197 315 301 l 436 344 l 426 394 l 398 528 m 548 194 b 526 195 540 195 532 195 b 519 195 524 195 521 195 l 514 195 l 518 177 l 539 79 l 552 15 l 566 -48 l 594 -187 l 605 -240 b 612 -266 609 -254 611 -266 b 612 -266 612 -266 612 -266 b 641 -248 613 -266 630 -256 b 744 -98 692 -212 730 -156 b 751 -40 749 -79 751 -59 b 548 194 751 76 665 181 "},v84:{x_min:25.859375,x_max:164.6875,ha:168,o:"m 34 369 b 40 370 35 370 38 370 b 59 353 49 370 50 367 b 164 40 122 254 155 158 b 164 0 164 33 164 16 b 164 -40 164 -16 164 -34 b 59 -353 155 -158 122 -254 b 40 -371 53 -366 47 -371 b 34 -370 38 -371 36 -370 b 25 -358 28 -367 25 -363 b 31 -337 25 -352 27 -347 b 92 0 72 -234 92 -117 b 31 335 92 116 72 233 b 25 356 27 345 25 352 b 34 369 25 363 28 366 "},v86:{x_min:-571.671875,x_max:570.3125,ha:582,o:"m -386 173 b -381 174 -385 174 -383 174 b -370 173 -377 174 -372 173 b -281 86 -367 172 -347 151 b -196 0 -235 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 277 172 b 289 174 285 174 288 174 b 299 173 294 174 298 173 b 462 11 303 172 338 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 374 -176 371 -176 b 280 -87 367 -173 345 -152 b 194 0 234 -38 194 0 b 125 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 43 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -141 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -289 -176 b -300 -174 -295 -176 -299 -174 b -464 -12 -304 -173 -340 -137 l -476 0 l -504 -34 b -543 -77 -534 -73 -537 -76 b -549 -79 -545 -79 -547 -79 b -571 -58 -562 -79 -571 -69 b -568 -49 -571 -55 -570 -52 b -392 172 -566 -43 -396 167 b -386 173 -390 172 -387 173 "},v8a:{x_min:-170.140625,x_max:168.78125,ha:172,o:"m -160 567 b -122 567 -159 567 -149 567 l -87 567 l -84 566 b -74 553 -78 563 -77 560 b -20 366 -73 551 -49 466 b 31 186 8 267 31 186 b 85 371 31 186 55 269 b 140 559 114 473 138 557 b 153 567 141 564 148 567 b 168 559 159 567 166 564 b 168 555 168 557 168 557 b 92 281 168 548 159 513 b 14 13 50 134 14 13 b 0 0 14 6 6 0 b -17 15 -8 0 -17 8 b -93 283 -17 15 -51 136 b -170 552 -166 533 -170 548 b -170 553 -170 552 -170 552 b -160 567 -170 560 -167 564 "},v8b:{x_min:0,x_max:319.859375,ha:326,o:"m 149 508 b 159 509 152 509 155 509 b 186 494 170 509 181 503 b 190 440 190 487 190 488 l 190 430 l 190 377 l 242 377 l 251 377 b 303 373 298 377 296 377 b 319 345 314 367 319 356 b 304 319 319 335 314 324 b 250 315 296 315 299 315 l 242 315 l 190 315 l 190 262 l 190 252 b 186 198 190 204 190 205 b 159 183 179 188 170 183 b 132 198 148 183 138 188 b 127 252 127 205 127 204 l 127 262 l 127 315 l 76 315 l 68 315 b 14 319 20 315 21 315 b 0 347 4 324 0 335 b 14 373 0 356 4 367 b 68 377 21 377 20 377 l 76 377 l 127 377 l 127 430 l 127 440 b 132 494 127 488 127 487 b 149 508 136 501 142 505 "},v8c:{x_min:-330.75,x_max:329.390625,ha:336,o:"m -133 483 b -117 484 -127 484 -122 484 b 31 373 -51 484 9 440 b 35 348 34 365 35 356 b -25 285 35 313 10 285 b -87 331 -55 285 -76 302 b -167 402 -100 376 -133 402 b -191 398 -175 402 -183 401 b -227 341 -215 388 -227 369 b -225 320 -227 334 -227 327 b -13 74 -209 230 -125 133 b 6 65 -4 70 5 66 l 9 63 l 10 65 b 117 231 12 68 40 112 l 189 341 l 242 424 b 268 460 262 456 264 458 b 283 464 273 463 277 464 b 308 438 296 464 308 453 l 308 437 b 287 396 308 430 308 428 l 95 98 l 59 43 l 58 41 l 65 37 b 253 -156 151 -8 217 -77 b 281 -285 272 -199 281 -244 b 148 -481 281 -381 231 -463 b 115 -485 137 -484 126 -485 b -32 -376 51 -485 -9 -442 b -36 -349 -35 -366 -36 -358 b 25 -287 -36 -315 -12 -287 b 85 -333 54 -287 74 -302 b 166 -403 99 -377 133 -403 b 190 -399 174 -403 182 -402 b 225 -342 215 -390 225 -370 b 224 -322 225 -335 225 -328 b 12 -76 208 -231 125 -134 b -8 -66 2 -72 -6 -68 l -10 -65 l -12 -66 b -118 -231 -13 -68 -42 -113 l -190 -342 l -243 -426 b -269 -462 -264 -458 -265 -458 b -284 -466 -274 -464 -279 -466 b -310 -440 -298 -466 -310 -455 l -310 -438 b -288 -398 -310 -430 -308 -430 l -96 -99 l -59 -44 l -59 -43 l -66 -38 b -281 284 -198 33 -281 158 l -281 284 b -133 483 -281 392 -220 474 m 254 177 b 266 179 258 177 262 179 b 319 149 287 179 307 167 b 329 115 326 140 329 127 b 319 79 329 102 326 90 b 268 51 307 61 287 51 b 221 72 250 51 234 58 b 205 115 210 84 205 99 b 254 177 205 142 223 170 m -281 -54 b -269 -52 -277 -52 -273 -52 b -223 -73 -253 -52 -235 -59 b -206 -116 -212 -84 -206 -101 b -216 -151 -206 -129 -209 -141 b -269 -179 -228 -170 -249 -179 b -314 -159 -285 -179 -302 -173 b -330 -116 -325 -147 -330 -131 b -281 -54 -330 -88 -313 -61 "},v8d:{x_min:-1.359375,x_max:255.890625,ha:261,o:"m 118 514 b 127 517 121 517 122 517 b 147 505 136 517 142 513 l 148 502 l 148 403 b 148 306 148 351 148 306 b 174 315 149 306 160 310 l 200 324 l 205 323 b 223 312 213 323 220 319 l 225 308 l 225 260 b 225 245 225 255 225 249 b 220 204 225 208 224 209 b 179 188 216 199 215 199 l 148 177 l 148 124 l 148 70 l 189 84 b 236 98 219 94 230 98 b 247 94 240 98 243 97 b 255 52 254 88 255 87 b 255 33 255 47 255 40 l 254 -12 l 253 -15 b 249 -22 253 -18 250 -20 l 245 -24 l 196 -41 l 148 -58 l 148 -108 b 148 -158 148 -136 148 -158 b 174 -148 148 -158 160 -154 b 204 -140 198 -140 200 -140 l 204 -140 b 224 -152 213 -140 221 -145 b 225 -201 224 -155 225 -177 b 224 -254 225 -226 224 -251 b 157 -284 220 -262 220 -262 l 148 -288 l 148 -395 l 148 -503 l 147 -506 b 127 -519 142 -514 134 -519 b 107 -506 119 -519 111 -514 l 106 -503 l 106 -403 b 106 -303 106 -316 106 -303 b 104 -303 104 -303 104 -303 b 88 -310 104 -303 96 -306 l 63 -319 b 51 -322 59 -320 55 -322 b 36 -315 46 -322 40 -319 b 31 -273 32 -309 31 -312 b 31 -258 31 -269 31 -263 l 31 -210 l 34 -206 b 40 -198 35 -204 38 -199 b 74 -186 42 -197 57 -191 l 106 -173 l 106 -123 b 106 -97 106 -112 106 -104 b 106 -72 106 -76 106 -72 b 104 -72 106 -72 106 -72 b 20 -99 89 -79 23 -99 b 0 -84 10 -99 2 -93 b -1 -37 0 -81 -1 -59 b 0 11 -1 -15 0 9 b 58 40 4 22 2 22 l 106 56 l 106 109 b 106 123 106 115 106 119 b 106 162 106 147 106 162 b 81 155 106 162 93 159 b 50 147 65 149 55 147 b 36 152 43 147 40 148 b 31 194 32 158 31 156 b 31 209 31 198 31 204 l 31 256 l 34 260 b 76 281 38 269 38 269 l 106 292 l 106 396 l 106 502 l 107 505 b 118 514 110 509 114 513 "},v8f:{x_min:-21.78125,x_max:362.0625,ha:369,o:"m 302 1031 b 308 1032 304 1032 307 1032 b 330 1016 318 1032 325 1027 b 362 867 351 970 362 920 b 340 738 362 824 353 780 l 336 727 l 340 717 b 362 591 355 677 362 634 b 257 323 362 496 325 401 b 204 272 243 306 227 290 b 20 56 129 206 66 133 b -1 18 12 44 0 22 b -19 4 -4 9 -12 4 l -21 4 l -21 140 l -21 276 l -12 277 b 167 333 61 288 127 309 b 319 598 262 388 319 491 b 311 664 319 620 317 642 l 310 673 l 304 664 b 204 548 279 620 250 587 b 20 333 129 483 66 409 b -1 292 12 320 0 298 b -19 280 -4 285 -12 280 l -21 280 l -21 416 l -21 552 l -12 553 b 167 609 61 564 127 585 b 319 874 264 666 319 770 b 294 992 319 914 311 954 b 288 1011 288 1004 288 1007 b 302 1031 288 1021 294 1028 "},v90:{x_min:-171.5,x_max:483.1875,ha:493,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 495 20 616 20 616 b 20 373 20 427 20 373 b 115 410 20 373 63 390 l 210 448 l 210 531 b 212 620 210 614 210 616 b 231 632 215 628 223 632 b 246 627 236 632 242 631 b 251 541 251 620 251 628 l 251 463 l 315 489 b 387 514 368 509 381 514 b 393 513 390 514 392 514 b 406 494 402 510 406 502 b 397 476 406 487 404 480 b 323 446 396 474 363 462 l 251 417 l 251 283 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -19 -217 -9 -229 -16 -224 l -20 -215 l -21 48 l -21 310 l -83 287 b -152 262 -133 266 -145 262 b -157 263 -153 262 -155 262 b -171 283 -166 266 -171 274 b -161 301 -171 290 -167 297 b -91 328 -160 302 -129 315 l -21 356 l -21 487 l -20 617 l -19 621 b -8 631 -17 626 -12 630 m 210 288 b 210 401 210 351 210 401 b 114 365 209 401 167 384 l 20 327 l 20 238 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 180 164 199 187 192 l 209 177 b 209 177 209 177 209 177 b 210 288 210 177 210 199 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 "},v92:{x_min:0,x_max:598.890625,ha:611,o:"m 62 181 b 77 183 66 183 72 183 b 91 181 83 183 88 183 b 202 131 100 180 106 177 l 299 87 l 394 131 b 517 183 499 181 502 183 b 519 183 517 183 518 183 b 598 104 567 183 598 144 b 577 49 598 84 592 65 b 518 15 567 38 563 37 b 484 0 499 6 484 0 b 518 -16 484 -1 499 -8 b 577 -51 563 -38 567 -40 b 598 -105 592 -66 598 -86 b 519 -184 598 -145 567 -184 b 517 -184 518 -184 517 -184 b 394 -133 502 -184 499 -183 l 299 -88 l 202 -133 b 81 -184 99 -183 95 -184 b 77 -184 80 -184 78 -184 b 0 -105 29 -184 0 -145 b 20 -51 0 -86 5 -66 b 80 -16 29 -40 34 -38 b 114 -1 98 -8 114 -1 b 80 15 114 0 98 6 b 20 49 34 37 29 38 b 0 104 6 65 0 84 b 62 181 0 140 23 174 m 88 134 b 74 136 85 134 80 136 b 68 134 72 136 69 136 b 46 104 54 130 46 117 b 55 81 46 95 49 88 b 149 34 59 76 53 80 b 224 -1 190 15 224 0 b 144 -38 224 -1 187 -18 b 54 -84 59 -79 58 -79 b 46 -105 49 -90 46 -98 b 76 -137 46 -122 58 -137 b 78 -137 77 -137 77 -137 b 194 -86 87 -137 76 -141 b 298 -36 250 -58 298 -36 b 298 -36 298 -36 298 -36 b 402 -84 299 -36 345 -58 b 518 -137 522 -141 510 -137 b 521 -137 519 -137 519 -137 b 551 -105 539 -137 551 -122 b 541 -83 551 -98 548 -90 b 447 -36 537 -77 544 -81 b 374 -1 406 -16 374 -1 b 447 34 374 0 406 15 b 541 81 544 80 537 76 b 551 104 548 88 551 97 b 521 136 551 120 539 136 b 518 136 519 136 519 136 b 517 136 518 136 517 136 l 517 136 b 402 83 511 136 511 136 b 298 34 345 56 299 34 b 298 34 298 34 298 34 b 194 84 298 34 250 56 b 88 134 137 111 89 133 "},v93:{x_min:0,x_max:438.28125,ha:447,o:"m 212 205 b 219 205 213 205 216 205 b 239 183 228 205 231 204 b 421 -163 298 40 363 -83 b 438 -191 434 -180 438 -186 b 436 -197 438 -192 438 -195 b 424 -206 434 -204 431 -206 b 406 -201 420 -206 415 -205 b 216 -156 347 -172 281 -156 b 23 -205 148 -156 80 -173 b 14 -206 20 -206 17 -206 b 0 -191 6 -206 0 -201 b 6 -176 0 -187 1 -183 b 202 192 63 -104 142 45 b 212 205 205 199 208 202 m 264 48 l 249 81 l 243 94 l 242 91 b 89 -126 208 36 137 -66 b 81 -138 85 -133 81 -138 b 81 -138 81 -138 81 -138 b 81 -138 81 -138 81 -138 b 95 -133 81 -138 87 -136 b 280 -94 156 -108 221 -94 b 334 -98 299 -94 317 -95 b 343 -99 338 -99 343 -99 b 343 -99 343 -99 343 -99 b 338 -94 343 -99 341 -97 b 264 48 318 -58 287 1 "},v94:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -9 215 b 0 217 -6 217 -4 217 b 19 205 8 217 14 213 b 20 142 20 202 20 201 l 20 84 l 23 84 b 144 -27 81 74 129 30 b 148 -66 147 -40 148 -54 b 36 -213 148 -134 103 -197 b 0 -219 24 -217 12 -219 b -145 -104 -68 -219 -129 -173 b -149 -68 -148 -91 -149 -79 b -24 84 -149 6 -98 74 l -21 84 l -21 142 b -19 205 -20 201 -20 202 b -9 215 -17 209 -13 213 m -21 -15 b -23 41 -21 37 -21 41 b -23 41 -23 41 -23 41 b -76 11 -35 40 -62 26 b -108 -65 -98 -11 -108 -38 b -1 -176 -108 -122 -65 -176 b 107 -65 63 -176 107 -122 b 74 11 107 -38 96 -11 b 20 41 61 26 32 41 b 20 -15 20 41 20 15 b 19 -74 20 -72 20 -72 b 0 -87 14 -83 6 -87 b -19 -74 -8 -87 -16 -83 b -21 -15 -20 -72 -20 -72 "},v95:{x_min:0,x_max:406.96875,ha:415,o:"m 55 181 b 70 183 61 183 66 183 b 111 170 85 183 99 179 b 160 130 115 167 137 149 l 202 95 l 245 130 b 319 181 299 176 302 179 b 334 183 325 183 330 183 b 406 109 375 183 406 148 b 401 81 406 99 405 91 b 348 24 394 65 390 59 b 318 -1 332 11 318 0 b 348 -26 318 -1 332 -12 b 401 -83 390 -61 394 -66 b 406 -111 405 -93 406 -101 b 334 -184 406 -149 375 -184 b 319 -183 330 -184 325 -184 b 245 -131 302 -180 299 -177 l 202 -97 l 160 -131 b 85 -183 107 -177 103 -180 b 70 -184 80 -184 76 -184 b 0 -111 31 -184 0 -149 b 4 -83 0 -101 1 -93 b 58 -26 10 -66 16 -61 b 88 -1 74 -12 88 -1 b 58 24 88 0 74 11 b 10 69 23 54 17 59 b 0 109 2 81 0 95 b 55 181 0 142 21 173 m 83 133 b 72 136 78 136 76 136 b 57 131 66 136 61 134 b 46 109 49 126 46 117 b 50 93 46 104 47 98 b 107 45 51 91 77 70 b 160 0 137 20 160 0 b 107 -47 160 -1 137 -22 b 50 -94 77 -72 51 -93 b 46 -111 47 -99 46 -105 b 59 -134 46 -120 50 -130 b 72 -137 62 -136 68 -137 b 83 -136 76 -137 80 -136 b 144 -84 84 -134 107 -116 b 202 -36 176 -58 202 -36 b 261 -84 202 -36 230 -58 b 323 -136 299 -116 321 -134 b 334 -137 326 -136 330 -137 b 345 -134 338 -137 343 -136 b 360 -111 355 -130 360 -120 b 355 -94 360 -105 359 -99 b 299 -47 353 -93 329 -72 b 245 0 269 -22 245 -1 b 299 45 245 0 269 20 b 355 93 329 70 353 91 b 360 109 359 98 360 104 b 345 133 360 119 355 129 b 334 136 343 134 338 136 b 323 134 330 136 326 134 b 261 83 321 133 299 115 b 202 34 230 56 202 34 b 144 83 202 34 176 56 b 83 133 106 115 84 133 "},v97:{x_min:-228.671875,x_max:227.3125,ha:232,o:"m -217 487 l -213 488 l 0 488 l 212 488 l 216 487 b 225 476 220 484 224 480 l 227 473 l 227 244 l 227 15 l 225 12 b 206 0 223 4 215 0 b 197 1 204 0 200 0 b 187 12 193 4 189 6 l 186 15 l 186 138 l 186 262 l -1 262 l -187 262 l -187 138 l -187 15 l -189 12 b -208 0 -193 4 -200 0 b -227 12 -216 0 -223 4 l -228 15 l -228 244 l -228 473 l -227 476 b -217 487 -225 480 -221 484 "},v9a:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 230 1031 b 238 1032 232 1032 235 1032 b 259 1014 245 1032 251 1027 b 367 662 330 906 367 782 b 364 602 367 641 367 621 b 232 317 352 488 304 384 b 57 120 155 245 103 187 b -1 18 31 84 6 40 b -19 4 -4 11 -12 4 l -21 4 l -21 159 l -21 315 l -16 315 b 96 335 10 315 62 324 b 315 695 227 380 315 527 b 313 738 315 709 314 724 b 224 991 304 825 273 916 b 216 1013 219 999 216 1007 b 230 1031 216 1021 220 1028 "},v9b:{x_min:-24.5,x_max:313.0625,ha:319,o:"m -24 -133 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 142 -213 13 -61 74 -144 b 258 -376 196 -269 230 -315 b 313 -605 295 -449 313 -528 b 292 -742 313 -652 306 -699 b 288 -752 289 -748 288 -752 b 288 -752 288 -752 288 -752 b 292 -764 289 -753 291 -757 b 313 -907 306 -811 313 -860 b 292 -1045 313 -954 306 -1002 b 288 -1054 289 -1050 288 -1054 b 288 -1054 288 -1054 288 -1054 b 292 -1067 289 -1054 291 -1060 b 313 -1210 306 -1113 313 -1161 b 292 -1346 313 -1257 306 -1304 b 288 -1357 289 -1353 288 -1357 b 288 -1357 288 -1357 288 -1357 b 292 -1368 289 -1357 291 -1363 b 313 -1512 306 -1415 313 -1464 b 292 -1648 313 -1560 306 -1605 b 288 -1660 289 -1654 288 -1660 b 288 -1660 288 -1660 288 -1660 b 292 -1671 289 -1660 291 -1665 b 313 -1814 306 -1719 313 -1766 b 250 -2040 313 -1897 291 -1977 b 232 -2062 238 -2057 236 -2059 b 221 -2065 230 -2063 225 -2065 b 200 -2045 210 -2065 201 -2057 b 200 -2043 200 -2044 200 -2044 b 208 -2026 200 -2037 202 -2034 b 269 -1826 249 -1966 269 -1897 b 153 -1544 269 -1726 230 -1625 b -9 -1472 115 -1506 58 -1481 b -21 -1471 -14 -1471 -19 -1471 l -24 -1471 l -24 -1343 l -24 -1215 l -20 -1215 b -1 -1229 -12 -1215 -4 -1221 b 142 -1424 13 -1270 74 -1353 b 257 -1582 196 -1478 228 -1524 b 264 -1594 261 -1589 264 -1594 l 264 -1594 b 265 -1582 264 -1594 264 -1589 b 270 -1525 268 -1562 270 -1544 b 153 -1243 270 -1424 228 -1321 b -9 -1170 115 -1203 58 -1178 b -21 -1168 -14 -1170 -19 -1168 l -24 -1168 l -24 -1041 l -24 -913 l -20 -913 b -1 -927 -12 -913 -4 -918 b 142 -1121 13 -967 74 -1050 b 257 -1281 196 -1175 228 -1221 b 264 -1292 261 -1286 264 -1292 l 264 -1292 b 265 -1279 264 -1292 264 -1286 b 270 -1222 268 -1261 270 -1242 b 153 -941 270 -1121 228 -1018 b -9 -867 115 -900 58 -875 b -21 -866 -14 -867 -19 -866 l -24 -866 l -24 -738 l -24 -610 l -20 -610 b -1 -624 -12 -610 -4 -616 b 142 -818 13 -664 74 -749 b 257 -978 196 -873 228 -918 b 264 -989 261 -984 264 -989 l 264 -989 b 265 -977 264 -989 264 -984 b 270 -920 268 -959 270 -939 b 153 -638 270 -818 228 -716 b -9 -564 115 -598 58 -573 b -21 -563 -14 -564 -19 -563 l -24 -563 l -24 -435 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 142 -516 13 -363 74 -446 b 257 -675 196 -571 228 -616 b 264 -687 261 -681 264 -687 l 264 -687 b 265 -674 264 -687 264 -681 b 270 -617 268 -656 270 -637 b 153 -335 270 -516 228 -413 b -9 -262 115 -295 58 -270 b -21 -260 -14 -262 -19 -260 l -24 -260 l -24 -133 "},v9c:{x_min:-166.0625,x_max:-25.859375,ha:0,o:"m -49 369 b -42 370 -46 369 -44 370 b -27 360 -36 370 -29 366 b -25 355 -27 359 -25 358 b -32 335 -25 351 -28 347 b -92 52 -66 248 -87 159 b -93 -1 -93 43 -93 20 b -92 -54 -93 -23 -93 -45 b -32 -337 -85 -162 -66 -251 b -25 -355 -27 -349 -25 -352 b -42 -371 -25 -365 -32 -371 b -61 -353 -50 -371 -51 -369 b -163 -63 -119 -262 -153 -165 b -166 -1 -166 -37 -166 -31 b -163 62 -166 30 -166 36 b -61 352 -153 163 -119 260 b -49 369 -54 365 -51 366 "},v9e:{x_min:0,x_max:607.0625,ha:619,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 m 347 631 b 353 632 348 632 351 632 b 374 620 363 632 371 628 b 375 383 375 616 375 616 l 375 148 l 377 151 b 492 199 415 183 454 199 b 537 191 507 199 522 197 b 607 84 582 176 607 134 b 583 0 607 58 598 29 b 455 -142 562 -40 533 -72 l 378 -215 b 355 -229 364 -229 362 -229 b 334 -216 345 -229 337 -224 l 333 -212 l 333 201 l 333 616 l 334 620 b 347 631 337 624 341 630 m 465 131 b 451 133 461 133 455 133 b 445 133 449 133 446 133 b 379 87 419 129 396 113 l 375 80 l 375 -37 l 375 -156 l 378 -152 b 499 81 451 -72 499 20 l 499 83 b 465 131 499 113 490 126 "},va3:{x_min:58.53125,x_max:228.671875,ha:294,o:"m 138 371 b 142 373 140 371 141 373 b 178 342 149 373 156 366 b 228 251 217 297 228 278 b 228 244 228 248 228 247 b 176 147 227 212 212 184 b 123 73 152 122 132 93 b 121 62 122 70 121 66 b 145 13 121 48 129 31 b 153 -2 151 6 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 145 -11 b 129 -1 140 -11 136 -8 b 61 87 89 37 68 68 b 58 113 59 95 58 105 b 110 215 58 144 74 177 b 163 287 134 240 155 269 b 166 299 166 291 166 295 b 141 348 166 313 157 330 b 133 360 134 356 133 358 b 133 363 133 362 133 362 b 138 371 133 367 136 370 "},va5:{x_min:0,x_max:349.8125,ha:357,o:"m 88 302 b 103 303 93 302 98 303 b 202 224 149 303 191 270 b 205 199 204 216 205 208 b 178 129 205 173 196 147 l 175 126 l 182 127 b 307 249 236 142 284 190 b 313 259 308 254 311 258 b 329 267 317 265 323 267 b 349 247 340 267 349 259 b 201 -263 349 242 204 -258 b 182 -273 197 -270 190 -273 b 163 -260 174 -273 166 -269 b 161 -256 161 -259 161 -258 b 217 -59 161 -248 170 -220 b 272 129 247 43 272 127 b 272 129 272 129 272 129 b 264 122 272 129 268 126 b 140 80 227 94 183 80 b 36 115 102 80 65 91 b 0 194 10 136 0 165 b 88 302 0 244 32 292 "},va9:{x_min:-24.5,x_max:314.421875,ha:321,o:"m -24 -145 l -24 -5 l -20 -5 b 0 -23 -9 -5 -2 -12 b 27 -87 4 -38 14 -66 b 138 -220 53 -136 88 -177 b 235 -328 179 -255 208 -288 b 314 -592 287 -409 314 -501 b 292 -732 314 -639 307 -687 l 289 -742 l 294 -756 b 314 -896 307 -802 314 -849 b 292 -1035 314 -943 307 -991 l 289 -1045 l 294 -1057 b 314 -1197 307 -1104 314 -1152 b 292 -1338 314 -1246 307 -1292 l 289 -1347 l 294 -1360 b 314 -1500 307 -1407 314 -1454 b 273 -1689 314 -1565 300 -1628 b 250 -1712 265 -1710 261 -1712 b 228 -1691 236 -1712 228 -1704 l 228 -1685 l 234 -1675 b 270 -1507 258 -1621 270 -1564 b 98 -1193 270 -1381 209 -1261 b 40 -1174 76 -1179 58 -1174 b -10 -1189 24 -1174 8 -1178 b -20 -1192 -14 -1192 -16 -1192 l -24 -1192 l -24 -1052 l -24 -913 l -20 -913 b 0 -931 -9 -913 -2 -920 b 27 -995 4 -946 14 -974 b 138 -1128 53 -1043 88 -1085 b 257 -1275 190 -1172 228 -1220 b 262 -1283 259 -1279 262 -1283 l 262 -1283 b 269 -1249 264 -1282 268 -1260 b 270 -1206 270 -1233 270 -1220 b 98 -891 270 -1075 206 -957 b 40 -871 76 -877 58 -871 b -10 -886 24 -871 8 -875 b -20 -889 -14 -889 -16 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 0 -628 -9 -610 -2 -617 b 27 -692 4 -644 14 -671 b 138 -825 53 -741 88 -782 b 257 -973 190 -870 228 -917 b 262 -981 259 -977 262 -981 l 262 -981 b 269 -946 264 -979 268 -957 b 270 -903 270 -931 270 -917 b 98 -588 270 -774 206 -655 b 40 -569 76 -574 58 -569 b -10 -584 24 -569 8 -574 b -20 -587 -14 -587 -16 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 0 -326 -9 -308 -2 -315 b 27 -390 4 -341 14 -369 b 138 -523 53 -438 88 -480 b 257 -670 190 -567 228 -614 b 262 -678 259 -674 262 -678 b 262 -678 262 -678 262 -678 b 269 -644 264 -677 268 -656 b 270 -601 270 -628 270 -614 b 98 -285 270 -471 206 -352 b 40 -266 76 -273 58 -266 b -10 -281 24 -266 8 -272 b -20 -284 -14 -284 -16 -284 l -24 -284 l -24 -145 "},vaa:{x_min:-1.359375,x_max:752.703125,ha:768,o:"m 490 985 b 504 986 495 986 500 986 b 604 907 551 986 593 954 b 607 884 607 900 607 892 b 581 813 607 857 597 831 l 578 810 l 583 811 b 710 932 638 827 687 873 b 714 943 711 936 713 942 b 730 952 720 949 725 952 b 752 931 741 952 752 943 b 200 -946 752 927 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 538 314 477 300 508 b 318 598 300 559 306 580 b 404 645 340 630 372 645 b 494 592 439 645 475 627 b 507 541 502 577 507 559 b 480 471 507 516 498 489 l 477 467 l 483 470 b 608 589 537 485 586 531 b 675 811 611 595 675 810 b 675 811 675 811 675 811 b 666 806 675 811 671 809 b 543 763 628 777 585 763 b 438 799 504 763 468 775 b 401 878 412 820 401 849 b 490 985 401 928 434 977 "},vab:{x_min:0,x_max:272.21875,ha:278,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 "},vad:{x_min:0,x_max:873.828125,ha:892,o:"m 0 0 l 0 703 l 81 703 l 164 703 l 164 0 l 164 -705 l 81 -705 l 0 -705 l 0 0 m 225 0 l 225 703 l 246 703 l 268 703 l 268 366 l 268 30 l 274 36 b 314 79 284 44 302 63 b 413 302 357 137 392 213 b 432 327 419 324 421 327 b 449 306 443 327 447 322 b 611 115 457 195 529 115 b 651 122 624 115 638 117 b 728 316 705 140 724 188 b 729 388 728 342 729 366 b 671 635 729 533 711 602 b 581 662 649 652 616 662 b 477 637 545 662 510 653 l 475 635 l 477 634 b 503 627 488 632 495 631 b 545 556 532 612 545 584 b 491 480 545 524 526 491 b 465 474 481 476 473 474 b 379 563 417 474 379 516 b 389 602 379 576 382 588 b 541 691 409 641 479 681 b 582 694 555 692 568 694 b 865 462 714 694 834 598 b 873 392 871 440 873 416 b 865 317 873 367 871 341 b 639 84 839 194 748 101 b 612 83 630 83 620 83 b 511 116 577 83 543 94 b 504 120 509 119 506 120 b 504 120 504 120 504 120 b 469 59 504 120 488 93 l 432 -1 l 469 -61 b 504 -122 488 -94 504 -122 b 504 -122 504 -122 504 -122 b 511 -117 506 -122 509 -120 b 612 -84 543 -95 577 -84 b 665 -91 630 -84 647 -87 b 869 -338 771 -122 850 -216 b 873 -392 872 -356 873 -374 b 798 -595 873 -469 847 -539 b 581 -695 741 -662 660 -695 b 406 -626 517 -695 454 -671 b 381 -563 389 -607 381 -585 b 465 -477 381 -519 413 -477 b 545 -559 514 -477 545 -519 b 503 -628 545 -587 532 -613 b 477 -635 495 -632 488 -634 l 475 -637 l 477 -638 b 581 -663 510 -655 545 -663 b 671 -637 616 -663 649 -653 b 729 -391 711 -603 729 -534 b 728 -317 729 -367 728 -344 b 623 -117 722 -173 698 -124 b 611 -116 619 -116 615 -116 b 449 -308 528 -116 457 -198 b 432 -328 447 -323 443 -328 b 413 -303 421 -328 419 -326 b 314 -80 392 -215 357 -138 b 274 -37 302 -65 284 -45 l 268 -31 l 268 -367 l 268 -705 l 246 -705 l 225 -705 l 225 0 "},vb1:{x_min:78.9375,x_max:485.921875,ha:417,o:"m 362 378 b 378 380 367 380 372 380 b 472 348 415 380 453 367 b 485 315 481 338 485 327 b 462 273 485 298 477 281 b 439 267 454 269 446 267 b 398 290 424 267 409 274 b 344 319 385 309 364 319 b 281 269 315 319 289 301 b 279 262 280 266 279 262 b 276 256 279 260 277 258 b 274 249 276 254 274 251 b 238 127 273 248 257 192 b 201 4 217 61 201 5 b 166 -1 198 -1 200 -1 b 153 -1 163 -1 157 -1 b 141 -1 148 -1 144 -1 b 104 4 106 -1 107 -1 b 104 6 104 5 104 5 b 142 144 104 13 110 34 b 182 278 164 219 181 276 b 183 288 182 281 182 285 b 185 302 185 292 185 298 b 164 330 185 317 176 328 b 159 330 163 330 161 330 b 102 302 140 330 119 320 b 91 294 95 295 93 294 b 88 294 91 294 89 294 b 78 303 83 294 78 298 b 81 312 78 306 78 309 b 200 373 106 347 160 373 b 215 371 205 373 209 371 b 266 335 235 367 254 353 b 269 331 268 333 269 331 b 269 331 269 331 269 331 b 273 335 269 331 270 334 b 362 378 298 359 330 376 "},vb3:{x_min:0,x_max:227.3125,ha:232,o:"m 91 213 b 100 215 93 215 96 215 b 227 58 167 215 224 144 b 227 52 227 56 227 54 b 61 -201 227 -43 164 -138 b 29 -216 44 -212 36 -216 b 23 -210 27 -216 24 -213 b 21 -205 21 -208 21 -206 b 34 -192 21 -201 25 -197 b 122 -55 89 -161 122 -106 b 104 6 122 -33 117 -12 l 103 9 l 96 9 b 4 79 57 9 17 38 b 0 112 1 90 0 101 b 91 213 0 163 36 209 "},vb4:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 80 86 -5 172 13 151 b 166 -1 127 37 166 -1 b 235 84 166 -1 197 37 b 311 173 306 173 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 152 -86 221 -1 190 -38 b 76 -176 81 -174 83 -173 b 70 -176 74 -176 73 -176 b 61 -174 66 -176 62 -174 b -27 -87 58 -173 38 -152 b -114 -1 -74 -38 -112 -1 b -182 -86 -114 -1 -145 -38 b -258 -176 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 "},vb6:{x_min:0,x_max:556.6875,ha:568,o:"m 289 545 b 298 546 292 545 295 546 b 318 533 306 546 315 541 b 319 428 319 530 319 528 l 319 327 l 334 327 b 526 223 412 326 485 285 b 543 172 537 206 543 190 b 447 76 543 122 503 76 b 445 76 446 76 446 76 b 359 165 394 77 359 119 b 368 205 359 179 362 192 b 441 251 382 233 412 251 b 455 249 446 251 451 251 b 460 248 458 249 460 248 b 460 248 460 248 460 248 b 454 254 460 249 458 251 b 334 295 419 280 378 294 l 319 295 l 319 4 l 319 -287 l 321 -285 b 328 -285 322 -285 325 -285 b 524 -99 424 -277 507 -198 b 541 -79 526 -84 530 -79 b 556 -97 551 -79 556 -84 b 548 -133 556 -105 553 -117 b 334 -317 521 -233 434 -306 b 322 -319 329 -317 323 -317 l 319 -319 l 319 -424 b 319 -471 319 -444 319 -459 b 313 -541 319 -544 318 -535 b 298 -548 308 -545 303 -548 b 279 -534 289 -548 281 -542 b 277 -424 277 -531 277 -530 l 277 -317 l 273 -317 b 13 -95 153 -305 51 -217 b 0 2 4 -62 0 -29 b 182 295 0 126 66 238 b 274 324 210 309 249 320 l 277 324 l 277 427 b 279 533 277 528 277 530 b 289 545 281 538 285 542 m 277 2 b 277 291 277 161 277 291 b 268 288 277 291 273 290 b 144 1 179 265 144 184 b 276 -284 144 -199 175 -267 l 277 -285 l 277 2 "},vb7:{x_min:-176.9375,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 503 20 616 20 614 b 20 391 20 442 20 391 b 84 424 20 391 49 406 l 147 456 l 152 456 b 153 456 153 456 153 456 b 175 435 166 456 175 446 b 172 427 175 433 174 430 b 92 380 170 420 172 421 l 20 342 l 20 245 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 54 -21 -212 -21 -212 b -21 322 -21 201 -21 322 b -85 290 -21 322 -50 308 l -148 256 l -153 256 b -155 256 -155 256 -155 256 b -176 277 -167 256 -176 266 b -174 285 -176 280 -175 283 b -93 333 -171 294 -174 292 l -21 370 l -21 494 b -20 620 -21 616 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},vb9:{x_min:-122.5,x_max:121.140625,ha:124,o:"m -16 145 b 0 147 -10 147 -5 147 b 121 -1 66 147 121 77 b 114 -49 121 -16 118 -33 b -1 -148 95 -112 47 -148 b -85 -106 -31 -148 -61 -134 b -122 -1 -110 -76 -122 -38 b -16 145 -122 68 -81 134 m 12 111 b 0 113 8 113 4 113 b -68 22 -29 113 -61 73 b -70 0 -69 15 -70 6 b -13 -113 -70 -49 -47 -98 b -1 -115 -9 -115 -5 -115 b 63 -40 24 -115 53 -83 b 68 -1 66 -27 68 -15 b 12 111 68 48 46 97 "},vba:{x_min:-118.421875,x_max:597.53125,ha:381,o:"m 460 574 b 464 574 461 574 462 574 b 488 574 470 574 481 574 b 500 573 491 574 498 574 b 594 503 543 570 588 538 b 597 488 596 498 597 494 b 528 417 597 449 564 417 b 502 423 519 417 510 419 b 465 481 477 434 465 458 b 488 528 465 499 472 516 b 490 530 490 530 490 530 b 490 530 490 530 490 530 b 468 517 488 530 475 523 b 349 340 419 485 377 420 b 347 330 348 334 347 330 b 383 328 347 328 363 328 b 428 326 423 328 424 328 b 442 302 438 320 442 312 b 430 281 442 294 438 285 b 385 276 424 277 426 276 l 377 276 l 332 276 l 330 269 b 178 -117 303 126 250 -9 b 1 -249 129 -194 69 -237 b -20 -251 -6 -251 -13 -251 b -114 -187 -65 -251 -100 -227 b -118 -156 -117 -177 -118 -166 b -51 -84 -118 -116 -91 -84 b -31 -87 -46 -84 -39 -86 b 16 -152 0 -95 16 -124 b -12 -205 16 -173 8 -194 b -16 -208 -14 -206 -16 -208 b -14 -208 -16 -208 -14 -208 b -9 -206 -14 -208 -12 -208 b 74 -124 23 -197 54 -166 b 172 224 98 -79 125 22 b 185 276 178 252 183 274 b 185 276 185 276 185 276 b 141 276 185 276 181 276 b 91 280 96 276 96 276 b 77 302 83 285 77 294 b 91 326 77 312 83 320 b 148 328 95 328 96 328 l 198 330 l 202 341 b 460 574 249 473 351 566 "},vbf:{x_min:-53.078125,x_max:513.140625,ha:485,o:"m 185 383 b 196 384 187 383 191 384 b 277 334 230 384 259 365 b 288 301 281 324 288 306 b 288 297 288 298 288 297 b 294 302 289 297 291 299 b 394 370 323 338 367 367 b 404 371 398 370 401 371 b 510 272 453 371 498 328 b 513 237 513 262 513 251 b 507 172 513 217 511 192 b 326 -34 487 59 412 -26 b 314 -36 322 -36 318 -36 b 274 -24 298 -36 283 -31 l 265 -16 b 224 44 246 -1 232 20 b 223 49 224 47 223 49 b 223 49 223 49 223 49 b 149 -197 221 48 149 -194 b 149 -198 149 -197 149 -198 b 170 -210 149 -202 155 -205 b 187 -215 174 -210 175 -212 b 204 -231 201 -219 204 -222 b 197 -245 204 -240 202 -242 l 194 -248 l 76 -248 l -42 -248 l -46 -245 b -53 -231 -51 -242 -53 -240 b -35 -215 -53 -222 -49 -217 b -13 -210 -21 -212 -20 -212 b -6 -208 -10 -209 -8 -208 b 0 -206 -6 -208 -2 -206 b 25 -188 13 -201 21 -195 b 163 280 28 -183 163 276 b 166 291 163 283 164 287 b 167 302 167 295 167 299 b 155 324 167 315 161 324 b 155 324 155 324 155 324 b 65 230 125 322 85 280 b 53 215 61 217 58 215 b 51 215 53 215 51 215 b 42 224 46 215 42 217 b 57 263 42 231 47 244 b 140 360 77 305 104 337 b 152 370 144 365 149 369 b 185 383 157 376 172 381 m 374 306 b 366 308 371 308 368 308 b 300 273 348 308 321 294 b 284 254 288 262 287 259 b 280 242 283 249 281 245 b 257 169 279 240 270 213 l 236 98 l 236 93 b 251 48 238 77 243 61 b 279 27 258 37 272 27 b 281 27 279 27 280 27 b 291 31 281 27 287 30 b 396 170 334 52 378 109 b 406 247 402 197 406 224 b 401 277 406 259 405 270 b 374 306 397 290 383 303 "},vc3:{x_min:-10.890625,x_max:299.4375,ha:294,o:"m 136 460 b 142 462 137 462 140 462 b 166 449 152 462 161 456 b 171 428 168 446 168 445 b 288 131 194 322 238 209 b 298 115 295 120 296 117 b 299 106 298 112 299 109 b 273 81 299 91 287 81 b 255 86 268 81 261 83 b 155 116 225 104 183 116 l 152 116 l 149 108 b 141 83 148 102 144 91 b 134 48 137 69 134 58 b 149 9 134 34 140 24 b 153 -1 152 5 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 147 -11 b 122 2 138 -11 133 -6 b 95 61 104 20 95 38 b 107 108 95 74 99 90 b 108 113 107 111 108 112 b 107 113 108 113 108 113 b 102 113 106 113 104 113 b 31 86 76 108 53 98 b 14 80 24 81 20 80 b -10 106 0 80 -10 91 b 0 131 -10 115 -9 116 b 115 430 49 209 91 317 b 136 460 119 451 123 456 "},vd0:{x_min:-10.890625,x_max:299.4375,ha:294,o:"m 44 174 b 51 174 47 174 49 174 b 68 173 55 174 61 174 l 287 112 l 551 40 b 615 20 617 22 609 23 b 626 0 622 16 626 8 b 615 -22 626 -9 622 -18 b 613 -23 613 -23 613 -23 b 613 -23 613 -23 613 -23 b 287 -113 613 -24 597 -29 l 68 -174 b 53 -176 61 -176 57 -176 b 39 -172 47 -176 43 -174 b 27 -151 31 -167 27 -159 b 39 -129 27 -141 31 -133 b 230 -74 43 -124 20 -131 l 370 -36 l 468 -9 b 498 0 484 -4 498 -1 b 468 8 498 0 484 2 l 370 34 l 230 73 b 40 126 28 129 43 124 b 27 149 31 131 27 140 b 44 174 27 161 34 170 m 205 110 l 205 300 b 205 330 245 330 245 300 l 245 300 l 245 -300 b 245 -330 205 -330 205 -300 l 205 -300 l 205 110 l 345 90 m 345 90 l 345 330 b 345 360 385 360 385 330 l 385 330 l 385 -270 b 385 -300 345 -300 345 -270 l 345 -270 l 345 90 "},vd1:{x_min:-20,x_max:320,ha:257,o:"m -8 200 b -8 210 8 200 16 200 l 20 148 -199 l 23 -615 b 0 -629 9 -629 6 -629 l -21 -612 l -21 -201 l -21 216 l -20 200 m 16 200 l 310 0 l 240 0 l 16 140 l 16 -120 l 240 0 l 310 0 l 16 -200 "}},cssFontWeight:"normal",ascender:1903,underlinePosition:-125,cssFontStyle:"normal",boundingBox:{yMin:-2065.375,xMin:-695.53125,yMax:1901.578125,xMax:1159.671875},resolution:1e3,descender:-2066,familyName:"VexFlow-18",lineHeight:4093,underlineThickness:50}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Renderer=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(11),o=n(12),s=n(13),a=n(1),c=null;e.Renderer=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elementId=e,!this.elementId)throw new a.Vex.RERR("BadArgument","Invalid id for renderer.");if(this.element=document.getElementById(e),this.element||(this.element=e),this.ctx=null,this.paper=null,this.backend=n,this.backend===t.Backends.CANVAS){if(!this.element.getContext)throw new a.Vex.RERR("BadElement","Can't get canvas context from element: "+e);this.ctx=t.bolsterCanvasContext(this.element.getContext("2d"))}else if(this.backend===t.Backends.RAPHAEL)this.ctx=new o.RaphaelContext(this.element);else{if(this.backend!==t.Backends.SVG)throw new a.Vex.RERR("InvalidBackend","No support for backend: "+this.backend);this.ctx=new s.SVGContext(this.element)}}return i(t,null,[{key:"buildContext",value:function(e,n,i,r,o){var s=new t(e,n);i&&r&&s.resize(i,r),o||(o="#FFF");var a=s.getContext();return a.setBackgroundFillStyle(o),t.lastContext=a,a}},{key:"getCanvasContext",value:function(e,n,i,r){return t.buildContext(e,t.Backends.CANVAS,n,i,r)}},{key:"getRaphaelContext",value:function(e,n,i,r){return t.buildContext(e,t.Backends.RAPHAEL,n,i,r)}},{key:"getSVGContext",value:function(e,n,i,r){return t.buildContext(e,t.Backends.SVG,n,i,r)}},{key:"bolsterCanvasContext",value:function(e){return t.USE_CANVAS_PROXY?new r.CanvasContext(e):(e.vexFlowCanvasContext=e,["clear","setFont","setRawFont","setFillStyle","setBackgroundFillStyle","setStrokeStyle","setShadowColor","setShadowBlur","setLineWidth","setLineCap","setLineDash","openGroup","closeGroup","getGroup"].forEach(function(t){e[t]=e[t]||r.CanvasContext.prototype[t]}),e)}},{key:"drawDashedLine",value:function(t,e,n,i,r,o){t.beginPath();var s=i-e,a=r-n,c=Math.atan2(a,s),u=e,l=n;t.moveTo(e,n);for(var h=0,f=!0;!(s<0?u<=i:u>=i)||!(a<0?l<=r:l>=r);){var d=o[h++%o.length],p=u+Math.cos(c)*d;u=s<0?Math.max(i,p):Math.min(i,p);var m=l+Math.sin(c)*d;l=a<0?Math.max(r,m):Math.min(r,m),f?t.lineTo(u,l):t.moveTo(u,l),f=!f}t.closePath(),t.stroke()}},{key:"Backends",get:function(){return{CANVAS:1,RAPHAEL:2,SVG:3,VML:4}}},{key:"LineEndType",get:function(){return{NONE:1,UP:2,DOWN:3}}},{key:"USE_CANVAS_PROXY",get:function(){return!1}},{key:"lastContext",get:function(){return c},set:function(t){c=t}}]),i(t,[{key:"resize",value:function(e,n){if(this.backend===t.Backends.CANVAS){if(!this.element.getContext)throw new a.Vex.RERR("BadElement","Can't get canvas context from element: "+this.elementId);var i=window.devicePixelRatio||1;this.element.width=e*i,this.element.height=n*i,this.element.style.width=e+"px",this.element.style.height=n+"px",this.ctx=t.bolsterCanvasContext(this.element.getContext("2d")),this.ctx.scale(i,i)}else this.ctx.resize(e,n);return this}},{key:"getContext",value:function(){return this.ctx}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.CanvasContext=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vexFlowCanvasContext=e,e.canvas?this.canvas=e.canvas:this.canvas={width:t.WIDTH,height:t.HEIGHT}}return n(t,null,[{key:"WIDTH",get:function(){return 600}},{key:"HEIGHT",get:function(){return 400}}]),n(t,[{key:"clear",value:function(){this.vexFlowCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"openGroup",value:function(){}},{key:"closeGroup",value:function(){}},{key:"add",value:function(){}},{key:"setFont",value:function(t,e,n){return this.vexFlowCanvasContext.font=(n||"")+" "+e+"pt "+t,this}},{key:"setRawFont",value:function(t){return this.vexFlowCanvasContext.font=t,this}},{key:"setFillStyle",value:function(t){return this.vexFlowCanvasContext.fillStyle=t,this}},{key:"setBackgroundFillStyle",value:function(t){return this.background_fillStyle=t,this}},{key:"setStrokeStyle",value:function(t){return this.vexFlowCanvasContext.strokeStyle=t,this}},{key:"setShadowColor",value:function(t){return this.vexFlowCanvasContext.shadowColor=t,this}},{key:"setShadowBlur",value:function(t){return this.vexFlowCanvasContext.shadowBlur=t,this}},{key:"setLineWidth",value:function(t){return this.vexFlowCanvasContext.lineWidth=t,this}},{key:"setLineCap",value:function(t){return this.vexFlowCanvasContext.lineCap=t,this}},{key:"setLineDash",value:function(t){return this.vexFlowCanvasContext.lineDash=t,this}},{key:"scale",value:function(t,e){return this.vexFlowCanvasContext.scale(parseFloat(t),parseFloat(e))}},{key:"resize",value:function(t,e){return this.vexFlowCanvasContext.resize(parseInt(t,10),parseInt(e,10))}},{key:"rect",value:function(t,e,n,i){return this.vexFlowCanvasContext.rect(t,e,n,i)}},{key:"fillRect",value:function(t,e,n,i){return this.vexFlowCanvasContext.fillRect(t,e,n,i)}},{key:"clearRect",value:function(t,e,n,i){return this.vexFlowCanvasContext.clearRect(t,e,n,i)}},{key:"beginPath",value:function(){return this.vexFlowCanvasContext.beginPath()}},{key:"moveTo",value:function(t,e){return this.vexFlowCanvasContext.moveTo(t,e)}},{key:"lineTo",value:function(t,e){return this.vexFlowCanvasContext.lineTo(t,e)}},{key:"bezierCurveTo",value:function(t,e,n,i,r,o){return this.vexFlowCanvasContext.bezierCurveTo(t,e,n,i,r,o)}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.vexFlowCanvasContext.quadraticCurveTo(t,e,n,i)}},{key:"arc",value:function(t,e,n,i,r,o){return this.vexFlowCanvasContext.arc(t,e,n,i,r,o)}},{key:"glow",value:function(){return this.vexFlowCanvasContext.glow()}},{key:"fill",value:function(){return this.vexFlowCanvasContext.fill()}},{key:"stroke",value:function(){return this.vexFlowCanvasContext.stroke()}},{key:"closePath",value:function(){return this.vexFlowCanvasContext.closePath()}},{key:"measureText",value:function(t){return this.vexFlowCanvasContext.measureText(t)}},{key:"fillText",value:function(t,e,n){return this.vexFlowCanvasContext.fillText(t,e,n)}},{key:"save",value:function(){return this.vexFlowCanvasContext.save()}},{key:"restore",value:function(){return this.vexFlowCanvasContext.restore()}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.RaphaelContext=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.paper=Raphael(e),this.path="",this.pen={x:0,y:0},this.lineWidth=1,this.state={scale:{x:1,y:1},font_family:"Arial",font_size:8,font_weight:800},this.attributes={"stroke-width":.3,fill:"black",stroke:"black",font:"10pt Arial"},this.background_attributes={"stroke-width":0,fill:"white",stroke:"white",font:"10pt Arial"},this.shadow_attributes={width:0,color:"black"},this.state_stack=[]}return n(t,[{key:"openGroup",value:function(){}},{key:"closeGroup",value:function(){}},{key:"add",value:function(){}},{key:"setFont",value:function(t,e,n){return this.state.font_family=t,this.state.font_size=e,this.state.font_weight=n,this.attributes.font=(this.state.font_weight||"")+" "+this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this}},{key:"setRawFont",value:function(t){return this.attributes.font=t,this}},{key:"setFillStyle",value:function(t){return this.attributes.fill=t,this}},{key:"setBackgroundFillStyle",value:function(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}},{key:"setStrokeStyle",value:function(t){return this.attributes.stroke=t,this}},{key:"setShadowColor",value:function(t){return this.shadow_attributes.color=t,this}},{key:"setShadowBlur",value:function(t){return this.shadow_attributes.width=t,this}},{key:"setLineWidth",value:function(t){this.attributes["stroke-width"]=t,this.lineWidth=t}},{key:"setLineDash",value:function(){return this}},{key:"setLineCap",value:function(){return this}},{key:"scale",value:function(t,e){return this.state.scale={x:t,y:e},this.attributes.transform="S"+t+","+e+",0,0",this.attributes.scale=t+","+e+",0,0",this.attributes.font=this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this.background_attributes.transform="S"+t+","+e+",0,0",this.background_attributes.font=this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this}},{key:"clear",value:function(){this.paper.clear()}},{key:"resize",value:function(t,e){return this.element.style.width=t,this.paper.setSize(t,e),this}},{key:"setViewBox",value:function(t){this.paper.canvas.setAttribute("viewBox",t)}},{key:"rect",value:function(t,e,n,i){return i<0&&(e+=i,i=-i),this.paper.rect(t,e,n-.5,i-.5).attr(this.attributes).attr("fill","none").attr("stroke-width",this.lineWidth),this}},{key:"fillRect",value:function(t,e,n,i){return i<0&&(e+=i,i=-i),this.paper.rect(t,e,n-.5,i-.5).attr(this.attributes),this}},{key:"clearRect",value:function(t,e,n,i){return i<0&&(e+=i,i=-i),this.paper.rect(t,e,n-.5,i-.5).attr(this.background_attributes),this}},{key:"beginPath",value:function(){return this.path="",this.pen.x=0,this.pen.y=0,this}},{key:"moveTo",value:function(t,e){return this.path+="M"+t+","+e,this.pen.x=t,this.pen.y=e,this}},{key:"lineTo",value:function(t,e){return this.path+="L"+t+","+e,this.pen.x=t,this.pen.y=e,this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,o){return this.path+="C"+t+","+e+","+n+","+i+","+r+","+o,this.pen.x=r,this.pen.y=o,this}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.path+="Q"+t+","+e+","+n+","+i,this.pen.x=n,this.pen.y=i,this}},{key:"arc",value:function(t,e,n,i,r,o){function s(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if((i=s(i))>(r=s(r))){var a=i;i=r,r=a,o=!o}var c=r-i;return c>Math.PI?(this.arcHelper(t,e,n,i,i+c/2,o),this.arcHelper(t,e,n,i+c/2,r,o)):this.arcHelper(t,e,n,i,r,o),this}},{key:"arcHelper",value:function(t,e,n,i,r,o){var s=t+n*Math.cos(i),a=e+n*Math.sin(i),c=t+n*Math.cos(r),u=e+n*Math.sin(r),l=0,h=0;o?(h=1,r-i<Math.PI&&(l=1)):r-i>Math.PI&&(l=1),this.path+="M"+s+","+a+",A"+n+","+n+",0,"+l+","+h+","+c+","+u+"M"+this.pen.x+","+this.pen.y}},{key:"glow",value:function(){var t=this.paper.set();if(this.shadow_attributes.width>0)for(var e=this.shadow_attributes,n=e.width/2,i=1;i<=n;i++)t.push(this.paper.path(this.path).attr({stroke:e.color,"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*i).toFixed(3),opacity:+((e.opacity||.3)/n).toFixed(3),transform:this.attributes.transform,scale:this.attributes.scale}));return t}},{key:"fill",value:function(){var t=this.paper.path(this.path).attr(this.attributes).attr("stroke-width",0);return this.glow(t),this}},{key:"stroke",value:function(){var t=this.lineWidth*(this.state.scale.x+this.state.scale.y)/2,e=this.paper.path(this.path).attr(this.attributes).attr("fill","none").attr("stroke-width",t);return this.glow(e),this}},{key:"closePath",value:function(){return this.path+="Z",this}},{key:"measureText",value:function(t){var e=this.paper.text(0,0,t).attr(this.attributes).attr("fill","none").attr("stroke","none"),n=e.getBBox();return e.remove(),{width:n.width,height:n.height}}},{key:"fillText",value:function(t,e,n){return this.paper.text(e+this.measureText(t).width/2,n-this.state.font_size/(2.25*this.state.scale.y),t).attr(this.attributes),this}},{key:"save",value:function(){return this.state_stack.push({state:{font_family:this.state.font_family},attributes:{font:this.attributes.font,fill:this.attributes.fill,stroke:this.attributes.stroke,"stroke-width":this.attributes["stroke-width"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color}}),this}},{key:"restore",value:function(){var t=this.state_stack.pop();return this.state.font_family=t.state.font_family,this.attributes.font=t.attributes.font,this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes["stroke-width"]=t.attributes["stroke-width"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGContext=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1);e.SVGContext=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.svgNS="http://www.w3.org/2000/svg";var n=this.create("svg");this.element.appendChild(n),this.svg=n,this.groups=[this.svg],this.parent=this.svg,this.path="",this.pen={x:0,y:0},this.lineWidth=1,this.state={scale:{x:1,y:1},"font-family":"Arial","font-size":"8pt","font-weight":"normal"},this.attributes={"stroke-width":.3,fill:"black",stroke:"black","stroke-dasharray":"none","font-family":"Arial","font-size":"10pt","font-weight":"normal","font-style":"normal"},this.background_attributes={"stroke-width":0,fill:"white",stroke:"white","stroke-dasharray":"none","font-family":"Arial","font-size":"10pt","font-weight":"normal","font-style":"normal"},this.shadow_attributes={width:0,color:"black"},this.state_stack=[],this.iePolyfill()}return i(t,[{key:"create",value:function(t){return document.createElementNS(this.svgNS,t)}},{key:"openGroup",value:function(t,e,n){var i=this.create("g");return this.groups.push(i),this.parent.appendChild(i),this.parent=i,t&&i.setAttribute("class",r.Vex.Prefix(t)),e&&i.setAttribute("id",r.Vex.Prefix(e)),n&&n.pointerBBox&&i.setAttribute("pointer-events","bounding-box"),i}},{key:"closeGroup",value:function(){this.groups.pop(),this.parent=this.groups[this.groups.length-1]}},{key:"add",value:function(t){this.parent.appendChild(t)}},{key:"iePolyfill",value:function(){"undefined"!=typeof navigator&&(this.ie=/MSIE 9/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent)||/rv:11\.0/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent))}},{key:"setFont",value:function(t,e,n){var i=!1,o=!1,s="normal";"string"==typeof n&&(-1!==n.indexOf("italic")&&(n=n.replace(/italic/g,""),o=!0),-1!==n.indexOf("bold")&&(n=n.replace(/bold/g,""),i=!0),n=n.replace(/ /g,""));var a={"font-family":t,"font-size":e+"pt","font-weight":n=void 0===(n=i?"bold":n)||""===n?"normal":n,"font-style":s=o?"italic":s};return this.fontSize=Number(e),r.Vex.Merge(this.attributes,a),r.Vex.Merge(this.state,a),this}},{key:"setRawFont",value:function(t){var e=(t=t.trim()).split(" ");return this.attributes["font-family"]=e[1],this.state["font-family"]=e[1],this.attributes["font-size"]=e[0],this.state["font-size"]=e[0],this.fontSize=Number(e[0].match(/\d+/)),this}},{key:"setFillStyle",value:function(t){return this.attributes.fill=t,this}},{key:"setBackgroundFillStyle",value:function(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}},{key:"setStrokeStyle",value:function(t){return this.attributes.stroke=t,this}},{key:"setShadowColor",value:function(t){return this.shadow_attributes.color=t,this}},{key:"setShadowBlur",value:function(t){return this.shadow_attributes.width=t,this}},{key:"setLineWidth",value:function(t){this.attributes["stroke-width"]=t,this.lineWidth=t}},{key:"setLineDash",value:function(t){if("[object Array]"===Object.prototype.toString.call(t))return t=t.join(", "),this.attributes["stroke-dasharray"]=t,this;throw new r.Vex.RERR("ArgumentError","lineDash must be an array of integers.")}},{key:"setLineCap",value:function(t){return this.attributes["stroke-linecap"]=t,this}},{key:"resize",value:function(t,e){this.width=t,this.height=e,this.element.style.width=t;var n={width:t,height:e};return this.applyAttributes(this.svg,n),this}},{key:"scale",value:function(t,e){this.state.scale={x:t,y:e};var n=this.width/t,i=this.height/e;return this.setViewBox(0,0,n,i),this}},{key:"setViewBox",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];this.svg.setAttribute("viewBox",i)}else{var r=e[0]+" "+e[1]+" "+e[2]+" "+e[3];this.svg.setAttribute("viewBox",r)}}},{key:"applyAttributes",value:function(t,e){return Object.keys(e).forEach(function(n){return t.setAttributeNS(null,n,e[n])}),t}},{key:"clear",value:function(){for(;this.svg.lastChild;)this.svg.removeChild(this.svg.lastChild);this.scale(this.state.scale.x,this.state.scale.y)}},{key:"rect",value:function(t,e,n,i,o){i<0&&(e+=i,i*=-1);var s=this.create("rect");return void 0===o&&(o={fill:"none","stroke-width":this.lineWidth,stroke:"black"}),r.Vex.Merge(o,{x:t,y:e,width:n,height:i}),this.applyAttributes(s,o),this.add(s),this}},{key:"fillRect",value:function(t,e,n,i){return i<0&&(e+=i,i*=-1),this.rect(t,e,n,i,this.attributes),this}},{key:"clearRect",value:function(t,e,n,i){return this.rect(t,e,n,i,this.background_attributes),this}},{key:"beginPath",value:function(){return this.path="",this.pen.x=0,this.pen.y=0,this}},{key:"moveTo",value:function(t,e){return this.path+="M"+t+" "+e,this.pen.x=t,this.pen.y=e,this}},{key:"lineTo",value:function(t,e){return this.path+="L"+t+" "+e,this.pen.x=t,this.pen.y=e,this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,o){return this.path+="C"+t+" "+e+","+n+" "+i+","+r+" "+o,this.pen.x=r,this.pen.y=o,this}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.path+="Q"+t+" "+e+","+n+" "+i,this.pen.x=n,this.pen.y=i,this}},{key:"arc",value:function(t,e,n,i,r,o){function s(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if((i=s(i))>(r=s(r))){var a=i;i=r,r=a,o=!o}var c=r-i;return c>Math.PI?(this.arcHelper(t,e,n,i,i+c/2,o),this.arcHelper(t,e,n,i+c/2,r,o)):this.arcHelper(t,e,n,i,r,o),this}},{key:"arcHelper",value:function(t,e,n,i,r,o){var s=t+n*Math.cos(i),a=e+n*Math.sin(i),c=t+n*Math.cos(r),u=e+n*Math.sin(r),l=0,h=0;o?(h=1,r-i<Math.PI&&(l=1)):r-i>Math.PI&&(l=1),this.path+="M"+s+" "+a+" A"+n+" "+n+" 0 "+l+" "+h+" "+c+" "+u+"M"+this.pen.x+" "+this.pen.y}},{key:"closePath",value:function(){return this.path+="Z",this}},{key:"glow",value:function(){if(this.shadow_attributes.width>0)for(var t=this.shadow_attributes,e=t.width/2,n=1;n<=e;n++){var i={stroke:t.color,"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(.4*t.width/e*n).toFixed(3),opacity:+((t.opacity||.3)/e).toFixed(3)},r=this.create("path");i.d=this.path,this.applyAttributes(r,i),this.add(r)}return this}},{key:"fill",value:function(t){this.glow();var e=this.create("path");return void 0===t&&(t={},r.Vex.Merge(t,this.attributes),t.stroke="none"),t.d=this.path,this.applyAttributes(e,t),this.add(e),this}},{key:"stroke",value:function(){this.glow();var t=this.create("path"),e={};return r.Vex.Merge(e,this.attributes),e.fill="none",e["stroke-width"]=this.lineWidth,e.d=this.path,this.applyAttributes(t,e),this.add(t),this}},{key:"measureText",value:function(t){var e=this.create("text");if("function"!=typeof e.getBBox)return{x:0,y:0,width:0,height:0};e.textContent=t,this.applyAttributes(e,this.attributes),this.svg.appendChild(e);var n=e.getBBox();return this.ie&&""!==t&&"italic"===this.attributes["font-style"]&&(n=this.ieMeasureTextFix(n,t)),this.svg.removeChild(e),n}},{key:"ieMeasureTextFix",value:function(t){var e=1.196*Number(this.fontSize)+1.9598,n=t.width-e,i=t.height-1.5;return{x:t.x,y:t.y,width:n,height:i}}},{key:"fillText",value:function(t,e,n){var i={};r.Vex.Merge(i,this.attributes),i.stroke="none",i.x=e,i.y=n;var o=this.create("text");o.textContent=t,this.applyAttributes(o,i),this.add(o)}},{key:"save",value:function(){return this.state_stack.push({state:{"font-family":this.state["font-family"],"font-weight":this.state["font-weight"],"font-style":this.state["font-style"],"font-size":this.state["font-size"]},attributes:{"font-family":this.attributes["font-family"],"font-weight":this.attributes["font-weight"],"font-style":this.attributes["font-style"],"font-size":this.attributes["font-size"],fill:this.attributes.fill,stroke:this.attributes.stroke,"stroke-width":this.attributes["stroke-width"],"stroke-dasharray":this.attributes["stroke-dasharray"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color}}),this}},{key:"restore",value:function(){var t=this.state_stack.pop();return this.state["font-family"]=t.state["font-family"],this.state["font-weight"]=t.state["font-weight"],this.state["font-style"]=t.state["font-style"],this.state["font-size"]=t.state["font-size"],this.attributes["font-family"]=t.attributes["font-family"],this.attributes["font-weight"]=t.attributes["font-weight"],this.attributes["font-style"]=t.attributes["font-style"],this.attributes["font-size"]=t.attributes["font-size"],this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes["stroke-width"]=t.attributes["stroke-width"],this.attributes["stroke-dasharray"]=t.attributes["stroke-dasharray"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this}}]),t}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];v.DEBUG&&c.Vex.L("Vex.Flow.Formatter",e)}function r(t,e,n,i){var r=e;for(n+=1;n<t.length;n+=1){var o=t[n];if(!o.isRest()&&!o.shouldIgnoreTicks()){r=o.getLineForRest();break}}if(i&&e!==r){var s=Math.max(e,r),a=Math.min(e,r);r=c.Vex.MidLine(s,a)}return r}function o(t,e,n){if(!t||!t.length)throw new c.Vex.RERR("BadArgument","No voices to format");var i=t[0].getTotalTicks(),r=t.reduce(function(t,e){if(!e.getTotalTicks().equals(i))throw new c.Vex.RERR("TickMismatch","Voices should have same total note duration in ticks.");if(e.getMode()===f.Voice.Mode.STRICT&&!e.isComplete())throw new c.Vex.RERR("IncompleteVoice","Voice does not have enough notes.");return Math.max(t,h.Fraction.LCM(t,e.getResolutionMultiplier()))},1),o={},s=[],a=[];return t.forEach(function(t){var i=new h.Fraction(0,r);t.getTickables().forEach(function(t){var r=i.numerator;if(!o[r]){var c=new e;a.push(c),o[r]=c}n(t,o[r]),s.push(r),i.add(t.getTicks())})}),{map:o,array:a,list:c.Vex.SortAndUnique(s,function(t,e){return t-e},function(t,e){return t===e}),resolutionMultiplier:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.Formatter=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(1),u=n(15),l=n(2),h=n(3),f=n(18),d=n(19),p=n(20),m=n(22),b=n(27),g=n(39),v=e.Formatter=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minTotalWidth=0,this.hasMinTotalWidth=!1,this.totalTicks=new h.Fraction(0,1),this.tickContexts=null,this.modiferContexts=null,this.contextGaps={total:0,gaps:[]},this.voices=[]}return a(t,null,[{key:"SimpleFormat",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=(arguments.length<=2||void 0===arguments[2]?{}:arguments[2]).paddingBetween,i=void 0===n?10:n;t.reduce(function(t,e){e.addToModifierContext(new b.ModifierContext);var n=(new g.TickContext).addTickable(e).preFormat(),r=n.getExtraPx();return n.setX(t+r.left),t+n.getWidth()+r.right+i},e)}},{key:"plotDebugging",value:function(t,e,n,i,r){var o=n+m.Note.STAVEPADDING,s=e.contextGaps;t.save(),t.setFont("Arial",8,""),s.gaps.forEach(function(e){var n,s,a;n=o+e.x1,s=o+e.x2,a="#aaa",t.beginPath(),t.setStrokeStyle(a),t.setFillStyle(a),t.setLineWidth(1),t.fillRect(n,i,s-n,r-i),t.fillText(Math.round(e.x2-e.x1),o+e.x1,r+12)}),t.fillText(Math.round(s.total)+"px",o-20,r+12),t.setFillStyle("red"),t.fillText("Loss: "+e.lossHistory.map(function(t){return Math.round(t)}),o-20,r+22),t.restore()}},{key:"FormatAndDraw",value:function(e,n,i,r){var o={auto_beam:!1,align_rests:!1};"object"===(void 0===r?"undefined":s(r))?c.Vex.Merge(o,r):"boolean"==typeof r&&(o.auto_beam=r);var a=new f.Voice(l.Flow.TIME4_4).setMode(f.Voice.Mode.SOFT).addTickables(i),h=o.auto_beam?u.Beam.applyAndGetBeams(a):[];return(new t).joinVoices([a],{align_rests:o.align_rests}).formatToStave([a],n,{align_rests:o.align_rests,stave:n}),a.setStave(n).draw(e,n),h.forEach(function(t){return t.setContext(e).draw()}),a.getBoundingBox()}},{key:"FormatAndDrawTab",value:function(e,n,i,r,o,a,h){var p={auto_beam:a,align_rests:!1};"object"===(void 0===h?"undefined":s(h))?c.Vex.Merge(p,h):"boolean"==typeof h&&(p.auto_beam=h);var m=new f.Voice(l.Flow.TIME4_4).setMode(f.Voice.Mode.SOFT).addTickables(o),b=new f.Voice(l.Flow.TIME4_4).setMode(f.Voice.Mode.SOFT).addTickables(r),g=p.auto_beam?u.Beam.applyAndGetBeams(m):[];(new t).joinVoices([m],{align_rests:p.align_rests}).joinVoices([b]).formatToStave([m,b],i,{align_rests:p.align_rests}),m.draw(e,i),b.draw(e,n),g.forEach(function(t){return t.setContext(e).draw()}),new d.StaveConnector(i,n).setContext(e).draw()}},{key:"AlignRestsToNotes",value:function(t,e,n){return t.forEach(function(i,o){if(i instanceof p.StaveNote&&i.isRest()){if(i.tuplet&&!n)return;var s=i.getGlyph().position.toUpperCase();if("R/4"!==s&&"B/4"!==s)return;if(e||null!=i.beam){var a=i.getKeyProps()[0];if(0===o)a.line=r(t,a.line,o,!1),i.setKeyLine(0,a.line);else if(o>0&&o<t.length){var c=void 0;t[o-1].isRest()?(c=t[o-1].getKeyProps()[0].line,a.line=c):(c=t[o-1].getLineForRest(),a.line=r(t,c,o,!0)),i.setKeyLine(0,a.line)}}}}),this}}]),a(t,[{key:"alignRests",value:function(e,n){if(!e||!e.length)throw new c.Vex.RERR("BadArgument","No voices to format rests");e.forEach(function(e){return t.AlignRestsToNotes(e.getTickables(),n)})}},{key:"preCalculateMinTotalWidth",value:function(t){if(this.hasMinTotalWidth)return this.minTotalWidth;if(!this.tickContexts){if(!t)throw new c.Vex.RERR("BadArgument","'voices' required to run preCalculateMinTotalWidth");this.createTickContexts(t)}var e=this.tickContexts,n=e.list,i=e.map;return this.minTotalWidth=n.map(function(t){var e=i[t];return e.preFormat(),e.getWidth()}).reduce(function(t,e){return t+e},0),this.hasMinTotalWidth=!0,this.minTotalWidth}},{key:"getMinTotalWidth",value:function(){if(!this.hasMinTotalWidth)throw new c.Vex.RERR("NoMinTotalWidth","Call 'preCalculateMinTotalWidth' or 'preFormat' before calling 'getMinTotalWidth'");return this.minTotalWidth}},{key:"createModifierContexts",value:function(t){var e=o(t,b.ModifierContext,function(t,e){return t.addToModifierContext(e)});return this.modiferContexts=e,e}},{key:"createTickContexts",value:function(t){var e=o(t,g.TickContext,function(t,e){return e.addTickable(t)});return e.array.forEach(function(t){t.tContexts=e.array}),this.totalTicks=t[0].getTicksUsed().clone(),this.tickContexts=e,e}},{key:"preFormat",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments[1],n=this,i=arguments[2],r=arguments[3],o=this.tickContexts,s=o.list,a=o.map,c=o.resolutionMultiplier;i&&r&&i.forEach(function(t){return t.setStave(r).preFormat()});var u=0,l=0,h=t/2;if(this.minTotalWidth=0,s.forEach(function(t){var i=a[t];e&&i.setContext(e),i.preFormat();var r=i.getWidth();n.minTotalWidth+=r;var o=i.getMetrics();u=u+l+o.extraLeftPx,i.setX(u),l=r-o.extraLeftPx}),this.minTotalWidth=u+l,this.hasMinTotalWidth=!0,!(t<=0)){var f=(t-this.minTotalWidth)/(this.totalTicks.value()*c),d=0;s.forEach(function(t,e){var n=s[e-1]||0,i=a[t];d+=(t-n)*f,i.setX(i.getX()+d),i.getCenterAlignedTickables().forEach(function(t){t.center_x_shift=h-i.getX()})}),1!==s.length&&(this.justifyWidth=t,this.lossHistory=[],this.evaluate())}}},{key:"evaluate",value:function(){var t=this,e=this.justifyWidth;this.contextGaps={total:0,gaps:[]},this.tickContexts.list.forEach(function(e,n){if(0!==n){var i=t.tickContexts.list[n-1],r=t.tickContexts.map[i],o=t.tickContexts.map[e],s=r.getMetrics(),a=r.getX()+s.width,c=o.getX(),u=c-a;t.contextGaps.total+=u,t.contextGaps.gaps.push({x1:a,x2:c}),o.getFormatterMetrics().freedom.left=u,r.getFormatterMetrics().freedom.right=u}});var n=this.durationStats={};this.voices.forEach(function(t){t.getTickables().forEach(function(t,i,r){var o=t.getTicks().clone().simplify().toString(),s=t.getMetrics(),a=t.getFormatterMetrics(),c=t.getX()+s.noteWidth+s.modRightPx+s.extraRightPx,u=0;if(i<r.length-1){var l=r[i+1],h=l.getMetrics();u=l.getX()-h.modLeftPx-h.extraLeftPx-c,a.space.used=l.getX()-t.getX(),l.getFormatterMetrics().freedom.left=u}else u=e-c,a.space.used=e-t.getX();a.freedom.right=u,function(t,e){var i=n[t];void 0===i?n[t]={mean:e,count:1}:(i.count+=1,i.mean=(i.mean+e)/2)}(o,a.space.used)})});var i=0;return this.voices.forEach(function(t){t.getTickables().forEach(function(t){var e=t.getTicks().clone().simplify().toString(),r=t.getFormatterMetrics();r.iterations+=1,r.space.deviation=r.space.used-n[e].mean,r.duration=e,r.space.mean=n[e].mean,i+=Math.pow(n[e].mean,2)})}),this.totalCost=Math.sqrt(i),this.lossHistory.push(this.totalCost),this}},{key:"tune",value:function(){var t=this,e=0;return this.tickContexts.list.forEach(function(n,i,r){var o=t.tickContexts.map[n],s=i>0?t.tickContexts.map[r[i-1]]:null,a=i<r.length-1?t.tickContexts.map[r[i+1]]:null;!function(t,e,n,i){t.setX(t.getX()+i),t.getFormatterMetrics().freedom.left+=i,t.getFormatterMetrics().freedom.right-=i,e&&(e.getFormatterMetrics().freedom.right+=i),n&&(n.getFormatterMetrics().freedom.left-=i)}(o,s,a,e);var c=-o.getTickables().map(function(t){return t.getFormatterMetrics().space.deviation}).reduce(function(t,e){return t+e});c>0?e=-Math.min(o.getFormatterMetrics().freedom.right,Math.abs(c)):c<0&&(e=a?Math.min(a.getFormatterMetrics().freedom.right,Math.abs(c)):0);var u=Math.min(5,Math.abs(e));e=e>0?u:-u}),this.evaluate()}},{key:"postFormat",value:function(){var t=function(t){return t.list.forEach(function(e){return t.map[e].postFormat()})};return t(this.modiferContexts),t(this.tickContexts),this}},{key:"joinVoices",value:function(t){return this.createModifierContexts(t),this.hasMinTotalWidth=!1,this}},{key:"format",value:function(t,e,n){var i={align_rests:!1,context:null,stave:null};return c.Vex.Merge(i,n),this.voices=t,this.alignRests(t,i.align_rests),this.createTickContexts(t),this.preFormat(e,i.context,t,i.stave),i.stave&&this.postFormat(),this}},{key:"formatToStave",value:function(t,e,n){var r=e.getNoteEndX()-e.getNoteStartX()-10;i("Formatting voices to width: ",r);var o={context:e.getContext()};return c.Vex.Merge(o,n),this.format(t,r,o)}}]),t}()},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){var e=0;return t.forEach(function(t){t.keyProps&&t.keyProps.forEach(function(t){e+=t.line-3})}),e>=0?h.Stem.DOWN:h.Stem.UP}Object.defineProperty(e,"__esModule",{value:!0}),e.Beam=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(2),c=n(5),u=n(3),l=n(16),h=n(17);e.Beam=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(i.setAttribute("type","Beam"),!t||t===[])throw new s.Vex.RuntimeError("BadArguments","No notes provided for beam.");if(1===t.length)throw new s.Vex.RuntimeError("BadArguments","Too few notes for beam.");if(i.ticks=t[0].getIntrinsicTicks(),i.ticks>=a.Flow.durationToTicks("4"))throw new s.Vex.RuntimeError("BadArguments","Beams can only be applied to notes shorter than a quarter note.");var o=void 0,c=void 0;for(i.stem_direction=h.Stem.UP,o=0;o<t.length;++o)if((c=t[o]).hasStem()){i.stem_direction=c.getStemDirection();break}var u=i.stem_direction;for(n&&"stavenotes"===t[0].getCategory()?u=r(t):n&&"tabnotes"===t[0].getCategory()&&(u=t.reduce(function(t,e){return t+e.stem_direction},0)>-1?h.Stem.UP:h.Stem.DOWN),o=0;o<t.length;++o)c=t[o],n&&(c.setStemDirection(u),i.stem_direction=u),c.setBeam(i);return i.postFormatted=!1,i.notes=t,i.beam_count=i.getBeamCount(),i.break_on_indices=[],i.render_options={beam_width:5,max_slope:.25,min_slope:-.25,slope_iterations:20,slope_cost:100,show_stemlets:!1,stemlet_extension:7,partial_beam_length:10,flat_beams:!1,min_flat_beam_offset:15},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.Element),o(e,null,[{key:"getDefaultBeamGroups",value:function(t){t&&"c"!==t||(t="4/4");var e={"1/2":["1/2"],"2/2":["1/2"],"3/2":["1/2"],"4/2":["1/2"],"1/4":["1/4"],"2/4":["1/4"],"3/4":["1/4"],"4/4":["1/4"],"1/8":["1/8"],"2/8":["2/8"],"3/8":["3/8"],"4/8":["2/8"],"1/16":["1/16"],"2/16":["2/16"],"3/16":["3/16"],"4/16":["2/16"]}[t];if(void 0!==e)return e.map(function(t){return(new u.Fraction).parse(t)});var n=parseInt(t.split("/")[0],10),i=parseInt(t.split("/")[1],10);return n%3==0?[new u.Fraction(3,i)]:i>4?[new u.Fraction(2,i)]:i<=4?[new u.Fraction(1,i)]:[new u.Fraction(1,4)]}},{key:"applyAndGetBeams",value:function(t,n,i){return e.generateBeams(t.getTickables(),{groups:i,stem_direction:n})}},{key:"generateBeams",value:function(t,n){function i(){f.length-1>d?d+=1:d=0}n||(n={}),n.groups&&n.groups.length||(n.groups=[new u.Fraction(2,8)]);var o,c,f=n.groups.map(function(t){if(!t.multiply)throw new s.Vex.RuntimeError("InvalidBeamGroups","The beam groups must be an array of Vex.Flow.Fractions");return t.clone().multiply(a.Flow.RESOLUTION,1)}),d=0,p=[],m=[];o=[],t.forEach(function(t){if(o=[],t.shouldIgnoreTicks())return p.push(m),void(m=o);m.push(t);var e=f[d].clone(),n=m.reduce(function(t,e){return e.getTicks().clone().add(t)},new u.Fraction(0,1)),r=a.Flow.durationToNumber(t.duration)<8;r&&t.tuplet&&(e.numerator*=2),n.greaterThan(e)?(r||o.push(m.pop()),p.push(m),m=o,i()):n.equals(e)&&(p.push(m),m=o,i())}),m.length>0&&p.push(m),c=[],p.forEach(function(t){var e=[];t.forEach(function(t,i,r){var o=0===i||i===r.length-1,s=r[i-1],a=!n.beam_rests&&t.isRest(),u=n.beam_rests&&n.beam_middle_only&&t.isRest()&&o,l=!1;if(n.maintain_stem_directions&&s&&!t.isRest()&&!s.isRest()){var h=s.getStemDirection();l=t.getStemDirection()!==h}var f=parseInt(t.duration,10)<8;a||u||l||f?(e.length>0&&c.push(e),e=l?[t]:[]):e.push(t)}),e.length>0&&c.push(e)}),(p=c).forEach(function(t){var e=void 0;if(n.maintain_stem_directions){var i=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(!n.isRest())return n}return!1}(t);e=i?i.getStemDirection():h.Stem.UP}else e=n.stem_direction?n.stem_direction:r(t);!function(t,e){t.forEach(function(t){t.setStemDirection(e)})}(t,e)});var b,g=p.filter(function(t){if(t.length>1){var e=!0;return t.forEach(function(t){t.getIntrinsicTicks()>=a.Flow.durationToTicks("4")&&(e=!1)}),e}return!1}),v=(b=[],p.forEach(function(t){var e=null;t.forEach(function(t){t.tuplet&&e!==t.tuplet&&(e=t.tuplet,b.push(e))})}),b),y=[];return g.forEach(function(t){var i=new e(t);n.show_stemlets&&(i.render_options.show_stemlets=!0),n.secondary_breaks&&(i.render_options.secondary_break_ticks=a.Flow.durationToTicks(n.secondary_breaks)),!0===n.flat_beams&&(i.render_options.flat_beams=!0,i.render_options.flat_beam_offset=n.flat_beam_offset),y.push(i)}),v.forEach(function(t){var e=t.notes[0].stem_direction===h.Stem.DOWN?l.Tuplet.LOCATION_BOTTOM:l.Tuplet.LOCATION_TOP;t.setTupletLocation(e);for(var n=!1,i=0;i<t.notes.length;i++)if(null===t.notes[i].beam){n=!0;break}t.setBracketed(n)}),y}}]),o(e,[{key:"getNotes",value:function(){return this.notes}},{key:"getBeamCount",value:function(){return this.notes.map(function(t){return t.getGlyph().beam_count}).reduce(function(t,e){return e>t?e:t})}},{key:"breakSecondaryAt",value:function(t){return this.break_on_indices=t,this}},{key:"getSlopeY",value:function(t,e,n,i){return n+(t-e)*i}},{key:"calculateSlope",value:function(){for(var t=this.notes,e=this.stem_direction,n=this.render_options,i=n.max_slope,r=n.min_slope,o=n.slope_iterations,s=n.slope_cost,a=t[0],c=function(t,e){var n=t.getStemExtents().topY,i=t.getStemX();return(e.getStemExtents().topY-n)/(e.getStemX()-i)}(a,t[t.length-1]),u=(i-r)/o,l=Number.MAX_VALUE,h=0,f=0,d=r;d<=i;d+=u){for(var p=0,m=0,b=1;b<t.length;++b){var g=t[b],v=this.getSlopeY(g.getStemX(),a.getStemX(),a.getStemExtents().topY,d)+m,y=g.getStemExtents().topY;if(y*e<v*e){var _=Math.abs(y-v);m+=_*-e,p+=_*b}else p+=(y-v)*e}var x=c/2,w=s*Math.abs(x-d)+Math.abs(p);w<l&&(l=w,h=d,f=m)}this.slope=h,this.y_shift=f}},{key:"calculateFlatSlope",value:function(){for(var t=this.notes,e=this.stem_direction,n=this.render_options,r=n.beam_width,o=n.min_flat_beam_offset,s=n.flat_beam_offset,a=0,c=0,u=0,l=0,f=0;f<t.length;f++){var d=t[f],p=d.getStemExtents().topY;a+=p,e===h.Stem.DOWN&&l<p?(l=p,c=Math.max.apply(Math,i(d.getYs())),u=d.getBeamCount()):e===h.Stem.UP&&(0===l||l>p)&&(l=p,c=Math.min.apply(Math,i(d.getYs())),u=d.getBeamCount())}var m=a/t.length,b=o+u*(1.5*r),g=c+b*-e;e===h.Stem.DOWN&&m<g?m=c+b:e===h.Stem.UP&&m>g&&(m=c-b),s?e===h.Stem.DOWN&&m>s?this.render_options.flat_beam_offset=m:e===h.Stem.UP&&m<s&&(this.render_options.flat_beam_offset=m):this.render_options.flat_beam_offset=m,this.slope=0,this.y_shift=0}},{key:"applyStemExtensions",value:function(){var t=this.notes,e=this.slope,n=this.y_shift,i=this.stem_direction,r=this.beam_count,o=this.render_options,s=o.show_stemlets,a=o.flat_beam_offset,c=o.flat_beams,u=o.stemlet_extension,l=o.beam_width,f=t[0],d=f.getStemExtents().topY;c&&a&&(d=a);for(var p=f.getStemX(),m=0;m<t.length;++m){var b=t[m],g=b.getStemX(),v=b.getStemExtents().topY,y=this.getSlopeY(g,p,d,e)+n,_=b.getStem().getExtension(),x=i===h.Stem.UP?v-y:y-v;if(b.stem.setExtension(_+x),b.stem.renderHeightAdjustment=-h.Stem.WIDTH/2,b.isRest()&&s){var w=(r-1)*l*1.5+l;b.stem.setVisibility(!0).setStemlet(!0,w+u)}}}},{key:"getBeamLines",value:function(t){for(var e=[],n=!1,i=null,r=this.render_options.partial_beam_length,o=!1,s=0,c=0;c<this.notes.length;++c){var u=this.notes[c];s+=u.ticks.value();var l=!1;parseInt(t,10)>=8&&(l=-1!==this.break_on_indices.indexOf(c),this.render_options.secondary_break_ticks&&s>=this.render_options.secondary_break_ticks&&(s=0,l=!0));var f=u.getIntrinsicTicks()<a.Flow.durationToTicks(t),d=u.getStemX()-h.Stem.WIDTH/2,p=this.notes[c+1],m=p&&p.getIntrinsicTicks()<a.Flow.durationToTicks(t);f?n?((i=e[e.length-1]).end=d,l&&(n=!1,p&&!m&&null===i.end&&(i.end=i.start-r))):(i={start:d,end:null},n=!0,m?l&&(i.end=i.start-r,n=!1):i.end=(o||0===c)&&p?i.start+r:i.start-r,e.push(i)):n=!1,o=l}var b=e[e.length-1];return b&&null===b.end&&(b.end=b.start-r),e}},{key:"drawStems",value:function(){var t=this;this.notes.forEach(function(e){e.getStem()&&e.getStem().setContext(t.context).draw()},this)}},{key:"drawBeamLines",value:function(){this.checkContext();var t=["4","8","16","32","64"],e=this.notes[0],n=e.getStemExtents().topY;this.render_options.flat_beams&&this.render_options.flat_beam_offset&&(n=this.render_options.flat_beam_offset);for(var i=e.getStemX(),r=this.render_options.beam_width*this.stem_direction,o=0;o<t.length;++o){for(var s=t[o],a=this.getBeamLines(s),c=0;c<a.length;++c){var u=a[c],l=u.start,h=this.getSlopeY(l,i,n,this.slope),f=u.end,d=this.getSlopeY(f,i,n,this.slope);this.context.beginPath(),this.context.moveTo(l,h),this.context.lineTo(l,h+r),this.context.lineTo(f+1,d+r),this.context.lineTo(f+1,d),this.context.closePath(),this.context.fill()}n+=1.5*r}}},{key:"preFormat",value:function(){return this}},{key:"postFormat",value:function(){this.postFormatted||("tabnotes"===this.notes[0].getCategory()||this.render_options.flat_beams?this.calculateFlatSlope():this.calculateSlope(),this.applyStemExtensions(),this.postFormatted=!0)}},{key:"draw",value:function(){this.checkContext(),this.setRendered(),this.unbeamable||(this.postFormatted||this.postFormat(),this.drawStems(),this.applyStyle(),this.drawBeamLines(),this.restoreStyle())}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tuplet=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5),s=n(14),a=n(4),c=n(17);e.Tuplet=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(i.setAttribute("type","Tuplet"),!t||!t.length)throw new r.Vex.RuntimeError("BadArguments","No notes provided for tuplet.");return i.options=r.Vex.Merge({},n),i.notes=t,i.num_notes="num_notes"in i.options?i.options.num_notes:t.length,i.options.beats_occupied&&i.beatsOccupiedDeprecationWarning(),i.notes_occupied=i.options.notes_occupied||i.options.beats_occupied||2,"bracketed"in i.options?i.bracketed=i.options.bracketed:i.bracketed=t.some(function(t){return null===t.beam}),i.ratioed="ratioed"in i.options?i.options.ratioed:Math.abs(i.notes_occupied-i.num_notes)>1,i.point=28,i.y_pos=16,i.x_pos=100,i.width=200,i.location=i.options.location||e.LOCATION_TOP,s.Formatter.AlignRestsToNotes(t,!0,!0),i.resolveGlyphs(),i.attach(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Element),i(e,null,[{key:"LOCATION_TOP",get:function(){return 1}},{key:"LOCATION_BOTTOM",get:function(){return-1}},{key:"NESTING_OFFSET",get:function(){return 15}}]),i(e,[{key:"attach",value:function(){for(var t=0;t<this.notes.length;t++)this.notes[t].setTuplet(this)}},{key:"detach",value:function(){for(var t=0;t<this.notes.length;t++)this.notes[t].resetTuplet(this)}},{key:"setBracketed",value:function(t){return this.bracketed=!!t,this}},{key:"setRatioed",value:function(t){return this.ratioed=!!t,this}},{key:"setTupletLocation",value:function(t){if(t){if(t!==e.LOCATION_TOP&&t!==e.LOCATION_BOTTOM)throw new r.Vex.RERR("BadArgument","Invalid tuplet location: "+t)}else t=e.LOCATION_TOP;return this.location=t,this}},{key:"getNotes",value:function(){return this.notes}},{key:"getNoteCount",value:function(){return this.num_notes}},{key:"beatsOccupiedDeprecationWarning",value:function(){var t=["beats_occupied has been deprecated as an ","option for tuplets. Please use notes_occupied ","instead. Calls to getBeatsOccupied and ","setBeatsOccupied should now be routed to ","getNotesOccupied and setNotesOccupied instead"].join("");console&&console.warn?console.warn(t):console&&console.log(t)}},{key:"getBeatsOccupied",value:function(){return this.beatsOccupiedDeprecationWarning(),this.getNotesOccupied()}},{key:"setBeatsOccupied",value:function(t){return this.beatsOccupiedDeprecationWarning(),this.setNotesOccupied(t)}},{key:"getNotesOccupied",value:function(){return this.notes_occupied}},{key:"setNotesOccupied",value:function(t){this.detach(),this.notes_occupied=t,this.resolveGlyphs(),this.attach()}},{key:"resolveGlyphs",value:function(){this.num_glyphs=[];for(var t=this.num_notes;t>=1;)this.num_glyphs.push(new a.Glyph("v"+t%10,this.point)),t=parseInt(t/10,10);for(this.denom_glyphs=[],t=this.notes_occupied;t>=1;)this.denom_glyphs.push(new a.Glyph("v"+t%10,this.point)),t=parseInt(t/10,10)}},{key:"getNestedTupletCount",value:function(){function t(t,e){return t.tupletStack.filter(function(t){return t.location===e}).length}var e=this.location,n=this.notes[0],i=t(n,e),r=t(n,e);return this.notes.forEach(function(n){var o=t(n,e);i=o>i?o:i,r=o<r?o:r}),i-r}},{key:"getYPosition",value:function(){var t=this.getNestedTupletCount()*e.NESTING_OFFSET*-this.location,n=this.options.y_offset||0,i=this.notes[0],r=void 0;if(this.location===e.LOCATION_TOP){r=i.getStave().getYForLine(0)-15;for(var o=0;o<this.notes.length;++o){var s=this.notes[o].getStemDirection()===c.Stem.UP?this.notes[o].getStemExtents().topY-10:this.notes[o].getStemExtents().baseY-20;s<r&&(r=s)}}else{r=i.getStave().getYForLine(4)+20;for(var a=0;a<this.notes.length;++a){var u=this.notes[a].getStemDirection()===c.Stem.UP?this.notes[a].getStemExtents().baseY+20:this.notes[a].getStemExtents().topY+10;u>r&&(r=u)}}return r+t+n}},{key:"draw",value:function(){var t=this;this.checkContext(),this.setRendered();var n=this.notes[0],i=this.notes[this.notes.length-1];this.bracketed?(this.x_pos=n.getTieLeftX()-5,this.width=i.getTieRightX()-this.x_pos+5):(this.x_pos=n.getStemX(),this.width=i.getStemX()-this.x_pos),this.y_pos=this.getYPosition();var r=function(t,e){return t+e.getMetrics().width},o=this.num_glyphs.reduce(r,0);this.ratioed&&(o=this.denom_glyphs.reduce(r,o),o+=.32*this.point);var s=this.x_pos+this.width/2-o/2;if(this.bracketed){var a=this.width/2-o/2-5;a>0&&(this.context.fillRect(this.x_pos,this.y_pos,a,1),this.context.fillRect(this.x_pos+this.width/2+o/2+5,this.y_pos,a,1),this.context.fillRect(this.x_pos,this.y_pos+(this.location===e.LOCATION_BOTTOM),1,10*this.location),this.context.fillRect(this.x_pos+this.width,this.y_pos+(this.location===e.LOCATION_BOTTOM),1,10*this.location))}var c=0;if(this.num_glyphs.forEach(function(e){e.render(t.context,s+c,t.y_pos+t.point/3-2),c+=e.getMetrics().width}),this.ratioed){var u=s+c+.16*this.point,l=.06*this.point;this.context.beginPath(),this.context.arc(u,this.y_pos-.08*this.point,l,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(u,this.y_pos+.12*this.point,l,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),c+=.32*this.point,this.denom_glyphs.forEach(function(e){e.render(t.context,s+c,t.y_pos+t.point/3-2),c+=e.getMetrics().width})}}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.DEBUG&&o.Vex.L("Vex.Flow.Stem",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Stem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(5),a=n(2),c=e.Stem=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","Stem"),n.x_begin=t.x_begin||0,n.x_end=t.x_end||0,n.y_top=t.y_top||0,n.y_bottom=t.y_bottom||0,n.stem_extension=t.stem_extension||0,n.stem_direction=t.stem_direction||0,n.hide=t.hide||!1,n.isStemlet=t.isStemlet||!1,n.stemletHeight=t.stemletHeight||0,n.renderHeightAdjustment=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Element),r(e,null,[{key:"CATEGORY",get:function(){return"stem"}},{key:"UP",get:function(){return 1}},{key:"DOWN",get:function(){return-1}},{key:"WIDTH",get:function(){return a.Flow.STEM_WIDTH}},{key:"HEIGHT",get:function(){return a.Flow.STEM_HEIGHT}}]),r(e,[{key:"setNoteHeadXBounds",value:function(t,e){return this.x_begin=t,this.x_end=e,this}},{key:"setDirection",value:function(t){this.stem_direction=t}},{key:"setExtension",value:function(t){this.stem_extension=t}},{key:"getExtension",value:function(){return this.stem_extension}},{key:"setYBounds",value:function(t,e){this.y_top=t,this.y_bottom=e}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getHeight",value:function(){return(this.y_bottom-this.y_top)*this.stem_direction+(e.HEIGHT+this.stem_extension)*this.stem_direction}},{key:"getBoundingBox",value:function(){throw new o.Vex.RERR("NotImplemented","getBoundingBox() not implemented.")}},{key:"getExtents",value:function(){var t=this.stem_direction===e.UP,n=[this.y_top,this.y_bottom],i=e.HEIGHT+this.stem_extension,r=(t?Math.min:Math.max).apply(void 0,n),o=(t?Math.max:Math.min).apply(void 0,n);return{topY:r+i*-this.stem_direction,baseY:o}}},{key:"setVisibility",value:function(t){return this.hide=!t,this}},{key:"setStemlet",value:function(t,e){return this.isStemlet=t,this.stemletHeight=e,this}},{key:"draw",value:function(){if(this.setRendered(),!this.hide){var t=this.checkContext(),n=void 0,r=void 0,o=this.stem_direction;o===e.DOWN?(n=this.x_begin,r=this.y_top):(n=this.x_end,r=this.y_bottom);var s=this.getHeight();i("Rendering stem - ","Top Y: ",this.y_top,"Bottom Y: ",this.y_bottom);var a=this.isStemlet?s-this.stemletHeight*this.stem_direction:0;t.save(),this.applyStyle(t),t.beginPath(),t.setLineWidth(e.WIDTH),t.moveTo(n,r-a),t.lineTo(n,r-s-this.renderHeightAdjustment*o),t.stroke(),t.restore()}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Voice=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5),s=n(2),a=n(3);e.Voice=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.setAttribute("type","Voice"),"string"==typeof t){var i=t.match(/(\d+)\/(\d+)/);i&&(t={num_beats:i[1],beat_value:i[2],resolution:s.Flow.RESOLUTION})}return n.time=r.Vex.Merge({num_beats:4,beat_value:4,resolution:s.Flow.RESOLUTION},t),n.totalTicks=new a.Fraction(n.time.num_beats*(n.time.resolution/n.time.beat_value),1),n.resolutionMultiplier=1,n.tickables=[],n.ticksUsed=new a.Fraction(0,1),n.smallestTickCount=n.totalTicks.clone(),n.largestTickWidth=0,n.stave=null,n.mode=e.Mode.STRICT,n.voiceGroup=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Element),i(e,null,[{key:"Mode",get:function(){return{STRICT:1,SOFT:2,FULL:3}}}]),i(e,[{key:"getTotalTicks",value:function(){return this.totalTicks}},{key:"getTicksUsed",value:function(){return this.ticksUsed}},{key:"getLargestTickWidth",value:function(){return this.largestTickWidth}},{key:"getSmallestTickCount",value:function(){return this.smallestTickCount}},{key:"getTickables",value:function(){return this.tickables}},{key:"getMode",value:function(){return this.mode}},{key:"setMode",value:function(t){return this.mode=t,this}},{key:"getResolutionMultiplier",value:function(){return this.resolutionMultiplier}},{key:"getActualResolution",value:function(){return this.resolutionMultiplier*this.time.resolution}},{key:"setStave",value:function(t){return this.stave=t,this.boundingBox=null,this}},{key:"getBoundingBox",value:function(){var t=void 0,e=void 0,n=void 0,i=void 0;if(!this.boundingBox){if(!this.stave)throw new r.Vex.RERR("NoStave","Can't get bounding box without stave.");for(t=this.stave,e=null,i=0;i<this.tickables.length;++i)this.tickables[i].setStave(t),(n=this.tickables[i].getBoundingBox())&&(e=e?e.mergeWith(n):n);this.boundingBox=e}return this.boundingBox}},{key:"getVoiceGroup",value:function(){if(!this.voiceGroup)throw new r.Vex.RERR("NoVoiceGroup","No voice group for voice.");return this.voiceGroup}},{key:"setVoiceGroup",value:function(t){return this.voiceGroup=t,this}},{key:"setStrict",value:function(t){return this.mode=t?e.Mode.STRICT:e.Mode.SOFT,this}},{key:"isComplete",value:function(){return this.mode!==e.Mode.STRICT&&this.mode!==e.Mode.FULL||this.ticksUsed.equals(this.totalTicks)}},{key:"addTickable",value:function(t){if(!t.shouldIgnoreTicks()){var n=t.getTicks();if(this.ticksUsed.add(n),(this.mode===e.Mode.STRICT||this.mode===e.Mode.FULL)&&this.ticksUsed.greaterThan(this.totalTicks))throw this.totalTicks.subtract(n),new r.Vex.RERR("BadArgument","Too many ticks.");n.lessThan(this.smallestTickCount)&&(this.smallestTickCount=n.clone()),this.resolutionMultiplier=this.ticksUsed.denominator,this.totalTicks.add(0,this.ticksUsed.denominator)}return this.tickables.push(t),t.setVoice(this),this}},{key:"addTickables",value:function(t){for(var e=0;e<t.length;++e)this.addTickable(t[e]);return this}},{key:"preFormat",value:function(){var t=this;return this.preFormatted?this:(this.tickables.forEach(function(e){e.getStave()||e.setStave(t.stave)}),this.preFormatted=!0,this)}},{key:"draw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.context:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.stave:arguments[1];this.setRendered();for(var n=null,i=0;i<this.tickables.length;++i){var o=this.tickables[i];if(e&&o.setStave(e),!o.getStave())throw new r.Vex.RuntimeError("MissingStave","The voice cannot draw tickables without staves.");if(0===i&&(n=o.getBoundingBox()),i>0&&n){var s=o.getBoundingBox();s&&n.mergeWith(s)}o.setContext(t),o.draw()}this.boundingBox=n}}]),e}()},function(t,e,n){"use strict";function i(t,e,n,i,r){if(e!==u.type.BOLD_DOUBLE_LEFT&&e!==u.type.BOLD_DOUBLE_RIGHT)throw new o.Vex.RERR("InvalidConnector","A REPEAT_BEGIN or REPEAT_END type must be provided.");var s=3,a=3.5;e===u.type.BOLD_DOUBLE_RIGHT&&(s=-5,a=3),t.fillRect(n+s,i,1,r-i),t.fillRect(n-2,i,a,r-i)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveConnector=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(5),a=n(2),c=n(4),u=e.StaveConnector=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.setAttribute("type","StaveConnector"),i.thickness=a.Flow.STAVE_LINE_THICKNESS,i.width=3,i.top_stave=t,i.bottom_stave=n,i.type=e.type.DOUBLE,i.font={family:"times",size:16,weight:"normal"},i.x_shift=0,i.texts=[],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Element),r(e,null,[{key:"type",get:function(){return{SINGLE_RIGHT:0,SINGLE_LEFT:1,SINGLE:1,DOUBLE:2,BRACE:3,BRACKET:4,BOLD_DOUBLE_LEFT:5,BOLD_DOUBLE_RIGHT:6,THIN_DOUBLE:7,NONE:8}}},{key:"typeString",get:function(){return{singleRight:e.type.SINGLE_RIGHT,singleLeft:e.type.SINGLE_LEFT,single:e.type.SINGLE,double:e.type.DOUBLE,brace:e.type.BRACE,bracket:e.type.BRACKET,boldDoubleLeft:e.type.BOLD_DOUBLE_LEFT,boldDoubleRight:e.type.BOLD_DOUBLE_RIGHT,thinDouble:e.type.THIN_DOUBLE,none:e.type.NONE}}}]),r(e,[{key:"setType",value:function(t){return(t="string"==typeof t?e.typeString[t]:t)>=e.type.SINGLE_RIGHT&&t<=e.type.NONE&&(this.type=t),this}},{key:"setText",value:function(t,e){return this.texts.push({content:t,options:o.Vex.Merge({shift_x:0,shift_y:0},e)}),this}},{key:"setFont",value:function(t){o.Vex.Merge(this.font,t)}},{key:"setXShift",value:function(t){if("number"!=typeof t)throw o.Vex.RERR("InvalidType","x_shift must be a Number");return this.x_shift=t,this}},{key:"draw",value:function(){var t=this.checkContext();this.setRendered();var n=this.top_stave.getYForLine(0),r=this.bottom_stave.getYForLine(this.bottom_stave.getNumLines()-1)+this.thickness,s=this.width,a=this.top_stave.getX();(this.type===e.type.SINGLE_RIGHT||this.type===e.type.BOLD_DOUBLE_RIGHT||this.type===e.type.THIN_DOUBLE)&&(a=this.top_stave.getX()+this.top_stave.width);var u=r-n;switch(this.type){case e.type.SINGLE:case e.type.SINGLE_LEFT:case e.type.SINGLE_RIGHT:s=1;break;case e.type.DOUBLE:a-=this.width+2;break;case e.type.BRACE:s=12;var l=this.top_stave.getX()-2+this.x_shift,h=n,f=l,d=r,p=l-s,m=h+u/2,b=p-.9*s,g=h+.2*u,v=l+1.1*s,y=m-.135*u,_=v,x=m+.135*u,w=b,S=d-.2*u,E=p-s,T=S,k=l+.4*s,P=m+.135*u,M=k,C=m-.135*u,O=E,A=g;t.beginPath(),t.moveTo(l,h),t.bezierCurveTo(b,g,v,y,p,m),t.bezierCurveTo(_,x,w,S,f,d),t.bezierCurveTo(E,T,k,P,p,m),t.bezierCurveTo(M,C,O,A,l,h),t.fill(),t.stroke();break;case e.type.BRACKET:u=(r+=4)-(n-=4),c.Glyph.renderGlyph(t,a-5,n-3,40,"v1b",!0),c.Glyph.renderGlyph(t,a-5,r+3,40,"v10",!0),a-=this.width+2;break;case e.type.BOLD_DOUBLE_LEFT:i(t,this.type,a+this.x_shift,n,r);break;case e.type.BOLD_DOUBLE_RIGHT:i(t,this.type,a,n,r);break;case e.type.THIN_DOUBLE:s=1;break;case e.type.NONE:break;default:throw new o.Vex.RERR("InvalidType","The provided StaveConnector.type ("+this.type+") is invalid")}this.type!==e.type.BRACE&&this.type!==e.type.BOLD_DOUBLE_LEFT&&this.type!==e.type.BOLD_DOUBLE_RIGHT&&this.type!==e.type.NONE&&t.fillRect(a,n,s,u),this.type===e.type.THIN_DOUBLE&&t.fillRect(a-3,n,s,u),t.save(),t.lineWidth=2,t.setFont(this.font.family,this.font.size,this.font.weight);for(var N=0;N<this.texts.length;N++){var L=this.texts[N],I=t.measureText(""+L.content).width,R=this.top_stave.getX()-I-24+L.options.shift_x,B=(this.top_stave.getYForLine(0)+this.bottom_stave.getBottomLineY())/2+L.options.shift_y;t.fillText(""+L.content,R,B+4)}t.restore()}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];b.DEBUG&&c.Vex.L("Vex.Flow.StaveNote",e)}function r(t,e,n){var i=(e.isrest?0:1)*n;t.line+=i,t.maxLine+=i,t.minLine+=i,t.note.setKeyLine(0,t.note.getKeyLine(0)+i)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveNote=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(1),u=n(2),l=n(8),h=n(17),f=n(21),d=n(24),p=n(25),m=n(26),b=e.StaveNote=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(n.setAttribute("type","StaveNote"),n.keys=t.keys,n.clef=t.clef,n.octave_shift=t.octave_shift,n.beam=null,n.glyph=u.Flow.durationToGlyph(n.duration,n.noteType),!n.glyph)throw new c.Vex.RuntimeError("BadArguments","Invalid note initialization data (No glyph found): "+JSON.stringify(t));return n.displaced=!1,n.dot_shiftY=0,n.keyProps=[],n.use_default_head_x=!1,n.note_heads=[],n.modifiers=[],c.Vex.Merge(n.render_options,{glyph_font_scale:t.glyph_font_scale||u.Flow.DEFAULT_NOTATION_FONT_SCALE,stroke_px:t.stroke_px||e.DEFAULT_LEDGER_LINE_OFFSET}),n.calculateKeyProps(),n.buildStem(),t.auto_stem?n.autoStem():n.setStemDirection(t.stem_direction),n.reset(),n.buildFlag(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,d.StemmableNote),a(e,null,[{key:"format",value:function(t,n){if(!t||t.length<2)return!1;if(t[0].getStave())return e.formatByY(t,n);for(var i=[],o=0;o<t.length;o++){var s=t[o].getKeyProps(),a=s[0].line,u=s[s.length-1].line,l=t[o].getStemDirection(),h=t[o].getStemLength()/10,f=t[o].getStemMinumumLength()/10,d=void 0;t[o].isRest()?(d=a+t[o].glyph.line_above,u=a-t[o].glyph.line_below):(d=1===l?s[s.length-1].line+h:s[s.length-1].line,u=1===l?s[0].line:s[0].line-h),i.push({line:s[0].line,maxLine:d,minLine:u,isrest:t[o].isRest(),stemDirection:l,stemMax:h,stemMin:f,voice_shift:t[o].getVoiceShiftWidth(),is_displaced:t[o].isDisplaced(),note:t[o]})}var p=i.length,m=i[0],b=p>2?i[1]:null,g=p>2?i[2]:i[1];2===p&&-1===m.stemDirection&&1===g.stemDirection&&(m=i[1],g=i[0]);var v=Math.max(m.voice_shift,g.voice_shift),y=0,_=void 0;if(2===p){var x=m.stemDirection===g.stemDirection?0:.5;return m.stemDirection===g.stemDirection&&m.minLine<=g.maxLine&&(m.isrest||(_=Math.abs(m.line-(g.maxLine+.5)),_=Math.max(_,m.stemMin),m.minLine=m.line-_,m.note.setStemLength(10*_))),m.minLine<=g.maxLine+x&&(m.isrest?r(m,g,1):g.isrest?r(g,m,-1):(y=v,m.stemDirection===g.stemDirection?m.note.setXShift(y+3):g.note.setXShift(y))),!0}return null!==b&&b.minLine<g.maxLine+.5&&(b.isrest||(_=Math.abs(b.line-(g.maxLine+.5)),_=Math.max(_,b.stemMin),b.minLine=b.line-_,b.note.setStemLength(10*_))),b.isrest&&!m.isrest&&!g.isrest&&(m.minLine<=b.maxLine||b.minLine<=g.maxLine)?(b.maxLine-b.minLine<m.minLine-g.maxLine?function(t,e,n){var i=t.line-c.Vex.MidLine(e.minLine,n.maxLine);t.note.setKeyLine(0,t.note.getKeyLine(0)-i),t.line-=i,t.maxLine-=i,t.minLine-=i}(b,m,g):(y=v+3,b.note.setXShift(y)),!0):m.isrest&&b.isrest&&g.isrest?(r(m,b,1),r(g,b,-1),!0):(b.isrest&&m.isrest&&b.minLine<=g.maxLine&&r(b,g,1),b.isrest&&g.isrest&&m.minLine<=b.maxLine&&r(b,m,-1),m.isrest&&m.minLine<=b.maxLine&&r(m,b,1),g.isrest&&b.minLine<=g.maxLine&&r(g,b,-1),(!m.isrest&&!b.isrest&&m.minLine<=b.maxLine+.5||!b.isrest&&!g.isrest&&b.minLine<=g.maxLine)&&(y=v+3,b.note.setXShift(y)),!0)}},{key:"formatByY",value:function(t,e){for(var n=!0,i=0;i<t.length;i++)n=n&&null!=t[i].getStave();if(!n)throw new c.Vex.RERR("Stave Missing","All notes must have a stave - Vex.Flow.ModifierContext.formatMultiVoice!");for(var r=0,o=0;o<t.length-1;o++){var s=t[o],a=t[o+1];s.getStemDirection()===h.Stem.DOWN&&(s=t[o+1],a=t[o]);var u=s.getKeyProps(),l=a.getKeyProps(),f=s.getStave().getYForLine(5-u[0].line+.5);a.getStave().getYForLine(5-l[l.length-1].line-.5)-f<0&&(r=s.getVoiceShiftWidth()+2,a.setXShift(r))}e.right_shift+=r}},{key:"postFormat",value:function(t){return!!t&&(t.forEach(function(t){return t.postFormat()}),!0)}},{key:"CATEGORY",get:function(){return"stavenotes"}},{key:"STEM_UP",get:function(){return h.Stem.UP}},{key:"STEM_DOWN",get:function(){return h.Stem.DOWN}},{key:"DEFAULT_LEDGER_LINE_OFFSET",get:function(){return 3}}]),a(e,[{key:"reset",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this);var n=this.note_heads.map(function(t){return t.getStyle()});this.buildNoteHeads(),this.note_heads.forEach(function(t,e){return t.setStyle(n[e])}),this.stave&&this.note_heads.forEach(function(e){return e.setStave(t.stave)}),this.calcExtraPx()}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"buildStem",value:function(){var t=this.getGlyph(),e="v95"===t.code_head||"v3e"===t.code_head?-4:0;this.setStem(new h.Stem({yExtend:e,hide:!!this.isRest()}))}},{key:"buildNoteHeads",value:function(){this.note_heads=[];var t=this.getStemDirection(),e=this.getKeys(),n=null,i=null,r=!1,o=void 0,s=void 0,a=void 0;t===h.Stem.UP?(o=0,s=e.length,a=1):t===h.Stem.DOWN&&(o=e.length-1,s=-1,a=-1);for(var c=o;c!==s;c+=a){var u=this.keyProps[c],l=u.line;null===n?n=l:0===(i=Math.abs(n-l))||.5===i?r=!r:(r=!1,this.use_default_head_x=!0),n=l;var d=new f.NoteHead({duration:this.duration,note_type:this.noteType,displaced:r,stem_direction:t,custom_glyph_code:u.code,glyph_font_scale:this.render_options.glyph_font_scale,x_shift:u.shift_right,line:u.line});this.note_heads[c]=d}}},{key:"autoStem",value:function(){this.minLine=this.keyProps[0].line,this.maxLine=this.keyProps[this.keyProps.length-1].line;var t=(this.minLine+this.maxLine)/2<3?h.Stem.UP:h.Stem.DOWN;this.setStemDirection(t)}},{key:"calculateKeyProps",value:function(){for(var t=null,e=0;e<this.keys.length;++e){var n=this.keys[e];this.glyph.rest&&(this.glyph.position=n);var i={octave_shift:this.octave_shift||0},r=u.Flow.keyProperties(n,this.clef,i);if(!r)throw new c.Vex.RuntimeError("BadArguments","Invalid key for note properties: "+n);"R"===r.key&&("1"===this.duration||"w"===this.duration?r.line=4:r.line=3);var o=r.line;null===t?t=o:.5===Math.abs(t-o)&&(this.displaced=!0,r.displaced=!0,this.keyProps.length>0&&(this.keyProps[e-1].displaced=!0)),t=o,this.keyProps.push(r)}t=-1/0,this.keyProps.forEach(function(e){e.line<t&&c.Vex.W("Unsorted keys in note will be sorted. See https://github.com/0xfe/vexflow/issues/104 for details."),t=e.line}),this.keyProps.sort(function(t,e){return t.line-e.line})}},{key:"getBoundingBox",value:function(){if(!this.preFormatted)throw new c.Vex.RERR("UnformattedNote","Can't call getBoundingBox on an unformatted note.");var t=this.getMetrics(),e=t.width,n=t.modLeftPx,i=t.extraLeftPx,r=this.getAbsoluteX()-n-i,o=0,s=0,a=this.getStave().getSpacingBetweenLines()/2,h=2*a;if(this.isRest()){var f=this.ys[0],d=u.Flow.durationToFraction(this.duration);d.equals(1)||d.equals(2)?(o=f-a,s=f+a):(o=f-this.glyph.line_above*h,s=f+this.glyph.line_below*h)}else if(this.glyph.stem){var p=this.getStemExtents();p.baseY+=a*this.stem_direction,o=Math.min(p.topY,p.baseY),s=Math.max(p.topY,p.baseY)}else{o=null,s=null;for(var m=0;m<this.ys.length;++m){var b=this.ys[m];0===m?(o=b,s=b):(o=Math.min(b,o),s=Math.max(b,s))}o-=a,s+=a}return new l.BoundingBox(r,o,e,s-o)}},{key:"getLineNumber",value:function(t){if(!this.keyProps.length)throw new c.Vex.RERR("NoKeyProps","Can't get bottom note line, because note is not initialized properly.");for(var e=this.keyProps[0].line,n=0;n<this.keyProps.length;n++){var i=this.keyProps[n].line;t?i>e&&(e=i):i<e&&(e=i)}return e}},{key:"isRest",value:function(){return this.glyph.rest}},{key:"isChord",value:function(){return!this.isRest()&&this.keys.length>1}},{key:"hasStem",value:function(){return this.glyph.stem}},{key:"hasFlag",value:function(){return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"hasFlag",this).call(this)&&!this.isRest()}},{key:"getStemX",value:function(){return"r"===this.noteType?this.getCenterGlyphX():s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getStemX",this).call(this)+(t=this,h.Stem.WIDTH/(2*-t.getStemDirection()));var t}},{key:"getYForTopText",value:function(t){var e=this.getStemExtents();return Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1))}},{key:"getYForBottomText",value:function(t){var e=this.getStemExtents();return Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t)}},{key:"setStave",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setStave",this).call(this,t);var n=this.note_heads.map(function(e){return e.setStave(t),e.getY()});if(this.setYs(n),this.stem){var i=this.getNoteHeadBounds(),r=i.y_top,o=i.y_bottom;this.stem.setYBounds(r,o)}return this}},{key:"getKeys",value:function(){return this.keys}},{key:"getKeyProps",value:function(){return this.keyProps}},{key:"isDisplaced",value:function(){return this.displaced}},{key:"setNoteDisplaced",value:function(t){return this.displaced=t,this}},{key:"getTieRightX",value:function(){var t=this.getAbsoluteX();return t+=this.getGlyphWidth()+this.x_shift+this.extraRightPx,this.modifierContext&&(t+=this.modifierContext.getExtraRightPx()),t}},{key:"getTieLeftX",value:function(){var t=this.getAbsoluteX();return t+=this.x_shift-this.extraLeftPx}},{key:"getLineForRest",value:function(){var t=this.keyProps[0].line;if(this.keyProps.length>1){var e=this.keyProps[this.keyProps.length-1].line,n=Math.max(t,e),i=Math.min(t,e);t=c.Vex.MidLine(n,i)}return t}},{key:"getModifierStartXY",value:function(t,e){if(!this.preFormatted)throw new c.Vex.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");if(0===this.ys.length)throw new c.Vex.RERR("NoYValues","No Y-Values calculated for this note.");var n=p.Modifier.Position,i=n.ABOVE,r=n.BELOW,o=n.LEFT,s=n.RIGHT,a=0;return t===o?a=-2:t===s?(a=this.getGlyphWidth()+this.x_shift+2,this.stem_direction===h.Stem.UP&&this.hasFlag()&&function(t,e){return e===(t.getStemDirection()===h.Stem.UP?t.keyProps.length-1:0)}(this,e)&&(a+=this.flag.getMetrics().width)):t!==r&&t!==i||(a=this.getGlyphWidth()/2),{x:this.getAbsoluteX()+a,y:this.ys[e]}}},{key:"setStyle",value:function(t){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setStyle",this).call(this,t),this.note_heads.forEach(function(e){return e.setStyle(t)}),this.stem.setStyle(t)}},{key:"setStemStyle",value:function(t){this.getStem().setStyle(t)}},{key:"getStemStyle",value:function(){return this.stem.getStyle()}},{key:"setLedgerLineStyle",value:function(t){this.ledgerLineStyle=t}},{key:"getLedgerLineStyle",value:function(){return this.ledgerLineStyle}},{key:"setFlagStyle",value:function(t){this.flagStyle=t}},{key:"getFlagStyle",value:function(){return this.flagStyle}},{key:"setKeyStyle",value:function(t,e){return this.note_heads[t].setStyle(e),this}},{key:"setKeyLine",value:function(t,e){return this.keyProps[t].line=e,this.reset(),this}},{key:"getKeyLine",value:function(t){return this.keyProps[t].line}},{key:"addToModifierContext",value:function(t){this.setModifierContext(t);for(var e=0;e<this.modifiers.length;++e)this.modifierContext.addModifier(this.modifiers[e]);return this.modifierContext.addModifier(this),this.setPreFormatted(!1),this}},{key:"addModifier",value:function(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}},{key:"addAccidental",value:function(t,e){return this.addModifier(t,e)}},{key:"addArticulation",value:function(t,e){return this.addModifier(t,e)}},{key:"addAnnotation",value:function(t,e){return this.addModifier(t,e)}},{key:"addDot",value:function(t){var e=new m.Dot;return e.setDotShiftY(this.glyph.dot_shiftY),this.dots++,this.addModifier(t,e)}},{key:"addDotToAll",value:function(){for(var t=0;t<this.keys.length;++t)this.addDot(t);return this}},{key:"getAccidentals",value:function(){return this.modifierContext.getModifiers("accidentals")}},{key:"getDots",value:function(){return this.modifierContext.getModifiers("dots")}},{key:"getVoiceShiftWidth",value:function(){return this.getGlyphWidth()*(this.displaced?2:1)}},{key:"calcExtraPx",value:function(){this.setExtraLeftPx(this.displaced&&this.stem_direction===h.Stem.DOWN?this.getGlyphWidth():0),this.setExtraRightPx(!this.hasFlag()&&this.displaced&&this.stem_direction===h.Stem.UP?this.getGlyphWidth():0)}},{key:"preFormat",value:function(){if(!this.preFormatted){this.modifierContext&&this.modifierContext.preFormat();var t=this.getGlyphWidth()+this.extraLeftPx+this.extraRightPx;this.glyph.flag&&null===this.beam&&this.stem_direction===h.Stem.UP&&(t+=this.getGlyphWidth()),this.setWidth(t),this.setPreFormatted(!0)}}},{key:"getNoteHeadBounds",value:function(){var t=null,e=null,n=null,i=null,r=this.stave.getNumLines(),o=1,s=!1,a=!1,c=r,u=o;return this.note_heads.forEach(function(l){var h=l.getLine(),f=l.getY();(null===t||f<t)&&(t=f),(null===e||f>e)&&(e=f),null===i&&l.isDisplaced()&&(i=l.getAbsoluteX()),null!==n||l.isDisplaced()||(n=l.getAbsoluteX()),r=h>r?h:r,o=h<o?h:o,l.isDisplaced()?(s=!1===s?h:Math.max(h,s),a=!1===a?h:Math.min(h,a)):(c=Math.max(h,c),u=Math.min(h,u))},this),{y_top:t,y_bottom:e,displaced_x:i,non_displaced_x:n,highest_line:r,lowest_line:o,highest_displaced_line:s,lowest_displaced_line:a,highest_non_displaced_line:c,lowest_non_displaced_line:u}}},{key:"getNoteHeadBeginX",value:function(){return this.getAbsoluteX()+this.x_shift}},{key:"getNoteHeadEndX",value:function(){return this.getNoteHeadBeginX()+this.getGlyphWidth()}},{key:"drawLedgerLines",value:function(){var t=this.stave,e=this.glyph,n=this.render_options.stroke_px,i=this.context,r=e.getWidth()+2*n,s=2*(e.getWidth()+n)-h.Stem.WIDTH/2;if(!this.isRest()){if(!i)throw new c.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");var a=this.getNoteHeadBounds(),u=a.highest_line,l=a.lowest_line,f=a.highest_displaced_line,d=a.highest_non_displaced_line,p=a.lowest_displaced_line,m=a.lowest_non_displaced_line,b=a.displaced_x,g=a.non_displaced_x,v=Math.min(b,g),y=function(t,e,o){var a=void 0;a=o&&e?v-n:e?g-n:b-n;var c=e&&o?s:r;i.beginPath(),i.moveTo(a,t),i.lineTo(a+c,t),i.stroke()},_=o({},t.getStyle()||{},this.getLedgerLineStyle()||{});this.applyStyle(i,_);for(var x=6;x<=u;++x){var w=null!==g&&x<=d,S=null!==b&&x<=f;y(t.getYForNote(x),w,S)}for(var E=0;E>=l;--E){var T=null!==g&&E>=m,k=null!==b&&E>=p;y(t.getYForNote(E),T,k)}this.restoreStyle(i,_)}}},{key:"drawModifiers",value:function(){if(!this.context)throw new c.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");var t=this.context;t.openGroup("modifiers");for(var e=0;e<this.modifiers.length;e++){var n=this.modifiers[e],i=this.note_heads[n.getIndex()],r=i.getStyle();r&&(t.save(),i.applyStyle(t)),n.setContext(t),n.draw(),r&&t.restore()}t.closeGroup()}},{key:"drawFlag",value:function(){var t=this.stem,e=this.beam,n=this.context;if(!n)throw new c.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");var i=null===e;if(this.getGlyph().flag&&i){var r=this.getNoteHeadBounds(),o=r.y_top,s=r.y_bottom,a=t.getHeight(),u=this.getStemX(),l=this.getStemDirection()===h.Stem.DOWN?o-a+2:s-a-2;n.openGroup("flag",null,{pointerBBox:!0}),this.applyStyle(n,this.getFlagStyle()||!1),this.flag.render(n,u,l),this.restoreStyle(n,this.getFlagStyle()||!1),n.closeGroup()}}},{key:"drawNoteHeads",value:function(){var t=this;this.note_heads.forEach(function(e){t.context.openGroup("notehead",null,{pointerBBox:!0}),e.setContext(t.context).draw(),t.context.closeGroup()})}},{key:"drawStem",value:function(t){if(!this.context)throw new c.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");t&&this.setStem(new h.Stem(t)),this.context.openGroup("stem",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()}},{key:"draw",value:function(){if(!this.context)throw new c.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");if(!this.stave)throw new c.Vex.RERR("NoStave","Can't draw without a stave.");if(0===this.ys.length)throw new c.Vex.RERR("NoYValues","Can't draw note without Y values.");var t=this.getNoteHeadBeginX(),e=this.hasStem()&&!this.beam;this.note_heads.forEach(function(e){return e.setX(t)});var n=this.getStemX();this.stem.setNoteHeadXBounds(n,n),i("Rendering ",this.isChord()?"chord :":"note :",this.keys),this.drawLedgerLines(),this.applyStyle(),this.setAttribute("el",this.context.openGroup("stavenote",this.getAttribute("id"))),this.context.openGroup("note",null,{pointerBBox:!0}),e&&this.drawStem(),this.drawNoteHeads(),this.drawFlag(),this.context.closeGroup(),this.drawModifiers(),this.context.closeGroup(),this.restoreStyle(),this.setRendered()}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h.DEBUG&&o.Vex.L("Vex.Flow.NoteHead",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NoteHead=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(2),a=n(22),c=n(17),u=n(20),l=n(4),h=e.NoteHead=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(n.setAttribute("type","NoteHead"),n.index=t.index,n.x=t.x||0,n.y=t.y||0,n.note_type=t.note_type,n.duration=t.duration,n.displaced=t.displaced||!1,n.stem_direction=t.stem_direction||u.StaveNote.STEM_UP,n.line=t.line,n.glyph=s.Flow.durationToGlyph(n.duration,n.note_type),!n.glyph)throw new o.Vex.RuntimeError("BadArguments","No glyph found for duration '"+n.duration+"' and type '"+n.note_type+"'");return n.glyph_code=n.glyph.code_head,n.x_shift=t.x_shift,t.custom_glyph_code&&(n.custom_glyph=!0,n.glyph_code=t.custom_glyph_code),n.style=t.style,n.slashed=t.slashed,o.Vex.Merge(n.render_options,{glyph_font_scale:t.glyph_font_scale||s.Flow.DEFAULT_NOTATION_FONT_SCALE,stroke_px:3}),n.setWidth(n.glyph.getWidth(n.render_options.glyph_font_scale)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Note),r(e,null,[{key:"CATEGORY",get:function(){return"notehead"}}]),r(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getWidth",value:function(){return this.width}},{key:"isDisplaced",value:function(){return!0===this.displaced}},{key:"getGlyph",value:function(){return this.glyph}},{key:"setX",value:function(t){return this.x=t,this}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(t){return this.y=t,this}},{key:"getLine",value:function(){return this.line}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"getAbsoluteX",value:function(){var t=this.preFormatted?function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAbsoluteX",this).call(this):this.x,n=c.Stem.WIDTH/2;return t+(this.displaced?(this.width-n)*this.stem_direction:0)}},{key:"getBoundingBox",value:function(){if(!this.preFormatted)throw new o.Vex.RERR("UnformattedNote","Can't call getBoundingBox on an unformatted note.");var t=this.stave.getSpacingBetweenLines(),e=t/2,n=this.y-e;return new s.Flow.BoundingBox(this.getAbsoluteX(),n,this.width,t)}},{key:"setStave",value:function(t){var e=this.getLine();return this.stave=t,this.setY(t.getYForNote(e)),this.context=this.stave.context,this}},{key:"preFormat",value:function(){if(this.preFormatted)return this;var t=this.getWidth()+this.extraLeftPx+this.extraRightPx;return this.setWidth(t),this.setPreFormatted(!0),this}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.context,e=this.getAbsoluteX(),n=this.y;i("Drawing note head '",this.note_type,this.duration,"' at",e,n);var r=this.stem_direction,o=this.render_options.glyph_font_scale;if("s"===this.note_type){var a=this.stave.getSpacingBetweenLines();!function(t,e,n,i,r,o){var a=s.Flow.SLASH_NOTEHEAD_WIDTH;t.save(),t.setLineWidth(s.Flow.STEM_WIDTH);var c=!1;if(s.Flow.durationToNumber(e)>2&&(c=!0),c||(n-=s.Flow.STEM_WIDTH/2*r),t.beginPath(),t.moveTo(n,i+o),t.lineTo(n,i+1),t.lineTo(n+a,i-o),t.lineTo(n+a,i),t.lineTo(n,i+o),t.closePath(),c?t.fill():t.stroke(),s.Flow.durationToFraction(e).equals(.5))for(var u=[-3,-1,a+1,a+3],l=0;l<u.length;l++)t.beginPath(),t.moveTo(n+u[l],i-10),t.lineTo(n+u[l],i+11),t.stroke();t.restore()}(t,this.duration,e,n,r,a)}else this.style?(this.applyStyle(t),l.Glyph.renderGlyph(t,e,n,o,this.glyph_code),this.restoreStyle(t)):l.Glyph.renderGlyph(t,e,n,o,this.glyph_code)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(2),a=n(23);e.Note=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.setAttribute("type","Note"),!t)throw new o.Vex.RuntimeError("BadArguments","Note must have valid initialization data to identify duration and type.");var r=s.Flow.parseNoteData(t);if(!r)throw new o.Vex.RuntimeError("BadArguments","Invalid note initialization object: "+JSON.stringify(t));if(n.duration=r.duration,n.dots=r.dots,n.noteType=r.type,t.duration_override?n.setDuration(t.duration_override):n.setIntrinsicTicks(r.ticks),n.modifiers=[],n.glyph=s.Flow.durationToGlyph(n.duration,n.noteType),n.positions&&("object"!==i(n.positions)||!n.positions.length))throw new o.Vex.RuntimeError("BadArguments","Note keys must be array type.");return n.playNote=null,n.tickContext=null,n.modifierContext=null,n.ignore_ticks=!1,n.width=0,n.extraLeftPx=0,n.extraRightPx=0,n.x_shift=0,n.left_modPx=0,n.right_modPx=0,n.voice=null,n.preFormatted=!1,n.ys=[],t.align_center&&n.setCenterAlignment(t.align_center),n.stave=null,n.render_options={annotation_spacing:5,stave_padding:e.STAVEPADDING},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Tickable),r(e,null,[{key:"plotMetrics",value:function(t,e,n){function i(n,i,r){var o=arguments.length<=3||void 0===arguments[3]?p:arguments[3];t.beginPath(),t.setStrokeStyle(r),t.setFillStyle(r),t.setLineWidth(3),t.moveTo(n+e.getXShift(),o),t.lineTo(i+e.getXShift(),o),t.stroke()}var r=e.getMetrics(),s=e.getAbsoluteX()-r.modLeftPx-r.extraLeftPx,a=e.getAbsoluteX()-r.extraLeftPx,c=e.getAbsoluteX(),u=e.getAbsoluteX()+r.noteWidth,l=e.getAbsoluteX()+r.noteWidth+r.extraRightPx,h=e.getAbsoluteX()+r.noteWidth+r.extraRightPx+r.modRightPx,f=h+e.getFormatterMetrics().freedom.right,d=h-s;t.save(),t.setFont("Arial",8,""),t.fillText(Math.round(d)+"px",s+e.getXShift(),n);var p=n+7;i(s,a,"red"),i(a,c,"#999"),i(c,u,"green"),i(u,l,"#999"),i(l,h,"red"),i(h,f,"#DD0"),i(s-e.getXShift(),s,"#BBB"),o.Vex.drawDot(t,c+e.getXShift(),p,"blue");var m=e.getFormatterMetrics();if(m.iterations>0){var b=m.space.deviation,g=b>=0?"+":"";t.setFillStyle("red"),t.fillText(g+Math.round(b),c+e.getXShift(),n-10)}t.restore()}},{key:"CATEGORY",get:function(){return"note"}},{key:"STAVEPADDING",get:function(){return 12}}]),r(e,[{key:"getPlayNote",value:function(){return this.playNote}},{key:"setPlayNote",value:function(t){return this.playNote=t,this}},{key:"isRest",value:function(){return!1}},{key:"addStroke",value:function(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}},{key:"getStave",value:function(){return this.stave}},{key:"setStave",value:function(t){return this.stave=t,this.setYs([t.getYForLine(0)]),this.context=this.stave.context,this}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setContext",value:function(t){return this.context=t,this}},{key:"getExtraLeftPx",value:function(){return this.extraLeftPx}},{key:"getExtraRightPx",value:function(){return this.extraRightPx}},{key:"setExtraLeftPx",value:function(t){return this.extraLeftPx=t,this}},{key:"setExtraRightPx",value:function(t){return this.extraRightPx=t,this}},{key:"shouldIgnoreTicks",value:function(){return this.ignore_ticks}},{key:"getLineNumber",value:function(){return 0}},{key:"getLineForRest",value:function(){return 0}},{key:"getGlyph",value:function(){return this.glyph}},{key:"getGlyphWidth",value:function(){return this.glyph.getWidth(this.render_options.glyph_font_scale)}},{key:"setYs",value:function(t){return this.ys=t,this}},{key:"getYs",value:function(){if(0===this.ys.length)throw new o.Vex.RERR("NoYValues","No Y-values calculated for this note.");return this.ys}},{key:"getYForTopText",value:function(t){if(!this.stave)throw new o.Vex.RERR("NoStave","No stave attached to this note.");return this.stave.getYForTopText(t)}},{key:"getBoundingBox",value:function(){return null}},{key:"getVoice",value:function(){if(!this.voice)throw new o.Vex.RERR("NoVoice","Note has no voice.");return this.voice}},{key:"setVoice",value:function(t){return this.voice=t,this.preFormatted=!1,this}},{key:"getTickContext",value:function(){return this.tickContext}},{key:"setTickContext",value:function(t){return this.tickContext=t,this.preFormatted=!1,this}},{key:"getDuration",value:function(){return this.duration}},{key:"isDotted",value:function(){return this.dots>0}},{key:"hasStem",value:function(){return!1}},{key:"getDots",value:function(){return this.dots}},{key:"getNoteType",value:function(){return this.noteType}},{key:"setBeam",value:function(){return this}},{key:"setModifierContext",value:function(t){return this.modifierContext=t,this}},{key:"addModifier",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t.setNote(this),t.setIndex(e),this.modifiers.push(t),this.setPreFormatted(!1),this}},{key:"getModifierStartXY",value:function(){if(!this.preFormatted)throw new o.Vex.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");return{x:this.getAbsoluteX(),y:this.ys[0]}}},{key:"getMetrics",value:function(){if(!this.preFormatted)throw new o.Vex.RERR("UnformattedNote","Can't call getMetrics on an unformatted note.");var t=0,e=0;null!=this.modifierContext&&(t=this.modifierContext.state.left_shift,e=this.modifierContext.state.right_shift);var n=this.getWidth();return{width:n,noteWidth:n-t-e-this.extraLeftPx-this.extraRightPx,left_shift:this.x_shift,modLeftPx:t,modRightPx:e,extraLeftPx:this.extraLeftPx,extraRightPx:this.extraRightPx}}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){if(!this.preFormatted)throw new o.Vex.RERR("UnformattedNote","Can't call GetWidth on an unformatted note.");return this.width+(this.modifierContext?this.modifierContext.getWidth():0)}},{key:"setXShift",value:function(t){return this.x_shift=t,this}},{key:"getXShift",value:function(){return this.x_shift}},{key:"getX",value:function(){if(!this.tickContext)throw new o.Vex.RERR("NoTickContext","Note needs a TickContext assigned for an X-Value");return this.tickContext.getX()+this.x_shift}},{key:"getAbsoluteX",value:function(){if(!this.tickContext)throw new o.Vex.RERR("NoTickContext","Note needs a TickContext assigned for an X-Value");var t=this.tickContext.getX();return this.stave&&(t+=this.stave.getNoteStartX()+this.render_options.stave_padding),this.isCenterAligned()&&(t+=this.getCenterXShift()),t}},{key:"setPreFormatted",value:function(t){if(this.preFormatted=t,this.preFormatted){var e=this.tickContext.getExtraPx();this.left_modPx=Math.max(this.left_modPx,e.left),this.right_modPx=Math.max(this.right_modPx,e.right)}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tickable=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5),s=n(2),a=n(3);e.Tickable=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setAttribute("type","Tickable"),t.ticks=new a.Fraction(0,1),t.intrinsicTicks=0,t.tickMultiplier=new a.Fraction(1,1),t.width=0,t.x_shift=0,t.voice=null,t.tickContext=null,t.modifierContext=null,t.modifiers=[],t.preFormatted=!1,t.postFormatted=!1,t.tuplet=null,t.tupletStack=[],t.align_center=!1,t.center_x_shift=0,t.ignore_ticks=!1,t.formatterMetrics={freedom:{left:0,right:0},duration:"",iterations:0,space:{used:0,mean:0,deviation:0}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Element),i(e,[{key:"reset",value:function(){return this}},{key:"getTicks",value:function(){return this.ticks}},{key:"shouldIgnoreTicks",value:function(){return this.ignore_ticks}},{key:"getWidth",value:function(){return this.width}},{key:"getFormatterMetrics",value:function(){return this.formatterMetrics}},{key:"setXShift",value:function(t){this.x_shift=t}},{key:"getCenterXShift",value:function(){return this.isCenterAligned()?this.center_x_shift:0}},{key:"isCenterAligned",value:function(){return this.align_center}},{key:"setCenterAlignment",value:function(t){return this.align_center=t,this}},{key:"getVoice",value:function(){if(!this.voice)throw new r.Vex.RERR("NoVoice","Tickable has no voice.");return this.voice}},{key:"setVoice",value:function(t){this.voice=t}},{key:"getTuplet",value:function(){return this.tuplet}},{key:"resetTuplet",value:function(t){var e=void 0,n=void 0;if(t){var i=this.tupletStack.indexOf(t);return-1!==i&&(this.tupletStack.splice(i,1),e=t.getNoteCount(),n=t.getNotesOccupied(),this.applyTickMultiplier(e,n)),this}for(;this.tupletStack.length;)e=(t=this.tupletStack.pop()).getNoteCount(),n=t.getNotesOccupied(),this.applyTickMultiplier(e,n);return this}},{key:"setTuplet",value:function(t){if(t){this.tupletStack.push(t);var e=t.getNoteCount(),n=t.getNotesOccupied();this.applyTickMultiplier(n,e)}return this.tuplet=t,this}},{key:"addToModifierContext",value:function(t){this.modifierContext=t,this.preFormatted=!1}},{key:"addModifier",value:function(t){return this.modifiers.push(t),this.preFormatted=!1,this}},{key:"getModifiers",value:function(){return this.modifiers}},{key:"setTickContext",value:function(t){this.tickContext=t,this.preFormatted=!1}},{key:"preFormat",value:function(){this.preFormatted||(this.width=0,this.modifierContext&&(this.modifierContext.preFormat(),this.width+=this.modifierContext.getWidth()))}},{key:"postFormat",value:function(){return this.postFormatted?this:(this.postFormatted=!0,this)}},{key:"getIntrinsicTicks",value:function(){return this.intrinsicTicks}},{key:"setIntrinsicTicks",value:function(t){this.intrinsicTicks=t,this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}},{key:"getTickMultiplier",value:function(){return this.tickMultiplier}},{key:"applyTickMultiplier",value:function(t,e){this.tickMultiplier.multiply(t,e),this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}},{key:"setDuration",value:function(t){var e=t.numerator*(s.Flow.RESOLUTION/t.denominator);this.ticks=this.tickMultiplier.clone().multiply(e),this.intrinsicTicks=this.ticks.value()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StemmableNote=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(2),s=n(17),a=n(4),c=n(22);e.StemmableNote=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setAttribute("type","StemmableNote"),n.stem=null,n.stemExtensionOverride=null,n.beam=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.Note),i(e,[{key:"getStem",value:function(){return this.stem}},{key:"setStem",value:function(t){return this.stem=t,this}},{key:"buildStem",value:function(){var t=new s.Stem;return this.setStem(t),this}},{key:"buildFlag",value:function(){var t=this.glyph,e=null===this.beam;if(t&&t.flag&&e){var n=this.getStemDirection()===s.Stem.DOWN?t.code_flag_downstem:t.code_flag_upstem;this.flag=new a.Glyph(n,this.render_options.glyph_font_scale)}}},{key:"getStemLength",value:function(){return s.Stem.HEIGHT+this.getStemExtension()}},{key:"getBeamCount",value:function(){var t=this.getGlyph();return t?t.beam_count:0}},{key:"getStemMinumumLength",value:function(){var t=o.Flow.durationToFraction(this.duration).value()<=1?0:20;switch(this.duration){case"8":null==this.beam&&(t=35);break;case"16":t=null==this.beam?35:25;break;case"32":t=null==this.beam?45:35;break;case"64":t=null==this.beam?50:40;break;case"128":t=null==this.beam?55:45}return t}},{key:"getStemDirection",value:function(){return this.stem_direction}},{key:"setStemDirection",value:function(t){if(t||(t=s.Stem.UP),t!==s.Stem.UP&&t!==s.Stem.DOWN)throw new r.Vex.RERR("BadArgument","Invalid stem direction: "+t);return this.stem_direction=t,this.stem&&(this.stem.setDirection(t),this.stem.setExtension(this.getStemExtension())),this.reset(),this.flag&&this.buildFlag(),this.beam=null,this.preFormatted&&this.preFormat(),this}},{key:"getStemX",value:function(){var t=this.getAbsoluteX()+this.x_shift,e=this.getAbsoluteX()+this.x_shift+this.getGlyphWidth();return this.stem_direction===s.Stem.DOWN?t:e}},{key:"getCenterGlyphX",value:function(){return this.getAbsoluteX()+this.x_shift+this.getGlyphWidth()/2}},{key:"getStemExtension",value:function(){var t=this.getGlyph();return null!=this.stemExtensionOverride?this.stemExtensionOverride:t?1===this.getStemDirection()?t.stem_up_extension:t.stem_down_extension:0}},{key:"setStemLength",value:function(t){return this.stemExtensionOverride=t-s.Stem.HEIGHT,this}},{key:"getStemExtents",value:function(){return this.stem.getExtents()}},{key:"setBeam",value:function(t){return this.beam=t,this}},{key:"getYForTopText",value:function(t){var e=this.getStemExtents();return this.hasStem()?Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1)):this.stave.getYForTopText(t)}},{key:"getYForBottomText",value:function(t){var e=this.getStemExtents();return this.hasStem()?Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t):this.stave.getYForBottomText(t)}},{key:"hasFlag",value:function(){return o.Flow.durationToGlyph(this.duration).flag&&!this.beam}},{key:"postFormat",value:function(){return this.beam&&this.beam.postFormat(),this.postFormatted=!0,this}},{key:"drawStem",value:function(t){this.checkContext(),this.setRendered(),this.setStem(new s.Stem(t)),this.stem.setContext(this.context).draw()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Modifier=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5);e.Modifier=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setAttribute("type","Modifier"),t.width=0,t.note=null,t.index=null,t.text_line=0,t.position=e.Position.LEFT,t.modifier_context=null,t.x_shift=0,t.y_shift=0,t.spacingFromNextModifier=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Element),i(e,null,[{key:"CATEGORY",get:function(){return"none"}},{key:"Position",get:function(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4}}},{key:"PositionString",get:function(){return{above:e.Position.ABOVE,below:e.Position.BELOW,left:e.Position.LEFT,right:e.Position.RIGHT}}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getWidth",value:function(){return this.width}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"getNote",value:function(){return this.note}},{key:"setNote",value:function(t){return this.note=t,this}},{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return this.index=t,this}},{key:"getModifierContext",value:function(){return this.modifier_context}},{key:"setModifierContext",value:function(t){return this.modifier_context=t,this}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position="string"==typeof t?e.PositionString[t]:t,this}},{key:"setTextLine",value:function(t){return this.text_line=t,this}},{key:"setYShift",value:function(t){return this.y_shift=t,this}},{key:"setSpacingFromNextModifier",value:function(t){this.spacingFromNextModifier=t}},{key:"getSpacingFromNextModifier",value:function(){return this.spacingFromNextModifier}},{key:"setXShift",value:function(t){this.x_shift=0,this.position===e.Position.LEFT?this.x_shift-=t:this.x_shift+=t}},{key:"getXShift",value:function(){return this.x_shift}},{key:"draw",value:function(){throw this.checkContext(),new r.Vex.RERR("MethodNotImplemented","draw() not implemented for this modifier.")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dot=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(25);e.Dot=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setAttribute("type","Dot"),t.note=null,t.index=null,t.position=o.Modifier.Position.RIGHT,t.radius=2,t.setWidth(5),t.dot_shiftY=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Modifier),i(e,null,[{key:"format",value:function(t,e){var n=e.right_shift;if(!t||0===t.length)return!1;for(var i=[],r=0;r<t.length;++r){var o=t[r],s=o.getNote(),a=void 0,c=void 0;"function"==typeof s.getKeyProps?c=(a=s.getKeyProps()[o.getIndex()]).displaced?s.getExtraRightPx():0:(a={line:.5},c=0),i.push({line:a.line,shift:c,note:s,dot:o})}i.sort(function(t,e){return e.line-t.line});for(var u=n,l=0,h=null,f=null,d=null,p=0,m=0;m<i.length;++m){var b=i[m],g=b.dot,v=b.note,y=b.shift,_=b.line;_===h&&v===f||(u=y),v.isRest()||_===h||(.5===Math.abs(_%1)?p=0:v.isRest()||(p=.5,null==f||f.isRest()||h-_!=.5?_+p===d&&(p=-.5):p=-.5)),g.dot_shiftY=-p,d=_+p,g.setXShift(u),l=(u+=g.getWidth()+1)>l?u:l,h=_,f=v}return e.right_shift+=l,!0}},{key:"CATEGORY",get:function(){return"dots"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setNote",value:function(t){this.note=t,"gracenotes"===this.note.getCategory()&&(this.radius*=.5,this.setWidth(3))}},{key:"setDotShiftY",value:function(t){return this.dot_shiftY=t,this}},{key:"draw",value:function(){if(this.checkContext(),this.setRendered(),!this.note||null===this.index)throw new r.Vex.RERR("NoAttachedNote","Can't draw dot without a note and index.");var t=this.note.stave.options.spacing_between_lines_px,e=this.note.getModifierStartXY(this.position,this.index);"tabnotes"===this.note.getCategory()&&(e.y=this.note.getStemExtents().baseY);var n=e.x+this.x_shift+this.width-this.radius,i=e.y+this.y_shift+this.dot_shiftY*t,o=this.context;o.beginPath(),o.arc(n,i,this.radius,0,2*Math.PI,!1),o.fill()}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];y.DEBUG&&o.Vex.L("Vex.Flow.ModifierContext",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ModifierContext=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(20),a=n(26),c=n(28),u=n(29),l=n(31),h=n(32),f=n(35),d=n(36),p=n(37),m=n(38),b=n(40),g=n(41),v=n(42),y=e.ModifierContext=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modifiers={},this.preFormatted=!1,this.postFormatted=!1,this.width=0,this.spacing=0,this.state={left_shift:0,right_shift:0,text_line:0,top_text_line:0},this.PREFORMAT=[s.StaveNote,a.Dot,c.FretHandFinger,u.Accidental,h.GraceNoteGroup,l.NoteSubGroup,f.Stroke,d.StringNumber,p.Articulation,m.Ornament,b.Annotation,g.Bend,v.Vibrato],this.POSTFORMAT=[s.StaveNote]}return r(t,[{key:"addModifier",value:function(t){var e=t.getCategory();return this.modifiers[e]||(this.modifiers[e]=[]),this.modifiers[e].push(t),t.setModifierContext(this),this.preFormatted=!1,this}},{key:"getModifiers",value:function(t){return this.modifiers[t]}},{key:"getWidth",value:function(){return this.width}},{key:"getExtraLeftPx",value:function(){return this.state.left_shift}},{key:"getExtraRightPx",value:function(){return this.state.right_shift}},{key:"getState",value:function(){return this.state}},{key:"getMetrics",value:function(){if(!this.formatted)throw new o.Vex.RERR("UnformattedModifier","Unformatted modifier has no metrics.");return{width:this.state.left_shift+this.state.right_shift+this.spacing,spacing:this.spacing,extra_left_px:this.state.left_shift,extra_right_px:this.state.right_shift}}},{key:"preFormat",value:function(){var t=this;this.preFormatted||(this.PREFORMAT.forEach(function(e){i("Preformatting ModifierContext: ",e.CATEGORY),e.format(t.getModifiers(e.CATEGORY),t.state,t)}),this.width=this.state.left_shift+this.state.right_shift,this.preFormatted=!0)}},{key:"postFormat",value:function(){var t=this;this.postFormatted||this.POSTFORMAT.forEach(function(e){i("Postformatting ModifierContext: ",e.CATEGORY),e.postFormat(t.getModifiers(e.CATEGORY),t)})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FretHandFinger=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(25);e.FretHandFinger=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","FretHandFinger"),n.note=null,n.index=null,n.finger=t,n.width=7,n.position=o.Modifier.Position.LEFT,n.x_shift=0,n.y_shift=0,n.x_offset=0,n.y_offset=0,n.font={family:"sans-serif",size:9,weight:"bold"},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Modifier),i(e,null,[{key:"format",value:function(t,e){var n=e.left_shift,i=e.right_shift;if(!t||0===t.length)return!1;for(var r=[],s=null,a=0,c=0,u=0;u<t.length;++u){var l=t[u],h=l.getNote(),f=l.getPosition(),d=h.getKeyProps()[l.getIndex()];if(h!==s){for(var p=0;p<h.keys.length;++p){var m=h.getKeyProps()[p];0===n&&(a=m.displaced?h.getExtraLeftPx():a),0===i&&(c=m.displaced?h.getExtraRightPx():c)}s=h}r.push({note:h,num:l,pos:f,line:d.line,shiftL:a,shiftR:c})}r.sort(function(t,e){return e.line-t.line});for(var b=0,g=0,v=0,y=0,_=null,x=null,w=0;w<r.length;++w){var S=0,E=r[w],T=E.note,k=E.pos,P=E.num,M=E.line,C=E.shiftL,O=E.shiftR;M===_&&T===x||(b=n+C,g=i+O);var A=P.getWidth()+1;k===o.Modifier.Position.LEFT?(P.setXShift(n+b),v=(S=n+A)>v?S:v):k===o.Modifier.Position.RIGHT&&(P.setXShift(g),y=(S=c+A)>y?S:y),_=M,x=T}return e.left_shift+=v,e.right_shift+=y,!0}},{key:"CATEGORY",get:function(){return"frethandfinger"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setFretHandFinger",value:function(t){return this.finger=t,this}},{key:"setOffsetX",value:function(t){return this.x_offset=t,this}},{key:"setOffsetY",value:function(t){return this.y_offset=t,this}},{key:"draw",value:function(){if(this.checkContext(),!this.note||null==this.index)throw new r.Vex.RERR("NoAttachedNote","Can't draw string number without a note and index.");this.setRendered();var t=this.context,e=this.note.getModifierStartXY(this.position,this.index),n=e.x+this.x_shift+this.x_offset,i=e.y+this.y_shift+this.y_offset+5;switch(this.position){case o.Modifier.Position.ABOVE:n-=4,i-=12;break;case o.Modifier.Position.BELOW:n-=2,i+=10;break;case o.Modifier.Position.LEFT:n-=this.width;break;case o.Modifier.Position.RIGHT:n+=1;break;default:throw new r.Vex.RERR("InvalidPostion","The position "+this.position+" does not exist")}t.save(),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(""+this.finger,n,i),t.restore()}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];d.DEBUG&&s.Vex.L("Vex.Flow.Accidental",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Accidental=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(3),c=n(2),u=n(30),l=n(25),h=n(4),f=function(t){return t.getMetrics().width},d=e.Accidental=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.setAttribute("type","Accidental"),i("New accidental: ",t),n.note=null,n.index=null,n.type=t,n.position=l.Modifier.Position.LEFT,n.render_options={font_scale:38,stroke_px:3,parenLeftPadding:2,parenRightPadding:2},n.accidental=c.Flow.accidentalCodes(n.type),!n.accidental)throw new s.Vex.RERR("ArgumentError","Unknown accidental type: "+t);return n.cautionary=!1,n.parenLeft=null,n.parenRight=null,n.reset(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.Modifier),o(e,null,[{key:"format",value:function(t,e){var n=this,o=e.left_shift+1;if(t&&0!==t.length){for(var s=[],a=null,u=0,l=0;l<t.length;++l){var h=t[l],f=h.getNote(),d=f.getStave(),p=f.getKeyProps()[h.getIndex()];if(f!==a){for(var m=0;m<f.keys.length;++m)u=f.getKeyProps()[m].displaced?f.getExtraLeftPx():u;a=f}if(null!==d){var b=d.options.spacing_between_lines_px,g=d.getYForLine(p.line),v=Math.round(g/b*2)/2;s.push({y:g,line:v,shift:u,acc:h,lineSpace:b})}else s.push({line:p.line,shift:u,acc:h})}s.sort(function(t,e){return e.line-t.line});for(var y=[],_=0,x=null,w=0;w<s.length;w++){var S=s[w];null!==x&&x===S.line||y.push({line:S.line,flatLine:!0,dblSharpLine:!0,numAcc:0,width:0}),"b"!==S.acc.type&&"bb"!==S.acc.type&&(y[y.length-1].flatLine=!1),"##"!==S.acc.type&&(y[y.length-1].dblSharpLine=!1),y[y.length-1].numAcc++,y[y.length-1].width+=S.acc.getWidth()+3,_=S.shift>_?S.shift:_,x=S.line}for(var E=0,T=0;T<y.length;T++)!function(t){for(var e=!1,i=t,o=t;o+1<y.length&&!e;)n.checkCollision(y[o],y[o+1])?o++:e=!0;var s=function(t){return y[i+t]},a=function(t){return t.map(s)},u=function(t,e){var n=a([t,e]).map(function(t){return t.line}),i=r(n,2);return i[0]-i[1]},l=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.map(a).every(function(t){return!n.checkCollision.apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))})},h=o-i+1,f=n.checkCollision(y[i],y[o])?"a":"b";switch(h){case 3:"a"===f&&.5===u(1,2)&&.5!==u(0,1)&&(f="second_on_bottom");break;case 4:l([0,2],[1,3])&&(f="spaced_out_tetrachord");break;case 5:"b"===f&&l([1,3])&&(f="spaced_out_pentachord",l([0,2],[2,4])&&(f="very_spaced_out_pentachord"));break;case 6:l([0,3],[1,4],[2,5])&&(f="spaced_out_hexachord"),l([0,2],[2,4],[1,3],[3,5])&&(f="very_spaced_out_hexachord")}var d=void 0,p=void 0;if(h>=7){for(var m=2,b=!0;!0===b;){b=!1;for(var g=0;g+m<y.length;g++)if(n.checkCollision(y[g],y[g+m])){b=!0,m++;break}}for(d=t;d<=o;d++)p=(d-t)%m+1,y[d].column=p,E=E>p?E:p}else for(d=t;d<=o;d++)p=c.Flow.accidentalColumnsTable[h][f][d-t],y[d].column=p,E=E>p?E:p;T=t=o}(T);for(var k=[],P=[],M=0;M<=E;M++)k[M]=0,P[M]=0;k[0]=_+o,P[0]=_+o,y.forEach(function(t){t.width>k[t.column]&&(k[t.column]=t.width)});for(var C=1;C<k.length;C++)P[C]=k[C]+P[C-1];var O=P[P.length-1],A=0;y.forEach(function(t){for(var e=0,n=A+t.numAcc;A<n;A++){var r=P[t.column-1]+e;s[A].acc.setXShift(r),e+=s[A].acc.getWidth()+3,i("Line, accCount, shift: ",t.line,A,r)}}),e.left_shift+=O}}},{key:"checkCollision",value:function(t,e){var n=e.line-t.line,r=3;n>0?(r=e.flatLine||e.dblSharpLine?2.5:3,t.dblSharpLine&&(n-=.5)):(r=t.flatLine||t.dblSharpLine?2.5:3,e.dblSharpLine&&(n-=.5));var o=Math.abs(n)<r;return i("Line_1, Line_2, Collision: ",t.line,e.line,o),o}},{key:"applyAccidentals",value:function(t,n){var i=[],r={};t.forEach(function(t){var e=new a.Fraction(0,1);t.getTickables().forEach(function(t){if(!t.shouldIgnoreTicks()){var n=r[e.value()];n?n.push(t):(i.push(e.value()),r[e.value()]=[t]),e.add(t.getTicks())}})});var o=new u.Music;n||(n="C");var s=o.createScaleMap(n);i.forEach(function(t){var n=[];r[t].forEach(function t(i){i.isRest()||i.shouldIgnoreTicks()||(i.keys.forEach(function(t,r){var a=o.getNoteParts(t.split("/")[0]),c=a.accidental||"n",u=a.root+c,l=s[a.root]===u,h=n.indexOf(u)>-1;if(!l||l&&h){s[a.root]=u;var f=new e(c);i.addAccidental(r,f),n.push(u)}}),i.getModifiers().forEach(function(e){"gracenotegroups"===e.getCategory()&&e.getGraceNotes().forEach(t)}))})})}},{key:"CATEGORY",get:function(){return"accidentals"}}]),o(e,[{key:"reset",value:function(){var t=this.render_options.font_scale;this.glyph=new h.Glyph(this.accidental.code,t),this.glyph.setOriginX(1),this.cautionary&&(this.parenLeft=new h.Glyph(c.Flow.accidentalCodes("{").code,t),this.parenRight=new h.Glyph(c.Flow.accidentalCodes("}").code,t),this.parenLeft.setOriginX(1),this.parenRight.setOriginX(1))}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getWidth",value:function(){var t=this.cautionary?f(this.parenLeft)+f(this.parenRight)+this.render_options.parenLeftPadding+this.render_options.parenRightPadding:0;return f(this.glyph)+t}},{key:"setNote",value:function(t){if(!t)throw new s.Vex.RERR("ArgumentError","Bad note value: "+t);this.note=t,"gracenotes"===this.note.getCategory()&&(this.render_options.font_scale=25,this.reset())}},{key:"setAsCautionary",value:function(){return this.cautionary=!0,this.render_options.font_scale=28,this.reset(),this}},{key:"draw",value:function(){var t=this.context,e=this.type,n=this.position,r=this.note,o=this.index,a=this.cautionary,c=this.x_shift,u=this.y_shift,l=this.glyph,h=this.parenLeft,d=this.parenRight,p=this.render_options,m=p.parenLeftPadding,b=p.parenRightPadding;if(this.checkContext(),!r||null==o)throw new s.Vex.RERR("NoAttachedNote","Can't draw accidental without a note and index.");var g=r.getModifierStartXY(n,o),v=g.x+c,y=g.y+u;i("Rendering: ",e,v,y),a?(d.render(t,v,y),v-=f(d),v-=b,v-=this.accidental.parenRightPaddingAdjustment,l.render(t,v,y),v-=f(l),v-=m,h.render(t,v,y)):l.render(t,v,y),this.setRendered()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Music=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1);e.Music=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"isValidNoteValue",value:function(e){return!(null==e||e<0||e>=t.NUM_TONES)}},{key:"isValidIntervalValue",value:function(t){return this.isValidNoteValue(t)}},{key:"getNoteParts",value:function(t){if(!t||t.length<1)throw new r.Vex.RERR("BadArguments","Invalid note name: "+t);if(t.length>3)throw new r.Vex.RERR("BadArguments","Invalid note name: "+t);var e=t.toLowerCase(),n=/^([cdefgab])(b|bb|n|#|##)?$/.exec(e);if(null!=n)return{root:n[1],accidental:n[2]};throw new r.Vex.RERR("BadArguments","Invalid note name: "+t)}},{key:"getKeyParts",value:function(t){if(!t||t.length<1)throw new r.Vex.RERR("BadArguments","Invalid key: "+t);var e=t.toLowerCase(),n=/^([cdefgab])(b|#)?(mel|harm|m|M)?$/.exec(e);if(null!=n){var i=n[1],o=n[2],s=n[3];return s||(s="M"),{root:i,accidental:o,type:s}}throw new r.Vex.RERR("BadArguments","Invalid key: "+t)}},{key:"getNoteValue",value:function(e){var n=t.noteValues[e];if(null==n)throw new r.Vex.RERR("BadArguments","Invalid note name: "+e);return n.int_val}},{key:"getIntervalValue",value:function(e){var n=t.intervals[e];if(null==n)throw new r.Vex.RERR("BadArguments","Invalid interval name: ${intervalString}");return n}},{key:"getCanonicalNoteName",value:function(e){if(!this.isValidNoteValue(e))throw new r.Vex.RERR("BadArguments","Invalid note value: "+e);return t.canonical_notes[e]}},{key:"getCanonicalIntervalName",value:function(e){if(!this.isValidIntervalValue(e))throw new r.Vex.RERR("BadArguments","Invalid interval value: "+e);return t.diatonic_intervals[e]}},{key:"getRelativeNoteValue",value:function(e,n,i){if(null==i&&(i=1),1!==i&&-1!==i)throw new r.Vex.RERR("BadArguments","Invalid direction: "+i);var o=(e+i*n)%t.NUM_TONES;return o<0&&(o+=t.NUM_TONES),o}},{key:"getRelativeNoteName",value:function(e,n){var i=this.getNoteParts(e),o=this.getNoteValue(i.root),s=n-o;if(Math.abs(s)>t.NUM_TONES-3){var a=1;s>0&&(a=-1);var c=(n+1+(o+1))%t.NUM_TONES*a;if(Math.abs(c)>2)throw new r.Vex.RERR("BadArguments","Notes not related: "+e+", "+n+")");s=c}if(Math.abs(s)>2)throw new r.Vex.RERR("BadArguments","Notes not related: "+e+", "+n+")");var u=i.root;if(s>0)for(var l=1;l<=s;++l)u+="#";else if(s<0)for(var h=-1;h>=s;--h)u+="b";return u}},{key:"getScaleTones",value:function(t,e){for(var n=[t],i=t,r=0;r<e.length;r+=1)(i=this.getRelativeNoteValue(i,e[r]))!==t&&n.push(i);return n}},{key:"getIntervalBetween",value:function(e,n,i){if(null==i&&(i=1),1!==i&&-1!==i)throw new r.Vex.RERR("BadArguments","Invalid direction: "+i);if(!this.isValidNoteValue(e)||!this.isValidNoteValue(n))throw new r.Vex.RERR("BadArguments","Invalid notes: "+e+", "+n);var o=1===i?n-e:e-n;return o<0&&(o+=t.NUM_TONES),o}},{key:"createScaleMap",value:function(e){var n=this.getKeyParts(e),i=t.scaleTypes[n.type],o=n.root;if(n.accidental&&(o+=n.accidental),!i)throw new r.Vex.RERR("BadArguments","Unsupported key type: "+e);for(var s=this.getScaleTones(this.getNoteValue(o),i),a=t.root_indices[n.root],c={},u=0;u<t.roots.length;++u){var l=(a+u)%t.roots.length,h=t.roots[l],f=this.getRelativeNoteName(h,s[u]);1===f.length&&(f+="n"),c[h]=f}return c}}],[{key:"NUM_TONES",get:function(){return 12}},{key:"roots",get:function(){return["c","d","e","f","g","a","b"]}},{key:"root_values",get:function(){return[0,2,4,5,7,9,11]}},{key:"root_indices",get:function(){return{c:0,d:1,e:2,f:3,g:4,a:5,b:6}}},{key:"canonical_notes",get:function(){return["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"]}},{key:"diatonic_intervals",get:function(){return["unison","m2","M2","m3","M3","p4","dim5","p5","m6","M6","b7","M7","octave"]}},{key:"diatonic_accidentals",get:function(){return{unison:{note:0,accidental:0},m2:{note:1,accidental:-1},M2:{note:1,accidental:0},m3:{note:2,accidental:-1},M3:{note:2,accidental:0},p4:{note:3,accidental:0},dim5:{note:4,accidental:-1},p5:{note:4,accidental:0},m6:{note:5,accidental:-1},M6:{note:5,accidental:0},b7:{note:6,accidental:-1},M7:{note:6,accidental:0},octave:{note:7,accidental:0}}}},{key:"intervals",get:function(){return{u:0,unison:0,m2:1,b2:1,min2:1,S:1,H:1,2:2,M2:2,maj2:2,T:2,W:2,m3:3,b3:3,min3:3,M3:4,3:4,maj3:4,4:5,p4:5,"#4":6,b5:6,aug4:6,dim5:6,5:7,p5:7,"#5":8,b6:8,aug5:8,6:9,M6:9,maj6:9,b7:10,m7:10,min7:10,dom7:10,M7:11,maj7:11,8:12,octave:12}}},{key:"scales",get:function(){return{major:[2,2,1,2,2,2,1],dorian:[2,1,2,2,2,1,2],mixolydian:[2,2,1,2,2,1,2],minor:[2,1,2,2,1,2,2]}}},{key:"scaleTypes",get:function(){return{M:t.scales.major,m:t.scales.minor}}},{key:"accidentals",get:function(){return["bb","b","n","#","##"]}},{key:"noteValues",get:function(){return{c:{root_index:0,int_val:0},cn:{root_index:0,int_val:0},"c#":{root_index:0,int_val:1},"c##":{root_index:0,int_val:2},cb:{root_index:0,int_val:11},cbb:{root_index:0,int_val:10},d:{root_index:1,int_val:2},dn:{root_index:1,int_val:2},"d#":{root_index:1,int_val:3},"d##":{root_index:1,int_val:4},db:{root_index:1,int_val:1},dbb:{root_index:1,int_val:0},e:{root_index:2,int_val:4},en:{root_index:2,int_val:4},"e#":{root_index:2,int_val:5},"e##":{root_index:2,int_val:6},eb:{root_index:2,int_val:3},ebb:{root_index:2,int_val:2},f:{root_index:3,int_val:5},fn:{root_index:3,int_val:5},"f#":{root_index:3,int_val:6},"f##":{root_index:3,int_val:7},fb:{root_index:3,int_val:4},fbb:{root_index:3,int_val:3},g:{root_index:4,int_val:7},gn:{root_index:4,int_val:7},"g#":{root_index:4,int_val:8},"g##":{root_index:4,int_val:9},gb:{root_index:4,int_val:6},gbb:{root_index:4,int_val:5},a:{root_index:5,int_val:9},an:{root_index:5,int_val:9},"a#":{root_index:5,int_val:10},"a##":{root_index:5,int_val:11},ab:{root_index:5,int_val:8},abb:{root_index:5,int_val:7},b:{root_index:6,int_val:11},bn:{root_index:6,int_val:11},"b#":{root_index:6,int_val:0},"b##":{root_index:6,int_val:1},bb:{root_index:6,int_val:10},bbb:{root_index:6,int_val:9}}}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0}),e.NoteSubGroup=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(2),a=n(25),c=n(14),u=n(18);e.NoteSubGroup=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","NoteSubGroup"),n.note=null,n.index=null,n.position=a.Modifier.Position.LEFT,n.subNotes=t,n.subNotes.forEach(function(t){t.ignore_ticks=!1}),n.width=0,n.preFormatted=!1,n.formatter=new c.Formatter,n.voice=new u.Voice({num_beats:4,beat_value:4,resolution:s.Flow.RESOLUTION}).setStrict(!1),n.voice.addTickables(n.subNotes),i(n,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Modifier),r(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=0;i<t.length;++i){var r=t[i];r.preFormat(),n+=r.getWidth()}return e.left_shift+=n,!0}},{key:"CATEGORY",get:function(){return"notesubgroup"}}]),r(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"preFormat",value:function(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}},{key:"setNote",value:function(t){this.note=t}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){return this.width}},{key:"draw",value:function(){var t=this;this.checkContext();var e=this.getNote();if(!e||null===this.index)throw new o.Vex.RuntimeError("NoAttachedNote","Can't draw notes without a parent note and parent note index.");this.setRendered(),!function(e,n){var i=n.getTickContext(),r=i.getExtraPx(),o=i.getX()-r.left-r.extraLeft+t.getSpacingFromNextModifier();e.forEach(function(t){var e=t.getTickContext(),i=e.getX();t.setStave(n.stave),e.setX(o+i)})}(this.subNotes,e,this.width),this.subNotes.forEach(function(e){return e.setContext(t.context).draw()})}}]),e}()},function(t,e,n){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];m.DEBUG&&s.Vex.L("Vex.Flow.GraceNoteGroup",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GraceNoteGroup=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(2),c=n(25),u=n(14),l=n(18),h=n(15),f=n(33),d=n(34),p=n(20),m=e.GraceNoteGroup=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.setAttribute("type","GraceNoteGroup"),r.note=null,r.index=null,r.position=c.Modifier.Position.LEFT,r.grace_notes=t,r.width=0,r.preFormatted=!1,r.show_slur=n,r.slur=null,r.formatter=new u.Formatter,r.voice=new l.Voice({num_beats:4,beat_value:4,resolution:a.Flow.RESOLUTION}).setStrict(!1),r.render_options={slur_y_shift:0},r.voice.addTickables(r.grace_notes),i(r,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.Modifier),o(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=[],i=null,r=0,o=0;o<t.length;++o){var s=t[o],a=s.getNote(),c=a.getCategory()===p.StaveNote.CATEGORY,u=c?4:0;if(c&&a!==i){for(var l=0;l<a.keys.length;++l)r=a.getKeyProps()[l].displaced?a.getExtraLeftPx():r;i=a}n.push({shift:r,gracenote_group:s,spacing:u})}for(var h=n[0].shift,f=void 0,d=0;d<n.length;++d){var m=n[d].gracenote_group;m.preFormat(),f=m.getWidth()+n[d].spacing,h=Math.max(f,h)}for(var b=0;b<n.length;++b){var g=n[b].gracenote_group;f=g.getWidth()+n[b].spacing,g.setSpacingFromNextModifier(h-Math.min(f,h))}return e.left_shift+=h,!0}},{key:"CATEGORY",get:function(){return"gracenotegroups"}}]),o(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"preFormat",value:function(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}},{key:"beamNotes",value:function(){if(this.grace_notes.length>1){var t=new h.Beam(this.grace_notes);t.render_options.beam_width=3,t.render_options.partial_beam_length=4,this.beam=t}return this}},{key:"setNote",value:function(t){this.note=t}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){return this.width}},{key:"getGraceNotes",value:function(){return this.grace_notes}},{key:"draw",value:function(){var t=this;this.checkContext();var e=this.getNote();if(r("Drawing grace note group for:",e),!e||null===this.index)throw new s.Vex.RuntimeError("NoAttachedNote","Can't draw grace note without a parent note and parent note index.");this.setRendered();var n=this;if(function(t,e){var i=e.getTickContext(),r=i.getExtraPx(),o=i.getX()-r.left-r.extraLeft+n.getSpacingFromNextModifier();t.forEach(function(t){var n=t.getTickContext(),i=n.getX();t.setStave(e.stave),n.setX(o+i)})}(this.grace_notes,e,this.width),this.grace_notes.forEach(function(e){e.setContext(t.context).draw()}),this.beam&&this.beam.setContext(this.context).draw(),this.show_slur){var i=this.getNote().getCategory()===p.StaveNote.CATEGORY,o=i?f.StaveTie:d.TabTie;this.slur=new o({last_note:this.grace_notes[0],first_note:e,first_indices:[0],last_indices:[0]}),this.slur.render_options.cp2=12,this.slur.render_options.y_shift=(i?7:5)+this.render_options.slur_y_shift,this.slur.setContext(this.context).draw()}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaveTie=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5);e.StaveTie=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.setAttribute("type","StaveTie"),i.notes=t,i.context=null,i.text=n,i.direction=null,i.render_options={cp1:8,cp2:12,text_shift_x:0,first_x_shift:0,last_x_shift:0,y_shift:7,tie_spacing:0,font:{family:"Arial",size:10,style:""}},i.font=i.render_options.font,i.setNotes(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Element),i(e,[{key:"setFont",value:function(t){return this.font=t,this}},{key:"setDirection",value:function(t){return this.direction=t,this}},{key:"setNotes",value:function(t){if(!t.first_note&&!t.last_note)throw new r.Vex.RuntimeError("BadArguments","Tie needs to have either first_note or last_note set.");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new r.Vex.RuntimeError("BadArguments","Tied notes must have similar index sizes");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}},{key:"isPartial",value:function(){return!this.first_note||!this.last_note}},{key:"renderTie",value:function(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new r.Vex.RERR("BadArguments","No Y-values to render");var e=this.context,n=this.render_options.cp1,i=this.render_options.cp2;Math.abs(t.last_x_px-t.first_x_px)<10&&(n=2,i=8);for(var o=this.render_options.first_x_shift,s=this.render_options.last_x_shift,a=this.render_options.y_shift*t.direction,c=0;c<this.first_indices.length;++c){var u=(t.last_x_px+s+(t.first_x_px+o))/2,l=t.first_ys[this.first_indices[c]]+a,h=t.last_ys[this.last_indices[c]]+a;if(isNaN(l)||isNaN(h))throw new r.Vex.RERR("BadArguments","Bad indices for tie rendering.");var f=(l+h)/2+n*t.direction,d=(l+h)/2+i*t.direction;e.beginPath(),e.moveTo(t.first_x_px+o,l),e.quadraticCurveTo(u,f,t.last_x_px+s,h),e.quadraticCurveTo(u,d,t.first_x_px+o,l),e.closePath(),e.fill()}}},{key:"renderText",value:function(t,e){if(this.text){var n=(t+e)/2;n-=this.context.measureText(this.text).width/2,this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.style),this.context.fillText(this.text,n+this.render_options.text_shift_x,(this.first_note||this.last_note).getStave().getYForTopText()-1),this.context.restore()}}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.first_note,e=this.last_note,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;return t?(n=t.getTieRightX()+this.render_options.tie_spacing,s=t.getStemDirection(),r=t.getYs()):(n=e.getStave().getTieStartX(),r=e.getYs(),this.first_indices=this.last_indices),e?(i=e.getTieLeftX()+this.render_options.tie_spacing,s=e.getStemDirection(),o=e.getYs()):(i=t.getStave().getTieEndX(),o=t.getYs(),this.last_indices=this.first_indices),this.direction&&(s=this.direction),this.renderTie({first_x_px:n,last_x_px:i,first_ys:r,last_ys:o,direction:s}),this.renderText(n,i),!0}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabTie=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(33);e.TabTie=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.setAttribute("type","TabTie"),i.render_options.cp1=9,i.render_options.cp2=11,i.render_options.y_shift=3,i.setNotes(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.StaveTie),i(e,null,[{key:"createHammeron",value:function(t){return new e(t,"H")}},{key:"createPulloff",value:function(t){return new e(t,"P")}}]),i(e,[{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.first_note,e=this.last_note,n=void 0,i=void 0,r=void 0,o=void 0;return t?(n=t.getTieRightX()+this.render_options.tie_spacing,r=t.getYs()):(n=e.getStave().getTieStartX(),r=e.getYs(),this.first_indices=this.last_indices),e?(i=e.getTieLeftX()+this.render_options.tie_spacing,o=e.getYs()):(i=t.getStave().getTieEndX(),o=t.getYs(),this.last_indices=this.first_indices),this.renderTie({first_x_px:n,last_x_px:i,first_ys:r,last_ys:o,direction:-1}),this.renderText(n,i),!0}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stroke=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(25),s=n(20),a=n(4);e.Stroke=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.setAttribute("type","Stroke"),i.note=null,i.options=r.Vex.Merge({},n),i.all_voices=!("all_voices"in i.options)||i.options.all_voices,i.note_end=null,i.index=null,i.type=t,i.position=o.Modifier.Position.LEFT,i.render_options={font_scale:38,stroke_px:3,stroke_spacing:10},i.font={family:"serif",size:10,weight:"bold italic"},i.setXShift(0),i.setWidth(10),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Modifier),i(e,null,[{key:"format",value:function(t,e){var n=e.left_shift;if(!t||0===t.length)return this;var i=n,r=t.map(function(t){var e=t.getNote();if(e instanceof s.StaveNote){var n=e.getKeyProps()[t.getIndex()];return{line:n.line,shift:n.displaced?e.getExtraLeftPx():0,stroke:t}}return{line:e.getPositions()[t.getIndex()].str,shift:0,stroke:t}}).reduce(function(t,e){var n=e.stroke,r=e.shift;return n.setXShift(i+r),Math.max(n.getWidth()+0,t)},0);return e.left_shift+=r,!0}},{key:"CATEGORY",get:function(){return"strokes"}},{key:"Type",get:function(){return{BRUSH_DOWN:1,BRUSH_UP:2,ROLL_DOWN:3,ROLL_UP:4,RASQUEDO_DOWN:5,RASQUEDO_UP:6}}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getPosition",value:function(){return this.position}},{key:"addEndNote",value:function(t){return this.note_end=t,this}},{key:"draw",value:function(){if(this.checkContext(),this.setRendered(),!this.note||null==this.index)throw new r.Vex.RERR("NoAttachedNote","Can't draw stroke without a note and index.");for(var t=this.note.getModifierStartXY(this.position,this.index),n=this.note.getYs(),i=t.y,o=t.y,c=t.x-5,u=this.note.stave.options.spacing_between_lines_px,l=this.getModifierContext().getModifiers(this.note.getCategory()),h=0;h<l.length;h++){n=l[h].getYs();for(var f=0;f<n.length;f++)(this.note===l[h]||this.all_voices)&&(i=r.Vex.Min(i,n[f]),o=r.Vex.Max(o,n[f]))}var d=void 0,p=void 0,m=void 0,b=void 0,g=void 0;switch(this.type){case e.Type.BRUSH_DOWN:d="vc3",p=-3,m=i-u/2+10,o+=u/2;break;case e.Type.BRUSH_UP:d="v11",p=.5,m=o+u/2,i-=u/2;break;case e.Type.ROLL_DOWN:case e.Type.RASQUEDO_DOWN:d="vc3",p=-3,b=this.x_shift+p-2,this.note instanceof s.StaveNote?(m=(i+=1.5*u)-u,g=(o+=(o-i)%2!=0?.5*u:u)+u+2):(m=(i+=1.5*u)-.75*u,g=(o+=u)+.25*u);break;case e.Type.ROLL_UP:case e.Type.RASQUEDO_UP:d="v52",p=-4,b=this.x_shift+p-1,this.note instanceof s.StaveNote?(m=u/2,(o-(i+=.5*u))%2==0&&(o+=u/2),m=o+.5*u,g=i-1.25*u):(m=(o+=.5*u)+.25*u,g=(i+=.25*u)-u);break;default:throw new r.Vex.RERR("InvalidType","The stroke type "+this.type+" does not exist")}if(this.type===e.Type.BRUSH_DOWN||this.type===e.Type.BRUSH_UP)this.context.fillRect(c+this.x_shift,i,1,o-i);else if(this.note instanceof s.StaveNote)for(var v=i;v<=o;v+=u)a.Glyph.renderGlyph(this.context,c+this.x_shift-4,v,this.render_options.font_scale,"va3");else{var y=void 0;for(y=i;y<=o;y+=10)a.Glyph.renderGlyph(this.context,c+this.x_shift-4,y,this.render_options.font_scale,"va3");this.type===e.Type.RASQUEDO_DOWN&&(g=y+.25*u)}a.Glyph.renderGlyph(this.context,c+this.x_shift+p,m,this.render_options.font_scale,d),this.type!==e.Type.RASQUEDO_DOWN&&this.type!==e.Type.RASQUEDO_UP||(this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight),this.context.fillText("R",c+b,g),this.context.restore())}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringNumber=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(25),s=n(10),a=n(20);e.StringNumber=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","StringNumber"),n.note=null,n.last_note=null,n.index=null,n.string_number=t,n.setWidth(20),n.position=o.Modifier.Position.ABOVE,n.x_shift=0,n.y_shift=0,n.x_offset=0,n.y_offset=0,n.dashed=!0,n.leg=s.Renderer.LineEndType.NONE,n.radius=8,n.font={family:"sans-serif",size:10,weight:"bold"},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Modifier),i(e,null,[{key:"format",value:function(t,e){var n=e.left_shift,i=e.right_shift;if(!t||0===t.length)return this;var r=[],s=null,a=0,c=0,u=void 0,l=void 0,h=void 0,f=void 0,d=void 0;for(u=0;u<t.length;++u)for(h=(l=t[u]).getNote(),u=0;u<t.length;++u){h=(l=t[u]).getNote(),f=l.getPosition();var p=h.getKeyProps()[l.getIndex()];if(h!==s){for(var m=0;m<h.keys.length;++m)d=h.getKeyProps()[m],0===n&&(a=d.displaced?h.getExtraLeftPx():a),0===i&&(c=d.displaced?h.getExtraRightPx():c);s=h}r.push({pos:f,note:h,num:l,line:p.line,shiftL:a,shiftR:c})}r.sort(function(t,e){return e.line-t.line});var b=0,g=0,v=0,y=null,_=null;for(u=0;u<r.length;++u){var x=0;h=r[u].note,f=r[u].pos,l=r[u].num;var w=r[u].line,S=(r[u].shiftL,r[u].shiftR);w===y&&h===_||(b=i+S);var E=l.getWidth()+1;f===o.Modifier.Position.LEFT?(l.setXShift(n),g=(x=a+E)>g?x:g):f===o.Modifier.Position.RIGHT&&(l.setXShift(b),v=(x+=E)>v?x:v),y=w,_=h}return e.left_shift+=g,e.right_shift+=v,!0}},{key:"CATEGORY",get:function(){return"stringnumber"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getNote",value:function(){return this.note}},{key:"setNote",value:function(t){return this.note=t,this}},{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return this.index=t,this}},{key:"setLineEndType",value:function(t){return t>=s.Renderer.LineEndType.NONE&&t<=s.Renderer.LineEndType.DOWN&&(this.leg=t),this}},{key:"setStringNumber",value:function(t){return this.string_number=t,this}},{key:"setOffsetX",value:function(t){return this.x_offset=t,this}},{key:"setOffsetY",value:function(t){return this.y_offset=t,this}},{key:"setLastNote",value:function(t){return this.last_note=t,this}},{key:"setDashed",value:function(t){return this.dashed=t,this}},{key:"draw",value:function(){var t=this.checkContext();if(!this.note||null==this.index)throw new r.Vex.RERR("NoAttachedNote","Can't draw string number without a note and index.");this.setRendered();var e=this.note.stave.options.spacing_between_lines_px,n=this.note.getModifierStartXY(this.position,this.index),i=n.x+this.x_shift+this.x_offset,c=n.y+this.y_shift+this.y_offset;switch(this.position){case o.Modifier.Position.ABOVE:case o.Modifier.Position.BELOW:var u=this.note.getStemExtents(),l=u.topY,h=u.baseY+2;this.note.stem_direction===a.StaveNote.STEM_DOWN&&(l=u.baseY,h=u.topY-2),c=this.position===o.Modifier.Position.ABOVE?this.note.hasStem()?l-1.75*e:n.y-1.75*e:this.note.hasStem()?h+1.5*e:n.y+1.75*e,c+=this.y_shift+this.y_offset;break;case o.Modifier.Position.LEFT:i-=this.radius/2+5;break;case o.Modifier.Position.RIGHT:i+=this.radius/2+6;break;default:throw new r.Vex.RERR("InvalidPosition","The position "+this.position+" is invalid")}t.save(),t.beginPath(),t.arc(i,c,this.radius,0,2*Math.PI,!1),t.lineWidth=1.5,t.stroke(),t.setFont(this.font.family,this.font.size,this.font.weight);var f=i-t.measureText(this.string_number).width/2;if(t.fillText(""+this.string_number,f,c+4.5),null!=this.last_note){var d=this.last_note.getStemX()-this.note.getX()+5;t.strokeStyle="#000000",t.lineCap="round",t.lineWidth=.6,this.dashed?s.Renderer.drawDashedLine(t,i+10,c,i+d,c,[3,3]):s.Renderer.drawDashedLine(t,i+10,c,i+d,c,[3,0]);var p=void 0,m=void 0;switch(this.leg){case s.Renderer.LineEndType.UP:p=-10,m=this.dashed?[3,3]:[3,0],s.Renderer.drawDashedLine(t,i+d,c,i+d,c+p,m);break;case s.Renderer.LineEndType.DOWN:p=10,m=this.dashed?[3,3]:[3,0],s.Renderer.drawDashedLine(t,i+d,c,i+d,c+p,m)}}t.restore()}}]),e}()},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];y.DEBUG&&c.Vex.L("Vex.Flow.Articulation",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Articulation=void 0;var s=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(1),u=n(2),l=n(25),h=n(4),f=n(17),d=l.Modifier.Position,p=d.ABOVE,m=d.BELOW,b=function(t,e){return.5*t(e/.5)},g=function(t,e){return e===p?t<=5:t>=1},v=function(t,e){return g(t,e)?e===p?Math.ceil:Math.floor:Math.round},y=e.Articulation=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.setAttribute("type","Articulation"),n.note=null,n.index=null,n.type=t,n.position=m,n.render_options={font_scale:38},n.articulation=u.Flow.articulationCodes(n.type),!n.articulation)throw new c.Vex.RERR("ArgumentError","Articulation not found: "+n.type);return n.glyph=new h.Glyph(n.articulation.code,n.render_options.font_scale),n.setWidth(n.glyph.getMetrics().width),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.Modifier),a(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;var n=function(t,e,n){return b(v(e,n),t.glyph.getMetrics().height/10+.5)};t.filter(function(t){return t.getPosition()===p}).forEach(function(t){t.setTextLine(e.top_text_line),e.top_text_line+=n(t,e.top_text_line,p)}),t.filter(function(t){return t.getPosition()===m}).forEach(function(t){t.setTextLine(e.text_line),e.text_line+=n(t,e.text_line,m)});var i=t.map(function(t){return t.getWidth()}).reduce(function(t,e){return Math.max(e,t)});return e.left_shift+=i/2,e.right_shift+=i/2,!0}},{key:"easyScoreHook",value:function(t,e,n){var i=t.articulations;if(i){var r={staccato:"a.",tenuto:"a-"};i.split(",").map(function(t){return t.trim().split(".")}).map(function(t){var e=s(t,2),i=e[0],o=e[1],a={type:r[i]};return o&&(a.position=l.Modifier.PositionString[o]),n.getFactory().Articulation(a)}).map(function(t){return e.addModifier(0,t)})}}},{key:"CATEGORY",get:function(){return"articulations"}},{key:"INITIAL_OFFSET",get:function(){return-.5}}]),a(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){var t,n=this.note,s=this.index,a=this.position,u=this.glyph,l=this.articulation.between_lines,h=this.text_line,d=this.context;if(this.checkContext(),!n||null==s)throw new c.Vex.RERR("NoAttachedNote","Can't draw Articulation without a note and index.");this.setRendered();var y=n.getStave(),_=y.getSpacingBetweenLines(),x="tabnotes"===n.getCategory(),w=n.getModifierStartXY(a,s).x,S=!l||x,E=function(t,e){var n=e===p&&t.getStemDirection()===f.Stem.UP||e===m&&t.getStemDirection()===f.Stem.DOWN;return"stavenotes"===t.getCategory()?t.hasStem()&&n?.5:1:t.hasStem()&&n?1:0}(n,a),T=(t={},i(t,p,function(){u.setOrigin(.5,1);var t=function(t,e){var n=t.getStave(),i=t.getStemDirection(),o=t.getStemExtents(),s=o.topY,a=o.baseY;if("stavenotes"===t.getCategory())return t.hasStem()?i===f.Stem.UP?s:a:Math.min.apply(Math,r(t.getYs()));if("tabnotes"===t.getCategory())return t.hasStem()&&i===f.Stem.UP?s:n.getYForTopText(e);throw new c.Vex.RERR("UnknownCategory","Only can get the top and bottom ys of stavenotes and tabnotes")}(n,h)-(h+E)*_;return S?Math.min(y.getYForTopText(e.INITIAL_OFFSET),t):t}),i(t,m,function(){u.setOrigin(.5,0);var t=function(t,e){var n=t.getStave(),i=t.getStemDirection(),o=t.getStemExtents(),s=o.topY,a=o.baseY;if("stavenotes"===t.getCategory())return t.hasStem()?i===f.Stem.UP?a:s:Math.max.apply(Math,r(t.getYs()));if("tabnotes"===t.getCategory())return t.hasStem()?i===f.Stem.UP?n.getYForBottomText(e):s:n.getYForBottomText(e);throw new c.Vex.RERR("UnknownCategory","Only can get the top and bottom ys of stavenotes and tabnotes")}(n,h)+(h+E)*_;return S?Math.max(y.getYForBottomText(e.INITIAL_OFFSET),t):t}),t)[a]();if(!x){var k=a===p?-1:1,P=x?n.positions[s].str:n.getKeyProps()[s].line,M=(n.getYs()[s]-T)/_+P,C=function(t,e,n,i){var r=b(v(e,n),e);return t&&g(r,n)&&r%1==0?r+.5*-i:r}(l,M,a,k);g(C,a)&&u.setOrigin(.5,.5),T+=Math.abs(C-M)*_*k}o("Rendering articulation at (x: "+w+", y: "+T+")"),u.render(d,w,T)}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h.DEBUG&&o.Vex.L("Vex.Flow.Ornament",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Ornament=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(2),a=n(25),c=n(39),u=n(20),l=n(4),h=e.Ornament=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.setAttribute("type","Ornament"),n.note=null,n.index=null,n.type=t,n.position=a.Modifier.Position.ABOVE,n.delayed=!1,n.accidentalUpper=null,n.accidentalLower=null,n.render_options={font_scale:38,accidentalLowerPadding:3,accidentalUpperPadding:3},n.ornament=s.Flow.ornamentCodes(n.type),!n.ornament)throw new o.Vex.RERR("ArgumentError","Ornament not found: '"+n.type+"'");return n.glyph=new l.Glyph(n.ornament.code,n.render_options.font_scale),n.glyph.setOrigin(.5,1),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Modifier),r(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=0;i<t.length;++i){var r=t[i];n=Math.max(r.getWidth(),n),r.getPosition()===a.Modifier.Position.ABOVE?(r.setTextLine(e.top_text_line),e.top_text_line+=2):(r.setTextLine(e.text_line),e.text_line+=2)}return e.left_shift+=n/2,e.right_shift+=n/2,!0}},{key:"CATEGORY",get:function(){return"ornaments"}}]),r(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setDelayed",value:function(t){return this.delayed=t,this}},{key:"setUpperAccidental",value:function(t){var e=this.render_options.font_scale/1.3;return this.accidentalUpper=new l.Glyph(s.Flow.accidentalCodes(t).code,e),this.accidentalUpper.setOrigin(.5,1),this}},{key:"setLowerAccidental",value:function(t){var e=this.render_options.font_scale/1.3;return this.accidentalLower=new l.Glyph(s.Flow.accidentalCodes(t).code,e),this.accidentalLower.setOrigin(.5,1),this}},{key:"draw",value:function(){if(this.checkContext(),!this.note||null==this.index)throw new o.Vex.RERR("NoAttachedNote","Can't draw Ornament without a note and index.");this.setRendered();var t=this.context,e=this.note.getStemDirection(),n=this.note.getStave(),r=this.note.getStem().getExtents(),s=e===u.StaveNote.STEM_DOWN?r.baseY:r.topY;"tabnotes"===this.note.getCategory()&&(this.note.hasStem()?e===u.StaveNote.STEM_DOWN&&(s=n.getYForTopText(this.text_line)):s=n.getYForTopText(this.text_line));var a=e===u.StaveNote.STEM_DOWN,l=n.getSpacingBetweenLines(),h=1;!a&&this.note.beam&&(h+=.5);var f=s-l*(this.text_line+h),d=this.note.getModifierStartXY(this.position,this.index).x,p=Math.min(n.getYForTopText(this.text_line),f);if(p+=this.y_shift,this.delayed){d+=this.glyph.getMetrics().width;var m=c.TickContext.getNextContext(this.note.getTickContext());d+=m?.5*(m.getX()-d):.5*(n.x+n.width-d)}i("Rendering ornament: ",this.ornament,d,p),this.accidentalLower&&(this.accidentalLower.render(t,d,p),p-=this.accidentalLower.getMetrics().height,p-=this.render_options.accidentalLowerPadding),this.glyph.render(t,d,p),p-=this.glyph.getMetrics().height,this.accidentalUpper&&(p-=this.render_options.accidentalUpperPadding,this.accidentalUpper.render(t,d,p))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TickContext=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(23),s=n(3);e.TickContext=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setAttribute("type","TickContext"),t.currentTick=new s.Fraction(0,1),t.maxTicks=new s.Fraction(0,1),t.minTicks=null,t.padding=3,t.x=0,t.tickables=[],t.notePx=0,t.extraLeftPx=0,t.extraRightPx=0,t.tContexts=[],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Tickable),i(e,null,[{key:"getNextContext",value:function(t){var e=t.tContexts;return e[e.indexOf(t)+1]}}]),i(e,[{key:"getX",value:function(){return this.x}},{key:"setX",value:function(t){return this.x=t,this}},{key:"getWidth",value:function(){return this.width+2*this.padding}},{key:"setPadding",value:function(t){return this.padding=t,this}},{key:"getMaxTicks",value:function(){return this.maxTicks}},{key:"getMinTicks",value:function(){return this.minTicks}},{key:"getTickables",value:function(){return this.tickables}},{key:"getCenterAlignedTickables",value:function(){return this.tickables.filter(function(t){return t.isCenterAligned()})}},{key:"getMetrics",value:function(){return{width:this.width,notePx:this.notePx,extraLeftPx:this.extraLeftPx,extraRightPx:this.extraRightPx}}},{key:"getCurrentTick",value:function(){return this.currentTick}},{key:"setCurrentTick",value:function(t){this.currentTick=t,this.preFormatted=!1}},{key:"getExtraPx",value:function(){for(var t=0,e=0,n=0,i=0,r=0;r<this.tickables.length;r++){n=Math.max(this.tickables[r].extraLeftPx||0,n),i=Math.max(this.tickables[r].extraRightPx||0,i);var o=this.tickables[r].modifierContext;o&&null!=o&&(t=Math.max(t,o.state.left_shift),e=Math.max(e,o.state.right_shift))}return{left:t,right:e,extraLeft:n,extraRight:i}}},{key:"addTickable",value:function(t){if(!t)throw new r.Vex.RERR("BadArgument","Invalid tickable added.");if(!t.shouldIgnoreTicks()){this.ignore_ticks=!1;var e=t.getTicks();e.greaterThan(this.maxTicks)&&(this.maxTicks=e.clone()),null==this.minTicks?this.minTicks=e.clone():e.lessThan(this.minTicks)&&(this.minTicks=e.clone())}return t.setTickContext(this),this.tickables.push(t),this.preFormatted=!1,this}},{key:"preFormat",value:function(){if(this.preFormatted)return this;for(var t=0;t<this.tickables.length;++t){var e=this.tickables[t];e.preFormat();var n=e.getMetrics();this.extraLeftPx=Math.max(this.extraLeftPx,n.extraLeftPx+n.modLeftPx),this.extraRightPx=Math.max(this.extraRightPx,n.extraRightPx+n.modRightPx),this.notePx=Math.max(this.notePx,n.noteWidth),this.width=this.notePx+this.extraLeftPx+this.extraRightPx}return this}},{key:"postFormat",value:function(){return this.postFormatted?this:(this.postFormatted=!0,this)}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.DEBUG&&o.Vex.L("Vex.Flow.Annotation",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Annotation=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(2),a=n(25),c=e.Annotation=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","Annotation"),n.note=null,n.index=null,n.text=t,n.justification=e.Justify.CENTER,n.vert_justification=e.VerticalJustify.TOP,n.font={family:"Arial",size:10,weight:""},n.setWidth(s.Flow.textWidth(t)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Modifier),r(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=0;i<t.length;++i){var r=t[i];n=Math.max(r.getWidth(),n),r.getPosition()===a.Modifier.Position.ABOVE?(r.setTextLine(e.top_text_line),e.top_text_line++):(r.setTextLine(e.text_line),e.text_line++)}return e.left_shift+=n/2,e.right_shift+=n/2,!0}},{key:"CATEGORY",get:function(){return"annotations"}},{key:"Justify",get:function(){return{LEFT:1,CENTER:2,RIGHT:3,CENTER_STEM:4}}},{key:"JustifyString",get:function(){return{left:e.Justify.LEFT,right:e.Justify.RIGHT,center:e.Justify.CENTER,centerStem:e.Justify.CENTER_STEM}}},{key:"VerticalJustify",get:function(){return{TOP:1,CENTER:2,BOTTOM:3,CENTER_STEM:4}}},{key:"VerticalJustifyString",get:function(){return{above:e.VerticalJustify.TOP,top:e.VerticalJustify.TOP,below:e.VerticalJustify.BOTTOM,bottom:e.VerticalJustify.BOTTOM,center:e.VerticalJustify.CENTER,centerStem:e.VerticalJustify.CENTER_STEM}}}]),r(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setFont",value:function(t,e,n){return this.font={family:t,size:e,weight:n},this}},{key:"setVerticalJustification",value:function(t){return this.vert_justification="string"==typeof t?e.VerticalJustifyString[t]:t,this}},{key:"getJustification",value:function(){return this.justification}},{key:"setJustification",value:function(t){return this.justification="string"==typeof t?e.JustifyString[t]:t,this}},{key:"draw",value:function(){if(this.checkContext(),!this.note)throw new o.Vex.RERR("NoNoteForAnnotation","Can't draw text annotation without an attached note.");this.setRendered();var t=this.note.getModifierStartXY(a.Modifier.Position.ABOVE,this.index);this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);var n=this.context.measureText(this.text).width,r=this.context.measureText("m").width,c=void 0,u=void 0;c=this.justification===e.Justify.LEFT?t.x:this.justification===e.Justify.RIGHT?t.x-n:this.justification===e.Justify.CENTER?t.x-n/2:this.note.getStemX()-n/2;var l=void 0,h=void 0,f=this.note.hasStem(),d=this.note.getStave();if(f&&(l=this.note.getStem().getExtents(),h=d.getSpacingBetweenLines()),this.vert_justification===e.VerticalJustify.BOTTOM){if(u=d.getYForBottomText(this.text_line+s.Flow.TEXT_HEIGHT_OFFSET_HACK),f){var p=1===this.note.getStemDirection()?l.baseY:l.topY;u=Math.max(u,p+h*(this.text_line+2))}}else if(this.vert_justification===e.VerticalJustify.CENTER){var m=this.note.getYForTopText(this.text_line)-1;u=m+(d.getYForBottomText(this.text_line)-m)/2+r/2}else if(this.vert_justification===e.VerticalJustify.TOP)u=Math.min(d.getYForTopText(this.text_line),this.note.getYs()[0]-10),f&&(u=Math.min(u,l.topY-5-h*this.text_line));else{var b=this.note.getStemExtents();u=b.topY+(b.baseY-b.topY)/2+r/2}i("Rendering annotation: ",this.text,c,u),this.context.fillText(this.text,c,u),this.context.restore()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bend=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(2),s=n(25);e.Bend=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.setAttribute("type","Bend"),r.text=t,r.x_shift=0,r.release=n||!1,r.font="10pt Arial",r.render_options={line_width:1.5,line_style:"#777777",bend_width:8,release_width:8},i?r.phrase=i:(r.phrase=[{type:e.UP,text:r.text}],r.release&&r.phrase.push({type:e.DOWN,text:""})),r.updateWidth(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Modifier),i(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=e.top_text_line,r=0;r<t.length;++r){var o=t[r];o.setXShift(n),n=o.getWidth(),o.setTextLine(i)}return e.right_shift+=n,e.top_text_line+=1,!0}},{key:"CATEGORY",get:function(){return"bends"}},{key:"UP",get:function(){return 0}},{key:"DOWN",get:function(){return 1}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setXShift",value:function(t){this.x_shift=t,this.updateWidth()}},{key:"setFont",value:function(t){return this.font=t,this}},{key:"getText",value:function(){return this.text}},{key:"updateWidth",value:function(){for(var t,n=this,i=0,s=0;s<this.phrase.length;++s){var a=this.phrase[s];if("width"in a)i+=a.width;else{var c=a.type===e.UP?this.render_options.bend_width:this.render_options.release_width;a.width=r.Vex.Max(c,(t=a.text,n.context?n.context.measureText(t).width:o.Flow.textWidth(t)))+3,a.draw_width=a.width/2,i+=a.width}}return this.setWidth(i+this.x_shift),this}},{key:"draw",value:function(){function t(t,e,n,i){d.save(),d.beginPath(),d.setLineWidth(b.render_options.line_width),d.setStrokeStyle(b.render_options.line_style),d.setFillStyle(b.render_options.line_style),d.moveTo(t,i),d.quadraticCurveTo(t+n,i,t+n,e),d.stroke(),d.restore()}function n(t,e,n){var i=n||1;d.beginPath(),d.moveTo(t,e),d.lineTo(t-4,e+4*i),d.lineTo(t+4,e+4*i),d.closePath(),d.fill()}if(this.checkContext(),!this.note||null==this.index)throw new r.Vex.RERR("NoNoteForBend","Can't draw bend without a note or index.");this.setRendered();var i=this.note.getModifierStartXY(s.Modifier.Position.RIGHT,this.index);i.x+=3,i.y+=.5;for(var o,a,c,u,l,h,f=this.x_shift,d=this.context,p=this.note.getStave().getYForTopText(this.text_line)+3,m=this.note.getStave().getYForTopText(this.text_line)-1,b=this,g=null,v=0,y=0;y<this.phrase.length;++y){var _=this.phrase[y];0===y&&(_.draw_width+=f),v=_.draw_width+(g?g.draw_width:0)-(1===y?f:0),_.type===e.UP&&(g&&g.type===e.UP&&n(i.x,p),o=i.x,a=i.y,u=p,l=o+(c=v),h=a,d.save(),d.beginPath(),d.setLineWidth(b.render_options.line_width),d.setStrokeStyle(b.render_options.line_style),d.setFillStyle(b.render_options.line_style),d.moveTo(o,a),d.quadraticCurveTo(l,h,o+c,u),d.stroke(),d.restore()),_.type===e.DOWN&&(g&&g.type===e.UP&&t(i.x,i.y,v,p),g&&g.type===e.DOWN&&(n(i.x,i.y,-1),t(i.x,i.y,v,p)),null===g&&(v=_.draw_width,t(i.x,i.y,v,p))),function(t,e){d.save(),d.setRawFont(b.font);var n=t-d.measureText(e).width/2;d.fillText(e,n,m),d.restore()}(i.x+v,_.text),(g=_).x=i.x,i.x+=v}g.type===e.UP?n(g.x+v,p):g.type===e.DOWN&&n(g.x+v,i.y,-1)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vibrato=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(25),s=n(41);e.Vibrato=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setAttribute("type","Vibrato"),t.position=o.Modifier.Position.RIGHT,t.render_options={harsh:!1,vibrato_width:20,wave_height:6,wave_width:4,wave_girth:2},t.setVibratoWidth(t.render_options.vibrato_width),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Modifier),i(e,null,[{key:"format",value:function(t,e,n){if(!t||0===t.length)return!1;var i=e.top_text_line,r=0,o=e.right_shift-7,a=n.getModifiers(s.Bend.CATEGORY);a&&a.length>0&&i--;for(var c=0;c<t.length;++c){var u=t[c];u.setXShift(o),u.setTextLine(i),o+=r+=u.getWidth()}return e.right_shift+=r,e.top_text_line+=1,!0}},{key:"CATEGORY",get:function(){return"vibratos"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setHarsh",value:function(t){return this.render_options.harsh=t,this}},{key:"setVibratoWidth",value:function(t){return this.render_options.vibrato_width=t,this.setWidth(t),this}},{key:"draw",value:function(){var t=this.checkContext();if(!this.note)throw new r.Vex.RERR("NoNoteForVibrato","Can't draw vibrato without an attached note.");this.setRendered();var n=this.note.getModifierStartXY(o.Modifier.Position.RIGHT,this.index).x+this.x_shift,i=this.note.getYForTopText(this.text_line)+2;e.renderVibrato(t,n,i,this.render_options)}}],[{key:"renderVibrato",value:function(t,e,n,i){var r=i.harsh,o=i.vibrato_width,s=i.wave_width,a=i.wave_girth,c=i.wave_height,u=o/s;t.beginPath();var l=void 0;if(r){for(t.moveTo(e,n+a+1),l=0;l<u/2;++l)t.lineTo(e+s,n-c/2),e+=s,t.lineTo(e+s,n+c/2),e+=s;for(l=0;l<u/2;++l)t.lineTo(e-s,n-c/2+a+1),e-=s,t.lineTo(e-s,n+c/2+a+1),e-=s;t.fill()}else{for(t.moveTo(e,n+a),l=0;l<u/2;++l)t.quadraticCurveTo(e+s/2,n-c/2,e+s,n),e+=s,t.quadraticCurveTo(e+s/2,n+c/2,e+s,n),e+=s;for(l=0;l<u/2;++l)t.quadraticCurveTo(e-s/2,n+c/2+a,e-s,n+a),e-=s,t.quadraticCurveTo(e-s/2,n-c/2+a,e-s,n+a),e-=s;t.fill()}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stave=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(5),a=n(2),c=n(44),u=n(45),l=n(46),h=n(47),f=n(48),d=n(49),p=n(8),m=n(51),b=n(52),g=n(53),v=n(54);e.Stave=function(t){function e(t,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));s.setAttribute("type","Stave"),s.x=t,s.y=n,s.width=i,s.formatted=!1,s.start_x=t+5,s.end_x=t+i,s.modifiers=[],s.measure=0,s.clef="treble",s.font={family:"sans-serif",size:8,weight:""},s.options={vertical_bar_width:10,glyph_spacing_px:10,num_lines:5,fill_style:"#999999",left_bar:!0,right_bar:!0,spacing_between_lines_px:10,space_above_staff_ln:4,space_below_staff_ln:4,top_text_position:1},s.bounds={x:s.x,y:s.y,w:s.width,h:0},o.Vex.Merge(s.options,r),s.resetLines();var a=c.Barline.type;return s.addModifier(new c.Barline(s.options.left_bar?a.SINGLE:a.NONE)),s.addEndModifier(new c.Barline(s.options.right_bar?a.SINGLE:a.NONE)),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Element),r(e,[{key:"space",value:function(t){return this.options.spacing_between_lines_px*t}},{key:"resetLines",value:function(){this.options.line_config=[];for(var t=0;t<this.options.num_lines;t++)this.options.line_config.push({visible:!0});this.height=(this.options.num_lines+this.options.space_above_staff_ln)*this.options.spacing_between_lines_px,this.options.bottom_text_position=this.options.num_lines}},{key:"getOptions",value:function(){return this.options}},{key:"setNoteStartX",value:function(t){return this.formatted||this.format(),this.start_x=t,this}},{key:"getNoteStartX",value:function(){return this.formatted||this.format(),this.start_x}},{key:"getNoteEndX",value:function(){return this.formatted||this.format(),this.end_x}},{key:"getTieStartX",value:function(){return this.start_x}},{key:"getTieEndX",value:function(){return this.x+this.width}},{key:"getX",value:function(){return this.x}},{key:"getNumLines",value:function(){return this.options.num_lines}},{key:"setNumLines",value:function(t){return this.options.num_lines=parseInt(t,10),this.resetLines(),this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"getTopLineTopY",value:function(){return this.getYForLine(0)-a.Flow.STAVE_LINE_THICKNESS/2}},{key:"getBottomLineBottomY",value:function(){return this.getYForLine(this.getNumLines()-1)+a.Flow.STAVE_LINE_THICKNESS/2}},{key:"setX",value:function(t){var e=t-this.x;this.formatted=!1,this.x=t,this.start_x+=e,this.end_x+=e;for(var n=0;n<this.modifiers.length;n++){var i=this.modifiers[n];void 0!==i.x&&(i.x+=e)}return this}},{key:"setWidth",value:function(t){return this.formatted=!1,this.width=t,this.end_x=this.x+t,this}},{key:"getWidth",value:function(){return this.width}},{key:"getStyle",value:function(){return i({fillStyle:this.options.fill_style,strokeStyle:this.options.fill_style,lineWidth:a.Flow.STAVE_LINE_THICKNESS},this.style||{})}},{key:"setMeasure",value:function(t){return this.measure=t,this}},{key:"getModifierXShift",value:function(){if("number"!=typeof(arguments.length<=0||void 0===arguments[0]?0:arguments[0]))throw new o.Vex.RERR("InvalidIndex","Must be of number type");if(this.formatted||this.format(),1===this.getModifiers(u.StaveModifier.Position.BEGIN).length)return 0;var t=this.start_x-this.x,e=this.modifiers[0];return e.getType()===c.Barline.type.REPEAT_BEGIN&&t>e.getWidth()&&(t-=e.getWidth()),t}},{key:"setRepetitionTypeLeft",value:function(t,e){return this.modifiers.push(new l.Repetition(t,this.x,e)),this}},{key:"setRepetitionTypeRight",value:function(t,e){return this.modifiers.push(new l.Repetition(t,this.x,e)),this}},{key:"setVoltaType",value:function(t,e,n){return this.modifiers.push(new v.Volta(t,e,this.x,n)),this}},{key:"setSection",value:function(t,e){return this.modifiers.push(new h.StaveSection(t,this.x,e)),this}},{key:"setTempo",value:function(t,e){return this.modifiers.push(new f.StaveTempo(t,this.x,e)),this}},{key:"setText",value:function(t,e,n){return this.modifiers.push(new d.StaveText(t,e,n)),this}},{key:"getHeight",value:function(){return this.height}},{key:"getSpacingBetweenLines",value:function(){return this.options.spacing_between_lines_px}},{key:"getBoundingBox",value:function(){return new p.BoundingBox(this.x,this.y,this.width,this.getBottomY()-this.y)}},{key:"getBottomY",value:function(){var t=this.options,e=t.spacing_between_lines_px;return this.getYForLine(t.num_lines)+t.space_below_staff_ln*e}},{key:"getBottomLineY",value:function(){return this.getYForLine(this.options.num_lines)}},{key:"getYForLine",value:function(t){var e=this.options,n=e.spacing_between_lines_px,i=e.space_above_staff_ln;return this.y+t*n+i*n}},{key:"getLineForY",value:function(t){var e=this.options,n=e.spacing_between_lines_px,i=e.space_above_staff_ln;return(t-this.y)/n-i}},{key:"getYForTopText",value:function(t){var e=t||0;return this.getYForLine(-e-this.options.top_text_position)}},{key:"getYForBottomText",value:function(t){var e=t||0;return this.getYForLine(this.options.bottom_text_position+e)}},{key:"getYForNote",value:function(t){var e=this.options,n=e.spacing_between_lines_px,i=e.space_above_staff_ln;return this.y+i*n+5*n-t*n}},{key:"getYForGlyphs",value:function(){return this.getYForLine(3)}},{key:"addModifier",value:function(t,e){return void 0!==e&&t.setPosition(e),t.setStave(this),this.formatted=!1,this.modifiers.push(t),this}},{key:"addEndModifier",value:function(t){return this.addModifier(t,u.StaveModifier.Position.END),this}},{key:"setBegBarType",value:function(t){var e=c.Barline.type,n=e.SINGLE,i=e.REPEAT_BEGIN,r=e.NONE;return t!==n&&t!==i&&t!==r||(this.modifiers[0].setType(t),this.formatted=!1),this}},{key:"setEndBarType",value:function(t){return t!==c.Barline.type.REPEAT_BEGIN&&(this.modifiers[1].setType(t),this.formatted=!1),this}},{key:"setClef",value:function(t,e,n,i){void 0===i&&(i=u.StaveModifier.Position.BEGIN),this.clef=t;var r=this.getModifiers(i,m.Clef.CATEGORY);return 0===r.length?this.addClef(t,e,n,i):r[0].setType(t,e,n),this}},{key:"setEndClef",value:function(t,e,n){return this.setClef(t,e,n,u.StaveModifier.Position.END),this}},{key:"setKeySignature",value:function(t,e,n){void 0===n&&(n=u.StaveModifier.Position.BEGIN);var i=this.getModifiers(n,b.KeySignature.CATEGORY);return 0===i.length?this.addKeySignature(t,e,n):i[0].setKeySig(t,e),this}},{key:"setEndKeySignature",value:function(t,e){return this.setKeySignature(t,e,u.StaveModifier.Position.END),this}},{key:"setTimeSignature",value:function(t,e,n){void 0===n&&(n=u.StaveModifier.Position.BEGIN);var i=this.getModifiers(n,g.TimeSignature.CATEGORY);return 0===i.length?this.addTimeSignature(t,e,n):i[0].setTimeSig(t),this}},{key:"setEndTimeSignature",value:function(t,e){return this.setTimeSignature(t,e,u.StaveModifier.Position.END),this}},{key:"addKeySignature",value:function(t,e,n){return this.addModifier(new b.KeySignature(t,e),n),this}},{key:"addClef",value:function(t,e,n,i){return void 0!==i&&i!==u.StaveModifier.Position.BEGIN||(this.clef=t),this.addModifier(new m.Clef(t,e,n),i),this}},{key:"addEndClef",value:function(t,e,n){return this.addClef(t,e,n,u.StaveModifier.Position.END),this}},{key:"addTimeSignature",value:function(t,e,n){return this.addModifier(new g.TimeSignature(t,e),n),this}},{key:"addEndTimeSignature",value:function(t,e){return this.addTimeSignature(t,e,u.StaveModifier.Position.END),this}},{key:"addTrebleGlyph",value:function(){return this.addClef("treble"),this}},{key:"getModifiers",value:function(t,e){return void 0===t?this.modifiers:this.modifiers.filter(function(n){return t===n.getPosition()&&(void 0===e||e===n.getCategory())})}},{key:"sortByCategory",value:function(t,e){for(var n=t.length-1;n>=0;n--)for(var i=0;i<n;i++)if(e[t[i].getCategory()]>e[t[i+1].getCategory()]){var r=t[i];t[i]=t[i+1],t[i+1]=r}}},{key:"format",value:function(){var t=this.modifiers[0],e=this.modifiers[1],n=this.getModifiers(u.StaveModifier.Position.BEGIN),i=this.getModifiers(u.StaveModifier.Position.END);this.sortByCategory(n,{barlines:0,clefs:1,keysignatures:2,timesignatures:3}),this.sortByCategory(i,{timesignatures:0,keysignatures:1,barlines:2,clefs:3}),n.length>1&&t.getType()===c.Barline.type.REPEAT_BEGIN&&(n.push(n.splice(0,1)[0]),n.splice(0,0,new c.Barline(c.Barline.type.SINGLE))),i.indexOf(e)>0&&i.splice(0,0,new c.Barline(c.Barline.type.NONE));for(var r=void 0,o=void 0,s=void 0,a=0,l=this.x,h=0;h<n.length;h++)o=(s=n[h]).getPadding(h+a),r=s.getWidth(),l+=o,s.setX(l),l+=r,o+r===0&&a--;this.start_x=l,l=this.x+this.width;for(var f=0;f<i.length;f++)l-=(s=i[f]).getPadding(f),0!==f&&(l-=s.getWidth()),s.setX(l),0===f&&(l-=s.getWidth());this.end_x=1===i.length?this.x+this.width:l,this.formatted=!0}},{key:"draw",value:function(){this.checkContext(),this.setRendered(),this.formatted||this.format();for(var t=this.options.num_lines,e=this.width,n=this.x,i=void 0,r=0;r<t;r++)i=this.getYForLine(r),this.applyStyle(),this.options.line_config[r].visible&&(this.context.beginPath(),this.context.moveTo(n,i),this.context.lineTo(n+e,i),this.context.stroke()),this.restoreStyle();for(var o=0;o<this.modifiers.length;o++)"function"==typeof this.modifiers[o].draw&&this.modifiers[o].draw(this,this.getModifierXShift(o));if(this.measure>0){this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);var s=this.context.measureText(""+this.measure).width;i=this.getYForTopText(0)+3,this.context.fillText(""+this.measure,this.x-s/2,i),this.context.restore()}return this}},{key:"drawVertical",value:function(t,e){this.drawVerticalFixed(this.x+t,e)}},{key:"drawVerticalFixed",value:function(t,e){this.checkContext();var n=this.getYForLine(0),i=this.getYForLine(this.options.num_lines-1);e&&this.context.fillRect(t-3,n,1,i-n+1),this.context.fillRect(t,n,1,i-n+1)}},{key:"drawVerticalBar",value:function(t){this.drawVerticalBarFixed(this.x+t,!1)}},{key:"drawVerticalBarFixed",value:function(t){this.checkContext();var e=this.getYForLine(0),n=this.getYForLine(this.options.num_lines-1);this.context.fillRect(t,e,1,n-e+1)}},{key:"getConfigForLines",value:function(){return this.options.line_config}},{key:"setConfigForLine",value:function(t,e){if(t>=this.options.num_lines||t<0)throw new o.Vex.RERR("StaveConfigError","The line number must be within the range of the number of lines in the Stave.");if(void 0===e.visible)throw new o.Vex.RERR("StaveConfigError","The line configuration object is missing the 'visible' property.");if("boolean"!=typeof e.visible)throw new o.Vex.RERR("StaveConfigError","The line configuration objects 'visible' property must be true or false.");return this.options.line_config[t]=e,this}},{key:"setConfigForLines",value:function(t){if(t.length!==this.options.num_lines)throw new o.Vex.RERR("StaveConfigError","The length of the lines configuration array must match the number of lines in the Stave");for(var e in t)t[e]||(t[e]=this.options.line_config[e]),o.Vex.Merge(this.options.line_config[e],t[e]);return this.options.line_config=t,this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Barline=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2),o=n(45);e.Barline=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.setAttribute("type","Barline"),n.thickness=r.Flow.STAVE_LINE_THICKNESS;var i=e.type;return n.widths={},n.widths[i.SINGLE]=5,n.widths[i.DOUBLE]=5,n.widths[i.END]=5,n.widths[i.REPEAT_BEGIN]=5,n.widths[i.REPEAT_END]=5,n.widths[i.REPEAT_BOTH]=5,n.widths[i.NONE]=5,n.paddings={},n.paddings[i.SINGLE]=0,n.paddings[i.DOUBLE]=0,n.paddings[i.END]=0,n.paddings[i.REPEAT_BEGIN]=15,n.paddings[i.REPEAT_END]=15,n.paddings[i.REPEAT_BOTH]=15,n.paddings[i.NONE]=0,n.setPosition(o.StaveModifier.Position.BEGIN),n.setType(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.StaveModifier),i(e,null,[{key:"CATEGORY",get:function(){return"barlines"}},{key:"type",get:function(){return{SINGLE:1,DOUBLE:2,END:3,REPEAT_BEGIN:4,REPEAT_END:5,REPEAT_BOTH:6,NONE:7}}},{key:"typeString",get:function(){return{single:e.type.SINGLE,double:e.type.DOUBLE,end:e.type.END,repeatBegin:e.type.REPEAT_BEGIN,repeatEnd:e.type.REPEAT_END,repeatBoth:e.type.REPEAT_BOTH,none:e.type.NONE}}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(t){return this.type="string"==typeof t?e.typeString[t]:t,this.setWidth(this.widths[this.type]),this.setPadding(this.paddings[this.type]),this}},{key:"draw",value:function(t){switch(t.checkContext(),this.setRendered(),this.type){case e.type.SINGLE:this.drawVerticalBar(t,this.x,!1);break;case e.type.DOUBLE:this.drawVerticalBar(t,this.x,!0);break;case e.type.END:this.drawVerticalEndBar(t,this.x);break;case e.type.REPEAT_BEGIN:this.drawRepeatBar(t,this.x,!0),t.getX()!==this.x&&this.drawVerticalBar(t,t.getX());break;case e.type.REPEAT_END:this.drawRepeatBar(t,this.x,!1);break;case e.type.REPEAT_BOTH:this.drawRepeatBar(t,this.x,!1),this.drawRepeatBar(t,this.x,!0)}}},{key:"drawVerticalBar",value:function(t,e,n){t.checkContext();var i=t.getTopLineTopY(),r=t.getBottomLineBottomY();n&&t.context.fillRect(e-3,i,1,r-i),t.context.fillRect(e,i,1,r-i)}},{key:"drawVerticalEndBar",value:function(t,e){t.checkContext();var n=t.getTopLineTopY(),i=t.getBottomLineBottomY();t.context.fillRect(e-5,n,1,i-n),t.context.fillRect(e-2,n,3,i-n)}},{key:"drawRepeatBar",value:function(t,e,n){t.checkContext();var i=t.getTopLineTopY(),r=t.getBottomLineBottomY(),o=3;n||(o=-5),t.context.fillRect(e+o,i,1,r-i),t.context.fillRect(e-2,i,3,r-i),n?o+=4:o-=4;var s=e+o+1,a=(t.getNumLines()-1)*t.getSpacingBetweenLines(),c=i+(a=a/2-t.getSpacingBetweenLines()/2)+1;t.context.beginPath(),t.context.arc(s,c,2,0,2*Math.PI,!1),t.context.fill(),c+=t.getSpacingBetweenLines(),t.context.beginPath(),t.context.arc(s,c,2,0,2*Math.PI,!1),t.context.fill()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaveModifier=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(5);e.StaveModifier=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setAttribute("type","StaveModifier"),t.padding=10,t.position=e.Position.ABOVE,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Element),i(e,null,[{key:"Position",get:function(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4,BEGIN:5,END:6}}}]),i(e,[{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position=t,this}},{key:"getStave",value:function(){return this.stave}},{key:"setStave",value:function(t){return this.stave=t,this}},{key:"getWidth",value:function(){return this.width}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"getX",value:function(){return this.x}},{key:"setX",value:function(t){return this.x=t,this}},{key:"getCategory",value:function(){return""}},{key:"makeSpacer",value:function(t){return{getContext:function(){return!0},setStave:function(){},renderToStave:function(){},getMetrics:function(){return{width:t}}}}},{key:"placeGlyphOnLine",value:function(t,e,n){t.setYShift(e.getYForLine(n)-e.getYForGlyphs())}},{key:"getPadding",value:function(t){return void 0!==t&&t<2?0:this.padding}},{key:"setPadding",value:function(t){return this.padding=t,this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Repetition=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(45),o=n(4);e.Repetition=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.setAttribute("type","Repetition"),r.symbol_type=t,r.x=n,r.x_shift=0,r.y_shift=i,r.font={family:"times",size:12,weight:"bold italic"},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.StaveModifier),i(e,null,[{key:"CATEGORY",get:function(){return"repetitions"}},{key:"type",get:function(){return{NONE:1,CODA_LEFT:2,CODA_RIGHT:3,SEGNO_LEFT:4,SEGNO_RIGHT:5,DC:6,DC_AL_CODA:7,DC_AL_FINE:8,DS:9,DS_AL_CODA:10,DS_AL_FINE:11,FINE:12}}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setShiftX",value:function(t){return this.x_shift=t,this}},{key:"setShiftY",value:function(t){return this.y_shift=t,this}},{key:"draw",value:function(t,n){switch(this.setRendered(),this.symbol_type){case e.type.CODA_RIGHT:this.drawCodaFixed(t,n+t.width);break;case e.type.CODA_LEFT:this.drawSymbolText(t,n,"Coda",!0);break;case e.type.SEGNO_LEFT:this.drawSignoFixed(t,n);break;case e.type.SEGNO_RIGHT:this.drawSignoFixed(t,n+t.width);break;case e.type.DC:this.drawSymbolText(t,n,"D.C.",!1);break;case e.type.DC_AL_CODA:this.drawSymbolText(t,n,"D.C. al",!0);break;case e.type.DC_AL_FINE:this.drawSymbolText(t,n,"D.C. al Fine",!1);break;case e.type.DS:this.drawSymbolText(t,n,"D.S.",!1);break;case e.type.DS_AL_CODA:this.drawSymbolText(t,n,"D.S. al",!0);break;case e.type.DS_AL_FINE:this.drawSymbolText(t,n,"D.S. al Fine",!1);break;case e.type.FINE:this.drawSymbolText(t,n,"Fine",!1)}return this}},{key:"drawCodaFixed",value:function(t,e){var n=t.getYForTopText(t.options.num_lines)+this.y_shift;return o.Glyph.renderGlyph(t.context,this.x+e+this.x_shift,n+25,40,"v4d",!0),this}},{key:"drawSignoFixed",value:function(t,e){var n=t.getYForTopText(t.options.num_lines)+this.y_shift;return o.Glyph.renderGlyph(t.context,this.x+e+this.x_shift,n+25,30,"v8c",!0),this}},{key:"drawSymbolText",value:function(t,n,i,r){var s=t.checkContext();s.save(),s.setFont(this.font.family,this.font.size,this.font.weight);var a=0+this.x_shift,c=n+this.x_shift;this.symbol_type===e.type.CODA_LEFT?c=(a=this.x+t.options.vertical_bar_width)+s.measureText(i).width+12:a=(c=this.x+n+t.width-5+this.x_shift)-+s.measureText(i).width-12;var u=t.getYForTopText(t.options.num_lines)+this.y_shift;return r&&o.Glyph.renderGlyph(s,c,u,40,"v4d",!0),s.fillText(i,a,u+5),s.restore(),this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaveSection=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(45);e.StaveSection=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.setAttribute("type","StaveSection"),r.setWidth(16),r.section=t,r.x=n,r.shift_x=0,r.shift_y=i,r.font={family:"sans-serif",size:12,weight:"bold"},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.StaveModifier),i(e,null,[{key:"CATEGORY",get:function(){return"stavesection"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setStaveSection",value:function(t){return this.section=t,this}},{key:"setShiftX",value:function(t){return this.shift_x=t,this}},{key:"setShiftY",value:function(t){return this.shift_y=t,this}},{key:"draw",value:function(t,e){var n=t.checkContext();this.setRendered(),n.save(),n.lineWidth=2,n.setFont(this.font.family,this.font.size,this.font.weight);var i=n.measureText(""+this.section).width,r=i+6;r<18&&(r=18);var o=t.getYForTopText(3)+this.shift_y,s=this.x+e;return n.beginPath(),n.lineWidth=2,n.rect(s,o,r,20),n.stroke(),s+=(r-i)/2,n.fillText(""+this.section,s,o+16),n.restore(),this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaveTempo=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2),o=n(25),s=n(45),a=n(4);e.StaveTempo=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.setAttribute("type","StaveTempo"),r.tempo=t,r.position=o.Modifier.Position.ABOVE,r.x=n,r.shift_x=10,r.shift_y=i,r.font={family:"times",size:14,weight:"bold"},r.render_options={glyph_font_scale:30},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.StaveModifier),i(e,null,[{key:"CATEGORY",get:function(){return"stavetempo"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setTempo",value:function(t){return this.tempo=t,this}},{key:"setShiftX",value:function(t){return this.shift_x=t,this}},{key:"setShiftY",value:function(t){return this.shift_y=t,this}},{key:"draw",value:function(t,e){var n=t.checkContext();this.setRendered();var i=this.render_options,o=i.glyph_font_scale/38,s=this.tempo.name,c=this.tempo.duration,u=this.tempo.dots,l=this.tempo.bpm,h=this.font,f=this.x+this.shift_x+e,d=t.getYForTopText(1)+this.shift_y;if(n.save(),s&&(n.setFont(h.family,h.size,h.weight),n.fillText(s,f,d),f+=n.measureText(s).width),c&&l){n.setFont(h.family,h.size,"normal"),s&&(f+=n.measureText(" ").width,n.fillText("(",f,d),f+=n.measureText("(").width);var p=r.Flow.durationToGlyph(c);if(f+=3*o,a.Glyph.renderGlyph(n,f,d,i.glyph_font_scale,p.code_head),f+=p.getWidth()*o,p.stem){var m=30;p.beam_count&&(m+=3*(p.beam_count-1));var b=d-(m*=o);n.fillRect(f-o,b,o,m),p.flag&&(a.Glyph.renderGlyph(n,f,b,i.glyph_font_scale,p.code_flag_upstem),u||(f+=6*o))}for(var g=0;g<u;g++)f+=6*o,n.beginPath(),n.arc(f,d+2*o,2*o,0,2*Math.PI,!1),n.fill();n.fillText(" = "+l+(s?")":""),f+3*o,d)}return n.restore(),this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaveText=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(45),s=n(50);e.StaveText=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.setAttribute("type","StaveText"),o.setWidth(16),o.text=t,o.position=n,o.options={shift_x:0,shift_y:0,justification:s.TextNote.Justification.CENTER},r.Vex.Merge(o.options,i),o.font={family:"times",size:16,weight:"normal"},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.StaveModifier),i(e,null,[{key:"CATEGORY",get:function(){return"stavetext"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setStaveText",value:function(t){return this.text=t,this}},{key:"setShiftX",value:function(t){return this.shift_x=t,this}},{key:"setShiftY",value:function(t){return this.shift_y=t,this}},{key:"setFont",value:function(t){r.Vex.Merge(this.font,t)}},{key:"setText",value:function(t){this.text=t}},{key:"draw",value:function(t){var e=t.checkContext();this.setRendered(),e.save(),e.lineWidth=2,e.setFont(this.font.family,this.font.size,this.font.weight);var n=e.measureText(""+this.text).width,i=void 0,a=void 0,c=o.StaveModifier.Position,u=s.TextNote.Justification;switch(this.position){case c.LEFT:case c.RIGHT:a=(t.getYForLine(0)+t.getBottomLineY())/2+this.options.shift_y,i=this.position===c.LEFT?t.getX()-n-24+this.options.shift_x:t.getX()+t.getWidth()+24+this.options.shift_x;break;case c.ABOVE:case c.BELOW:i=t.getX()+this.options.shift_x,this.options.justification===u.CENTER?i+=t.getWidth()/2-n/2:this.options.justification===u.RIGHT&&(i+=t.getWidth()-n),a=this.position===c.ABOVE?t.getYForTopText(2)+this.options.shift_y:t.getYForBottomText(2)+this.options.shift_y;break;default:throw new r.Vex.RERR("InvalidPosition","Value Must be in Modifier.Position.")}return e.fillText(""+this.text,i,a+4),e.restore(),this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextNote=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(2),s=n(22),a=n(4);e.TextNote=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(n.setAttribute("type","TextNote"),n.text=t.text,n.superscript=t.superscript,n.subscript=t.subscript,n.glyph_type=t.glyph,n.glyph=null,n.font={family:"Arial",size:12,weight:""},t.font&&(n.font=t.font),n.glyph_type){var i=e.GLYPHS[n.glyph_type];if(!i)throw new r.Vex.RERR("Invalid glyph type: "+n.glyph_type);n.glyph=new a.Glyph(i.code,i.point,{cache:!1}),i.width?n.setWidth(i.width):n.setWidth(n.glyph.getMetrics().width),n.glyph_struct=i}else n.setWidth(o.Flow.textWidth(n.text));return n.line=t.line||0,n.smooth=t.smooth||!1,n.ignore_ticks=t.ignore_ticks||!1,n.justification=e.Justification.LEFT,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Note),i(e,null,[{key:"Justification",get:function(){return{LEFT:1,CENTER:2,RIGHT:3}}},{key:"GLYPHS",get:function(){return{segno:{code:"v8c",point:40,x_shift:0,y_shift:-10},tr:{code:"v1f",point:40,x_shift:0,y_shift:0},mordent_upper:{code:"v1e",point:40,x_shift:0,y_shift:0},mordent_lower:{code:"v45",point:40,x_shift:0,y_shift:0},f:{code:"vba",point:40,x_shift:0,y_shift:0},p:{code:"vbf",point:40,x_shift:0,y_shift:0},m:{code:"v62",point:40,x_shift:0,y_shift:0},s:{code:"v4a",point:40,x_shift:0,y_shift:0},z:{code:"v80",point:40,x_shift:0,y_shift:0},coda:{code:"v4d",point:40,x_shift:0,y_shift:-8},pedal_open:{code:"v36",point:40,x_shift:0,y_shift:0},pedal_close:{code:"v5d",point:40,x_shift:0,y_shift:3},caesura_straight:{code:"v34",point:40,x_shift:0,y_shift:2},caesura_curved:{code:"v4b",point:40,x_shift:0,y_shift:2},breath:{code:"v6c",point:40,x_shift:0,y_shift:0},tick:{code:"v6f",point:50,x_shift:0,y_shift:0},turn:{code:"v72",point:40,x_shift:0,y_shift:0},turn_inverted:{code:"v33",point:40,x_shift:0,y_shift:0},mordent:{code:"v1e",point:40,x_shift:0,y_shift:0}}}}]),i(e,[{key:"setJustification",value:function(t){return this.justification=t,this}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"preFormat",value:function(){this.checkContext(),this.preFormatted||(this.smooth?this.setWidth(0):this.glyph||this.setWidth(this.context.measureText(this.text).width),this.justification===e.Justification.CENTER?this.extraLeftPx=this.width/2:this.justification===e.Justification.RIGHT&&(this.extraLeftPx=this.width),this.setPreFormatted(!0))}},{key:"draw",value:function(){if(this.checkContext(),!this.stave)throw new r.Vex.RERR("NoStave","Can't draw without a stave.");this.setRendered();var t=this.context,n=this.getAbsoluteX();this.justification===e.Justification.CENTER?n-=this.getWidth()/2:this.justification===e.Justification.RIGHT&&(n-=this.getWidth());var i=void 0;if(this.glyph)i=this.stave.getYForLine(this.line+-3),this.glyph.render(this.context,n+this.glyph_struct.x_shift,i+this.glyph_struct.y_shift);else{i=this.stave.getYForLine(this.line+-3),t.save(),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(this.text,n,i);var o=t.measureText("M").width,s=t.measureText(this.text).width;this.superscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.superscript,n+s+2,i-o/2.2)),this.subscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.subscript,n+s+2,i+o/2.2-1)),t.restore()}}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.DEBUG&&o.Vex.L("Vex.Flow.Clef",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Clef=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(45),a=n(4),c=e.Clef=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.setAttribute("type","Clef"),o.setPosition(s.StaveModifier.Position.BEGIN),o.setType(t,n,r),o.setWidth(o.glyph.getMetrics().width),i("Creating clef:",t),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.StaveModifier),r(e,null,[{key:"CATEGORY",get:function(){return"clefs"}},{key:"types",get:function(){return{treble:{code:"v83",line:3},bass:{code:"v79",line:1},alto:{code:"vad",line:2},tenor:{code:"vad",line:1},percussion:{code:"v59",line:2},soprano:{code:"vad",line:4},"mezzo-soprano":{code:"vad",line:3},"baritone-c":{code:"vad",line:0},"baritone-f":{code:"v79",line:2},subbass:{code:"v79",line:0},french:{code:"v83",line:4},tab:{code:"v2f"}}}},{key:"sizes",get:function(){return{default:40,small:32}}},{key:"annotations",get:function(){return{"8va":{code:"v8",sizes:{default:{point:20,attachments:{treble:{line:-1.2,x_shift:11}}},small:{point:18,attachments:{treble:{line:-.4,x_shift:8}}}}},"8vb":{code:"v8",sizes:{default:{point:20,attachments:{treble:{line:6.3,x_shift:10},bass:{line:4,x_shift:1}}},small:{point:18,attachments:{treble:{line:5.8,x_shift:6},bass:{line:3.5,x_shift:.5}}}}}}}}]),r(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setType",value:function(t,n,i){if(this.type=t,this.clef=e.types[t],this.size=void 0===n?"default":n,this.clef.point=e.sizes[this.size],this.glyph=new a.Glyph(this.clef.code,this.clef.point),void 0!==i){var r=e.annotations[i];this.annotation={code:r.code,point:r.sizes[this.size].point,line:r.sizes[this.size].attachments[this.type].line,x_shift:r.sizes[this.size].attachments[this.type].x_shift},this.attachment=new a.Glyph(this.annotation.code,this.annotation.point),this.attachment.metrics.x_max=0,this.attachment.setXShift(this.annotation.x_shift)}else this.annotation=void 0;return this}},{key:"getWidth",value:function(){if("tab"===this.type&&!this.stave)throw new o.Vex.RERR("ClefError","Can't get width without stave.");return this.width}},{key:"setStave",value:function(t){if(this.stave=t,"tab"!==this.type)return this;var e=void 0,n=void 0,i=this.stave.getOptions().num_lines;switch(i){case 8:e=55,n=14;break;case 7:e=47,n=8;break;case 6:e=40,n=1;break;case 5:e=30,n=-6;break;case 4:e=23,n=-12;break;default:throw new o.Vex.RERR("ClefError","Invalid number of lines: "+i)}return this.glyph.setPoint(e),this.glyph.setYShift(n),this}},{key:"draw",value:function(){if(!this.x)throw new o.Vex.RERR("ClefError","Can't draw clef without x.");if(!this.stave)throw new o.Vex.RERR("ClefError","Can't draw clef without stave.");this.setRendered(),this.glyph.setStave(this.stave),this.glyph.setContext(this.stave.context),void 0!==this.clef.line&&this.placeGlyphOnLine(this.glyph,this.stave,this.clef.line),this.glyph.renderToStave(this.x),void 0!==this.annotation&&(this.placeGlyphOnLine(this.attachment,this.stave,this.annotation.line),this.attachment.setStave(this.stave),this.attachment.setContext(this.stave.context),this.attachment.renderToStave(this.x))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeySignature=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(2),s=n(45),a=n(4);e.KeySignature=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.setAttribute("type","KeySignature"),r.setKeySig(t,n,i),r.setPosition(s.StaveModifier.Position.BEGIN),r.glyphFontScale=38,r.glyphs=[],r.xPositions=[],r.paddingForced=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.StaveModifier),i(e,null,[{key:"CATEGORY",get:function(){return"keysignatures"}},{key:"accidentalSpacing",get:function(){return{"#":{above:6,below:4},b:{above:4,below:7},n:{above:4,below:1},"##":{above:6,below:4},bb:{above:4,below:7},db:{above:4,below:7},d:{above:4,below:7},bbs:{above:4,below:7},"++":{above:6,below:4},"+":{above:6,below:4},"+-":{above:6,below:4},"++-":{above:6,below:4},bs:{above:4,below:10},bss:{above:4,below:10}}}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"convertToGlyph",value:function(t,n){var i=o.Flow.accidentalCodes(t.type),r=new a.Glyph(i.code,this.glyphFontScale),s=1;if("n"===t.type&&n){var c=e.accidentalSpacing[n.type];c&&(s=n.line>=t.line?c.above:c.below)}this.placeGlyphOnLine(r,this.stave,t.line),this.glyphs.push(r);var u=this.xPositions[this.xPositions.length-1],l=r.getMetrics().width+s;this.xPositions.push(u+l),this.width+=l}},{key:"cancelKey",value:function(t){return this.formatted=!1,this.cancelKeySpec=t,this}},{key:"convertToCancelAccList",value:function(t){var e=o.Flow.keySignature(t),n=this.accList.length>0&&e.length>0&&e[0].type!==this.accList[0].type,i=n?e.length:e.length-this.accList.length;if(!(i<1)){for(var r=[],s=0;s<i;s++){var a=s;n||(a=e.length-i+s);var c=e[a];r.push({type:"n",line:c.line})}this.accList=r.concat(this.accList)}}},{key:"addToStave",value:function(t){return this.paddingForced=!0,t.addModifier(this),this}},{key:"convertAccLines",value:function(t,e){var n=0,i=void 0;switch(t){case"soprano":"#"===e?i=[2.5,.5,2,0,1.5,-.5,1]:n=-1;break;case"mezzo-soprano":"b"===e?i=[0,2,.5,2.5,1,3,1.5]:n=1.5;break;case"alto":n=.5;break;case"tenor":"#"===e?i=[3,1,2.5,.5,2,0,1.5]:n=-.5;break;case"baritone-f":case"baritone-c":"b"===e?i=[.5,2.5,1,3,1.5,3.5,2]:n=2;break;case"bass":case"french":n=1}var r=void 0;if(void 0!==i)for(r=0;r<this.accList.length;++r)this.accList[r].line=i[r];else if(0!==n)for(r=0;r<this.accList.length;++r)this.accList[r].line+=n}},{key:"getPadding",value:function(t){return this.formatted||this.format(),0===this.glyphs.length||!this.paddingForced&&t<2?0:this.padding}},{key:"getWidth",value:function(){return this.formatted||this.format(),this.width}},{key:"setKeySig",value:function(t,e,n){return this.formatted=!1,this.keySpec=t,this.cancelKeySpec=e,this.alterKeySpec=n,this}},{key:"alterKey",value:function(t){return this.formatted=!1,this.alterKeySpec=t,this}},{key:"convertToAlterAccList",value:function(t){for(var e=Math.min(t.length,this.accList.length),n=0;n<e;++n)t[n]&&(this.accList[n].type=t[n])}},{key:"format",value:function(){if(!this.stave)throw new r.Vex.RERR("KeySignatureError","Can't draw key signature without stave.");this.width=0,this.glyphs=[],this.xPositions=[0],this.accList=o.Flow.keySignature(this.keySpec),this.cancelKeySpec&&this.convertToCancelAccList(this.cancelKeySpec);var t=this.accList.length>0?this.accList[0].type:null;if(this.alterKeySpec&&this.convertToAlterAccList(this.alterKeySpec),this.accList.length>0){this.convertAccLines(this.stave.clef,t);for(var e=0;e<this.accList.length;++e)this.convertToGlyph(this.accList[e],this.accList[e+1])}this.formatted=!0}},{key:"draw",value:function(){if(!this.x)throw new r.Vex.RERR("KeySignatureError","Can't draw key signature without x.");if(!this.stave)throw new r.Vex.RERR("KeySignatureError","Can't draw key signature without stave.");this.formatted||this.format(),this.setRendered();for(var t=0;t<this.glyphs.length;t++){var e=this.glyphs[t],n=this.x+this.xPositions[t];e.setStave(this.stave),e.setContext(this.stave.context),e.renderToStave(n)}}}]),e}()},function(t,e,n){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0}),e.TimeSignature=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(4),c=n(45);e.TimeSignature=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?15:arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(r.setAttribute("type","TimeSignature"),null===t)return i(r);var o=n;return r.point=40,r.topLine=2,r.bottomLine=4,r.setPosition(c.StaveModifier.Position.BEGIN),r.setTimeSig(t),r.setWidth(r.timeSig.glyph.getMetrics().width),r.setPadding(o),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.StaveModifier),o(e,null,[{key:"CATEGORY",get:function(){return"timesignatures"}},{key:"glyphs",get:function(){return{C:{code:"v41",point:40,line:2},"C|":{code:"vb6",point:40,line:2}}}}]),o(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"parseTimeSpec",value:function(t){if("C"===t||"C|"===t){var n=e.glyphs[t],i=n.line,o=n.code,c=n.point;return{line:i,num:!1,glyph:new a.Glyph(o,c)}}!function(t){var e=t.split("/").filter(function(t){return""!==t});if(2!==e.length)throw new s.Vex.RERR("BadTimeSignature","Invalid time spec: "+t+'. Must be in the form "<numerator>/<denominator>"');e.forEach(function(e){if(isNaN(Number(e)))throw new s.Vex.RERR("BadTimeSignature","Invalid time spec: "+t+". Must contain two valid numbers.")})}(t);var u=t.split("/").map(function(t){return t.split("")}),l=r(u,2),h=l[0],f=l[1];return{num:!0,glyph:this.makeTimeSignatureGlyph(h,f)}}},{key:"makeTimeSignatureGlyph",value:function(t,e){var n=new a.Glyph("v0",this.point);n.topGlyphs=[],n.botGlyphs=[];for(var i=0,r=0;r<t.length;++r){var o=t[r],s=new a.Glyph("v"+o,this.point);n.topGlyphs.push(s),i+=s.getMetrics().width}for(var c=0,u=0;u<e.length;++u){var l=e[u],h=new a.Glyph("v"+l,this.point);n.botGlyphs.push(h),c+=h.getMetrics().width}var f=i>c?i:c,d=n.getMetrics().x_min;n.getMetrics=function(){return{x_min:d,x_max:d+f,width:f}};var p=(f-i)/2,m=(f-c)/2,b=this;return n.renderToStave=function(t){for(var e=t+p,n=0;n<this.topGlyphs.length;++n){var i=this.topGlyphs[n];a.Glyph.renderOutline(this.context,i.metrics.outline,i.scale,e+i.x_shift,this.stave.getYForLine(b.topLine)+1),e+=i.getMetrics().width}e=t+m;for(var r=0;r<this.botGlyphs.length;++r){var o=this.botGlyphs[r];b.placeGlyphOnLine(o,this.stave,o.line),a.Glyph.renderOutline(this.context,o.metrics.outline,o.scale,e+o.x_shift,this.stave.getYForLine(b.bottomLine)+1),e+=o.getMetrics().width}},n}},{key:"getTimeSig",value:function(){return this.timeSig}},{key:"setTimeSig",value:function(t){return this.timeSig=this.parseTimeSpec(t),this}},{key:"draw",value:function(){if(!this.x)throw new s.Vex.RERR("TimeSignatureError","Can't draw time signature without x.");if(!this.stave)throw new s.Vex.RERR("TimeSignatureError","Can't draw time signature without stave.");this.setRendered(),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setContext(this.stave.context),this.placeGlyphOnLine(this.timeSig.glyph,this.stave,this.timeSig.line),this.timeSig.glyph.renderToStave(this.x)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Volta=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(45);e.Volta=function(t){function e(t,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.setAttribute("type","Volta"),o.volta=t,o.x=i,o.y_shift=r,o.number=n,o.font={family:"sans-serif",size:9,weight:"bold"},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.StaveModifier),i(e,null,[{key:"CATEGORY",get:function(){return"voltas"}},{key:"type",get:function(){return{NONE:1,BEGIN:2,MID:3,END:4,BEGIN_END:5}}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setShiftY",value:function(t){return this.y_shift=t,this}},{key:"draw",value:function(t,n){var i=t.checkContext();this.setRendered();var r=t.width,o=t.getYForTopText(t.options.num_lines)+this.y_shift,s=1.5*t.options.spacing_between_lines_px;switch(this.volta){case e.type.BEGIN:i.fillRect(this.x+n,o,1,s);break;case e.type.END:r-=5,i.fillRect(this.x+n+r,o,1,s);break;case e.type.BEGIN_END:r-=3,i.fillRect(this.x+n,o,1,s),i.fillRect(this.x+n+r,o,1,s)}return this.volta!==e.type.BEGIN&&this.volta!==e.type.BEGIN_END||(i.save(),i.setFont(this.font.family,this.font.size,this.font.weight),i.fillText(this.number,this.x+n+5,o+15),i.restore()),i.fillRect(this.x+n,o,r,1),this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabStave=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(43);e.TabStave=function(t){function e(t,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s={spacing_between_lines_px:13,num_lines:6,top_text_position:1};r.Vex.Merge(s,o);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,s));return a.setAttribute("type","TabStave"),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Stave),i(e,[{key:"getYForGlyphs",value:function(){return this.getYForLine(2.5)}},{key:"addTabGlyph",value:function(){return this.addClef("tab"),this}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabNote=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(2),s=n(25),a=n(17),c=n(24),u=n(26),l=n(4);e.TabNote=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(i.setAttribute("type","TabNote"),i.ghost=!1,i.positions=t.positions,r.Vex.Merge(i.render_options,{glyph_font_scale:o.Flow.DEFAULT_TABLATURE_FONT_SCALE,draw_stem:n,draw_dots:n,draw_stem_through_stave:!1,y_shift:0,scale:1,font:"10pt Arial"}),i.glyph=o.Flow.durationToGlyph(i.duration,i.noteType),!i.glyph)throw new r.Vex.RuntimeError("BadArguments","Invalid note initialization data (No glyph found): "+JSON.stringify(t));return i.buildStem(),t.stem_direction?i.setStemDirection(t.stem_direction):i.setStemDirection(a.Stem.UP),i.ghost=!1,i.updateWidth(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.StemmableNote),i(e,null,[{key:"CATEGORY",get:function(){return"tabnotes"}}]),i(e,[{key:"reset",value:function(){this.stave&&this.setStave(this.stave)}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setGhost",value:function(t){return this.ghost=t,this.updateWidth(),this}},{key:"hasStem",value:function(){return this.render_options.draw_stem}},{key:"getStemExtension",value:function(){var t=this.getGlyph();return null!=this.stem_extension_override?this.stem_extension_override:t?1===this.getStemDirection()?t.tabnote_stem_up_extension:t.tabnote_stem_down_extension:0}},{key:"addDot",value:function(){var t=new u.Dot;return this.dots+=1,this.addModifier(t,0)}},{key:"updateWidth",value:function(){var t=this;this.glyphs=[],this.width=0;for(var e=0;e<this.positions.length;++e){var n=this.positions[e].fret;this.ghost&&(n="("+n+")");var i=o.Flow.tabToGlyph(n,this.render_options.scale);this.glyphs.push(i),this.width=Math.max(i.getWidth(),this.width)}this.glyph.getWidth=function(){return t.width}}},{key:"setStave",value:function(t){var n=this;(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setStave",this).call(this,t),this.context=t.context;var i=void 0;if(this.context){var r=this.context;this.width=0;for(i=0;i<this.glyphs.length;++i)!function(){var t=n.glyphs[i],e=""+t.text;"X"!==e.toUpperCase()&&(r.save(),r.setRawFont(n.render_options.font),t.width=r.measureText(e).width,r.restore(),t.getWidth=function(){return t.width}),n.width=Math.max(t.getWidth(),n.width)}();this.glyph.getWidth=function(){return n.width}}var o=this.positions.map(function(e){var n=e.str;return t.getYForLine(n-1)});return this.setYs(o),this.stem&&this.stem.setYBounds(this.getStemY(),this.getStemY()),this}},{key:"getPositions",value:function(){return this.positions}},{key:"addToModifierContext",value:function(t){this.setModifierContext(t);for(var e=0;e<this.modifiers.length;++e)this.modifierContext.addModifier(this.modifiers[e]);return this.modifierContext.addModifier(this),this.preFormatted=!1,this}},{key:"getTieRightX",value:function(){var t=this.getAbsoluteX();return t+=this.glyph.getWidth()/2,t+=-this.width/2+this.width+2}},{key:"getTieLeftX",value:function(){var t=this.getAbsoluteX();return t+=this.glyph.getWidth()/2,t-=this.width/2+2}},{key:"getModifierStartXY",value:function(t,e){if(!this.preFormatted)throw new r.Vex.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");if(0===this.ys.length)throw new r.Vex.RERR("NoYValues","No Y-Values calculated for this note.");var n=0;return t===s.Modifier.Position.LEFT?n=-2:t===s.Modifier.Position.RIGHT?n=this.width+2:t!==s.Modifier.Position.BELOW&&t!==s.Modifier.Position.ABOVE||(n=this.glyph.getWidth()/2),{x:this.getAbsoluteX()+n,y:this.ys[e]}}},{key:"getLineForRest",value:function(){return this.positions[0].str}},{key:"preFormat",value:function(){this.preFormatted||(this.modifierContext&&this.modifierContext.preFormat(),this.setPreFormatted(!0))}},{key:"getStemX",value:function(){return this.getCenterGlyphX()}},{key:"getStemY",value:function(){var t=this.stave.getNumLines()-.5,e=a.Stem.UP===this.stem_direction?-.5:t;return this.stave.getYForLine(e)}},{key:"getStemExtents",value:function(){return this.stem.getExtents()}},{key:"drawFlag",value:function(){var t=this.beam,e=this.glyph,n=this.context,i=this.stem,r=this.stem_direction,o=this.render_options,s=o.draw_stem,c=o.glyph_font_scale,u=null==t&&s;if(e.flag&&u){var h=this.getStemX()+1,f=this.getStemY()-i.getHeight(),d=r===a.Stem.DOWN?e.code_flag_downstem:e.code_flag_upstem;l.Glyph.renderGlyph(n,h,f,c,d)}}},{key:"drawModifiers",value:function(){var t=this;this.modifiers.forEach(function(e){("dots"!==e.getCategory()||t.render_options.draw_dots)&&(e.setContext(t.context),e.draw())})}},{key:"drawStemThrough",value:function(){var t=this.getStemX(),e=this.getStemY(),n=this.context,i=this.render_options.draw_stem_through_stave;if(this.render_options.draw_stem&&i){var r=function(t,e,n,i){var r=1!==i,o=-1!==i,s=n.getSpacingBetweenLines(),a=n.getNumLines(),c=[];return e.forEach(function(e){var u=e.indexOf(a)>-1,l=e.indexOf(1)>-1;if(!(r&&l||o&&u)){1===e.length&&e.push(e[0]);var h=[];e.forEach(function(e,r,o){var c=1===e,u=e===a,l=n.getYForLine(e-1);0!==r||c?r!==o.length-1||u||(l+=s/2-1):l-=s/2-1,h.push(l),1===i&&c?h.push(t-2):-1===i&&u&&h.push(t+2)}),c.push(h.sort(function(t,e){return t-e}))}}),c}(e,function(t,e){for(var n=[],i=[],r=1;r<=t;r++)e.indexOf(r)>-1?(n.push(i),i=[]):i.push(r);return i.length>0&&n.push(i),n}(this.stave.getNumLines(),this.positions.map(function(t){return t.str})),this.getStave(),this.getStemDirection());n.save(),n.setLineWidth(a.Stem.WIDTH),r.forEach(function(e){0!==e.length&&(n.beginPath(),n.moveTo(t,e[0]),n.lineTo(t,e[e.length-1]),n.stroke(),n.closePath())}),n.restore()}}},{key:"drawPositions",value:function(){for(var t=this.context,e=this.getAbsoluteX(),n=this.ys,i=0;i<this.positions.length;++i){var r=n[i]+this.render_options.y_shift,o=this.glyphs[i],s=e+this.glyph.getWidth()/2-o.getWidth()/2;if(t.clearRect(s-2,r-3,o.getWidth()+4,6),o.code)l.Glyph.renderGlyph(t,s,r,this.render_options.glyph_font_scale*this.render_options.scale,o.code);else{t.save(),t.setRawFont(this.render_options.font);var a=o.text.toString();t.fillText(a,s,r+5*this.render_options.scale),t.restore()}}}},{key:"draw",value:function(){if(this.checkContext(),!this.stave)throw new r.Vex.RERR("NoStave","Can't draw without a stave.");if(0===this.ys.length)throw new r.Vex.RERR("NoYValues","Can't draw note without Y values.");this.setRendered();var t=null==this.beam&&this.render_options.draw_stem;this.drawPositions(),this.drawStemThrough();var e=this.getStemX();this.stem.setNoteHeadXBounds(e,e),t&&(this.context.openGroup("stem",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()),this.drawFlag(),this.drawModifiers()}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.DEBUG&&o.Vex.L("Vex.Flow.VibratoBracket",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VibratoBracket=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(5),a=n(42),c=e.VibratoBracket=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","VibratoBracket"),n.start=t.start,n.stop=t.stop,n.line=1,n.render_options={harsh:!1,wave_height:6,wave_width:4,wave_girth:2},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Element),r(e,[{key:"setLine",value:function(t){return this.line=t,this}},{key:"setHarsh",value:function(t){return this.render_options.harsh=t,this}},{key:"draw",value:function(){var t=this.context;this.setRendered();var e=this.start?this.start.getStave().getYForTopText(this.line):this.stop.getStave().getYForTopText(this.line),n=this.start?this.start.getAbsoluteX():this.stop.getStave().getTieStartX(),r=this.stop?this.stop.getAbsoluteX()-this.stop.getWidth()-5:this.start.getStave().getTieEndX()-10;this.render_options.vibrato_width=r-n,i("Rendering VibratoBracket: start_x:",n,"stop_x:",r,"y:",e),a.Vibrato.renderVibrato(t,n,e,this.render_options)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClefNote=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(8),s=n(22),a=n(51),c=n(4);e.ClefNote=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:"b"}));return r.setAttribute("type","ClefNote"),r.setType(t,n,i),r.ignore_ticks=!0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Note),i(e,null,[{key:"CATEGORY",get:function(){return"clefnote"}}]),i(e,[{key:"setType",value:function(t,e,n){return this.type=t,this.clef_obj=new a.Clef(t,e,n),this.clef=this.clef_obj.clef,this.glyph=new c.Glyph(this.clef.code,this.clef.point),this.setWidth(this.glyph.getMetrics().width),this}},{key:"getClef",value:function(){return this.clef}},{key:"setContext",value:function(t){return this.context=t,this.glyph.setContext(this.context),this}},{key:"getBoundingBox",value:function(){return new o.BoundingBox(0,0,0,0)}},{key:"addToModifierContext",value:function(){return this}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){if(!this.stave)throw new r.Vex.RERR("NoStave","Can't draw without a stave.");this.glyph.getContext()||this.glyph.setContext(this.context),this.setRendered();var t=this.getAbsoluteX();if(this.glyph.setStave(this.stave),this.glyph.setYShift(this.stave.getYForLine(this.clef.line)-this.stave.getYForGlyphs()),this.glyph.renderToStave(t),void 0!==this.clef_obj.annotation){var e=new c.Glyph(this.clef_obj.annotation.code,this.clef_obj.annotation.point);e.getContext()||e.setContext(this.context),e.setStave(this.stave),e.setYShift(this.stave.getYForLine(this.clef_obj.annotation.line)-this.stave.getYForGlyphs()),e.setXShift(this.clef_obj.annotation.x_shift),e.renderToStave(t)}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeSigNote=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(8),o=n(22),s=n(53);e.TimeSigNote=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:"b"}));i.setAttribute("type","TimeSigNote");var r=new s.TimeSignature(t,n);return i.timeSig=r.getTimeSig(),i.setWidth(i.timeSig.glyph.getMetrics().width),i.ignore_ticks=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Note),i(e,[{key:"getBoundingBox",value:function(){return new r.BoundingBox(0,0,0,0)}},{key:"addToModifierContext",value:function(){return this}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){this.stave.checkContext(),this.setRendered(),this.timeSig.glyph.getContext()||this.timeSig.glyph.setContext(this.context),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setYShift(this.stave.getYForLine(this.timeSig.line)-this.stave.getYForGlyphs()),this.timeSig.glyph.renderToStave(this.getAbsoluteX())}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabSlide=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(34);e.TabSlide=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"sl."));if(i.setAttribute("type","TabSlide"),!n){var r=t.first_note.getPositions()[0].fret,o=t.last_note.getPositions()[0].fret;n=parseInt(r,10)>parseInt(o,10)?e.SLIDE_DOWN:e.SLIDE_UP}return i.slide_direction=n,i.render_options.cp1=11,i.render_options.cp2=14,i.render_options.y_shift=.5,i.setFont({font:"Times",size:10,style:"bold italic"}),i.setNotes(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.TabTie),i(e,null,[{key:"createSlideUp",value:function(t){return new e(t,e.SLIDE_UP)}},{key:"createSlideDown",value:function(t){return new e(t,e.SLIDE_DOWN)}},{key:"SLIDE_UP",get:function(){return 1}},{key:"SLIDE_DOWN",get:function(){return-1}}]),i(e,[{key:"renderTie",value:function(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new r.Vex.RERR("BadArguments","No Y-values to render");var n=this.context,i=t.first_x_px,o=t.first_ys,s=t.last_x_px,a=this.slide_direction;if(a!==e.SLIDE_UP&&a!==e.SLIDE_DOWN)throw new r.Vex.RERR("BadSlide","Invalid slide direction");for(var c=0;c<this.first_indices.length;++c){var u=o[this.first_indices[c]]+this.render_options.y_shift;if(isNaN(u))throw new r.Vex.RERR("BadArguments","Bad indices for slide rendering.");n.beginPath(),n.moveTo(i,u+3*a),n.lineTo(s,u-3*a),n.closePath(),n.stroke()}this.setRendered()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraceNote=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(20),s=n(2);e.GraceNote=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i(t,{glyph_font_scale:s.Flow.DEFAULT_NOTATION_FONT_SCALE*e.SCALE,stroke_px:e.LEDGER_LINE_OFFSET})));return n.setAttribute("type","GraceNote"),n.slash=t.slash,n.slur=!0,n.buildNoteHeads(),n.width=3,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.StaveNote),r(e,null,[{key:"CATEGORY",get:function(){return"gracenotes"}},{key:"LEDGER_LINE_OFFSET",get:function(){return 2}},{key:"SCALE",get:function(){return.66}}]),r(e,[{key:"getStemExtension",value:function(){var t=this.getGlyph();return null!=this.stem_extension_override?this.stem_extension_override:t?1===this.getStemDirection()?t.gracenote_stem_up_extension:t.gracenote_stem_down_extension:0}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this),this.setRendered();var t=this.context,n=this.getStemDirection();if(this.slash){t.beginPath();var i=this.getAbsoluteX(),r=this.getYs()[0]-this.stem.getHeight()/2.8;1===n?(i+=1,t.moveTo(i,r),t.lineTo(i+13,r-9)):-1===n&&(i-=4,r+=1,t.moveTo(i,r),t.lineTo(i+13,r+9)),t.closePath(),t.stroke()}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraceTabNote=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(56);e.GraceTabNote=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,!1));return n.setAttribute("type","GraceTabNote"),r.Vex.Merge(n.render_options,{y_shift:.3,scale:.6,font:"7.5pt Arial"}),n.updateWidth(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.TabNote),i(e,null,[{key:"CATEGORY",get:function(){return"gracetabnotes"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this),this.setRendered()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tuning=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(2);e.Tuning=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?"E/5,B/4,G/4,D/4,A/3,E/3,B/2,E/2":arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setTuning(e)}return i(t,null,[{key:"names",get:function(){return{standard:"E/5,B/4,G/4,D/4,A/3,E/3",dagdad:"D/5,A/4,G/4,D/4,A/3,D/3",dropd:"E/5,B/4,G/4,D/4,A/3,D/3",eb:"Eb/5,Bb/4,Gb/4,Db/4,Ab/3,Db/3",standardBanjo:"D/5,B/4,G/4,D/4,G/5"}}}]),i(t,[{key:"noteToInteger",value:function(t){return o.Flow.keyProperties(t).int_value}},{key:"setTuning",value:function(e){t.names[e]&&(e=t.names[e]),this.tuningString=e,this.tuningValues=[],this.numStrings=0;var n=e.split(/\s*,\s*/);if(0===n.length)throw new r.Vex.RERR("BadArguments","Invalid tuning string: "+e);this.numStrings=n.length;for(var i=0;i<this.numStrings;++i)this.tuningValues[i]=this.noteToInteger(n[i])}},{key:"getValueForString",value:function(t){var e=parseInt(t,10);if(e<1||e>this.numStrings)throw new r.Vex.RERR("BadArguments","String number must be between 1 and "+this.numStrings+":"+t);return this.tuningValues[e-1]}},{key:"getValueForFret",value:function(t,e){var n=this.getValueForString(e),i=parseInt(t,10);if(i<0)throw new r.Vex.RERR("BadArguments","Fret number must be 0 or higher: "+t);return n+i}},{key:"getNoteForFret",value:function(t,e){var n=this.getValueForFret(t,e),i=Math.floor(n/12),r=n%12;return o.Flow.integerToNote(r)+"/"+i}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyManager=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(30);e.KeyManager=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.music=new o.Music,this.setKey(e)}return i(t,[{key:"setKey",value:function(t){return this.key=t,this.reset(),this}},{key:"getKey",value:function(){return this.key}},{key:"reset",value:function(){if(this.keyParts=this.music.getKeyParts(this.key),this.keyString=this.keyParts.root,this.keyParts.accidental&&(this.keyString+=this.keyParts.accidental),!o.Music.scaleTypes[this.keyParts.type])throw new r.Vex.RERR("BadArguments","Unsupported key type: "+this.key);this.scale=this.music.getScaleTones(this.music.getNoteValue(this.keyString),o.Music.scaleTypes[this.keyParts.type]),this.scaleMap={},this.scaleMapByValue={},this.originalScaleMapByValue={};for(var t=o.Music.root_indices[this.keyParts.root],e=0;e<o.Music.roots.length;++e){var n=(t+e)%o.Music.roots.length,i=o.Music.roots[n],s=this.music.getRelativeNoteName(i,this.scale[e]);this.scaleMap[i]=s,this.scaleMapByValue[this.scale[e]]=s,this.originalScaleMapByValue[this.scale[e]]=s}return this}},{key:"getAccidental",value:function(t){var e=this.music.getKeyParts(t).root,n=this.music.getNoteParts(this.scaleMap[e]);return{note:this.scaleMap[e],accidental:n.accidental}}},{key:"selectNote",value:function(t){t=t.toLowerCase();var e=this.music.getNoteParts(t),n=this.scaleMap[e.root],i=this.music.getNoteParts(n);if(n===t)return{note:n,accidental:e.accidental,change:!1};var r=this.scaleMapByValue[this.music.getNoteValue(t)];if(null!=r)return{note:r,accidental:this.music.getNoteParts(r).accidental,change:!1};var o=this.originalScaleMapByValue[this.music.getNoteValue(t)];return null!=o?(this.scaleMap[i.root]=o,delete this.scaleMapByValue[this.music.getNoteValue(n)],this.scaleMapByValue[this.music.getNoteValue(t)]=o,{note:o,accidental:this.music.getNoteParts(o).accidental,change:!0}):i.root===t?(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(i.root)]=i.root,this.scaleMap[i.root]=i.root,{note:i.root,accidental:null,change:!0}):(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(t)]=t,delete this.scaleMap[i.root],this.scaleMap[i.root]=t,{note:t,accidental:e.accidental,change:!0})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaveHairpin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5),s=n(25);e.StaveHairpin=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.setAttribute("type","StaveHairpin"),i.notes=t,i.hairpin=n,i.position=s.Modifier.Position.BELOW,i.render_options={height:10,y_shift:0,left_shift_px:0,right_shift_px:0},i.setNotes(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Element),i(e,null,[{key:"FormatByTicksAndDraw",value:function(t,n,i,o,s,a){var c=n.pixelsPerTick;if(null==c)throw new r.Vex.RuntimeError("BadArguments","A valid Formatter must be provide to draw offsets by ticks.");var u=c*a.left_shift_ticks,l=c*a.right_shift_ticks,h={height:a.height,y_shift:a.y_shift,left_shift_px:u,right_shift_px:l};new e({first_note:i.first_note,last_note:i.last_note},o).setContext(t).setRenderOptions(h).setPosition(s).draw()}},{key:"type",get:function(){return{CRESC:1,DECRESC:2}}}]),i(e,[{key:"setPosition",value:function(t){return t!==s.Modifier.Position.ABOVE&&t!==s.Modifier.Position.BELOW||(this.position=t),this}},{key:"setRenderOptions",value:function(t){return null!=t.height&&null!=t.y_shift&&null!=t.left_shift_px&&null!=t.right_shift_px&&(this.render_options=t),this}},{key:"setNotes",value:function(t){if(!t.first_note&&!t.last_note)throw new r.Vex.RuntimeError("BadArguments","Hairpin needs to have either first_note or last_note set.");return this.first_note=t.first_note,this.last_note=t.last_note,this}},{key:"renderHairpin",value:function(t){var n=this.checkContext(),i=this.render_options.y_shift+20,r=t.first_y;this.position===s.Modifier.Position.ABOVE&&(i=30-i,r=t.first_y-t.staff_height);var o=this.render_options.left_shift_px,a=this.render_options.right_shift_px;switch(n.beginPath(),this.hairpin){case e.type.CRESC:n.moveTo(t.last_x+a,r+i),n.lineTo(t.first_x+o,r+this.render_options.height/2+i),n.lineTo(t.last_x+a,r+this.render_options.height+i);break;case e.type.DECRESC:n.moveTo(t.first_x+o,r+i),n.lineTo(t.last_x+a,r+this.render_options.height/2+i),n.lineTo(t.first_x+o,r+this.render_options.height+i)}n.stroke(),n.closePath()}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.first_note,e=this.last_note,n=t.getModifierStartXY(this.position,0),i=e.getModifierStartXY(this.position,0);return this.renderHairpin({first_x:n.x,last_x:i.x,first_y:t.getStave().y+t.getStave().height,last_y:e.getStave().y+e.getStave().height,staff_height:t.getStave().height}),!0}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Curve=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5);e.Curve=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.setAttribute("type","Curve"),o.render_options={spacing:2,thickness:2,x_shift:0,y_shift:10,position:e.Position.NEAR_HEAD,position_end:e.Position.NEAR_HEAD,invert:!1,cps:[{x:0,y:10},{x:0,y:10}]},r.Vex.Merge(o.render_options,i),o.setNotes(t,n),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Element),i(e,null,[{key:"Position",get:function(){return{NEAR_HEAD:1,NEAR_TOP:2}}},{key:"PositionString",get:function(){return{nearHead:e.Position.NEAR_HEAD,nearTop:e.Position.NEAR_TOP}}}]),i(e,[{key:"setNotes",value:function(t,e){if(!t&&!e)throw new r.Vex.RuntimeError("BadArguments","Curve needs to have either first_note or last_note set.");return this.from=t,this.to=e,this}},{key:"isPartial",value:function(){return!this.from||!this.to}},{key:"renderCurve",value:function(t){var e=this.context,n=this.render_options.cps,i=this.render_options.x_shift,r=this.render_options.y_shift*t.direction,o=t.first_x+i,s=t.first_y+r,a=t.last_x-i,c=t.last_y+r,u=this.render_options.thickness,l=(a-o)/(n.length+2);e.beginPath(),e.moveTo(o,s),e.bezierCurveTo(o+l+n[0].x,s+n[0].y*t.direction,a-l+n[1].x,c+n[1].y*t.direction,a,c),e.bezierCurveTo(a-l+n[1].x,c+(n[1].y+u)*t.direction,o+l+n[0].x,s+(n[0].y+u)*t.direction,o,s),e.stroke(),e.closePath(),e.fill()}},{key:"draw",value:function(){function t(t){return"string"==typeof t?e.PositionString[t]:t}this.checkContext(),this.setRendered();var n=this.from,i=this.to,r=void 0,o=void 0,s=void 0,a=void 0,c=void 0,u="baseY",l="baseY",h=t(this.render_options.position),f=t(this.render_options.position_end);return h===e.Position.NEAR_TOP&&(u="topY",l="topY"),f===e.Position.NEAR_HEAD?l="baseY":f===e.Position.NEAR_TOP&&(l="topY"),n?(r=n.getTieRightX(),c=n.getStemDirection(),s=n.getStemExtents()[u]):(r=i.getStave().getTieStartX(),s=i.getStemExtents()[u]),i?(o=i.getTieLeftX(),c=i.getStemDirection(),a=i.getStemExtents()[l]):(o=n.getStave().getTieEndX(),a=n.getStemExtents()[l]),this.renderCurve({first_x:r,last_x:o,first_y:s,last_y:a,direction:c*(!0===this.render_options.invert?-1:1)}),!0}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.DEBUG&&o.Vex.L("Vex.Flow.TextDynamics",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextDynamics=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(22),a=n(4),c=e.TextDynamics=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setAttribute("type","TextDynamics"),n.sequence=t.text.toLowerCase(),n.line=t.line||0,n.glyphs=[],o.Vex.Merge(n.render_options,{glyph_font_size:40}),i("New Dynamics Text: ",n.sequence),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Note),r(e,null,[{key:"GLYPHS",get:function(){return{f:{code:"vba",width:12},p:{code:"vbf",width:14},m:{code:"v62",width:17},s:{code:"v4a",width:10},z:{code:"v80",width:12},r:{code:"vb1",width:12}}}}]),r(e,[{key:"setLine",value:function(t){return this.line=t,this}},{key:"preFormat",value:function(){var t=this,n=0;return this.sequence.split("").forEach(function(i){var r=e.GLYPHS[i];if(!r)throw new o.Vex.RERR("Invalid dynamics character: "+i);var s=t.render_options.glyph_font_size,c=new a.Glyph(r.code,s);t.glyphs.push(c),n+=r.width}),this.setWidth(n),this.preFormatted=!0,this}},{key:"draw",value:function(){var t=this;this.setRendered();var n=this.getAbsoluteX(),r=this.stave.getYForLine(this.line+-3);i("Rendering Dynamics: ",this.sequence);var o=n;this.glyphs.forEach(function(n,i){var s=t.sequence[i];n.render(t.context,o,r),o+=e.GLYPHS[s].width})}}]),e}()},function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.lineTo(o,s),t.lineTo(e,n),t.closePath(),t.fill()}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveLine=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(5),a=n(2);e.StaveLine=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","StaveLine"),n.notes=t,n.text="",n.font={family:"Arial",size:10,weight:""},n.render_options={padding_left:4,padding_right:3,line_width:1,line_dash:null,rounded_end:!0,color:null,draw_start_arrow:!1,draw_end_arrow:!1,arrowhead_length:10,arrowhead_angle:Math.PI/8,text_position_vertical:e.TextVerticalPosition.TOP,text_justification:e.TextJustification.CENTER},n.setNotes(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Element),r(e,null,[{key:"TextVerticalPosition",get:function(){return{TOP:1,BOTTOM:2}}},{key:"TextJustification",get:function(){return{LEFT:1,CENTER:2,RIGHT:3}}}]),r(e,[{key:"setFont",value:function(t){return this.font=t,this}},{key:"setText",value:function(t){return this.text=t,this}},{key:"setNotes",value:function(t){if(!t.first_note&&!t.last_note)throw new o.Vex.RuntimeError("BadArguments","Notes needs to have either first_note or last_note set.");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new o.Vex.RuntimeError("BadArguments","Connected notes must have similar index sizes");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}},{key:"applyLineStyle",value:function(){var t=this.checkContext(),e=this.render_options;e.line_dash&&t.setLineDash(e.line_dash),e.line_width&&t.setLineWidth(e.line_width),e.rounded_end?t.setLineCap("round"):t.setLineCap("square")}},{key:"applyFontStyle",value:function(){var t=this.checkContext();this.font&&t.setFont(this.font.family,this.font.size,this.font.weight),this.render_options.color&&(t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color))}},{key:"draw",value:function(){var t=this,n=this.checkContext();this.setRendered();var r=this.first_note,o=this.last_note,s=this.render_options;n.save(),this.applyLineStyle();var c=void 0,u=void 0;this.first_indices.forEach(function(e,a){var l=t.last_indices[a];c=r.getModifierStartXY(2,e),u=o.getModifierStartXY(1,l);var h=c.y>u.y;c.x+=r.getMetrics().modRightPx+s.padding_left,u.x-=o.getMetrics().modLeftPx+s.padding_right;var f=r.getGlyph().getWidth();r.getKeyProps()[e].displaced&&1===r.getStemDirection()&&(c.x+=f+s.padding_left),o.getKeyProps()[l].displaced&&-1===o.getStemDirection()&&(u.x-=f+s.padding_right),c.y+=h?-3:1,u.y+=h?2:0,function(t,e,n,r){var o=r.draw_start_arrow&&r.draw_end_arrow,s=e.x,a=e.y,c=n.x,u=n.y,l=Math.sqrt((c-s)*(c-s)+(u-a)*(u-a)),h=(l-r.arrowhead_length/3)/l,f=void 0,d=void 0,p=void 0,m=void 0;r.draw_end_arrow||o?(f=Math.round(s+(c-s)*h),d=Math.round(a+(u-a)*h)):(f=c,d=u),r.draw_start_arrow||o?(p=s+(c-s)*(1-h),m=a+(u-a)*(1-h)):(p=s,m=a),r.color&&(t.setStrokeStyle(r.color),t.setFillStyle(r.color)),t.beginPath(),t.moveTo(p,m),t.lineTo(f,d),t.stroke(),t.closePath();var b=Math.atan2(u-a,c-s),g=Math.abs(r.arrowhead_length/Math.cos(r.arrowhead_angle)),v=void 0,y=void 0,_=void 0,x=void 0;(r.draw_end_arrow||o)&&(v=b+Math.PI+r.arrowhead_angle,_=c+Math.cos(v)*g,x=u+Math.sin(v)*g,y=b+Math.PI-r.arrowhead_angle,i(t,_,x,c,u,c+Math.cos(y)*g,u+Math.sin(y)*g)),(r.draw_start_arrow||o)&&(v=b+r.arrowhead_angle,_=s+Math.cos(v)*g,x=a+Math.sin(v)*g,y=b-r.arrowhead_angle,i(t,_,x,s,a,s+Math.cos(y)*g,a+Math.sin(y)*g))}(n,c,u,t.render_options)}),n.restore();var l=n.measureText(this.text).width,h=s.text_justification,f=0;h===e.TextJustification.LEFT?f=c.x:h===e.TextJustification.CENTER?f=(u.x-c.x)/2+c.x-l/2:h===e.TextJustification.RIGHT&&(f=u.x-l);var d=void 0,p=s.text_position_vertical;return p===e.TextVerticalPosition.TOP?d=r.getStave().getYForTopText():p===e.TextVerticalPosition.BOTTOM&&(d=r.getStave().getYForBottomText(a.Flow.TEXT_HEIGHT_OFFSET_HACK)),n.save(),this.applyFontStyle(),n.fillText(this.text,f,d),n.restore(),this}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];u.DEBUG&&s.Vex.L("Vex.Flow.PedalMarking",e)}function r(t,e,n,i,r){var o=u.GLYPHS[t];new c.Glyph(o.code,r).render(e,n+o.x_shift,i+o.y_shift)}Object.defineProperty(e,"__esModule",{value:!0}),e.PedalMarking=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(5),c=n(4),u=e.PedalMarking=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","PedalMarking"),n.notes=t,n.style=e.TEXT,n.line=0,n.custom_depress_text="",n.custom_release_text="",n.font={family:"Times New Roman",size:12,weight:"italic bold"},n.render_options={bracket_height:10,text_margin_right:6,bracket_line_width:1,glyph_point_size:40,color:"black"},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Element),o(e,null,[{key:"createSustain",value:function(t){return new e(t)}},{key:"createSostenuto",value:function(t){var n=new e(t);return n.setStyle(e.Styles.MIXED),n.setCustomText("Sost. Ped."),n}},{key:"createUnaCorda",value:function(t){var n=new e(t);return n.setStyle(e.Styles.TEXT),n.setCustomText("una corda","tre corda"),n}},{key:"GLYPHS",get:function(){return{pedal_depress:{code:"v36",x_shift:-10,y_shift:0},pedal_release:{code:"v5d",x_shift:-2,y_shift:3}}}},{key:"Styles",get:function(){return{TEXT:1,BRACKET:2,MIXED:3}}},{key:"StylesString",get:function(){return{text:e.Styles.TEXT,bracket:e.Styles.BRACKET,mixed:e.Styles.MIXED}}}]),o(e,[{key:"setCustomText",value:function(t,e){return this.custom_depress_text=t||"",this.custom_release_text=e||"",this}},{key:"setStyle",value:function(t){if(t<1&&t>3)throw new s.Vex.RERR("InvalidParameter","The style must be one found in PedalMarking.Styles");return this.style=t,this}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"drawBracketed",value:function(){var t=this.context,n=!1,i=void 0,o=void 0,a=this;this.notes.forEach(function(c,u,l){n=!n;var h=c.getAbsoluteX(),f=c.getStave().getYForBottomText(a.line+3);if(h<i)throw new s.Vex.RERR("InvalidConfiguration","The notes provided must be in order of ascending x positions");var d=l[u+1]===c,p=l[u-1]===c,m=0;if(n)if(m=p?5:0,a.style!==e.Styles.MIXED||p)t.beginPath(),t.moveTo(h,f-a.render_options.bracket_height),t.lineTo(h+m,f),t.stroke(),t.closePath();else if(a.custom_depress_text){var b=t.measureText(a.custom_depress_text).width;t.fillText(a.custom_depress_text,h-b/2,f),m=b/2+a.render_options.text_margin_right}else r("pedal_depress",t,h,f,a.render_options.glyph_point_size),m=20+a.render_options.text_margin_right;else m=d?-5:0,t.beginPath(),t.moveTo(i,o),t.lineTo(h+m,f),t.lineTo(h,f-a.render_options.bracket_height),t.stroke(),t.closePath();i=h+m,o=f})}},{key:"drawText",value:function(){var t=this.context,e=!1,n=this,i=n.render_options.glyph_point_size;this.notes.forEach(function(o){e=!e;var s=o.getStave(),a=o.getAbsoluteX(),c=s.getYForBottomText(n.line+3),u=0;e?n.custom_depress_text?(u=t.measureText(n.custom_depress_text).width,t.fillText(n.custom_depress_text,a-u/2,c)):r("pedal_depress",t,a,c,i):n.custom_release_text?(u=t.measureText(n.custom_release_text).width,t.fillText(n.custom_release_text,a-u/2,c)):r("pedal_release",t,a,c,i)})}},{key:"draw",value:function(){var t=this.checkContext();this.setRendered(),t.save(),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setFont(this.font.family,this.font.size,this.font.weight),i("Rendering Pedal Marking"),this.style===e.Styles.BRACKET||this.style===e.Styles.MIXED?(t.setLineWidth(this.render_options.bracket_line_width),this.drawBracketed()):this.style===e.Styles.TEXT&&this.drawText(),t.restore()}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];l.DEBUG&&s.Vex.L("Vex.Flow.TextBracket",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextBracket=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(2),c=n(5),u=n(10),l=e.TextBracket=function(t){function e(t){var n=t.start,i=t.stop,r=t.text,o=void 0===r?"":r,s=t.superscript,a=void 0===s?"":s,c=t.position,u=void 0===c?e.Positions.TOP:c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return l.setAttribute("type","TextBracket"),l.start=n,l.stop=i,l.text=o,l.superscript=a,l.position="string"==typeof u?e.PositionString[u]:u,l.line=1,l.font={family:"Serif",size:15,weight:"italic"},l.render_options={dashed:!0,dash:[5],color:"black",line_width:1,show_bracket:!0,bracket_height:8,underline_superscript:!0},l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.Element),o(e,null,[{key:"Positions",get:function(){return{TOP:1,BOTTOM:-1}}},{key:"PositionString",get:function(){return{top:e.Positions.TOP,bottom:e.Positions.BOTTOM}}}]),o(e,[{key:"applyStyle",value:function(t){return t.setFont(this.font.family,this.font.size,this.font.weight),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setLineWidth(this.render_options.line_width),this}},{key:"setDashed",value:function(t,e){return this.render_options.dashed=t,e&&(this.render_options.dash=e),this}},{key:"setFont",value:function(t){return this.font=r({},this.font,t),this}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"draw",value:function(){var t=this.context;this.setRendered();var n=0;switch(this.position){case e.Positions.TOP:n=this.start.getStave().getYForTopText(this.line);break;case e.Positions.BOTTOM:n=this.start.getStave().getYForBottomText(this.line+a.Flow.TEXT_HEIGHT_OFFSET_HACK);break;default:throw new s.Vex.RERR("InvalidPosition","The position "+this.position+" is invalid")}var r={x:this.start.getAbsoluteX(),y:n},o={x:this.stop.getAbsoluteX(),y:n};i("Rendering TextBracket: start:",r,"stop:",o,"y:",n);var c=this.render_options.bracket_height*this.position;t.save(),this.applyStyle(t),t.fillText(this.text,r.x,r.y);var l=t.measureText(this.text).width,h=t.measureText("M").width,f=r.y-h/2.5;t.setFont(this.font.family,this.font.size/1.4,this.font.weight),t.fillText(this.superscript,r.x+l+1,f);var d=t.measureText(this.superscript).width,p=t.measureText("M").width,m=r.x,b=f,g=o.x+this.stop.getGlyph().getWidth();this.position===e.Positions.TOP?(m+=l+d+5,b-=p/2.7):this.position===e.Positions.BOTTOM&&(b+=p/2.7,m+=l+2,this.render_options.underline_superscript||(m+=d)),this.render_options.dashed?(u.Renderer.drawDashedLine(t,m,b,g,b,this.render_options.dash),this.render_options.show_bracket&&u.Renderer.drawDashedLine(t,g,b+1*this.position,g,b+c,this.render_options.dash)):(t.beginPath(),t.moveTo(m,b),t.lineTo(g,b),this.render_options.show_bracket&&t.lineTo(g,b+c),t.stroke(),t.closePath()),t.restore()}}]),e}()},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];l.DEBUG&&s.Vex.L("Vex.Flow.BarNote",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BarNote=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(22),c=n(44),u=n(8),l=e.BarNote=function(t){function e(){var t,n=arguments.length<=0||void 0===arguments[0]?c.Barline.type.SINGLE:arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:"b"}));r.setAttribute("type","BarNote"),r.metrics={widths:{}};var o=c.Barline.type;return r.metrics.widths=(i(t={},o.SINGLE,8),i(t,o.DOUBLE,12),i(t,o.END,15),i(t,o.REPEAT_BEGIN,14),i(t,o.REPEAT_END,14),i(t,o.REPEAT_BOTH,18),i(t,o.NONE,0),t),r.ignore_ticks=!0,r.setType(n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Note),o(e,[{key:"getType",value:function(){return this.type}},{key:"setType",value:function(t){return this.type="string"==typeof t?c.Barline.typeString[t]:t,this.setWidth(this.metrics.widths[this.type]),this}},{key:"getBoundingBox",value:function(){return new u.BoundingBox(0,0,0,0)}},{key:"addToModifierContext",value:function(){return this}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){if(this.checkContext(),!this.stave)throw new s.Vex.RERR("NoStave","Can't draw without a stave.");r("Rendering bar line at: ",this.getAbsoluteX());var t=new c.Barline(this.type);t.setX(this.getAbsoluteX()),t.draw(this.stave),this.setRendered()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostNote=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(24);e.GhostNote=function(t){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new o.Vex.RuntimeError("BadArguments","Ghost note must have valid initialization data to identify duration.");var n=void 0;if("string"==typeof t)n={duration:t};else{if("object"!==(void 0===t?"undefined":i(t)))throw new o.Vex.RuntimeError("BadArguments","Ghost note must have valid initialization data to identify duration.");n=t}var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.setAttribute("type","GhostNote"),r.setWidth(0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.StemmableNote),r(e,[{key:"isRest",value:function(){return!0}},{key:"setStave",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setStave",this).call(this,t)}},{key:"addToModifierContext",value:function(){return this}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){if(!this.stave)throw new o.Vex.RERR("NoStave","Can't draw without a stave.");this.setRendered();for(var t=0;t<this.modifiers.length;++t){var e=this.modifiers[t];e.setContext(this.context),e.draw()}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tremolo=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(25),s=n(4);e.Tremolo=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","Tremolo"),n.num=t,n.note=null,n.index=null,n.position=o.Modifier.Position.CENTER,n.code="v74",n.shift_right=-2,n.y_spacing=4,n.render_options={font_scale:35,stroke_px:3,stroke_spacing:10},n.font={family:"Arial",size:16,weight:""},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Modifier),i(e,null,[{key:"CATEGORY",get:function(){return"tremolo"}}]),i(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){if(this.checkContext(),!this.note||null==this.index)throw new r.Vex.RERR("NoAttachedNote","Can't draw Tremolo without a note and index.");this.setRendered();var t=this.note.getModifierStartXY(this.position,this.index),e=t.x,n=t.y;e+=this.shift_right;for(var i=0;i<this.num;++i)s.Glyph.renderGlyph(this.context,e,n,this.render_options.font_scale,this.code),n+=this.y_spacing}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.DEBUG&&o.Vex.L("Vex.Flow.Crescendo",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Crescendo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(22),a=n(39),c=e.Crescendo=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setAttribute("type","Crescendo"),n.decrescendo=!1,n.line=t.line||0,n.height=15,o.Vex.Merge(n.render_options,{extend_left:0,extend_right:0,y_shift:0}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Note),r(e,[{key:"setLine",value:function(t){return this.line=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setDecrescendo",value:function(t){return this.decrescendo=t,this}},{key:"preFormat",value:function(){return this.preFormatted=!0,this}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.getTickContext(),e=a.TickContext.getNextContext(t),n=this.getAbsoluteX(),r=e?e.getX():this.stave.x+this.stave.width,o=this.stave.getYForLine(this.line+-3)+1;i("Drawing ",this.decrescendo?"decrescendo ":"crescendo ",this.height,"x",n-r),function(t,e){var n=e.begin_x,i=e.end_x,r=e.y,o=e.height/2;t.beginPath(),e.reverse?(t.moveTo(n,r-o),t.lineTo(i,r),t.lineTo(n,r+o)):(t.moveTo(i,r-o),t.lineTo(n,r),t.lineTo(i,r+o)),t.stroke(),t.closePath()}(this.context,{begin_x:n-this.render_options.extend_left,end_x:r+this.render_options.extend_right,y:o+this.render_options.y_shift,height:this.height,reverse:this.decrescendo})}}]),e}()},function(t,e,n){"use strict";function i(t,e){var n=e.options;return(t=o(e,t)).options=o(n,t.options),t}Object.defineProperty(e,"__esModule",{value:!0}),e.System=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(5),a=n(76),c=n(14),u=n(22);e.System=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.setAttribute("type","System"),n.setOptions(t),n.parts=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Element),r(e,[{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=i(t,{x:10,y:10,width:500,connector:null,spaceBetweenStaves:12,factory:null,debugFormatter:!1,formatIterations:0,options:{}}),this.factory=this.options.factory||new a.Factory({renderer:{el:null}})}},{key:"setContext",value:function(t){return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setContext",this).call(this,t),this.factory.setContext(t),this}},{key:"addConnector",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"double":arguments[0];return this.connector=this.factory.StaveConnector({top_stave:this.parts[0].stave,bottom_stave:this.parts[this.parts.length-1].stave,type:t}),this.connector}},{key:"addStave",value:function(t){var e=this;return(t=i(t,{stave:null,voices:[],spaceAbove:0,spaceBelow:0,debugNoteMetrics:!1,options:{}})).stave||(t.stave=this.factory.Stave({x:this.options.x,y:this.options.y,width:this.options.width,options:{left_bar:!1}})),t.voices.forEach(function(n){return n.setContext(e.context).setStave(t.stave).getTickables().forEach(function(e){return e.setStave(t.stave)})}),this.parts.push(t),t.stave}},{key:"format",value:function(){var t=this,e=new c.Formatter;this.formatter=e;var n=this.options.y,i=0,r=[],o=[];this.parts.forEach(function(s){n+=s.stave.space(s.spaceAbove),s.stave.setY(n),e.joinVoices(s.voices),n+=s.stave.space(s.spaceBelow),n+=s.stave.space(t.options.spaceBetweenStaves),s.debugNoteMetrics&&(o.push({y:n,voice:s.voices[0]}),n+=15),r=r.concat(s.voices),i=Math.max(i,s.stave.getNoteStartX())}),this.parts.forEach(function(t){return t.stave.setNoteStartX(i)});var s=this.options.width-(i-this.options.x)-u.Note.STAVEPADDING;e.format(r,s);for(var a=0;a<this.options.formatIterations;a++)e.tune();this.startX=i,this.debugNoteMetricsYs=o,this.lastY=n}},{key:"draw",value:function(){var t=this.checkContext();this.setRendered(),this.options.debugFormatter&&c.Formatter.plotDebugging(t,this.formatter,this.startX,this.options.y,this.lastY),this.debugNoteMetricsYs.forEach(function(e){e.voice.getTickables().forEach(function(n){return u.Note.plotMetrics(t,n,e.y)})})}}]),e}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];z.DEBUG&&a.Vex.L("Vex.Flow.Factory",e)}function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1],n=e.options;return(t=s(e,t)).options=s(n,t.options),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=e.X=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(1),c=n(29),u=n(37),l=n(40),h=n(14),f=n(28),d=n(36),p=n(67),m=n(27),b=n(10),g=n(43),v=n(33),y=n(68),_=n(20),x=n(19),w=n(75),S=n(39),E=n(16),T=n(18),k=n(15),P=n(66),M=n(61),C=n(32),O=n(31),A=n(77),N=n(59),L=n(58),I=n(69),R=n(70),B=n(57),F=n(72),D=n(71),j=n(56),V=n(55),G=n(50),H=e.X=a.Vex.MakeException("FactoryError"),z=e.Factory=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i("New factory: ",e);var n={stave:{space:10},renderer:{context:null,elementId:"",backend:b.Renderer.Backends.SVG,width:500,height:200,background:"#FFF"},font:{face:"Arial",point:10,style:""}};this.options=n,this.setOptions(e)}return o(t,[{key:"reset",value:function(){this.renderQ=[],this.systems=[],this.staves=[],this.voices=[],this.stave=null}},{key:"getOptions",value:function(){return this.options}},{key:"setOptions",value:function(t){for(var e=["stave","renderer","font"],n=0;n<e.length;n++){var i=e[n];s(this.options[i],t[i])}(null!==this.options.renderer.elementId||this.options.renderer.context)&&this.initRenderer(),this.reset()}},{key:"initRenderer",value:function(){var t=this.options.renderer,e=t.elementId,n=t.backend,i=t.width,r=t.height,o=t.background;if(""===e)throw new H("HTML DOM element not set in Factory");this.context=b.Renderer.buildContext(e,n,i,r,o)}},{key:"getContext",value:function(){return this.context}},{key:"setContext",value:function(t){return this.context=t,this}},{key:"getStave",value:function(){return this.stave}},{key:"getVoices",value:function(){return this.voices}},{key:"space",value:function(t){return this.options.stave.space*t}},{key:"Stave",value:function(t){t=r(t,{x:0,y:0,width:this.options.renderer.width-this.space(1),options:{spacing_between_lines_px:this.options.stave.space}});var e=new g.Stave(t.x,t.y,t.width,t.options);return this.staves.push(e),e.setContext(this.context),this.stave=e,e}},{key:"TabStave",value:function(t){t=r(t,{x:0,y:0,width:this.options.renderer.width-this.space(1),options:{spacing_between_lines_px:1.3*this.options.stave.space}});var e=new V.TabStave(t.x,t.y,t.width,t.options);return this.staves.push(e),e.setContext(this.context),this.stave=e,e}},{key:"StaveNote",value:function(t){var e=new _.StaveNote(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"GhostNote",value:function(t){var e=new F.GhostNote(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"TextNote",value:function(t){var e=new G.TextNote(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"BarNote",value:function(t){t=r(t,{type:"single",options:{}});var e=new D.BarNote(t.type);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"ClefNote",value:function(t){t=r(t,{type:"treble",options:{size:"default"}});var e=new L.ClefNote(t.type,t.options.size,t.options.annotation);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"TimeSigNote",value:function(t){t=r(t,{time:"4/4",options:{}});var e=new N.TimeSigNote(t.time);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"TabNote",value:function(t){var e=new j.TabNote(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"GraceNote",value:function(t){var e=new M.GraceNote(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),e}},{key:"GraceNoteGroup",value:function(t){var e=new C.GraceNoteGroup(t.notes,t.slur);return e.setContext(this.context),e}},{key:"Accidental",value:function(t){t=r(t,{type:null,options:{}});var e=new c.Accidental(t.type);return e.setContext(this.context),e}},{key:"Annotation",value:function(t){t=r(t,{text:"p",vJustify:"below",hJustify:"center",fontFamily:"Times",fontSize:14,fontWeight:"bold italic",options:{}});var e=new l.Annotation(t.text);return e.setJustification(t.hJustify),e.setVerticalJustification(t.vJustify),e.setFont(t.fontFamily,t.fontSize,t.fontWeight),e.setContext(this.context),e}},{key:"Articulation",value:function(t){t=r(t,{type:"a.",position:"above",options:{}});var e=new u.Articulation(t.type);return e.setPosition(t.position),e.setContext(this.context),e}},{key:"TextDynamics",value:function(t){t=r(t,{text:"p",duration:"q",dots:0,line:0,options:{}});var e=new p.TextDynamics({text:t.text,line:t.line,duration:t.duration,dots:t.dots});return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"Fingering",value:function(t){t=r(t,{number:"0",position:"left",options:{}});var e=new f.FretHandFinger(t.number);return e.setPosition(t.position),e.setContext(this.context),e}},{key:"StringNumber",value:function(t){t=r(t,{number:"0",position:"left",options:{}});var e=new d.StringNumber(t.number);return e.setPosition(t.position),e.setContext(this.context),e}},{key:"TickContext",value:function(){return(new S.TickContext).setContext(this.context)}},{key:"ModifierContext",value:function(){return new m.ModifierContext}},{key:"Voice",value:function(t){t=r(t,{time:"4/4",options:{}});var e=new T.Voice(t.time);return this.voices.push(e),e}},{key:"StaveConnector",value:function(t){t=r(t,{top_stave:null,bottom_stave:null,type:"double",options:{}});var e=new x.StaveConnector(t.top_stave,t.bottom_stave);return e.setType(t.type).setContext(this.context),this.renderQ.push(e),e}},{key:"Formatter",value:function(){return new h.Formatter}},{key:"Tuplet",value:function(t){t=r(t,{notes:[],options:{}});var e=new E.Tuplet(t.notes,t.options).setContext(this.context);return this.renderQ.push(e),e}},{key:"Beam",value:function(t){t=r(t,{notes:[],options:{autoStem:!1,secondaryBeamBreaks:[]}});var e=new k.Beam(t.notes,t.options.autoStem).setContext(this.context);return e.breakSecondaryAt(t.options.secondaryBeamBreaks),this.renderQ.push(e),e}},{key:"Curve",value:function(t){t=r(t,{from:null,to:null,options:{}});var e=new P.Curve(t.from,t.to,t.options).setContext(this.context);return this.renderQ.push(e),e}},{key:"StaveTie",value:function(t){t=r(t,{from:null,to:null,first_indices:[0],last_indices:[0],text:null,options:{direction:void 0}});var e=new v.StaveTie({first_note:t.from,last_note:t.to,first_indices:t.first_indices,last_indices:t.last_indices},t.text);return t.options.direction&&e.setDirection(t.options.direction),e.setContext(this.context),this.renderQ.push(e),e}},{key:"StaveLine",value:function(t){t=r(t,{from:null,to:null,first_indices:[0],last_indices:[0],options:{}});var e=new y.StaveLine({first_note:t.from,last_note:t.to,first_indices:t.first_indices,last_indices:t.last_indices});return t.options.text&&e.setText(t.options.text),t.options.font&&e.setFont(t.options.font),e.setContext(this.context),this.renderQ.push(e),e}},{key:"VibratoBracket",value:function(t){t=r(t,{from:null,to:null,options:{harsh:!1}});var e=new B.VibratoBracket({start:t.from,stop:t.to});return t.options.line&&e.setLine(t.options.line),t.options.harsh&&e.setHarsh(t.options.harsh),e.setContext(this.context),this.renderQ.push(e),e}},{key:"TextBracket",value:function(t){t=r(t,{from:null,to:null,text:"",options:{superscript:"",position:1}});var e=new R.TextBracket({start:t.from,stop:t.to,text:t.text,superscript:t.options.superscript,position:t.options.position});return t.options.line&&e.setLine(t.options.line),t.options.font&&e.setFont(t.options.font),e.setContext(this.context),this.renderQ.push(e),e}},{key:"System",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.factory=this;var e=new w.System(t).setContext(this.context);return this.systems.push(e),e}},{key:"EasyScore",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.factory=this,new A.EasyScore(t)}},{key:"PedalMarking",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=r(t,{notes:[],options:{style:"mixed"}});var e=new I.PedalMarking(t.notes);return e.setStyle(I.PedalMarking.StylesString[t.options.style]),e.setContext(this.context),this.renderQ.push(e),e}},{key:"NoteSubGroup",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=r(t,{notes:[],options:{}});var e=new O.NoteSubGroup(t.notes);return e.setContext(this.context),e}},{key:"draw",value:function(){var t=this;this.systems.forEach(function(e){return e.setContext(t.context).format()}),this.staves.forEach(function(e){return e.setContext(t.context).draw()}),this.voices.forEach(function(e){return e.setContext(t.context).draw()}),this.renderQ.forEach(function(e){e.isRendered()||e.setContext(t.context).draw()}),this.systems.forEach(function(e){return e.setContext(t.context).draw()}),this.reset()}}],[{key:"newFromElementId",value:function(e){return new t({renderer:{elementId:e,width:arguments.length<=1||void 0===arguments[1]?500:arguments[1],height:arguments.length<=2||void 0===arguments[2]?200:arguments[2]}})}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];g.DEBUG&&l.Vex.L("Vex.Flow.EasyScore",e)}function o(t,e){var n=t.id;void 0!==n&&e.setAttribute("id",n)}function s(t,e){t.class&&t.class.split(/\s*,\s*/).forEach(function(t){return e.addClass(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.EasyScore=e.X=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),h=n(20),f=n(78),d=n(37),p=e.X=l.Vex.MakeException("EasyScoreError"),m=function(){function t(e){i(this,t),this.builder=e}return u(t,[{key:"begin",value:function(){return this.LINE}},{key:"LINE",value:function(){return{expect:[this.PIECE,this.PIECES,this.EOL]}}},{key:"PIECE",value:function(){var t=this;return{expect:[this.CHORDORNOTE,this.PARAMS],run:function(){return t.builder.commitPiece()}}}},{key:"PIECES",value:function(){return{expect:[this.COMMA,this.PIECE],zeroOrMore:!0}}},{key:"PARAMS",value:function(){return{expect:[this.DURATION,this.TYPE,this.DOTS,this.OPTS]}}},{key:"CHORDORNOTE",value:function(){return{expect:[this.CHORD,this.SINGLENOTE],or:!0}}},{key:"CHORD",value:function(){var t=this;return{expect:[this.LPAREN,this.NOTES,this.RPAREN],run:function(e){return t.builder.addChord(e.matches[1])}}}},{key:"NOTES",value:function(){return{expect:[this.NOTE],oneOrMore:!0}}},{key:"NOTE",value:function(){return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE]}}},{key:"SINGLENOTE",value:function(){var t=this;return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE],run:function(e){return t.builder.addSingleNote(e.matches[0],e.matches[1],e.matches[2])}}}},{key:"ACCIDENTAL",value:function(){return{expect:[this.ACCIDENTALS],maybe:!0}}},{key:"DOTS",value:function(){var t=this;return{expect:[this.DOT],zeroOrMore:!0,run:function(e){return t.builder.setNoteDots(e.matches[0])}}}},{key:"TYPE",value:function(){var t=this;return{expect:[this.SLASH,this.MAYBESLASH,this.TYPES],maybe:!0,run:function(e){return t.builder.setNoteType(e.matches[2])}}}},{key:"DURATION",value:function(){var t=this;return{expect:[this.SLASH,this.DURATIONS],maybe:!0,run:function(e){return t.builder.setNoteDuration(e.matches[1])}}}},{key:"OPTS",value:function(){return{expect:[this.LBRACKET,this.KEYVAL,this.KEYVALS,this.RBRACKET],maybe:!0}}},{key:"KEYVALS",value:function(){return{expect:[this.COMMA,this.KEYVAL],zeroOrMore:!0}}},{key:"KEYVAL",value:function(){var t=this;return{expect:[this.KEY,this.EQUALS,this.VAL],run:function(e){return t.builder.addNoteOption(e.matches[0],e.matches[2].slice(1,-1))}}}},{key:"VAL",value:function(){return{expect:[this.SVAL,this.DVAL],or:!0}}},{key:"KEY",value:function(){return{token:"[a-zA-Z][a-zA-Z0-9]*"}}},{key:"DVAL",value:function(){return{token:'["][^"]*["]'}}},{key:"SVAL",value:function(){return{token:"['][^']*[']"}}},{key:"NOTENAME",value:function(){return{token:"[a-gA-G]"}}},{key:"OCTAVE",value:function(){return{token:"[0-9]+"}}},{key:"ACCIDENTALS",value:function(){return{token:"bbs|bb|bss|bs|b|db|d|##|#|n|\\+\\+-|\\+-|\\+\\+|\\+|k|o"}}},{key:"DURATIONS",value:function(){return{token:"[0-9whq]+"}}},{key:"TYPES",value:function(){return{token:"[rRsSxX]"}}},{key:"LPAREN",value:function(){return{token:"[(]"}}},{key:"RPAREN",value:function(){return{token:"[)]"}}},{key:"COMMA",value:function(){return{token:"[,]"}}},{key:"DOT",value:function(){return{token:"[.]"}}},{key:"SLASH",value:function(){return{token:"[/]"}}},{key:"MAYBESLASH",value:function(){return{token:"[/]?"}}},{key:"EQUALS",value:function(){return{token:"[=]"}}},{key:"LBRACKET",value:function(){return{token:"\\["}}},{key:"RBRACKET",value:function(){return{token:"\\]"}}},{key:"EOL",value:function(){return{token:"$"}}}]),t}(),b=function(){function t(e){i(this,t),this.factory=e,this.commitHooks=[],this.reset()}return u(t,[{key:"reset",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options={stem:"auto",clef:"treble"},this.elements={notes:[],accidentals:[]},this.rollingDuration="8",this.resetPiece(),c(this.options,t)}},{key:"getFactory",value:function(){return this.factory}},{key:"getElements",value:function(){return this.elements}},{key:"addCommitHook",value:function(t){this.commitHooks.push(t)}},{key:"resetPiece",value:function(){r("resetPiece"),this.piece={chord:[],duration:this.rollingDuration,dots:0,type:void 0,options:{}}}},{key:"setNoteDots",value:function(t){r("setNoteDots:",t),t&&(this.piece.dots=t.length)}},{key:"setNoteDuration",value:function(t){r("setNoteDuration:",t),this.rollingDuration=this.piece.duration=t||this.rollingDuration}},{key:"setNoteType",value:function(t){r("setNoteType:",t),t&&(this.piece.type=t)}},{key:"addNoteOption",value:function(t,e){r("addNoteOption: key:",t,"value:",e),this.piece.options[t]=e}},{key:"addNote",value:function(t,e,n){r("addNote:",t,e,n),this.piece.chord.push({key:t,accid:e,octave:n})}},{key:"addSingleNote",value:function(t,e,n){r("addSingleNote:",t,e,n),this.addNote(t,e,n)}},{key:"addChord",value:function(t){var e=this;r("startChord"),"object"!==a(t[0])?this.addSingleNote(t[0]):t.forEach(function(t){t&&e.addNote.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}),r("endChord")}},{key:"commitPiece",value:function(){var t=this;r("commitPiece");var e=this.factory;if(e){var n=c({},this.options,this.piece.options),i=n.stem,o=n.clef,s="auto"===i.toLowerCase(),a=s||"up"!==i.toLowerCase()?h.StaveNote.STEM_DOWN:h.StaveNote.STEM_UP,u=this.piece,l=u.chord,f=u.duration,d=u.dots,p=u.type,m=l.map(function(t){return t.key+"/"+t.octave}),b=e.StaveNote({keys:m,duration:f,dots:d,type:p,clef:o,auto_stem:s});s||b.setStemDirection(a);var g=l.map(function(t){return t.accid||null});g.forEach(function(t,n){t&&b.addAccidental(n,e.Accidental({type:t}))});for(var v=0;v<d;v++)b.addDotToAll();this.commitHooks.forEach(function(e){return e(n,b,t)}),this.elements.notes.push(b),this.elements.accidentals.concat(g),this.resetPiece()}}}]),t}(),g=e.EasyScore=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),this.setOptions(e),this.defaults={clef:"treble",time:"4/4",stem:"auto"}}return u(t,[{key:"set",value:function(t){return c(this.defaults,t),this}},{key:"setOptions",value:function(t){var e=this;return this.options=c({factory:null,builder:null,commitHooks:[o,s,d.Articulation.easyScoreHook],throwOnError:!1},t),this.factory=this.options.factory,this.builder=this.options.builder||new b(this.factory),this.grammar=new m(this.builder),this.parser=new f.Parser(this.grammar),this.options.commitHooks.forEach(function(t){return e.addCommitHook(t)}),this}},{key:"setContext",value:function(t){return this.factory&&this.factory.setContext(t),this}},{key:"parse",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.builder.reset(e);var n=this.parser.parse(t);if(!n.success&&this.options.throwOnError)throw new p("Error parsing line: "+t,n);return n}},{key:"beam",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.factory.Beam({notes:t,options:e}),t}},{key:"tuplet",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.factory.Tuplet({notes:t,options:e}),t}},{key:"notes",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e=c({clef:this.defaults.clef,stem:this.defaults.stem},e),this.parse(t,e),this.builder.getElements().notes}},{key:"voice",value:function(t,e){return e=c({time:this.defaults.time},e),this.factory.Voice(e).addTickables(t)}},{key:"addCommitHook",value:function(t){return this.builder.addCommitHook(t)}}]),t}()},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];c.DEBUG&&s.Vex.L("Vex.Flow.Parser",e)}function r(t){return void 0!==t.matchedString?t.matchedString:t.results?r(t.results):1===t.length?r(t[0]):0===t.length?null:t.map(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.X=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=e.X=s.Vex.MakeException("ParserError"),c=e.Parser=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.grammar=e}return o(t,[{key:"parse",value:function(t){this.line=t,this.pos=0,this.errorPos=-1;var e=this.expect(this.grammar.begin());return e.errorPos=this.errorPos,e}},{key:"matchFail",value:function(t){-1===this.errorPos&&(this.errorPos=this.pos),this.pos=t}},{key:"matchSuccess",value:function(){this.errorPos=-1}},{key:"matchToken",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||!arguments[1]?new RegExp("^(("+t+")\\s*)"):new RegExp("^(("+t+"))"),n=this.line.slice(this.pos).match(e);return null!==n?{success:!0,matchedString:n[2],incrementPos:n[1].length,pos:this.pos}:{success:!1,pos:this.pos}}},{key:"expectOne",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=[],i=this.pos,r=!0,o=!1;e=!0===e||!0===t.maybe;for(var s=0;s<t.expect.length;s++){var a=t.expect[s],c=this.pos,u=this.expect(a);if(u.success){if(n.push(u),o=!0,t.or)break}else if(r=!1,!t.or){this.pos=c;break}}var l=t.or&&o||r,h=l||!0===e;return e&&!l&&(this.pos=i),h?this.matchSuccess():this.matchFail(i),{success:h,results:n,numMatches:l?1:0}}},{key:"expectOneOrMore",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=[],i=this.pos,r=0,o=!0;do{var s=this.expectOne(t);s.success?(r++,n.push(s.results)):o=!1}while(o);var a=r>0||!0===e;return!e||r>0||(this.pos=i),a?this.matchSuccess():this.matchFail(i),{success:a,results:n,numMatches:r}}},{key:"expectZeroOrMore",value:function(t){return this.expectOneOrMore(t,!0)}},{key:"expect",value:function(t){i("Evaluating rules:",t);var e=void 0;if(!t)throw new a("Invalid Rule: "+t,t);var n=t.bind(this.grammar)();if(n.token)(e=this.matchToken(n.token,!0===n.noSpace)).success&&(this.pos+=e.incrementPos);else{if(!n.expect)throw new a("Bad grammar! No `token` or `expect` property",n);e=n.oneOrMore?this.expectOneOrMore(n):n.zeroOrMore?this.expectZeroOrMore(n):this.expectOne(n)}return e.matches=[],e.results&&e.results.forEach(function(t){return e.matches.push(r(t))}),n.run&&e.success&&n.run(e),e}}]),t}()}])},t.exports=i()},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this,void 0)||this;return i.rhythm=e,i.numerator=e.Numerator,i.denominator=e.Denominator,i.symbolEnum=n,i}return r(e,t),Object.defineProperty(e.prototype,"Rhythm",{get:function(){return this.rhythm},set:function(t){this.rhythm=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SymbolEnum",{get:function(){return this.symbolEnum},set:function(t){this.symbolEnum=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.rhythm.clone(),this.symbolEnum)},e.prototype.OperatorEquals=function(t){return this===t||void 0!==this&&void 0!==t&&this.numerator===t.numerator&&this.denominator===t.denominator},e.prototype.OperatorNotEqual=function(t){return!(this===t)},e.prototype.ToString=function(){return"Rhythm: "+this.rhythm.toString()},e}(n(62).AbstractNotationInstruction);e.RhythmInstruction=o,function(t){t[t.NONE=0]="NONE",t[t.COMMON=1]="COMMON",t[t.CUT=2]="CUT"}(e.RhythmSymbolEnum||(e.RhythmSymbolEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n(1),s=n(60),a=n(2),c=n(103),u=n(2),l=n(10),h=function(){function t(t,e,n){this.notes=[],this.articulations=[],this.technicalInstructions=[],this.lyricsEntries=new l.default,this.arpeggiosNotesIndices=[],this.stemDirection=r.Undefined,this.timestamp=t,this.parentVoice=e,this.parentSourceStaffEntry=n}return Object.defineProperty(t.prototype,"ParentSourceStaffEntry",{get:function(){return this.parentSourceStaffEntry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentVoice",{get:function(){return this.parentVoice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Timestamp",{get:function(){return this.timestamp},set:function(t){this.timestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Notes",{get:function(){return this.notes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Articulations",{get:function(){return this.articulations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TechnicalInstructions",{get:function(){return this.technicalInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricsEntries",{get:function(){return this.lyricsEntries},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ArpeggiosNotesIndices",{get:function(){return this.arpeggiosNotesIndices},set:function(t){this.arpeggiosNotesIndices=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OrnamentContainer",{get:function(){return this.ornamentContainer},set:function(t){this.ornamentContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemDirection",{get:function(){return this.stemDirection},set:function(t){this.stemDirection=t},enumerable:!0,configurable:!0}),t.isSupportedArticulation=function(t){switch(t){case i.accent:case i.strongaccent:case i.invertedstrongaccent:case i.staccato:case i.staccatissimo:case i.spiccato:case i.tenuto:case i.fermata:case i.invertedfermata:case i.breathmark:case i.caesura:case i.lefthandpizzicato:case i.naturalharmonic:case i.snappizzicato:case i.upbow:case i.downbow:return!0;default:return!1}},t.prototype.hasTie=function(){for(var t=0,e=this.Notes.length;t<e;++t)if(void 0!==this.Notes[t].NoteTie)return!0;return!1},t.prototype.hasSlur=function(){for(var t=0,e=this.Notes.length;t<e;++t)if(this.Notes[t].NoteSlurs.length>0)return!0;return!1},t.prototype.isStaccato=function(){for(var t=0,e=this.Articulations.length;t<e;++t)if(this.Articulations[t]===i.staccato)return!0;return!1},t.prototype.isAccent=function(){for(var t=0,e=this.Articulations.length;t<e;++t){var n=this.Articulations[t];if(n===i.accent||n===i.strongaccent)return!0}return!1},t.prototype.getVerseNumberForLyricEntry=function(t){var e=1;return this.lyricsEntries.forEach(function(n,i){t===i&&(e=n)}),e},t.prototype.createVoiceEntriesForOrnament=function(t,e){void 0===t&&(t=this);var n=[];if(void 0!==t.ornamentContainer){var i=this.notes[0],r=i.calculateNoteLengthWithoutTie(),s=t.ParentVoice,a=t.Timestamp,l=o.Fraction.createFromFraction(a);switch(t.ornamentContainer.GetOrnament){case c.OrnamentEnum.Trill:var h=new o.Fraction(r.Numerator,8*r.Denominator),f=i.Pitch.getTransposedPitch(1),d=e.getAlterationForPitch(f);t.OrnamentContainer.AccidentalAbove!==u.AccidentalEnum.NONE&&(d=t.ornamentContainer.AccidentalAbove);for(var p=0;p<8;p++)l=o.Fraction.plus(a,new o.Fraction(p*h.Numerator,h.Denominator)),p%2==0?this.createBaseVoiceEntry(l,h,s,i,n):this.createAlteratedVoiceEntry(l,h,s,f,d,n);break;case c.OrnamentEnum.Turn:var m=new o.Fraction(r.Numerator,4*r.Denominator),b=i.Pitch.getTransposedPitch(-1),g=e.getAlterationForPitch(b),v=(f=i.Pitch.getTransposedPitch(1),e.getAlterationForPitch(f));this.createAlteratedVoiceEntry(l,m,s,f,v,n),l.Add(m),this.createBaseVoiceEntry(l,m,s,i,n),l.Add(m),this.createAlteratedVoiceEntry(l,m,s,b,g,n),l.Add(m),this.createBaseVoiceEntry(l,m,s,i,n);break;case c.OrnamentEnum.InvertedTurn:var y=new o.Fraction(r.Numerator,4*r.Denominator);b=i.Pitch.getTransposedPitch(-1),g=e.getAlterationForPitch(b),f=i.Pitch.getTransposedPitch(1),v=e.getAlterationForPitch(f),this.createAlteratedVoiceEntry(l,y,s,b,g,n),l.Add(y),this.createBaseVoiceEntry(l,y,s,i,n),l.Add(y),this.createAlteratedVoiceEntry(l,y,s,f,v,n),l.Add(y),this.createBaseVoiceEntry(l,y,s,i,n);break;case c.OrnamentEnum.DelayedTurn:var _=new o.Fraction(r.Numerator,2*r.Denominator);b=i.Pitch.getTransposedPitch(-1),g=e.getAlterationForPitch(b),f=i.Pitch.getTransposedPitch(1),v=e.getAlterationForPitch(f),this.createBaseVoiceEntry(l,_,s,i,n),l=o.Fraction.plus(a,_),_.Denominator=8*r.Denominator,this.createAlteratedVoiceEntry(l,_,s,f,v,n),l.Add(_),this.createBaseVoiceEntry(l,_,s,i,n),l.Add(_),this.createAlteratedVoiceEntry(l,_,s,b,g,n),l.Add(_),this.createBaseVoiceEntry(l,_,s,i,n);break;case c.OrnamentEnum.DelayedInvertedTurn:var x=new o.Fraction(r.Numerator,2*r.Denominator);b=i.Pitch.getTransposedPitch(-1),g=e.getAlterationForPitch(b),f=i.Pitch.getTransposedPitch(1),v=e.getAlterationForPitch(f),this.createBaseVoiceEntry(l,x,s,i,n),l=o.Fraction.plus(a,x),x.Denominator=8*r.Denominator,this.createAlteratedVoiceEntry(l,x,s,b,g,n),l.Add(x),this.createBaseVoiceEntry(l,x,s,i,n),l.Add(x),this.createAlteratedVoiceEntry(l,x,s,f,v,n),l.Add(x),this.createBaseVoiceEntry(l,x,s,i,n);break;case c.OrnamentEnum.Mordent:var w=new o.Fraction(r.Numerator,4*r.Denominator);f=i.Pitch.getTransposedPitch(1),d=e.getAlterationForPitch(f),this.createBaseVoiceEntry(l,w,s,i,n),l.Add(w),this.createAlteratedVoiceEntry(l,w,s,f,d,n),w.Denominator=2*r.Denominator,l=o.Fraction.plus(a,w),this.createBaseVoiceEntry(l,w,s,i,n);break;case c.OrnamentEnum.InvertedMordent:var S=new o.Fraction(r.Numerator,4*r.Denominator);b=i.Pitch.getTransposedPitch(-1),d=e.getAlterationForPitch(b),this.createBaseVoiceEntry(l,S,s,i,n),l.Add(S),this.createAlteratedVoiceEntry(l,S,s,b,d,n),S.Denominator=2*r.Denominator,l=o.Fraction.plus(a,S),this.createBaseVoiceEntry(l,S,s,i,n);break;default:throw new RangeError}return n}},t.prototype.createBaseVoiceEntry=function(e,n,i,r,o){var c=new t(e,i,r.ParentStaffEntry),u=new a.Pitch(r.Pitch.FundamentalNote,r.Pitch.Octave,r.Pitch.Accidental),l=new s.Note(c,void 0,n,u);c.Notes.push(l),o.push(c)},t.prototype.createAlteratedVoiceEntry=function(e,n,i,r,o,c){var u=new t(e,i,void 0),l=new a.Pitch(r.FundamentalNote,r.Octave,o),h=new s.Note(u,void 0,n,l);u.Notes.push(h),c.push(u)},t}();e.VoiceEntry=h,function(t){t[t.accent=0]="accent",t[t.strongaccent=1]="strongaccent",t[t.invertedstrongaccent=2]="invertedstrongaccent",t[t.staccato=3]="staccato",t[t.staccatissimo=4]="staccatissimo",t[t.spiccato=5]="spiccato",t[t.tenuto=6]="tenuto",t[t.fermata=7]="fermata",t[t.invertedfermata=8]="invertedfermata",t[t.breathmark=9]="breathmark",t[t.caesura=10]="caesura",t[t.lefthandpizzicato=11]="lefthandpizzicato",t[t.naturalharmonic=12]="naturalharmonic",t[t.snappizzicato=13]="snappizzicato",t[t.upbow=14]="upbow",t[t.downbow=15]="downbow",t[t.scoop=16]="scoop",t[t.plop=17]="plop",t[t.doit=18]="doit",t[t.falloff=19]="falloff",t[t.stress=20]="stress",t[t.unstress=21]="unstress",t[t.detachedlegato=22]="detachedlegato",t[t.otherarticulation=23]="otherarticulation"}(i=e.ArticulationEnum||(e.ArticulationEnum={})),function(t){t[t.Undefined=-1]="Undefined",t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.None=2]="None"}(r=e.StemDirectionType||(e.StemDirectionType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){this.message=t,void 0!==e&&(this.message+=" "+e.toString())}}();e.MusicSheetReadingException=i;var r=function(){return function(t){this.message=t}}();e.ArgumentOutOfRangeException=r;var o=function(){return function(t){this.message=t}}();e.InvalidEnumArgumentException=o},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);u.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(t){t.end()}var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=i;var a=n(53),c=n(28);c.inherits=n(21);var u=n(87),l=n(52);c.inherits(i,u);for(var h=s(l.prototype),f=0;f<h.length;f++){var d=h[f];i.prototype[d]||(i.prototype[d]=l.prototype[d])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.LeftTop=0]="LeftTop",t[t.LeftCenter=1]="LeftCenter",t[t.LeftBottom=2]="LeftBottom",t[t.CenterTop=3]="CenterTop",t[t.CenterCenter=4]="CenterCenter",t[t.CenterBottom=5]="CenterBottom",t[t.RightTop=6]="RightTop",t[t.RightCenter=7]="RightCenter",t[t.RightBottom=8]="RightBottom"}(e.TextAlignment||(e.TextAlignment={}))},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function i(){c.call(this,"utf-8 decode"),this.leftOver=null}function r(){c.call(this,"utf-8 encode")}for(var o=n(0),s=n(14),a=n(40),c=n(6),u=new Array(256),l=0;l<256;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1,e.utf8encode=function(t){return s.nodebuffer?a.newBufferFrom(t,"utf-8"):function(t){var e,n,i,r,o,a=t.length,c=0;for(r=0;r<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=s.uint8array?new Uint8Array(c):new Array(c),o=0,r=0;o<c;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e}(t)},e.utf8decode=function(t){return s.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,r,s=t.length,a=new Array(2*s);for(n=0,e=0;e<s;)if((i=t[e++])<128)a[n++]=i;else if((r=u[i])>4)a[n++]=65533,e+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&e<s;)i=i<<6|63&t[e++],r--;r>1?a[n++]=65533:i<65536?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|1023&i)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),o.applyFromCharCode(a)}(t=o.transformTo(s.uint8array?"uint8array":"array",t))},o.inherits(i,c),i.prototype.processChunk=function(t){var n=o.transformTo(s.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var i=n;(n=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var r=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}(n),a=n;r!==n.length&&(s.uint8array?(a=n.subarray(0,r),this.leftOver=n.subarray(r,n.length)):(a=n.slice(0,r),this.leftOver=n.slice(r,n.length))),this.push({data:e.utf8decode(a),meta:t.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=i,o.inherits(r,c),r.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.Compare=function(t,e){if(void 0!==t.parentRepetition&&void 0!==e.parentRepetition){if(t.alignment===o.End&&e.alignment===o.End){if(t.parentRepetition.StartIndex<e.parentRepetition.StartIndex)return 1;if(t.parentRepetition.StartIndex>e.parentRepetition.StartIndex)return-1}if(t.alignment===o.Begin&&e.alignment===o.Begin){if(t.parentRepetition.EndIndex<e.parentRepetition.EndIndex)return 1;if(t.parentRepetition.EndIndex>e.parentRepetition.EndIndex)return-1}}return 0},t}();e.RepetitionInstructionComparer=i;var r,o,s=function(){function t(t,e,n,i,r){void 0===n&&(n=o.End),void 0===i&&(i=void 0),void 0===r&&(r=void 0),this.endingIndices=void 0,this.measureIndex=t,void 0!==r&&(this.endingIndices=r.slice()),this.type=e,this.alignment=n,this.parentRepetition=i}return t.prototype.CompareTo=function(t){var e=t;if(this.measureIndex>e.measureIndex)return 1;if(this.measureIndex<e.measureIndex)return-1;if(this.alignment===o.Begin){if(e.alignment===o.End)return-1;switch(this.type){case r.Ending:return 1;case r.StartLine:return e.type===r.Ending?-1:1;case r.Coda:case r.Segno:return e.type===r.Coda?1:-1}}else{if(e.alignment===o.Begin)return 1;switch(this.type){case r.Ending:return-1;case r.Fine:case r.ToCoda:return e.type===r.Ending?1:-1;case r.ForwardJump:switch(e.type){case r.Ending:case r.Fine:case r.ToCoda:return 1}return-1;case r.DalSegnoAlFine:case r.DaCapoAlFine:case r.DalSegnoAlCoda:case r.DaCapoAlCoda:case r.DaCapo:case r.DalSegno:case r.BackJumpLine:return 1}}return 0},t.prototype.equals=function(t){if(this.measureIndex!==t.measureIndex||this.type!==t.type||this.alignment!==t.alignment||this.endingIndices.length!==t.endingIndices.length)return!1;for(var e=0;e<this.endingIndices.length;e++)if(this.endingIndices[e]!==t.endingIndices[e])return!1;return!0},t}();e.RepetitionInstruction=s,function(t){t[t.StartLine=0]="StartLine",t[t.ForwardJump=1]="ForwardJump",t[t.BackJumpLine=2]="BackJumpLine",t[t.Ending=3]="Ending",t[t.DaCapo=4]="DaCapo",t[t.DalSegno=5]="DalSegno",t[t.Fine=6]="Fine",t[t.ToCoda=7]="ToCoda",t[t.DalSegnoAlFine=8]="DalSegnoAlFine",t[t.DaCapoAlFine=9]="DaCapoAlFine",t[t.DalSegnoAlCoda=10]="DalSegnoAlCoda",t[t.DaCapoAlCoda=11]="DaCapoAlCoda",t[t.Coda=12]="Coda",t[t.Segno=13]="Segno",t[t.None=14]="None"}(r=e.RepetitionInstructionEnum||(e.RepetitionInstructionEnum={})),function(t){t[t.Begin=0]="Begin",t[t.End=1]="End"}(o=e.AlignmentType||(e.AlignmentType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),r=n(7),o=n(16),s=n(12),a=n(2),c=n(2),u=n(34),l=n(224),h=n(100),f=n(37),d=n(3),p=n(17),m=n(44),b=function(){function t(){}return t.duration=function(t,e){var n=t.RealValue;return n>=1?"w":n<1&&n>=.5?e?"w":"h":n<.5&&n>=.25?e&&n>.25?"h":"q":n<.25&&n>=.125?e&&n>.125?"q":"8":n<.125&&n>=.0625?e&&n>.0625?"8":"16":n<.0625&&n>=.03125?e&&n>.03125?"16":"32":n<.03125&&n>=.015625?e&&n>.015625?"32":"64":e?"64":"128"},t.pitch=function(e,n){return[c.NoteEnum[e.FundamentalNote].toLowerCase()+"n/"+(e.Octave-n.OctaveOffset+3),t.accidental(e.Accidental),n]},t.accidental=function(t){var e;switch(t){case a.AccidentalEnum.NONE:e="n";break;case a.AccidentalEnum.FLAT:e="b";break;case a.AccidentalEnum.SHARP:e="#";break;case a.AccidentalEnum.DOUBLESHARP:e="##";break;case a.AccidentalEnum.DOUBLEFLAT:e="bb"}return e},t.StaveNote=function(e){for(var n=[],r=[],o=e[0].graphicalNoteLength,s=void 0!==e[0].sourceNote.NoteTuplet,a=t.duration(o,s),c=void 0,u=0,l=0,h=e;l<h.length;l++){var f=h[l],d=f.vfpitch;if(void 0===d){n=["b/4"],a+="r";break}n.push(d[0]),r.push(d[1]),c||(c=t.Clef(d[2]).type),u<f.numberOfDots&&(u=f.numberOfDots)}for(var m=0,b=u;m<b;++m)a+="d";var g=new i.Flow.StaveNote({auto_stem:!0,clef:c,duration:a,keys:n});switch(e[0].sourceNote.ParentVoiceEntry.StemDirection){case p.StemDirectionType.Up:g.setStemDirection(i.Flow.Stem.UP);break;case p.StemDirectionType.Down:g.setStemDirection(i.Flow.Stem.DOWN)}for(m=0,b=e.length;m<b;m+=1)e[m].setIndex(g,m),r[m]&&g.addAccidental(m,new i.Flow.Accidental(r[m]));for(m=0,b=u;m<b;++m)g.addDotToAll();return g},t.generateArticulations=function(t,e){var n=i.Flow.Modifier.Position.ABOVE;t.getStemDirection()===i.Flow.Stem.UP&&(n=i.Flow.Modifier.Position.BELOW);for(var r=0,o=e;r<o.length;r++){var s=void 0;switch(o[r]){case p.ArticulationEnum.accent:s=new i.Flow.Articulation("a>");break;case p.ArticulationEnum.downbow:s=new i.Flow.Articulation("am");break;case p.ArticulationEnum.fermata:s=new i.Flow.Articulation("a@a"),n=i.Flow.Modifier.Position.ABOVE;break;case p.ArticulationEnum.invertedfermata:s=new i.Flow.Articulation("a@u"),n=i.Flow.Modifier.Position.BELOW;break;case p.ArticulationEnum.lefthandpizzicato:s=new i.Flow.Articulation("a+");break;case p.ArticulationEnum.snappizzicato:s=new i.Flow.Articulation("ao");break;case p.ArticulationEnum.staccatissimo:s=new i.Flow.Articulation("av");break;case p.ArticulationEnum.staccato:s=new i.Flow.Articulation("a.");break;case p.ArticulationEnum.tenuto:s=new i.Flow.Articulation("a-");break;case p.ArticulationEnum.upbow:s=new i.Flow.Articulation("a|");break;case p.ArticulationEnum.strongaccent:s=new i.Flow.Articulation("a^")}void 0!==s&&(s.setPosition(n),t.addModifier(0,s))}},t.Clef=function(t,e){var n,i;switch(void 0===e&&(e="default"),"default"!==e&&"small"!==e&&(d.Logging.warn('Invalid VexFlow clef size "'+e+'" specified. Using "default".'),e="default"),t.ClefType){case r.ClefEnum.G:switch(t.Line){case 1:n="french";break;case 2:n="treble";break;default:n="treble",d.Logging.error("Clef "+r.ClefEnum[t.ClefType]+" on line "+t.Line+' not supported by VexFlow. Using default value "'+n+'".')}break;case r.ClefEnum.F:switch(t.Line){case 4:n="bass";break;case 3:n="baritone-f";break;case 5:n="subbass";break;default:n="bass",d.Logging.error("Clef "+r.ClefEnum[t.ClefType]+" on line "+t.Line+' not supported by VexFlow. Using default value "'+n+'".')}break;case r.ClefEnum.C:switch(t.Line){case 3:n="alto";break;case 4:n="tenor";break;case 1:n="soprano";break;case 2:n="mezzo-soprano";break;default:n="alto",d.Logging.error("Clef "+r.ClefEnum[t.ClefType]+" on line "+t.Line+' not supported by VexFlow. Using default value "'+n+'".')}break;case r.ClefEnum.percussion:n="percussion";break;case r.ClefEnum.TAB:n="tab"}switch(t.OctaveOffset){case 1:i="8va";break;case-1:i="8vb"}return{type:n,size:e,annotation:i}},t.TimeSignature=function(t){var e;switch(t.SymbolEnum){case o.RhythmSymbolEnum.NONE:e=t.Rhythm.Numerator+"/"+t.Rhythm.Denominator;break;case o.RhythmSymbolEnum.COMMON:e="C";break;case o.RhythmSymbolEnum.CUT:e="C|"}return new i.Flow.TimeSignature(e)},t.keySignature=function(e){if(void 0!==e){var n;switch(e.Mode){case s.KeyEnum.minor:n=t.minorMap[e.Key]+"m";break;case s.KeyEnum.major:n=t.majorMap[e.Key];break;case s.KeyEnum.none:default:n="C"}return n}},t.line=function(t,e){switch(t){case u.SystemLinesEnum.SingleThin:return e===m.SystemLinePosition.MeasureBegin?i.Flow.StaveConnector.type.SINGLE:i.Flow.StaveConnector.type.SINGLE_RIGHT;case u.SystemLinesEnum.DoubleThin:return i.Flow.StaveConnector.type.DOUBLE;case u.SystemLinesEnum.ThinBold:return i.Flow.StaveConnector.type.BOLD_DOUBLE_RIGHT;case u.SystemLinesEnum.BoldThinDots:return i.Flow.StaveConnector.type.BOLD_DOUBLE_LEFT;case u.SystemLinesEnum.DotsThinBold:case u.SystemLinesEnum.DotsBoldBoldDots:return i.Flow.StaveConnector.type.BOLD_DOUBLE_RIGHT;case u.SystemLinesEnum.None:return i.Flow.StaveConnector.type.NONE}},t.font=function(t,e,n){void 0===e&&(e=l.FontStyles.Regular),void 0===n&&(n=h.Fonts.TimesNewRoman);var i="normal",r="normal";switch(e){case l.FontStyles.Bold:r="bold";break;case l.FontStyles.Italic:i="italic";break;case l.FontStyles.BoldItalic:i="italic",r="bold";break;case l.FontStyles.Underlined:}switch(n){case h.Fonts.Kokila:}return i+" "+r+" "+Math.floor(t)+"px 'Times New Roman'"},t.fontStyle=function(t){switch(t){case l.FontStyles.Bold:return"bold";case l.FontStyles.Italic:return"italic";case l.FontStyles.BoldItalic:return"italic bold";default:return"normal"}},t.style=function(t){return f.OUTLINE_AND_FILL_STYLE_DICT.getValue(t)},t.majorMap={"-1":"F","-2":"Bb","-3":"Eb","-4":"Ab","-5":"Db","-6":"Gb","-7":"Cb","-8":"Fb",0:"C",1:"G",2:"D",3:"A",4:"E",5:"B",6:"F#",7:"C#",8:"G#"},t.minorMap={"-1":"D","-2":"G","-3":"C","-4":"F","-5":"Bb","-6":"Eb","-7":"Ab","-8":"Db",0:"A",1:"E",2:"B",3:"F#",4:"C#",5:"G#",6:"D#",7:"A#",8:"E#"},t}();e.VexFlowConverter=b,function(t){t[t.NONE=1]="NONE",t[t.CODA_LEFT=2]="CODA_LEFT",t[t.CODA_RIGHT=3]="CODA_RIGHT",t[t.SEGNO_LEFT=4]="SEGNO_LEFT",t[t.SEGNO_RIGHT=5]="SEGNO_RIGHT",t[t.DC=6]="DC",t[t.DC_AL_CODA=7]="DC_AL_CODA",t[t.DC_AL_FINE=8]="DC_AL_FINE",t[t.DS=9]="DS",t[t.DS_AL_CODA=10]="DS_AL_CODA",t[t.DS_AL_FINE=11]="DS_AL_FINE",t[t.FINE=12]="FINE"}(e.VexFlowRepetitionType||(e.VexFlowRepetitionType={})),function(t){t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE",t[t.END=3]="END",t[t.REPEAT_BEGIN=4]="REPEAT_BEGIN",t[t.REPEAT_END=5]="REPEAT_END",t[t.REPEAT_BOTH=6]="REPEAT_BOTH",t[t.NONE=7]="NONE"}(e.VexFlowBarlineType||(e.VexFlowBarlineType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),r=n(100),o=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=i.TextAlignment.LeftBottom),void 0===n&&(n=r.Fonts.TimesNewRoman),this.text=t,this.textAlignment=e,this.font=n}return t.prototype.ToString=function(){return this.text},t}();e.Label=o},function(t,e,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(136),t.exports={Promise:i}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(11).Buffer)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(){p&&f&&(p=!1,f.length?d=f.concat(d):m=-1,d.length&&s())}function s(){if(!p){var t=r(o);p=!0;for(var e=d.length;e;){for(f=d,d=[];++m<e;)f&&f[m].run();m=-1,e=d.length}f=null,p=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===i||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var u,l,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{l="function"==typeof clearTimeout?clearTimeout:i}catch(t){l=i}}();var f,d=[],p=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||p||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.translateText=function(t,e){if(void 0===this.defaultTextTranslation)return e},t}();e.ITextTranslation=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(223),s=n(61),a=n(5),c=n(96),u=n(37);e.unitInPixels=10;var l=function(t){function n(e,n,i){void 0===i&&(i=!1);var r=t.call(this,new c.VexFlowTextMeasurer,i)||this;return r.zoom=1,r.backend=n,r}return r(n,t),n.prototype.clear=function(){this.backend.clear()},n.prototype.scale=function(t){this.zoom=t,this.backend.scale(this.zoom)},n.prototype.resize=function(t,e){this.backend.resize(t,e)},n.prototype.translate=function(t,e){this.backend.translate(t,e)},n.prototype.calculatePixelDistance=function(t){return t*e.unitInPixels},n.prototype.drawMeasure=function(t){for(var n in t.setAbsoluteCoordinates(t.PositionAndShape.AbsolutePosition.x*e.unitInPixels,t.PositionAndShape.AbsolutePosition.y*e.unitInPixels),t.draw(this.backend.getContext()),t.vfVoices)if(t.vfVoices.hasOwnProperty(n))for(var i=0,r=t.vfVoices[n].tickables;i<r.length;i++){var o=r[i];o.getAttribute("type")}for(var s=0,a=t.staffEntries;s<a.length;s++){var c=a[s];this.drawStaffEntry(c)}},n.prototype.drawStaffEntry=function(t){void 0!==t.graphicalChordContainer&&this.drawLabel(t.graphicalChordContainer.GetGraphicalLabel,u.GraphicalLayers.Notes),t.LyricsEntries.length>0&&this.drawLyrics(t.LyricsEntries,u.GraphicalLayers.Notes)},n.prototype.drawLyrics=function(t,e){var n=this;t.forEach(function(t){return n.drawLabel(t.GraphicalLabel,e)})},n.prototype.drawInstrumentBrace=function(t,e){t.draw(this.backend.getContext())},n.prototype.drawGroupBracket=function(t,e){t.draw(this.backend.getContext())},n.prototype.renderLabel=function(t,n,i,r,o,s){var a=t.Label.fontHeight*e.unitInPixels,c=t.Label,u=c.fontStyle,l=c.font,h=c.text;this.backend.renderText(a,u,l,h,o,s)},n.prototype.renderRectangle=function(t,e,n,i){this.backend.renderRectangle(t,n,i)},n.prototype.applyScreenTransformation=function(t){return new a.PointF2D(t.x*e.unitInPixels,t.y*e.unitInPixels)},n.prototype.applyScreenTransformationForRect=function(t){return new s.RectangleF2D(t.x*e.unitInPixels,t.y*e.unitInPixels,t.width*e.unitInPixels,t.height*e.unitInPixels)},n}(o.MusicSheetDrawer);e.VexFlowMusicSheetDrawer=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),s=n(232),a=n(4),c=n(58),u=n(38),l=function(t){function e(e,n,i,r){void 0===r&&(r=void 0);var o=t.call(this)||this;return o.label=e,o.boundingBox=new a.BoundingBox(o,r),o.label.fontHeight=n,o.label.textAlignment=i,o}return r(e,t),Object.defineProperty(e.prototype,"Label",{get:function(){return this.label},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.label.text},e.prototype.setLabelPositionAndShapeBorders=function(){if(""!==this.Label.text.trim()){var t=c.EngravingRules.Rules.LabelMarginBorderFactor,e=u.MusicSheetCalculator.TextMeasurer.computeTextWidthToHeightRatio(this.Label.text,this.Label.font,this.Label.fontStyle),n=this.Label.fontHeight,i=n*e,r=this.PositionAndShape;switch(this.Label.textAlignment){case o.TextAlignment.CenterBottom:r.BorderTop=-n,r.BorderLeft=-i/2,r.BorderBottom=0,r.BorderRight=i/2;break;case o.TextAlignment.CenterCenter:r.BorderTop=-n/2,r.BorderLeft=-i/2,r.BorderBottom=n/2,r.BorderRight=i/2;break;case o.TextAlignment.CenterTop:r.BorderTop=0,r.BorderLeft=-i/2,r.BorderBottom=n,r.BorderRight=i/2;break;case o.TextAlignment.LeftBottom:r.BorderTop=-n,r.BorderLeft=0,r.BorderBottom=0,r.BorderRight=i;break;case o.TextAlignment.LeftCenter:r.BorderTop=-n/2,r.BorderLeft=0,r.BorderBottom=n/2,r.BorderRight=i;break;case o.TextAlignment.LeftTop:r.BorderTop=0,r.BorderLeft=0,r.BorderBottom=n,r.BorderRight=i;break;case o.TextAlignment.RightBottom:r.BorderTop=-n,r.BorderLeft=-i,r.BorderBottom=0,r.BorderRight=0;break;case o.TextAlignment.RightCenter:r.BorderTop=-n/2,r.BorderLeft=-i,r.BorderBottom=n/2,r.BorderRight=0;break;case o.TextAlignment.RightTop:r.BorderTop=0,r.BorderLeft=-i,r.BorderBottom=n,r.BorderRight=0}r.BorderMarginTop=r.BorderTop-n*t,r.BorderMarginLeft=r.BorderLeft-n*t,r.BorderMarginBottom=r.BorderBottom+n*t,r.BorderMarginRight=r.BorderRight+n*t}},e}(s.Clickable);e.GraphicalLabel=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(7),o=n(12),s=n(16),a=function(){function t(t,e){this.voiceEntries=[],this.instructions=[],this.verticalContainerParent=t,this.parentStaff=e}return Object.defineProperty(t.prototype,"ParentStaff",{get:function(){return this.parentStaff},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VerticalContainerParent",{get:function(){return this.verticalContainerParent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Timestamp",{get:function(){if(void 0!==this.VerticalContainerParent)return this.VerticalContainerParent.Timestamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AbsoluteTimestamp",{get:function(){if(void 0!==this.VerticalContainerParent)return i.Fraction.plus(this.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp,this.VerticalContainerParent.Timestamp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VoiceEntries",{get:function(){return this.voiceEntries},set:function(t){this.voiceEntries=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Link",{get:function(){return this.staffEntryLink},set:function(t){this.staffEntryLink=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Instructions",{get:function(){return this.instructions},set:function(t){this.instructions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChordContainer",{get:function(){return this.chordSymbolContainer},set:function(t){this.chordSymbolContainer=t},enumerable:!0,configurable:!0}),t.prototype.removeAllInstructionsOfTypeClefInstruction=function(){for(var t=0,e=0;t<this.instructions.length;)this.instructions[t]instanceof r.ClefInstruction?(this.instructions.splice(t,1),e++):t++;return e},t.prototype.removeFirstInstructionOfTypeClefInstruction=function(){for(var t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof r.ClefInstruction)return this.instructions.splice(t,1),!0;return!1},t.prototype.removeAllInstructionsOfTypeKeyInstruction=function(){for(var t=0,e=0;t<this.instructions.length;)this.instructions[t]instanceof o.KeyInstruction?(this.instructions.splice(t,1),e++):t++;return e},t.prototype.removeFirstInstructionOfTypeKeyInstruction=function(){for(var t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof o.KeyInstruction)return this.instructions.splice(t,1),!0;return!1},t.prototype.removeAllInstructionsOfTypeRhythmInstruction=function(){for(var t=0,e=0;t<this.instructions.length;)this.instructions[t]instanceof s.RhythmInstruction?(this.instructions.splice(t,1),e++):t++;return e},t.prototype.removeFirstInstructionOfTypeRhythmInstruction=function(){for(var t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof s.RhythmInstruction)return this.instructions.splice(t,1),!0;return!1},t.prototype.calculateMinNoteLength=function(){for(var t=new i.Fraction(Number.MAX_VALUE,1),e=0,n=this.VoiceEntries.length;e<n;++e)for(var r=this.VoiceEntries[e],o=0,s=r.Notes.length;o<s;++o){var a=r.Notes[o];void 0!==a.NoteTie?a.calculateNoteLengthWithoutTie().lt(t)&&(t=a.calculateNoteLengthWithoutTie()):a.Length.lt(t)&&(t=a.Length)}return t},t.prototype.calculateMaxNoteLength=function(){for(var t=new i.Fraction(0,1),e=0,n=this.VoiceEntries.length;e<n;++e)for(var r=this.VoiceEntries[e],o=0,s=r.Notes.length;o<s;++o){var a=r.Notes[o];if(void 0!==a.NoteTie){if(t<a.calculateNoteLengthWithoutTie()){t=a.calculateNoteLengthWithoutTie();for(var c=0,u=a.NoteTie.Fractions.length;c<u;++c){var l=a.NoteTie.Fractions[c];t.Add(l)}}}else t<a.Length&&(t=a.Length)}return t},t.prototype.hasNotes=function(){for(var t=0,e=this.VoiceEntries.length;t<e;++t)if(this.VoiceEntries[t].Notes.length>0)return!0;return!1},t.prototype.hasTie=function(){for(var t=0,e=this.VoiceEntries.length;t<e;++t)if(this.VoiceEntries[t].hasTie())return!0;return!1},t.prototype.findLinkedNotes=function(t){for(var e=0,n=this.voiceEntries.length;e<n;++e)for(var i=this.voiceEntries[e],r=0,o=i.Notes.length;r<o;++r){var s=i.Notes[r];s.ParentStaffEntry===this&&t.push(s)}},t}();e.SourceStaffEntry=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SingleThin=0]="SingleThin",t[t.DoubleThin=1]="DoubleThin",t[t.ThinBold=2]="ThinBold",t[t.BoldThinDots=3]="BoldThinDots",t[t.DotsThinBold=4]="DotsThinBold",t[t.DotsBoldBoldDots=5]="DotsBoldBoldDots",t[t.None=6]="None"}(e.SystemLinesEnum||(e.SystemLinesEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.contains2=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},t.last=function(t){return t[t.length-1]},t.removeDictElementIfTrue=function(t,e,n){var i=[];e.forEach(function(e,r){n(t,e,r)&&i.push(e)});for(var r=0;r<i.length;r++)e.remove(i[r])},t.getLastElement=function(t){return t[t.length-1]},t.binarySearch=function(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=t.length-1);for(var o=1;i<r;){var s=n(t[o=Math.floor((i+r)/2)],e);if(0===s)return o;s<0&&(i=o+1),0<s&&(r=o)}return-o},t}();e.CollectionUtil=i},function(t,e,n){"use strict";function i(t,e,n){for(var i=n||r.defaultEquals,o=t.length,s=0;s<o;s++)if(i(t[s],e))return s;return-1}Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);e.indexOf=i,e.lastIndexOf=function(t,e,n){for(var i=n||r.defaultEquals,o=t.length-1;o>=0;o--)if(i(t[o],e))return o;return-1},e.contains=function(t,e,n){return i(t,e,n)>=0},e.remove=function(t,e,n){var r=i(t,e,n);return!(r<0||(t.splice(r,1),0))},e.frequency=function(t,e,n){for(var i=n||r.defaultEquals,o=t.length,s=0,a=0;a<o;a++)i(t[a],e)&&s++;return s},e.equals=function(t,e,n){var i=n||r.defaultEquals;if(t.length!==e.length)return!1;for(var o=t.length,s=0;s<o;s++)if(!i(t[s],e[s]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var i=t[e];return t[e]=t[n],t[n]=i,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var n=0,i=t;n<i.length;n++)if(!1===e(i[n]))return}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(241);!function(t){t[t.BaseWritingColor=0]="BaseWritingColor",t[t.FollowingCursor=1]="FollowingCursor",t[t.AlternativeFollowingCursor=2]="AlternativeFollowingCursor",t[t.PlaybackCursor=3]="PlaybackCursor",t[t.Highlighted=4]="Highlighted",t[t.ErrorUnderlay=5]="ErrorUnderlay",t[t.Selected=6]="Selected",t[t.SelectionSymbol=7]="SelectionSymbol",t[t.DebugColor1=8]="DebugColor1",t[t.DebugColor2=9]="DebugColor2",t[t.DebugColor3=10]="DebugColor3",t[t.SplitScreenDivision=11]="SplitScreenDivision",t[t.GreyTransparentOverlay=12]="GreyTransparentOverlay",t[t.MarkedArea1=13]="MarkedArea1",t[t.MarkedArea2=14]="MarkedArea2",t[t.MarkedArea3=15]="MarkedArea3",t[t.MarkedArea4=16]="MarkedArea4",t[t.MarkedArea5=17]="MarkedArea5",t[t.MarkedArea6=18]="MarkedArea6",t[t.MarkedArea7=19]="MarkedArea7",t[t.MarkedArea8=20]="MarkedArea8",t[t.MarkedArea9=21]="MarkedArea9",t[t.MarkedArea10=22]="MarkedArea10",t[t.Comment1=23]="Comment1",t[t.Comment2=24]="Comment2",t[t.Comment3=25]="Comment3",t[t.Comment4=26]="Comment4",t[t.Comment5=27]="Comment5",t[t.Comment6=28]="Comment6",t[t.Comment7=29]="Comment7",t[t.Comment8=30]="Comment8",t[t.Comment9=31]="Comment9",t[t.Comment10=32]="Comment10"}(i=e.OutlineAndFillStyleEnum||(e.OutlineAndFillStyleEnum={})),e.OUTLINE_AND_FILL_STYLE_DICT=new r.Dictionary,e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.BaseWritingColor,"Thistle"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.FollowingCursor,"Aqua"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.AlternativeFollowingCursor,"Azure"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.PlaybackCursor,"Bisque"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Highlighted,"CadetBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.ErrorUnderlay,"DarkBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Selected,"DarkGoldenRod"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.SelectionSymbol,"BlanchedAlmond"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.DebugColor1,"Chartreuse"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.DebugColor2,"DarkGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.DebugColor3,"DarkOrange"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.SplitScreenDivision,"FireBrick"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.GreyTransparentOverlay,"DarkSalmon"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea1,"DarkSeaGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea2,"DarkOrchid"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea3,"Aquamarine"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea4,"DarkKhaki"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea5,"ForestGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea6,"AliceBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea7,"DeepPink"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea8,"Coral"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea9,"DarkOliveGreen"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.MarkedArea10,"Chocolate"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment1,"DodgerBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment2,"Blue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment3,"Beige"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment4,"Crimson"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment5,"Fuchsia"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment6,"Brown"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment7,"BlanchedAlmond"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment8,"CornflowerBlue"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment9,"Cornsilk"),e.OUTLINE_AND_FILL_STYLE_DICT.setValue(i.Comment10,"DarkGrey"),function(t){t[t.MarkedArea=0]="MarkedArea",t[t.Comment=1]="Comment"}(e.StyleSets||(e.StyleSets={})),function(t){t[t.Background=0]="Background",t[t.Highlight=1]="Highlight",t[t.MeasureError=2]="MeasureError",t[t.SelectionSymbol=3]="SelectionSymbol",t[t.Cursor=4]="Cursor",t[t.PSI_Debug=5]="PSI_Debug",t[t.Notes=6]="Notes",t[t.Comment=7]="Comment",t[t.Debug_above=8]="Debug_above"}(e.GraphicalLayers||(e.GraphicalLayers={})),function(t){t[t.Normal=0]="Normal",t[t.Selected=1]="Selected",t[t.Follow_Confirmed=2]="Follow_Confirmed",t[t.QFeedback_NotFound=3]="QFeedback_NotFound",t[t.QFeedback_OK=4]="QFeedback_OK",t[t.QFeedback_Perfect=5]="QFeedback_Perfect",t[t.Debug1=6]="Debug1",t[t.Debug2=7]="Debug2",t[t.Debug3=8]="Debug3"}(e.NoteState||(e.NoteState={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(110),r=n(1),o=n(60),s=n(7),a=n(59),c=n(17),u=n(17),l=n(233),h=n(5),f=n(33),d=n(32),p=n(20),m=n(12),b=n(101),g=n(4),v=n(231),y=n(230),_=n(7),x=n(3),w=n(10),S=n(35),E=n(45),T=n(26),k=function(){function t(t){this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.staffLinesWithGraphicalExpressions=[],this.graphicalLyricWords=[],this.symbolFactory=t}return Object.defineProperty(t,"TextMeasurer",{get:function(){return t.textMeasurer},set:function(e){t.textMeasurer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leadSheet",{get:function(){return this.graphicalMusicSheet.LeadSheet},enumerable:!0,configurable:!0}),t.addTieToTieTimestampsDict=function(t,e){e.NoteTie.initializeBoolList();for(var n=[],i=0;i<e.NoteTie.Fractions.length;i++){var o=void 0;o=0===i?r.Fraction.plus(e.calculateNoteLengthWithoutTie(),e.getAbsoluteTimestamp()):r.Fraction.plus(n[i-1],e.NoteTie.Fractions[i-1]),n.push(o)}t.setValue(e.NoteTie,n)},t.setMeasuresMinStaffEntriesWidth=function(t,e){for(var n=0,i=t.length;n<i;++n)t[n].minimumStaffEntriesWidth=e},t.prototype.initialize=function(t){this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.rules,this.prepareGraphicalMusicSheet()},t.prototype.prepareGraphicalMusicSheet=function(){var t=this.graphicalMusicSheet.ParentMusicSheet;this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.staffLinesWithGraphicalExpressions=[],this.graphicalMusicSheet.Initialize();for(var e=this.graphicalMusicSheet.MeasureList,n=this.createAccidentalCalculators(),i=this.graphicalMusicSheet.initializeActiveClefs(),r=[],o=t.getCompleteNumberOfStaves(),s=[],a=[],c=0;c<o;c++){var u=new w.default;a.push(u),s.push(void 0)}for(var l=0,h=t.SourceMeasures.length;l<h;++l){var f=t.SourceMeasures[l],d=this.createGraphicalMeasuresForSourceMeasure(f,n,r,a,s,i);e.push(d)}this.handleStaffEntries(),this.calculateVerticalContainersList(),this.setIndecesToVerticalGraphicalContainers()},t.prototype.calculate=function(){this.clearSystemsAndMeasures(),this.clearRecreatedObjects(),this.createGraphicalTies(),this.calculateSheetLabelBoundingBoxes(),this.calculateXLayout(this.graphicalMusicSheet,this.maxInstrNameLabelLength()),this.graphicalMusicSheet.MusicPages.length=0,this.calculateMusicSystems(),this.formatMeasures(),this.calculateLyricsPosition(),this.graphicalMusicSheet.MusicPages[0].PositionAndShape.BorderMarginBottom+=9,i.GraphicalMusicSheet.transformRelativeToAbsolutePosition(this.graphicalMusicSheet)},t.prototype.calculateXLayout=function(e,n){var i=0,r=this.rules.MaxInstructionsConstValue;if(this.graphicalMusicSheet.MeasureList.length>0){var o=this.graphicalMusicSheet.MeasureList[0],s=this.calculateMeasureXLayout(o);t.setMeasuresMinStaffEntriesWidth(o,s),i=1.2*s+n+r;for(var a=1;a<this.graphicalMusicSheet.MeasureList.length;a++)o=this.graphicalMusicSheet.MeasureList[a],s=this.calculateMeasureXLayout(o),t.setMeasuresMinStaffEntriesWidth(o,s),i=Math.max(i,1.2*s+r)}this.graphicalMusicSheet.MinAllowedSystemWidth=i},t.prototype.formatMeasures=function(){throw new Error("abstract, not implemented")},t.prototype.calculateMeasureXLayout=function(t){throw new Error("abstract, not implemented")},t.prototype.calculateSystemYLayout=function(){throw new Error("abstract, not implemented")},t.prototype.initStaffMeasuresCreation=function(){throw new Error("abstract, not implemented")},t.prototype.handleBeam=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleTiedGraphicalNote=function(t,e,n,i,r,o,s,a){throw new Error("abstract, not implemented")},t.prototype.handleVoiceEntryLyrics=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleVoiceEntryOrnaments=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleVoiceEntryArticulations=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleVoiceEntryTechnicalInstructions=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleTuplet=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.layoutVoiceEntry=function(t,e,n,i,r){throw new Error("abstract, not implemented")},t.prototype.layoutStaffEntry=function(t){throw new Error("abstract, not implemented")},t.prototype.createGraphicalTie=function(t,e,n,i,r){throw new Error("abstract, not implemented")},t.prototype.updateStaffLineBorders=function(t){throw new Error("abstract, not implemented")},t.prototype.calculateMeasureNumberPlacement=function(t){for(var e=t.StaffLines[0],n=e.Measures[0].MeasureNumber,i=0,r=e.Measures;i<r.length;i++){var o=r[i];0!==o.MeasureNumber&&1!==o.MeasureNumber||(n=o.MeasureNumber),o.MeasureNumber!==n&&o.MeasureNumber!==n+this.rules.MeasureNumberLabelOffset||o.parentSourceMeasure.ImplicitMeasure||((1!==o.MeasureNumber||1===o.MeasureNumber&&o!==e.Measures[0])&&this.calculateSingleMeasureNumberPlacement(o,e,t),n=o.MeasureNumber)}},t.prototype.calculateSingleMeasureNumberPlacement=function(t,e,n){var i=t.MeasureNumber.toString(),r=new d.GraphicalLabel(new T.Label(i),this.rules.MeasureNumberLabelHeight,p.TextAlignment.LeftBottom);r.setLabelPositionAndShapeBorders(),r.PositionAndShape.Parent=n.PositionAndShape;var o,s=e.PositionAndShape.RelativePosition.x+t.PositionAndShape.RelativePosition.x-r.PositionAndShape.BorderMarginLeft;if(r.PositionAndShape.BorderLeft,r.PositionAndShape.BorderMarginRight,e===n.StaffLines[0]&&n===n.Parent.MusicSystems[0]&&(e.PositionAndShape.RelativePosition.x,e.PositionAndShape.RelativePosition.x),t===e.Measures[0]){var a=0;if(n.GroupBrackets.length>0)for(var c=0,u=n.GroupBrackets;c<u.length;c++){var l=u[c];a=Math.min(a,l.PositionAndShape.BorderTop)}o=Math.min(0,a)}else o=0;o=Math.min(0,o),r.PositionAndShape.RelativePosition=new h.PointF2D(s,o),n.MeasureNumberLabels.push(r)},t.prototype.layoutGraphicalTie=function(t,e){throw new Error("abstract, not implemented")},t.prototype.calculateSingleStaffLineLyricsPosition=function(t,e){for(var n=0,i=this.rules.StaffHeight+6,r=[],o=t.Measures.length,s=0;s<o;++s)for(var a=t.Measures[s],c=a.PositionAndShape.RelativePosition,u=a.staffEntries.length,l=0;l<u;++l)if((v=a.staffEntries[l]).LyricsEntries.length>0){r.push(v),n=Math.max(n,v.LyricsEntries.length);for(var f=v.PositionAndShape.RelativePosition.x+c.x,d=Number.MAX_VALUE,p=Number.MAX_VALUE,m=0;m<v.LyricsEntries.length;m++){var b=v.LyricsEntries[m].GraphicalLabel;d=Math.min(d,f+b.PositionAndShape.BorderMarginLeft),p=Math.max(p,f+b.PositionAndShape.BorderMarginRight)}i=Math.max(i,0)}var g=4;for(o=r.length,s=0;s<o;++s){var v=r[s];for(m=0;m<v.LyricsEntries.length;m++){var y=v.LyricsEntries[m],_=(b=y.GraphicalLabel,y.GetLyricsEntry.VerseNumber),x=e.indexOf(_),w=i+this.rules.LyricsHeight+(this.rules.VerticalBetweenLyricsDistance+this.rules.LyricsHeight)*x;this.leadSheet&&(w=3.4+(this.rules.VerticalBetweenLyricsDistance+this.rules.LyricsHeight)*x),b.PositionAndShape.RelativePosition=new h.PointF2D(0,w),g=Math.max(g,w)}}if(r.length>0){var S=0;g-=this.rules.StaffHeight;for(var E=t.NextStaffLine,T=0;void 0!==E;)E.PositionAndShape.RelativePosition.y+=g,E=E.NextStaffLine,T+=g,S+=g;T-=this.rules.BetweenStaffDistance;for(var k=t.ParentMusicSystem.NextSystem;void 0!==k;)k.PositionAndShape.RelativePosition.y+=T,k=k.NextSystem,S+=T;t.ParentMusicSystem.Parent.PositionAndShape.BorderBottom+=S,t.ParentMusicSystem.setMusicSystemLabelsYPosition()}return r},t.prototype.calculateLyricsExtendsAndDashes=function(t){for(var e=0,n=t.length;e<n;++e)for(var i=t[e],r=0;r<i.LyricsEntries.length;r++){var o=i.LyricsEntries[r];void 0!==o.ParentLyricWord&&o.ParentLyricWord.GraphicalLyricsEntries[o.ParentLyricWord.GraphicalLyricsEntries.length-1]!==o&&this.calculateSingleLyricWord(o),o.GetLyricsEntry.extend&&this.calculateLyricExtend(o)}},t.prototype.calculateSingleOctaveShift=function(t,e,n,i){throw new Error("abstract, not implemented")},t.prototype.calculateWordRepetitionInstruction=function(t,e){throw new Error("abstract, not implemented")},t.prototype.calculateMoodAndUnknownExpression=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.clearRecreatedObjects=function(){for(var t=0,e=this.staffEntriesWithGraphicalTies.length;t<e;++t)this.staffEntriesWithGraphicalTies[t].GraphicalTies.length=0;this.staffEntriesWithGraphicalTies.length=0},t.prototype.handleStaffEntryLink=function(t,e){x.Logging.debug("handleStaffEntryLink not implemented")},t.prototype.calculateMusicSystems=function(){if(void 0!==this.graphicalMusicSheet.MeasureList){var t=this.graphicalMusicSheet.MeasureList;if(void 0!==t){for(var e=[],n=0,i=t.length;n<i;++n){for(var r=[],o=0,s=t[n].length;o<s;++o){var a=t[n][o];a.isVisible()&&r.push(a)}e.push(r)}var c=0;for(n=0,i=e.length;n<i;++n){var u=e[n];c=Math.max(u.length,c);break}if(0!==c){var f=new l.MusicSystemBuilder;for(f.initialize(this.graphicalMusicSheet,e,c,this.symbolFactory),f.buildMusicSystems(),this.checkMeasuresForWholeRestNotes(),this.leadSheet||(this.calculateBeams(),this.optimizeRestPlacement(),this.calculateStaffEntryArticulationMarks(),this.calculateTieCurves()),this.calculateSkyBottomLines(),this.calculateTupletNumbers(),n=0,i=this.graphicalMusicSheet.MusicPages.length;n<i;++n)for(o=0,s=(g=this.graphicalMusicSheet.MusicPages[n]).MusicSystems.length;o<s;++o){var d=g.MusicSystems[o];this.calculateMeasureNumberPlacement(d)}for(this.leadSheet||this.calculateSlurs(),this.leadSheet||this.calculateOrnaments(),this.updateSkyBottomLines(),this.calculateChordSymbols(),this.leadSheet||(this.calculateDynamicExpressions(),this.optimizeStaffLineDynamicExpressionsPositions(),this.calculateMoodAndUnknownExpressions(),this.calculateOctaveShifts(),this.calculateWordRepetitionInstructions()),this.calculateRepetitionEndings(),this.leadSheet||this.calculateTempoExpressions(),n=0,i=this.graphicalMusicSheet.MusicPages.length;n<i;++n)for(o=0,s=(g=this.graphicalMusicSheet.MusicPages[n]).MusicSystems.length;o<s;++o)for(var p=0,m=(d=g.MusicSystems[o]).StaffLines.length;p<m;++p){var b=d.StaffLines[p];this.updateStaffLineBorders(b)}for(this.calculateComments(),this.calculateSystemYLayout(),this.calculateMarkedAreas(),n=0,i=this.graphicalMusicSheet.MusicPages.length;n<i;++n){var g;for(o=0,s=(g=this.graphicalMusicSheet.MusicPages[n]).MusicSystems.length;o<s;++o)(d=g.MusicSystems[o]).setMusicSystemLabelsYPosition(),this.leadSheet?d===d.Parent.MusicSystems[0]&&d.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin):(d.setYPositionsToVerticalLineObjectsAndCreateLines(this.rules),d.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin),d.createInstrumentBrackets(this.graphicalMusicSheet.ParentMusicSheet.Instruments,this.rules.StaffHeight),d.createGroupBrackets(this.graphicalMusicSheet.ParentMusicSheet.InstrumentalGroups,this.rules.StaffHeight,0),d.alignBeginInstructions()),d.calculateBorders(this.rules);var v=g.MusicSystems[0].PositionAndShape.BorderTop;for(o=0,s=g.MusicSystems.length;o<s;++o)(d=g.MusicSystems[o]).PositionAndShape.RelativePosition=new h.PointF2D(d.PositionAndShape.RelativePosition.x,d.PositionAndShape.RelativePosition.y-v);for(o=0,s=g.MusicSystems.length;o<s;++o)for(p=0,m=(d=g.MusicSystems[o]).StaffLines.length;p<m;++p)(b=d.StaffLines[p]).addActivitySymbolClickArea();g===this.graphicalMusicSheet.MusicPages[0]&&this.calculatePageLabels(g),g.PositionAndShape.calculateTopBottomBorders()}}}}},t.prototype.updateSkyBottomLine=function(t){},t.prototype.calculateSkyBottomLine=function(t){},t.prototype.calculateMarkedAreas=function(){},t.prototype.calculateComments=function(){},t.prototype.optimizeStaffLineDynamicExpressionsPositions=function(){},t.prototype.calculateChordSymbols=function(){},t.prototype.layoutMeasureWithWholeRest=function(t,e,n){},t.prototype.layoutBeams=function(t){},t.prototype.layoutArticulationMarks=function(t,e,n){},t.prototype.layoutOrnament=function(t,e,n){},t.prototype.calculateRestNotePlacementWithinGraphicalBeam=function(t,e,n,i,r){},t.prototype.calculateTupletNumbers=function(){},t.prototype.calculateSlurs=function(){},t.prototype.calculateDynamicExpressionsForSingleMultiExpression=function(t,e,n){},t.prototype.calcGraphicalRepetitionEndingsRecursively=function(t){},t.prototype.layoutSingleRepetitionEnding=function(t,e,n,i,r,o){},t.prototype.calculateTempoExpressionsForSingleMultiTempoExpression=function(t,e,n){},t.prototype.staffMeasureCreatedCalculations=function(t){},t.prototype.clearSystemsAndMeasures=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t){for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i){for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s){for(var c=o.StaffLines[s],u=0,l=c.Measures.length;u<l;++u){var h,f=c.Measures[u];void 0!==f.FirstInstructionStaffEntry&&((h=f.PositionAndShape.ChildElements.indexOf(f.FirstInstructionStaffEntry.PositionAndShape))>-1&&f.PositionAndShape.ChildElements.splice(h,1),f.FirstInstructionStaffEntry=void 0,f.beginInstructionsWidth=0),void 0!==f.LastInstructionStaffEntry&&((h=f.PositionAndShape.ChildElements.indexOf(f.LastInstructionStaffEntry.PositionAndShape))>-1&&f.PositionAndShape.ChildElements.splice(h,1),f.LastInstructionStaffEntry=void 0,f.endInstructionsWidth=0)}c.Measures=[],c.PositionAndShape.ChildElements=[]}o.StaffLines.length=0,o.PositionAndShape.ChildElements=[]}n.MusicSystems=[],n.PositionAndShape.ChildElements=[]}this.graphicalMusicSheet.MusicPages=[]},t.prototype.handleVoiceEntry=function(e,n,i,r,o,s,a,c,u,l,h,f){void 0===l&&(l=!1),void 0===h&&(h=void 0),void 0===f&&(f=void 0),this.calculateStemDirectionFromVoices(e);for(var d=n.findOrCreateGraphicalNotesListFromVoiceEntry(e),p=0,m=e.Notes.length;p<m;++p){var b=e.Notes[p];if(!(void 0!==f&&void 0!==f.Link&&void 0!==h&&h.indexOf(b)>-1)){var g=void 0;g=l?this.symbolFactory.createGraceNote(b,n,s,u):this.symbolFactory.createNote(b,n,s,u,void 0),void 0!==b.NoteTie&&t.addTieToTieTimestampsDict(o,b),void 0!==b.Pitch&&this.checkNoteForAccidental(g,i,s,u,l),this.resetYPositionForLeadSheet(g.PositionAndShape),n.addGraphicalNoteToListAtCorrectYPosition(d,g),g.PositionAndShape.calculateBoundingBox(),this.leadSheet||(void 0!==b.NoteBeam&&this.handleBeam(g,b.NoteBeam,c),void 0!==b.NoteTuplet&&this.handleTuplet(g,b.NoteTuplet,a))}}return e.Articulations.length>0&&this.handleVoiceEntryArticulations(e.Articulations,e,n),e.TechnicalInstructions.length>0&&this.handleVoiceEntryTechnicalInstructions(e.TechnicalInstructions,e,n),e.LyricsEntries.size()>0&&this.handleVoiceEntryLyrics(e,n,r),void 0!==e.OrnamentContainer&&this.handleVoiceEntryOrnaments(e.OrnamentContainer,e,n),u},t.prototype.handleVoiceEntryGraceNotes=function(t,e,n,i,r,o,s,a,c,u){if(void 0!==t)for(var l=0,h=t.length;l<h;++l){var f=t[l],d=this.symbolFactory.createGraceStaffEntry(n,n.parentMeasure);e.push(d),this.handleVoiceEntry(f,d,i,s,a,r,c,u,o,!0)}},t.prototype.handleOpenTies=function(t,e,n,i,o){S.CollectionUtil.removeDictElementIfTrue(this,n,function(n,s,c){for(var l=void 0,h=!1,f=0;f<c.length;f++)if(!s.NoteHasBeenCreated[f]){if(l=c[f],r.Fraction.plus(t.parentSourceMeasure.AbsoluteTimestamp,t.parentSourceMeasure.Duration).lte(l))continue;var d=void 0;if(void 0!==l){for(var p=0,m=t.staffEntries.length;p<m;++p){var b=t.staffEntries[p];if(b.getAbsoluteTimestamp().Equals(l)){d=b;break}}void 0===d&&(d=n.createStaffEntryForTieNote(t,l,s))}if(void 0!==d){var g=a.OctaveEnum.NONE;void 0!==o&&o.getAbsoluteStartTimestamp.lte(d.getAbsoluteTimestamp())&&d.getAbsoluteTimestamp().lte(o.getAbsoluteEndTimestamp)&&(g=o.getOpenOctaveShift.Type);var v=f===c.length-1,y=s.Fractions[f],_=n.symbolFactory.createNote(s.Start,d,i,g,y),x=d.findOrCreateGraphicalNotesListFromGraphicalNote(_);d.addGraphicalNoteToListAtCorrectYPosition(x,_),n.handleTiedGraphicalNote(_,e,i,g,d,y,s,v);var w=s.Start;v&&1===w.ParentVoiceEntry.Articulations.length&&w.ParentVoiceEntry.Articulations[0]===u.ArticulationEnum.fermata&&n.symbolFactory.addFermataAtTiedEndNote(w,d),s.NoteHasBeenCreated[f]=!0,s.allGraphicalNotesHaveBeenCreated()&&(h=!0)}}return h})},t.prototype.resetYPositionForLeadSheet=function(t){this.leadSheet&&(t.RelativePosition=new h.PointF2D(t.RelativePosition.x,0))},t.prototype.layoutVoiceEntries=function(t){if(t.PositionAndShape.RelativePosition=new h.PointF2D(0,0),!this.leadSheet)for(var e=void 0!==t.staffEntryParent,n=t.notes,i=0,r=n.length;i<r;++i){var o=n[i];if(0!==o.length){var s=o[0].sourceNote.ParentVoiceEntry,a=void 0!==o[0].sourceNote.Pitch;this.layoutVoiceEntry(s,o,t,a,e)}}},t.prototype.maxInstrNameLabelLength=function(){for(var t=0,e=0,n=this.graphicalMusicSheet.ParentMusicSheet.Instruments;e<n.length;e++){var i=n[e];if(i.Voices.length>0&&i.Voices[0].Visible){var r=new d.GraphicalLabel(i.NameLabel,this.rules.InstrumentLabelTextHeight,p.TextAlignment.LeftCenter);r.setLabelPositionAndShapeBorders(),t=Math.max(t,r.PositionAndShape.MarginSize.width)}}return t},t.prototype.calculateSheetLabelBoundingBoxes=function(){var t=this.graphicalMusicSheet.ParentMusicSheet;if(void 0!==t.Title){var e=new d.GraphicalLabel(t.Title,this.rules.SheetTitleHeight,p.TextAlignment.CenterBottom);this.graphicalMusicSheet.Title=e,e.setLabelPositionAndShapeBorders()}if(void 0!==t.Subtitle){var n=new d.GraphicalLabel(t.Subtitle,this.rules.SheetSubtitleHeight,p.TextAlignment.CenterCenter);this.graphicalMusicSheet.Subtitle=n,n.setLabelPositionAndShapeBorders()}if(void 0!==t.Composer){var i=new d.GraphicalLabel(t.Composer,this.rules.SheetComposerHeight,p.TextAlignment.RightCenter);this.graphicalMusicSheet.Composer=i,i.setLabelPositionAndShapeBorders()}if(void 0!==t.Lyricist){var r=new d.GraphicalLabel(t.Lyricist,this.rules.SheetAuthorHeight,p.TextAlignment.LeftCenter);this.graphicalMusicSheet.Lyricist=r,r.setLabelPositionAndShapeBorders()}},t.prototype.checkMeasuresForWholeRestNotes=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,o=n.MusicSystems.length;i<o;++i)for(var s=n.MusicSystems[i],a=0,c=s.StaffLines.length;a<c;++a)for(var u=s.StaffLines[a],l=0,h=u.Measures.length;l<h;++l){var f=u.Measures[l];if(1===f.staffEntries.length){var d=f.staffEntries[0];if(d.notes.length>0&&d.notes[0].length>0){var p=d.notes[0][0];void 0===p.sourceNote.Pitch&&new r.Fraction(1,2).lt(p.sourceNote.Length)&&this.layoutMeasureWithWholeRest(p,d,f)}}}},t.prototype.optimizeRestNotePlacement=function(t,e){if(0!==t.notes.length){var n=t.notes[0];if(0!==n.length){var i=n[0],r=void 0===i.sourceNote.Pitch;if(2===t.notes.length){var o=!1,s=t.notes[1];s.length>0&&(o=void 0===s[0].sourceNote.Pitch),r&&o?this.calculateTwoRestNotesPlacementWithCollisionDetection(t):(r||o)&&this.calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote(t)}else if(r&&t!==e.staffEntries[0]&&t!==e.staffEntries[e.staffEntries.length-1]){var a=e.staffEntries.indexOf(t),c=e.staffEntries[a-1],u=e.staffEntries[a+1];if(1===c.notes.length){var l=c.notes[0][0];if(void 0!==l.sourceNote.NoteBeam&&1===u.notes.length){var h=u.notes[0][0];void 0!==h.sourceNote.NoteBeam&&l.sourceNote.NoteBeam===h.sourceNote.NoteBeam&&(this.calculateRestNotePlacementWithinGraphicalBeam(t,i,l,u,h),t.PositionAndShape.calculateBoundingBox())}}}}}},t.prototype.getRelativePositionInStaffLineFromTimestamp=function(t,e,n,i,o){void 0===o&&(o=0);var s=new h.PointF2D,a=void 0,c=void 0,u=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,l=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),f=Math.min(Math.floor(l),u-1),d=Math.min(Math.ceil(l),u-1);if(f<0||e<0)return s;if(a=this.getFirstLeftNotNullStaffEntryFromContainer(f,e,i),c=this.getFirstRightNotNullStaffEntryFromContainer(d,e,i),void 0!==a&&void 0!==c){var p=a.parentMeasure.PositionAndShape.RelativePosition.x;o>0&&(p=o);var m=a.PositionAndShape.RelativePosition.x+p,b=c.PositionAndShape.RelativePosition.x+c.parentMeasure.PositionAndShape.RelativePosition.x;o>0&&(b=c.PositionAndShape.RelativePosition.x+p);var g=0;if(a!==c){var v=a.getAbsoluteTimestamp(),y=c.getAbsoluteTimestamp();g=r.Fraction.minus(t,v).RealValue/r.Fraction.minus(y,v).RealValue}a.parentMeasure.ParentStaffLine!==c.parentMeasure.ParentStaffLine&&(a.parentMeasure.ParentStaffLine===n?b=n.PositionAndShape.Size.width:m=n.PositionAndShape.RelativePosition.x),s=new h.PointF2D(m+(b-m)*g,0)}return s},t.prototype.getRelativeXPositionFromTimestamp=function(t){var e=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,n=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),i=Math.max(0,Math.min(Math.round(n),e-1)),r=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].getFirstNonNullStaffEntry();return r.PositionAndShape.RelativePosition.x+r.parentMeasure.PositionAndShape.RelativePosition.x},t.prototype.calculatePageLabels=function(t){var e=10;if(t.MusicSystems.length>0){var n=t.MusicSystems[0];e=n.PositionAndShape.RelativePosition.y+n.PositionAndShape.BorderTop}if(void 0!==this.graphicalMusicSheet.Title){var i=this.graphicalMusicSheet.Title;i.PositionAndShape.Parent=t.PositionAndShape,(s=new h.PointF2D).x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,s.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight,i.PositionAndShape.RelativePosition=s,t.Labels.push(i)}if(void 0!==this.graphicalMusicSheet.Subtitle){var r=this.graphicalMusicSheet.Subtitle;r.PositionAndShape.Parent=t.PositionAndShape,(s=new h.PointF2D).x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,s.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.SheetMinimumDistanceBetweenTitleAndSubtitle,r.PositionAndShape.RelativePosition=s,t.Labels.push(r)}if(void 0!==this.graphicalMusicSheet.Composer){var o=this.graphicalMusicSheet.Composer;o.PositionAndShape.Parent=t.PositionAndShape,o.setLabelPositionAndShapeBorders(),(s=new h.PointF2D).x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth-this.rules.PageRightMargin,s.y=e-this.rules.SystemComposerDistance,o.PositionAndShape.RelativePosition=s,t.Labels.push(o)}if(void 0!==this.graphicalMusicSheet.Lyricist){var s,a=this.graphicalMusicSheet.Lyricist;a.PositionAndShape.Parent=t.PositionAndShape,a.setLabelPositionAndShapeBorders(),(s=new h.PointF2D).x=this.rules.PageLeftMargin,s.y=e-this.rules.SystemComposerDistance,a.PositionAndShape.RelativePosition=s,t.Labels.push(a)}},t.prototype.createGraphicalTies=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.CompleteNumberOfStaves;n++)for(var i=0;i<e.VerticalSourceStaffEntryContainers.length;i++){var r=e.VerticalSourceStaffEntryContainers[i].StaffEntries[n];if(void 0!==r)for(var o=this.graphicalMusicSheet.findGraphicalStaffEntryFromMeasureList(n,t,r),s=0,a=r.VoiceEntries.length;s<a;++s)for(var c=r.VoiceEntries[s],u=0,l=c.Notes.length;u<l;++u){var h=c.Notes[u];if(void 0!==h.NoteTie){var f=h.NoteTie;this.handleTie(f,o,n,t)}}}},t.prototype.handleTie=function(t,e,n,i){for(var o=e,s=void 0,a=void 0,c=void 0,u=0;u<t.Fractions.length;u++){var l,h=void 0,f=e.parentVerticalContainer.Index;if(h=0===u?r.Fraction.plus(e.getAbsoluteTimestamp(),t.Start.calculateNoteLengthWithoutTie()):r.Fraction.plus(o.getAbsoluteTimestamp(),t.Fractions[u-1]),void 0!==(l=this.graphicalMusicSheet.GetVerticalContainerFromTimestamp(h,f+1))&&(s=l.StaffEntries[n],a=o.findEndTieGraphicalNoteFromNote(t.Start),void 0!==s&&(c=s.findEndTieGraphicalNoteFromNote(t.Start))),void 0!==a&&void 0!==c&&void 0!==s){var d=this.createGraphicalTie(t,o,s,a,c);o.GraphicalTies.push(d),this.staffEntriesWithGraphicalTies.indexOf(o)>=0&&this.staffEntriesWithGraphicalTies.push(o)}void 0!==s&&(s.parentMeasure!==o.parentMeasure&&i++,o=s,s=this.graphicalMusicSheet.findNextGraphicalStaffEntry(n,i,o))}},t.prototype.createAccidentalCalculators=function(){var t=[],e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(void 0!==e)for(var n=0;n<e.CompleteNumberOfStaves;n++){var i=new y.AccidentalCalculator(this.symbolFactory);if(t.push(i),void 0!==e.FirstInstructionsStaffEntries[n])for(var r=0,o=e.FirstInstructionsStaffEntries[n].Instructions.length;r<o;++r){var s=e.FirstInstructionsStaffEntries[n].Instructions[r];if(s instanceof m.KeyInstruction){var a=s;i.ActiveKeyInstruction=a}}}return t},t.prototype.calculateVerticalContainersList=function(){for(var t=this.graphicalMusicSheet.MeasureList[0].length,e=0;e<this.graphicalMusicSheet.MeasureList.length;e++)for(var n=0;n<t;n++)for(var i=this.graphicalMusicSheet.MeasureList[e][n],r=0,o=i.staffEntries.length;r<o;++r){var s=i.staffEntries[r],a=this.graphicalMusicSheet.getOrCreateVerticalContainer(s.getAbsoluteTimestamp());void 0!==a&&(a.StaffEntries[n]=s,s.parentVerticalContainer=a)}},t.prototype.setIndecesToVerticalGraphicalContainers=function(){for(var t=0;t<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;t++)this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].Index=t},t.prototype.createGraphicalMeasuresForSourceMeasure=function(t,e,n,i,r,o){this.initStaffMeasuresCreation();for(var s=[],a=[],c=[],u=[],l=0;l<t.CompleteNumberOfStaves;l++){var h=this.createGraphicalMeasure(t,i[l],c,a,e[l],o,r,n,l,u);this.staffMeasureCreatedCalculations(h),s.push(h)}return this.graphicalMusicSheet.sourceToGraphicalMeasureLinks.setValue(t,s),s},t.prototype.createGraphicalMeasure=function(e,n,i,c,u,l,h,d,p,b){var g=this.graphicalMusicSheet.ParentMusicSheet.getStaffFromIndex(p),y=this.symbolFactory.createStaffMeasure(e,g);if(y.hasError=e.getErrorInMeasure(p),void 0!==e.FirstInstructionsStaffEntries[p])for(var x=0,w=e.FirstInstructionsStaffEntries[p].Instructions.length;x<w;++x){var S=e.FirstInstructionsStaffEntries[p].Instructions[x];if(S instanceof m.KeyInstruction){var E=m.KeyInstruction.copy(S);0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&y.ParentStaff.ParentInstrument.MidiInstrumentId!==_.MidiInstrument.Percussion&&void 0!==t.transposeCalculator&&t.transposeCalculator.transposeKey(E,this.graphicalMusicSheet.ParentMusicSheet.Transpose),u.ActiveKeyInstruction=E}}for(x=0,w=e.StaffLinkedExpressions[p].length;x<w;++x)if(void 0!==(R=e.StaffLinkedExpressions[p][x]).OctaveShiftStart){var T=R.OctaveShiftStart;h[p]=new v.OctaveShiftParams(T,R.AbsoluteTimestamp,T.ParentEndMultiExpression.AbsoluteTimestamp)}for(var k=0;k<e.VerticalSourceStaffEntryContainers.length;k++)if(void 0!==(B=e.VerticalSourceStaffEntryContainers[k].StaffEntries[p])){for(x=0,w=B.Instructions.length;x<w;++x)(I=B.Instructions[x])instanceof s.ClefInstruction&&(l[p]=I);var P=this.symbolFactory.createStaffEntry(B,y);y.staffEntries.length>k?y.addGraphicalStaffEntryAtTimestamp(P):y.addGraphicalStaffEntry(P);var M=[];void 0!==B.Link&&(B.findLinkedNotes(M),this.handleStaffEntryLink(P,b));var C=a.OctaveEnum.NONE;if(void 0!==h[p]){var O=h[p];O.getAbsoluteStartTimestamp.lte(B.AbsoluteTimestamp)&&B.AbsoluteTimestamp.lte(O.getAbsoluteEndTimestamp)&&(C=O.getOpenOctaveShift.Type)}for(x=0,w=B.VoiceEntries.length;x<w;++x){var A=B.VoiceEntries[x];this.handleVoiceEntryGraceNotes(A.graceVoiceEntriesBefore,P.graceStaffEntriesBefore,P,u,l[p],C,d,n,i,c),C=this.handleVoiceEntry(A,P,u,d,n,l[p],i,c,C,!1,M,B),this.handleVoiceEntryGraceNotes(A.graceVoiceEntriesAfter,P.graceStaffEntriesAfter,P,u,l[p],C,d,n,i,c)}if(B.Instructions.length>0){var N=B.Instructions[0];this.symbolFactory.createInStaffClef(P,N)}void 0!==B.ChordContainer&&(B.ParentStaff.ParentInstrument.HasChordSymbols=!0,this.symbolFactory.createChordSymbol(B,P,this.graphicalMusicSheet.ParentMusicSheet.Transpose))}if(n.size()>0&&this.handleOpenTies(y,c,n,l[p],h[p]),u.doCalculationsAtEndOfMeasure(),void 0!==e.LastInstructionsStaffEntries[p]){var L=e.LastInstructionsStaffEntries[p];for(x=0,w=L.Instructions.length;x<w;++x){var I;(I=L.Instructions[x])instanceof s.ClefInstruction&&(l[p]=I)}}for(x=0,w=e.StaffLinkedExpressions[p].length;x<w;++x){var R;void 0!==(R=e.StaffLinkedExpressions[p][x]).OctaveShiftEnd&&void 0!==h[p]&&R.OctaveShiftEnd===h[p].getOpenOctaveShift&&(h[p]=void 0)}if(0===y.staffEntries.length){var B=new f.SourceStaffEntry(void 0,g),F=new o.Note(void 0,B,r.Fraction.createFromFraction(e.Duration),void 0);P=this.symbolFactory.createStaffEntry(B,y),y.addGraphicalStaffEntry(P),P.relInMeasureTimestamp=new r.Fraction(0,1);var D=[];P.notes.push(D);var j=this.symbolFactory.createNote(F,P,new s.ClefInstruction,a.OctaveEnum.NONE,void 0);D.push(j)}return y},t.prototype.checkNoteForAccidental=function(t,e,n,i,r){void 0===r&&(r=!1);var o=t.sourceNote.Pitch,s=this.graphicalMusicSheet.ParentMusicSheet.Transpose;0!==s&&t.sourceNote.ParentStaffEntry.ParentStaff.ParentInstrument.MidiInstrumentId!==_.MidiInstrument.Percussion&&(o=t.Transpose(e.ActiveKeyInstruction,n,s,i),void 0!==t.sourceNote.NoteTie&&(t.sourceNote.NoteTie.BaseNoteYPosition=t.PositionAndShape.RelativePosition.y)),t.sourceNote.halfTone=o.getHalfTone();var a=1;r&&(a=this.rules.GraceNoteScalingFactor),e.checkAccidental(t,o,r,a)},t.prototype.createStaffEntryForTieNote=function(t,e,n){var i;return(i=this.symbolFactory.createStaffEntry(n.Start.ParentStaffEntry,t)).relInMeasureTimestamp=r.Fraction.minus(e,t.parentSourceMeasure.AbsoluteTimestamp),this.resetYPositionForLeadSheet(i.PositionAndShape),t.addGraphicalStaffEntryAtTimestamp(i),i},t.prototype.updateSkyBottomLines=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s){var c=o.StaffLines[s];this.updateSkyBottomLine(c)}},t.prototype.handleStaffEntries=function(){for(var t=0,e=this.graphicalMusicSheet.MeasureList.length;t<e;++t)for(var n=this.graphicalMusicSheet.MeasureList[t],i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.staffEntries.length;s<a;++s){var c=o.staffEntries[s];void 0!==c.parentMeasure&&c.notes.length>0&&c.notes[0].length>0&&(this.layoutVoiceEntries(c),this.layoutStaffEntry(c))}},t.prototype.calculateSkyBottomLines=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s){var c=o.StaffLines[s];this.calculateSkyBottomLine(c)}},t.prototype.calculateBeams=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var c=o.StaffLines[s],u=0,l=c.Measures.length;u<l;++u)for(var h=c.Measures[u],f=0,d=h.staffEntries.length;f<d;++f){var p=h.staffEntries[f];this.layoutBeams(p)}},t.prototype.calculateStaffEntryArticulationMarks=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var c=o.StaffLines[s],u=0,l=c.Measures.length;u<l;++u)for(var h=c.Measures[u],f=0,d=h.staffEntries.length;f<d;++f)for(var p=h.staffEntries[f],m=0,b=p.sourceStaffEntry.VoiceEntries.length;m<b;++m){var g=p.sourceStaffEntry.VoiceEntries[m];g.Articulations.length>0&&this.layoutArticulationMarks(g.Articulations,g,p)}},t.prototype.calculateOrnaments=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var c=o.StaffLines[s],u=0,l=c.Measures.length;u<l;++u)for(var h=c.Measures[u],f=0,d=h.staffEntries.length;f<d;++f)for(var p=h.staffEntries[f],m=0,b=p.sourceStaffEntry.VoiceEntries.length;m<b;++m){var g=p.sourceStaffEntry.VoiceEntries[m];if(void 0!==g.OrnamentContainer){if(g.hasTie()&&!p.relInMeasureTimestamp.Equals(g.Timestamp))continue;this.layoutOrnament(g.OrnamentContainer,g,p),-1===this.staffEntriesWithOrnaments.indexOf(p)&&this.staffEntriesWithOrnaments.push(p)}}},t.prototype.optimizeRestPlacement=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var c=o.StaffLines[s],u=0,l=c.Measures.length;u<l;++u)for(var h=c.Measures[u],f=0,d=h.staffEntries.length;f<d;++f){var p=h.staffEntries[f];this.optimizeRestNotePlacement(p,h)}},t.prototype.calculateTwoRestNotesPlacementWithCollisionDetection=function(t){var e=t.notes[0][0],n=t.notes[1][0];n.PositionAndShape.RelativePosition=new h.PointF2D(0,2.5),t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement(),e.PositionAndShape.computeNonOverlappingPositionWithMargin(t.PositionAndShape,g.ColDirEnum.Up,new h.PointF2D(0,n.PositionAndShape.RelativePosition.y));var i=e.PositionAndShape.RelativePosition;i.y-=1,e.PositionAndShape.RelativePosition=i,t.PositionAndShape.calculateBoundingBox()},t.prototype.calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote=function(t){var e,n;void 0===t.notes[0][0].sourceNote.Pitch?(e=t.notes[0][0],n=t.notes[1]):(n=t.notes[0],e=t.notes[1][0]);var i=!1;t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement();for(var r=0,o=n.length;r<o;++r){var s=n[r];if(e.PositionAndShape.marginCollisionDetection(s.PositionAndShape)){i=!0;break}}if(i)if(e.sourceNote.ParentVoiceEntry.ParentVoice instanceof b.LinkedVoice){var a=n[0].PositionAndShape.BorderMarginBottom+n[0].PositionAndShape.RelativePosition.y;e.PositionAndShape.RelativePosition=new h.PointF2D(0,a-e.PositionAndShape.BorderMarginTop+.5)}else{var c=n[n.length-1],u=c.PositionAndShape.BorderMarginTop+c.PositionAndShape.RelativePosition.y;n[0].sourceNote.ParentVoiceEntry.ParentVoice instanceof b.LinkedVoice?e.PositionAndShape.RelativePosition=new h.PointF2D(0,u-e.PositionAndShape.BorderMarginBottom-.5):(a=n[0].PositionAndShape.BorderMarginBottom+n[0].PositionAndShape.RelativePosition.y,e.PositionAndShape.RelativePosition=a<2?new h.PointF2D(0,a-e.PositionAndShape.BorderMarginTop+.5):new h.PointF2D(0,u-e.PositionAndShape.BorderMarginBottom-0))}t.PositionAndShape.calculateBoundingBox()},t.prototype.calculateTieCurves=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var c=o.StaffLines[s],u=0,l=c.Measures.length;u<l;++u)for(var h=c.Measures[u],f=0,d=h.staffEntries.length;f<d;++f)for(var p=h.staffEntries[f],m=p.GraphicalTies,b=0,g=m.length;b<g;++b){var v=m[b];if(void 0!==v.StartNote&&v.StartNote.parentStaffEntry===p){var y=v.StartNote.parentStaffEntry.parentMeasure.ParentStaffLine!==v.EndNote.parentStaffEntry.parentMeasure.ParentStaffLine;this.layoutGraphicalTie(v,y)}}},t.prototype.calculateLyricsPosition=function(){for(var t=new w.default,e=0,n=this.graphicalMusicSheet.ParentMusicSheet.Instruments.length;e<n;++e){var i=this.graphicalMusicSheet.ParentMusicSheet.Instruments[e];i.HasLyrics&&i.LyricVersesNumbers.length>0&&i.LyricVersesNumbers.sort()}for(e=0,n=this.graphicalMusicSheet.MusicPages.length;e<n;++e)for(var r=0,o=(l=this.graphicalMusicSheet.MusicPages[e]).MusicSystems.length;r<o;++r)for(var s=0,a=(h=l.MusicSystems[r]).StaffLines.length;s<a;++s){var c=h.StaffLines[s],u=this.calculateSingleStaffLineLyricsPosition(c,c.ParentStaff.ParentInstrument.LyricVersesNumbers);t.setValue(c,u),this.calculateLyricsExtendsAndDashes(t.getValue(c))}for(e=0,n=this.graphicalMusicSheet.MusicPages.length;e<n;++e){var l;for(r=0,o=(l=this.graphicalMusicSheet.MusicPages[e]).MusicSystems.length;r<o;++r){var h;for(s=0,a=(h=l.MusicSystems[r]).StaffLines.length;s<a;++s)c=h.StaffLines[s],this.calculateLyricsExtendsAndDashes(t.getValue(c))}}},t.prototype.calculateSingleLyricWord=function(t){var e=t.ParentLyricWord,n=e.GraphicalLyricsEntries.indexOf(t),i=void 0;if(n>=0&&(i=e.GraphicalLyricsEntries[n+1]),void 0!==i){var r=t.StaffEntryParent.parentMeasure.ParentStaffLine,o=i.StaffEntryParent.parentMeasure.ParentStaffLine,s=t.StaffEntryParent,a=i.StaffEntryParent;if(t.StaffEntryParent.parentMeasure.ParentStaffLine===i.StaffEntryParent.parentMeasure.ParentStaffLine){var c=s.parentMeasure.PositionAndShape.RelativePosition.x+s.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,u=a.parentMeasure.PositionAndShape.RelativePosition.x+a.PositionAndShape.RelativePosition.x+i.GraphicalLabel.PositionAndShape.BorderMarginLeft,l=t.GraphicalLabel.PositionAndShape.RelativePosition.y,h=1;u-c>this.rules.BetweenSyllabelMaximumDistance&&(h=Math.ceil((u-c)/this.rules.BetweenSyllabelMaximumDistance)),1===h?this.calculateSingleDashForLyricWord(r,c,u,l):this.calculateDashes(r,c,u,l)}else{c=s.parentMeasure.PositionAndShape.RelativePosition.x+s.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight;var f=r.Measures[r.Measures.length-1];if(u=f.PositionAndShape.RelativePosition.x+f.PositionAndShape.Size.width,l=t.GraphicalLabel.PositionAndShape.RelativePosition.y,this.calculateDashes(r,c,u,l),a!==a.parentMeasure.staffEntries[0]||a.parentMeasure!==a.parentMeasure.ParentStaffLine.Measures[0]){var d=o.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x,p=a.parentMeasure.PositionAndShape.RelativePosition.x+a.PositionAndShape.RelativePosition.x+i.GraphicalLabel.PositionAndShape.BorderMarginLeft;l=i.GraphicalLabel.PositionAndShape.RelativePosition.y,this.calculateDashes(o,d,p,l)}}}},t.prototype.calculateDashes=function(t,e,n,i){var r=n-e;if(r<this.rules.MinimumDistanceBetweenDashes)this.calculateSingleDashForLyricWord(t,e,n,i);else{var o=Math.floor(r/this.rules.MinimumDistanceBetweenDashes),s=r/this.rules.MinimumDistanceBetweenDashes,a=0;for(e+=s/2,n-=s/2;a<=Math.floor(o/2)&&n>e;)r=this.calculateRightAndLeftDashesForLyricWord(t,e,n,i),e+=s,n-=s,a++;r>s&&this.calculateSingleDashForLyricWord(t,e,n,i)}},t.prototype.calculateSingleDashForLyricWord=function(t,e,n,i){var r=new d.GraphicalLabel(new T.Label("-"),this.rules.LyricsHeight,p.TextAlignment.CenterBottom);r.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(r),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t),r.PositionAndShape.Parent=t.PositionAndShape;var o=new h.PointF2D(e+(n-e)/2,i);r.PositionAndShape.RelativePosition=o},t.prototype.calculateLyricExtend=function(t){for(var e=t.GraphicalLabel.PositionAndShape.RelativePosition.y,n=t.StaffEntryParent,i=t.StaffEntryParent.parentMeasure.ParentStaffLine,r=void 0,o=void 0,s=n.parentMeasure.ParentStaff.idInMusicSheet,a=n.parentVerticalContainer.Index+1;a<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;++a){var c=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[a].StaffEntries[s];if(void 0!==c){if(c.hasOnlyRests())break;if(c.LyricsEntries.length>0)break;o=(r=c).parentMeasure.ParentStaffLine}}if(void 0!==r)if(i===o){var u=n.parentMeasure.PositionAndShape.RelativePosition.x+n.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,l=r.parentMeasure.PositionAndShape.RelativePosition.x+r.PositionAndShape.RelativePosition.x+r.PositionAndShape.BorderMarginRight;e-=t.GraphicalLabel.PositionAndShape.Size.height/4,this.calculateSingleLyricWordWithUnderscore(i,u,l,e)}else{var h=i.Measures[i.Measures.length-1].PositionAndShape;if(u=n.parentMeasure.PositionAndShape.RelativePosition.x+n.PositionAndShape.RelativePosition.x+t.GraphicalLabel.PositionAndShape.BorderMarginRight,l=h.RelativePosition.x+h.Size.width,e-=t.GraphicalLabel.PositionAndShape.Size.height/4,this.calculateSingleLyricWordWithUnderscore(i,u,l,e),void 0===r)return;if(r!==r.parentMeasure.staffEntries[0]||r.parentMeasure!==r.parentMeasure.ParentStaffLine.Measures[0]){var f=o.Measures[0].staffEntries[0].PositionAndShape.RelativePosition.x,d=r.parentMeasure.PositionAndShape.RelativePosition.x+r.PositionAndShape.RelativePosition.x+r.PositionAndShape.BorderMarginRight;this.calculateSingleLyricWordWithUnderscore(o,f,d,e)}}},t.prototype.calculateSingleLyricWordWithUnderscore=function(t,e,n,i){var r=new h.PointF2D(e,i),o=new h.PointF2D(n,i),s=new E.GraphicalLine(r,o,this.rules.LyricUnderscoreLineWidth);t.LyricLines.push(s),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t)},t.prototype.calculateRightAndLeftDashesForLyricWord=function(t,e,n,i){var r=new d.GraphicalLabel(new T.Label("-"),this.rules.LyricsHeight,p.TextAlignment.CenterBottom);r.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(r),-1===this.staffLinesWithLyricWords.indexOf(t)&&this.staffLinesWithLyricWords.push(t),r.PositionAndShape.Parent=t.PositionAndShape;var o=new h.PointF2D(e,i);r.PositionAndShape.RelativePosition=o;var s=new d.GraphicalLabel(new T.Label("-"),this.rules.LyricsHeight,p.TextAlignment.CenterBottom);s.setLabelPositionAndShapeBorders(),t.LyricsDashes.push(s),s.PositionAndShape.Parent=t.PositionAndShape;var a=new h.PointF2D(n,i);return s.PositionAndShape.RelativePosition=a,s.PositionAndShape.RelativePosition.x-r.PositionAndShape.RelativePosition.x},t.prototype.calculateDynamicExpressions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.StaffLinkedExpressions.length;n++)if(this.graphicalMusicSheet.MeasureList[t][n].ParentStaff.ParentInstrument.Visible)for(var i=0;i<e.StaffLinkedExpressions[n].length;i++)(void 0!==e.StaffLinkedExpressions[n][i].InstantaniousDynamic||void 0!==e.StaffLinkedExpressions[n][i].StartingContinuousDynamic&&e.StaffLinkedExpressions[n][i].StartingContinuousDynamic.StartMultiExpression===e.StaffLinkedExpressions[n][i]&&0===e.StaffLinkedExpressions[n][i].UnknownList.length)&&this.calculateDynamicExpressionsForSingleMultiExpression(e.StaffLinkedExpressions[n][i],t,n)},t.prototype.calculateOctaveShifts=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.StaffLinkedExpressions.length;n++)if(this.graphicalMusicSheet.MeasureList[t][n].ParentStaff.ParentInstrument.Visible)for(var i=0;i<e.StaffLinkedExpressions[n].length;i++)void 0!==e.StaffLinkedExpressions[n][i].OctaveShiftStart&&this.calculateSingleOctaveShift(e,e.StaffLinkedExpressions[n][i],t,n)},t.prototype.getFirstLeftNotNullStaffEntryFromContainer=function(t,e,n){if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(var i=t-1;i>=0;i--)if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e]},t.prototype.getFirstRightNotNullStaffEntryFromContainer=function(t,e,n){if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(var i=t+1;i<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;i++)if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e]},t.prototype.calculateWordRepetitionInstructions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0,i=e.FirstRepetitionInstructions.length;n<i;++n){var r=e.FirstRepetitionInstructions[n];this.calculateWordRepetitionInstruction(r,t)}for(n=0,i=e.LastRepetitionInstructions.length;n<i;++n)r=e.LastRepetitionInstructions[n],this.calculateWordRepetitionInstruction(r,t)}},t.prototype.calculateRepetitionEndings=function(){for(var t=this.graphicalMusicSheet.ParentMusicSheet,e=0,n=t.Repetitions.length;e<n;++e){var i=t.Repetitions[e];this.calcGraphicalRepetitionEndingsRecursively(i)}},t.prototype.calculateTempoExpressions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.TempoExpressions.length;n++)this.calculateTempoExpressionsForSingleMultiTempoExpression(e,e.TempoExpressions[n],t)},t.prototype.calculateMoodAndUnknownExpressions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.StaffLinkedExpressions.length;n++)if(this.graphicalMusicSheet.MeasureList[t][n].ParentStaff.ParentInstrument.Visible)for(var i=0;i<e.StaffLinkedExpressions[n].length;i++)(e.StaffLinkedExpressions[n][i].MoodList.length>0||e.StaffLinkedExpressions[n][i].UnknownList.length>0)&&this.calculateMoodAndUnknownExpression(e.StaffLinkedExpressions[n][i],t,n)},t.prototype.calculateStemDirectionFromVoices=function(t){if(void 0!==t.ParentSourceStaffEntry.Link)return t===t.ParentSourceStaffEntry.VoiceEntries[0]?void(t.StemDirection=c.StemDirectionType.Up):void(t.StemDirection=c.StemDirectionType.Down);if(t.ParentVoice instanceof b.LinkedVoice?t.StemDirection=c.StemDirectionType.Down:t.ParentSourceStaffEntry.VoiceEntries.length>1&&(t.StemDirection=c.StemDirectionType.Up),t.StemDirection===c.StemDirectionType.Undefined&&t.Notes.length>0){var e=t.Notes[0].NoteBeam;if(void 0!==e)for(var n=0,i=e.Notes;n<i.length;n++){var r=i[n];if(r.ParentVoiceEntry!==t&&r.ParentVoiceEntry.StemDirection!==c.StemDirectionType.Undefined){t.StemDirection=r.ParentVoiceEntry.StemDirection;break}}}},t}();e.MusicSheetCalculator=k},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,n){return new e(t,n)},allocBuffer:function(t){return e.alloc?e.alloc(t):new e(t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,n(11).Buffer)},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),s=(u=n.slice()).length,c=0;c<s;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){function i(){r.call(this)}t.exports=i;var r=n(41).EventEmitter;n(21)(i,r),i.Readable=n(160),i.Writable=n(154),i.Duplex=n(153),i.Transform=n(152),i.PassThrough=n(151),i.Stream=i,i.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function o(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(c(),0===r.listenerCount(this,"error"))throw t}function c(){u.removeListener("data",n),t.removeListener("drain",i),u.removeListener("end",o),u.removeListener("close",s),u.removeListener("error",a),t.removeListener("error",a),u.removeListener("end",c),u.removeListener("close",c),t.removeListener("close",c)}var u=this;u.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(u.on("end",o),u.on("close",s));var l=!1;return u.on("error",a),t.on("error",a),u.on("end",c),u.on("close",c),t.on("close",c),t.emit("pipe",u),t}},function(t,e,n){"use strict";function i(){c=!1}function r(t){if(t){if(t!==s){if(t.length!==l.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. These characters were not unique: "+e.join(", "));s=t,i()}}else s!==l&&(s=l,i())}function o(){return c||(c=function(){s||r(l);for(var t,e=s.split(""),n=[],i=u.nextValue();e.length>0;)i=u.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}var s,a,c,u=n(191),l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={characters:function(t){return r(t),s},seed:function(t){u.seed(t),a!==t&&(i(),a=t)},lookup:function(t){return o()[t]},shuffled:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.MeasureBegin=0]="MeasureBegin",t[t.MeasureEnd=1]="MeasureEnd"}(e.SystemLinePosition||(e.SystemLinePosition={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),r=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=i.OutlineAndFillStyleEnum.BaseWritingColor),this.start=t,this.end=e,this.width=n,this.styleId=r}return Object.defineProperty(t.prototype,"Start",{get:function(){return this.start},set:function(t){this.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"End",{get:function(){return this.end},set:function(t){this.end=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Width",{get:function(){return this.width},set:function(t){this.width=t},enumerable:!0,configurable:!0}),t}();e.GraphicalLine=r},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var i=n(0),r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var o=r,s=0+n;t^=-1;for(var a=0;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0|e,t,t.length):function(t,e,n,i){var o=r,s=0+n;t^=-1;for(var a=0;a<s;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length):0}},function(t,e,n){"use strict";function i(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}var r=n(27),o=n(77),s=n(76),a=n(75);s=n(76),i.prototype={getContentWorker:function(){var t=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(t,e,n){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},t.exports=i},function(t,e,n){t.exports=!n(81)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function i(t){this.afterTransform=function(e,n){return function(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&t.push(n),r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t){if(!(this instanceof r))return new r(t);s.call(this,t),this._transformState=new i(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){o(e,t)}):o(e)})}function o(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=r;var s=n(19),a=n(28);a.inherits=n(21),a.inherits(r,s),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("not implemented")},r.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){"use strict";(function(e,i){function r(){}function o(t,e){_=_||n(19),t=t||{},this.objectMode=!!t.objectMode,e instanceof _&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?p(r,i):r(i),t._writableState.errorEmitted=!0,t.emit("error",i)}(t,n,i,e,r);else{var o=l(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||u(t,n),i?m(c,t,n,o,r):c(t,n,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this),this.corkedRequestsFree.next=new d(this)}function s(t){if(_=_||n(19),!(this instanceof s||this instanceof _))return new s(t);this._writableState=new o(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),v.call(this)}function a(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function c(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),f(t,e)}function u(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)r[s]=n,n=n.next,s+=1;a(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var c=n.chunk,u=n.encoding,l=n.callback;if(a(t,e,!1,e.objectMode?1:c.length,c,u,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function l(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function h(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function f(t,e){var n=l(e);return n&&(0===e.pendingcb?(h(t,e),e.finished=!0,t.emit("finish")):h(t,e)),n}function d(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}t.exports=s;var p=n(53),m=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:p,b=n(11).Buffer;s.WritableState=o;var g=n(28);g.inherits=n(21);var v,y={deprecate:n(156)};!function(){try{v=n(42)}catch(t){}finally{v||(v=n(41).EventEmitter)}}();var _;b=n(11).Buffer,g.inherits(s,v),o.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(o.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(t,e,n){var i=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),b.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),p(e,n)}(this,n):function(t,e,n,i){var r=!0;if(!b.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),p(i,o),r=!1}return r}(this,i,t,n)&&(i.pendingcb++,o=function(t,e,n,i,r){n=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new b(e,n)),e}(e,n,i),b.isBuffer(n)&&(i="buffer");var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest=new function(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}(n,i,r),c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else a(t,e,!1,o,n,i,r);return s}(this,i,t,e,n)),o},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||u(this,t))},s.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},s.prototype._write=function(t,e,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,f(t,e),n&&(e.finished?p(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)}}).call(this,n(29),n(158).setImmediate)},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}:t.exports=e.nextTick}).call(this,n(29))},function(t,e,n){(function(e,n){var i;i=function(){"use strict";function t(t){return"function"==typeof t}function i(){var t=setTimeout;return function(){return t(r,1)}}function r(){for(var t=0;t<S;t+=2)(0,N[t])(N[t+1]),N[t]=void 0,N[t+1]=void 0;S=0}function o(t,e){var n=this,i=new this.constructor(a);void 0===i[I]&&g(i);var r=n._state;if(r){var o=arguments[r-1];k(function(){return b(r,i,o,n._result)})}else p(n,i,t,e);return i}function s(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(a);return l(e,t),e}function a(){}function c(t){try{return t.then}catch(t){return D.error=t,D}}function u(e,n,i){n.constructor===e.constructor&&i===o&&n.constructor.resolve===s?function(t,e){e._state===B?f(t,e._result):e._state===F?d(t,e._result):p(e,void 0,function(e){return l(t,e)},function(e){return d(t,e)})}(e,n):i===D?(d(e,D.error),D.error=null):void 0===i?f(e,n):t(i)?function(t,e,n){k(function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,function(n){i||(i=!0,e!==n?l(t,n):f(t,n))},function(e){i||(i=!0,d(t,e))},t._label);!i&&r&&(i=!0,d(t,r))},t)}(e,n,i):f(e,n)}function l(t,e){var n,i;t===e?d(t,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=e),null===n||"object"!==i&&"function"!==i?f(t,e):u(t,e,c(e)))}function h(t){t._onerror&&t._onerror(t._result),m(t)}function f(t,e){t._state===R&&(t._result=e,t._state=B,0!==t._subscribers.length&&k(m,t))}function d(t,e){t._state===R&&(t._state=F,t._result=e,k(h,t))}function p(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+B]=n,r[o+F]=i,0===o&&t._state&&k(m,t)}function m(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?b(n,i,r,o):r(o);t._subscribers.length=0}}function b(e,n,i,r){var o=t(i),s=void 0,a=void 0,c=void 0,u=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return D.error=t,D}}(i,r))===D?(u=!0,a=s.error,s.error=null):c=!0,n===s)return void d(n,new TypeError("A promises callback cannot return that same promise."))}else s=r,c=!0;n._state!==R||(o&&c?l(n,s):u?d(n,a):e===B?f(n,s):e===F&&d(n,s))}function g(t){t[I]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var v,y,_,x,w=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},S=0,E=void 0,T=void 0,k=function(t,e){N[S]=t,N[S+1]=e,2===(S+=2)&&(T?T(r):L())},P="undefined"!=typeof window?window:void 0,M=P||{},C=M.MutationObserver||M.WebKitMutationObserver,O="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=new Array(1e3),L=void 0;O?L=function(){return e.nextTick(r)}:C?(y=0,_=new C(r),x=document.createTextNode(""),_.observe(x,{characterData:!0}),L=function(){x.data=y=++y%2}):A?((v=new MessageChannel).port1.onmessage=r,L=function(){return v.port2.postMessage(0)}):L=void 0===P?function(){try{var t=Function("return this")().require("vertx");return void 0!==(E=t.runOnLoop||t.runOnContext)?function(){E(r)}:i()}catch(t){return i()}}():i();var I=Math.random().toString(36).substring(2),R=void 0,B=1,F=2,D={error:null},j=0,V=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(a),this.promise[I]||g(this.promise),w(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?f(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&f(this.promise,this._result))):d(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===R&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===s){var r=c(t);if(r===o&&t._state!==R)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===G){var l=new n(a);u(l,t,r),this._willSettleAt(l,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===R&&(this._remaining--,t===F?d(i,n):this._result[e]=n),0===this._remaining&&f(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;p(t,void 0,function(t){return n._settledAt(B,e,t)},function(t){return n._settledAt(F,e,t)})},t}(),G=function(){function t(e){this[I]=j++,this._result=this._state=void 0,this._subscribers=[],a!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){l(t,e)},function(e){d(t,e)})}catch(e){d(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return G.prototype.then=o,G.all=function(t){return new V(this,t).promise},G.race=function(t){var e=this;return new e(w(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},G.resolve=s,G.reject=function(t){var e=new this(a);return d(e,t),e},G._setScheduler=function(t){T=t},G._setAsap=function(t){k=t},G._asap=k,G.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=G},G.Promise=G,G},t.exports=i()}).call(this,n(29),n(23))},function(t,e,n){var i,r;!function(o,s){"use strict";void 0===(r="function"==typeof(i=function(){function t(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function e(t,e){for(var n=0;n<s.length;n++){var i=s[n];this[i]=n<t?r:this.methodFactory(i,t,e)}this.log=this.debug}function n(n,i,s){return function(e){return"debug"===e&&(e="log"),typeof console!==o&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):r)}(n)||function(t,n,i){return function(){typeof console!==o&&(e.call(this,n,i),this[t].apply(this,arguments))}}.apply(this,arguments)}function i(t,i,r){function a(){var t;if(typeof window!==o){try{t=window.localStorage[l]}catch(t){}if(typeof t===o)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(l)+"=");-1!==n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===u.levels[t]&&(t=void 0),t}}var c,u=this,l="loglevel";t&&(l+=":"+t),u.name=t,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=r||n,u.getLevel=function(){return c},u.setLevel=function(n,i){if("string"==typeof n&&void 0!==u.levels[n.toUpperCase()]&&(n=u.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(c=n,!1!==i&&function(t){var e=(s[t]||"silent").toUpperCase();if(typeof window!==o){try{return void(window.localStorage[l]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(l)+"="+e+";"}catch(t){}}}(n),e.call(u,n,t),typeof console===o&&n<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(t){a()||u.setLevel(t,!1)},u.enableAll=function(t){u.setLevel(u.levels.TRACE,t)},u.disableAll=function(t){u.setLevel(u.levels.SILENT,t)};var h=a();null==h&&(h=null==i?"WARN":i),u.setLevel(h,!1)}var r=function(){},o="undefined",s=["trace","debug","info","warn","error"],a=new i,c={};a.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=c[t];return e||(e=c[t]=new i(t,a.getLevel(),a.methodFactory)),e};var u=typeof window!==o?window.log:void 0;return a.noConflict=function(){return typeof window!==o&&window.log===a&&(window.log=u),a},a.getLoggers=function(){return c},a})?i.call(e,n,e,t):i)||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.isStringInStringList=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];if(e.toLowerCase()===r.toLowerCase().trim())return!0}return!1},t}();e.AbstractExpression=i,function(t){t[t.Above=0]="Above",t[t.Below=1]="Below",t[t.NotYetDefined=2]="NotYetDefined"}(e.PlacementEnum||(e.PlacementEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.voiceEntries=[],this.volume=1,this.parent=t,this.visible=!0,this.audible=!0,this.following=!0,this.voiceId=e}return Object.defineProperty(t.prototype,"VoiceEntries",{get:function(){return this.voiceEntries},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Visible",{get:function(){return this.visible},set:function(t){this.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Audible",{get:function(){return this.audible},set:function(t){this.audible=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Following",{get:function(){return this.following},set:function(t){this.following=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VoiceId",{get:function(){return this.voiceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Volume",{get:function(){return this.volume},set:function(t){this.volume=t},enumerable:!0,configurable:!0}),t}();e.Voice=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(102),r=n(3),o=function(){function t(){this.noteDistances=[1,1,1.3,1.6,2,2.5,3,4],this.noteDistancesScalingFactors=[1,2,4,8,16,32,64,128],this.durationDistanceDict={},this.durationScalingDistanceDict={},this.samplingUnit=3*t.unit,this.sheetTitleHeight=4,this.sheetSubtitleHeight=2,this.sheetMinimumDistanceBetweenTitleAndSubtitle=1,this.sheetComposerHeight=2,this.sheetAuthorHeight=2,this.pagePlacementEnum=i.PagePlacementEnum.Down,this.pageHeight=100001,this.pageTopMargin=5,this.pageBottomMargin=5,this.pageLeftMargin=5,this.pageRightMargin=5,this.titleTopDistance=9,this.titleBottomDistance=1,this.staffDistance=7,this.betweenStaffDistance=5,this.staffHeight=4,this.betweenStaffLinesDistance=t.unit,this.systemDistance=10,this.systemLeftMargin=0,this.systemRightMargin=0,this.firstSystemMargin=15,this.systemLabelsRightMargin=2,this.systemComposerDistance=2,this.instrumentLabelTextHeight=2,this.minimumAllowedDistanceBetweenSystems=3,this.lastSystemMaxScalingFactor=1.4,this.beamWidth=t.unit/2,this.beamSpaceWidth=t.unit/3,this.beamForwardLength=1.25*t.unit,this.clefLeftMargin=.5,this.clefRightMargin=.75,this.betweenKeySymbolsDistance=.2,this.keyRightMargin=.75,this.rhythmRightMargin=1.25,this.inStaffClefScalingFactor=.8,this.distanceBetweenNaturalAndSymbolWhenCancelling=.4,this.noteHelperLinesOffset=.25,this.measureLeftMargin=.7,this.measureRightMargin=0,this.distanceBetweenLastInstructionAndRepetitionBarline=1,this.arpeggioDistance=.6,this.staccatoShorteningFactor=2,this.idealStemLength=3,this.stemNoteHeadBorderYOffset=.2,this.stemWidth=.13,this.stemMargin=.2,this.stemMinLength=2.5,this.stemMaxLength=4.5,this.beamSlopeMaxAngle=10,this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=1,this.graceNoteScalingFactor=.6,this.graceNoteXOffset=.2,this.wedgeOpeningLength=1.2,this.wedgeMeasureEndOpeningLength=.75,this.wedgeMeasureBeginOpeningLength=.75,this.wedgePlacementAboveY=-1.5,this.wedgePlacementBelowY=1.5,this.wedgeHorizontalMargin=.6,this.wedgeVerticalMargin=.5,this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=.3,this.wedgeMinLength=2,this.distanceBetweenAdjacentDynamics=.75,this.tempoChangeMeasureValitidy=4,this.tempoContinousFactor=.7,this.staccatoScalingFactor=.8,this.betweenDotsDistance=.8,this.ornamentAccidentalScalingFactor=.65,this.chordSymbolTextHeight=2,this.fingeringLabelFontHeight=1.7,this.measureNumberLabelHeight=1.5*t.unit,this.measureNumberLabelOffset=2,this.tupletNumberLabelHeight=1.5*t.unit,this.tupletNumberYOffset=.5,this.labelMarginBorderFactor=.1,this.tupletVerticalLineLength=.5,this.bezierCurveStepSize=1e3,this.calculateCurveParametersArrays(),this.tieGhostObjectWidth=.75,this.tieYPositionOffsetFactor=.3,this.minimumNeededXspaceForTieGhostObject=1,this.tieHeightMinimum=.28,this.tieHeightMaximum=1.2,this.tieHeightInterpolationK=.0288,this.tieHeightInterpolationD=.136,this.slurNoteHeadYOffset=.5,this.slurStemXOffset=.3,this.slurSlopeMaxAngle=15,this.slurTangentMinAngle=30,this.slurTangentMaxAngle=80,this.slursStartingAtSameStaffEntryYOffset=.8,this.repetitionEndingLabelHeight=2,this.repetitionEndingLabelXOffset=.5,this.repetitionEndingLabelYOffset=.3,this.repetitionEndingLineYLowerOffset=.5,this.repetitionEndingLineYUpperOffset=.3,this.lyricsHeight=2,this.verticalBetweenLyricsDistance=.5,this.betweenSyllabelMaximumDistance=10,this.minimumDistanceBetweenDashes=5,this.instantaniousTempoTextHeight=2.3,this.continuousDynamicTextHeight=2.3,this.moodTextHeight=2.3,this.unknownTextHeight=2,this.continuousTempoTextHeight=2.3,this.staffLineWidth=.12,this.ledgerLineWidth=.12,this.wedgeLineWidth=.12,this.tupletLineWidth=.12,this.lyricUnderscoreLineWidth=.12,this.systemThinLineWidth=.12,this.systemBoldLineWidth=t.unit/2,this.systemRepetitionEndingLineWidth=.12,this.systemDotWidth=t.unit/5,this.distanceBetweenVerticalSystemLines=.35,this.distanceBetweenDotAndLine=.7,this.octaveShiftLineWidth=.12,this.octaveShiftVerticalLineLength=t.unit,this.graceLineWidth=this.staffLineWidth*this.GraceNoteScalingFactor,this.minimumStaffLineDistance=1,this.minimumCrossedBeamDifferenceMargin=1e-4,this.displacedNoteMargin=.1,this.minNoteDistance=2,this.subMeasureXSpacingThreshold=35,this.measureDynamicsMaxScalingFactor=2.5,this.populateDictionaries();try{this.maxInstructionsConstValue=this.ClefLeftMargin+this.ClefRightMargin+this.KeyRightMargin+this.RhythmRightMargin+11}catch(t){r.Logging.log("EngravingRules()",t)}}return Object.defineProperty(t,"Rules",{get:function(){return void 0!==t.rules?t.rules:t.rules=new t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SamplingUnit",{get:function(){return this.samplingUnit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetTitleHeight",{get:function(){return this.sheetTitleHeight},set:function(t){this.sheetTitleHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetSubtitleHeight",{get:function(){return this.sheetSubtitleHeight},set:function(t){this.sheetSubtitleHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetMinimumDistanceBetweenTitleAndSubtitle",{get:function(){return this.sheetMinimumDistanceBetweenTitleAndSubtitle},set:function(t){this.sheetMinimumDistanceBetweenTitleAndSubtitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetComposerHeight",{get:function(){return this.sheetComposerHeight},set:function(t){this.sheetComposerHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetAuthorHeight",{get:function(){return this.sheetAuthorHeight},set:function(t){this.sheetAuthorHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PagePlacement",{get:function(){return this.pagePlacementEnum},set:function(t){this.pagePlacementEnum=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageHeight",{get:function(){return this.pageHeight},set:function(t){this.pageHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageTopMargin",{get:function(){return this.pageTopMargin},set:function(t){this.pageTopMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageBottomMargin",{get:function(){return this.pageBottomMargin},set:function(t){this.pageBottomMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageLeftMargin",{get:function(){return this.pageLeftMargin},set:function(t){this.pageLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageRightMargin",{get:function(){return this.pageRightMargin},set:function(t){this.pageRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TitleTopDistance",{get:function(){return this.titleTopDistance},set:function(t){this.titleTopDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TitleBottomDistance",{get:function(){return this.titleBottomDistance},set:function(t){this.titleBottomDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemComposerDistance",{get:function(){return this.systemComposerDistance},set:function(t){this.systemComposerDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InstrumentLabelTextHeight",{get:function(){return this.instrumentLabelTextHeight},set:function(t){this.instrumentLabelTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemDistance",{get:function(){return this.systemDistance},set:function(t){this.systemDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemLeftMargin",{get:function(){return this.systemLeftMargin},set:function(t){this.systemLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemRightMargin",{get:function(){return this.systemRightMargin},set:function(t){this.systemRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FirstSystemMargin",{get:function(){return this.firstSystemMargin},set:function(t){this.firstSystemMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemLabelsRightMargin",{get:function(){return this.systemLabelsRightMargin},set:function(t){this.systemLabelsRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumAllowedDistanceBetweenSystems",{get:function(){return this.minimumAllowedDistanceBetweenSystems},set:function(t){this.minimumAllowedDistanceBetweenSystems=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LastSystemMaxScalingFactor",{get:function(){return this.lastSystemMaxScalingFactor},set:function(t){this.lastSystemMaxScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffDistance",{get:function(){return this.staffDistance},set:function(t){this.staffDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenStaffDistance",{get:function(){return this.betweenStaffDistance},set:function(t){this.betweenStaffDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffHeight",{get:function(){return this.staffHeight},set:function(t){this.staffHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenStaffLinesDistance",{get:function(){return this.betweenStaffLinesDistance},set:function(t){this.betweenStaffLinesDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamWidth",{get:function(){return this.beamWidth},set:function(t){this.beamWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamSpaceWidth",{get:function(){return this.beamSpaceWidth},set:function(t){this.beamSpaceWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamForwardLength",{get:function(){return this.beamForwardLength},set:function(t){this.beamForwardLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenKeySymbolsDistance",{get:function(){return this.betweenKeySymbolsDistance},set:function(t){this.betweenKeySymbolsDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClefLeftMargin",{get:function(){return this.clefLeftMargin},set:function(t){this.clefLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClefRightMargin",{get:function(){return this.clefRightMargin},set:function(t){this.clefRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"KeyRightMargin",{get:function(){return this.keyRightMargin},set:function(t){this.keyRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RhythmRightMargin",{get:function(){return this.rhythmRightMargin},set:function(t){this.rhythmRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InStaffClefScalingFactor",{get:function(){return this.inStaffClefScalingFactor},set:function(t){this.inStaffClefScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenNaturalAndSymbolWhenCancelling",{get:function(){return this.distanceBetweenNaturalAndSymbolWhenCancelling},set:function(t){this.distanceBetweenNaturalAndSymbolWhenCancelling=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteHelperLinesOffset",{get:function(){return this.noteHelperLinesOffset},set:function(t){this.noteHelperLinesOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureLeftMargin",{get:function(){return this.measureLeftMargin},set:function(t){this.measureLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureRightMargin",{get:function(){return this.measureRightMargin},set:function(t){this.measureRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenLastInstructionAndRepetitionBarline",{get:function(){return this.distanceBetweenLastInstructionAndRepetitionBarline},set:function(t){this.distanceBetweenLastInstructionAndRepetitionBarline=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ArpeggioDistance",{get:function(){return this.arpeggioDistance},set:function(t){this.arpeggioDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaccatoShorteningFactor",{get:function(){return this.staccatoShorteningFactor},set:function(t){this.staccatoShorteningFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IdealStemLength",{get:function(){return this.idealStemLength},set:function(t){this.idealStemLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemNoteHeadBorderYOffset",{get:function(){return this.stemNoteHeadBorderYOffset},set:function(t){this.stemNoteHeadBorderYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemWidth",{get:function(){return this.stemWidth},set:function(t){this.stemWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMargin",{get:function(){return this.stemMargin},set:function(t){this.stemMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMinLength",{get:function(){return this.stemMinLength},set:function(t){this.stemMinLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMaxLength",{get:function(){return this.stemMaxLength},set:function(t){this.stemMaxLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamSlopeMaxAngle",{get:function(){return this.beamSlopeMaxAngle},set:function(t){this.beamSlopeMaxAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMinAllowedDistanceBetweenNoteHeadAndBeamLine",{get:function(){return this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine},set:function(t){this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraceNoteScalingFactor",{get:function(){return this.graceNoteScalingFactor},set:function(t){this.graceNoteScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraceNoteXOffset",{get:function(){return this.graceNoteXOffset},set:function(t){this.graceNoteXOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeOpeningLength",{get:function(){return this.wedgeOpeningLength},set:function(t){this.wedgeOpeningLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeMeasureEndOpeningLength",{get:function(){return this.wedgeMeasureEndOpeningLength},set:function(t){this.wedgeMeasureEndOpeningLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeMeasureBeginOpeningLength",{get:function(){return this.wedgeMeasureBeginOpeningLength},set:function(t){this.wedgeMeasureBeginOpeningLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgePlacementAboveY",{get:function(){return this.wedgePlacementAboveY},set:function(t){this.wedgePlacementAboveY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgePlacementBelowY",{get:function(){return this.wedgePlacementBelowY},set:function(t){this.wedgePlacementBelowY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeHorizontalMargin",{get:function(){return this.wedgeHorizontalMargin},set:function(t){this.wedgeHorizontalMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeVerticalMargin",{get:function(){return this.wedgeVerticalMargin},set:function(t){this.wedgeVerticalMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceOffsetBetweenTwoHorizontallyCrossedWedges",{get:function(){return this.distanceOffsetBetweenTwoHorizontallyCrossedWedges},set:function(t){this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeMinLength",{get:function(){return this.wedgeMinLength},set:function(t){this.wedgeMinLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenAdjacentDynamics",{get:function(){return this.distanceBetweenAdjacentDynamics},set:function(t){this.distanceBetweenAdjacentDynamics=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TempoChangeMeasureValitidy",{get:function(){return this.tempoChangeMeasureValitidy},set:function(t){this.tempoChangeMeasureValitidy=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TempoContinousFactor",{get:function(){return this.tempoContinousFactor},set:function(t){this.tempoContinousFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaccatoScalingFactor",{get:function(){return this.staccatoScalingFactor},set:function(t){this.staccatoScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenDotsDistance",{get:function(){return this.betweenDotsDistance},set:function(t){this.betweenDotsDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OrnamentAccidentalScalingFactor",{get:function(){return this.ornamentAccidentalScalingFactor},set:function(t){this.ornamentAccidentalScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChordSymbolTextHeight",{get:function(){return this.chordSymbolTextHeight},set:function(t){this.chordSymbolTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FingeringLabelFontHeight",{get:function(){return this.fingeringLabelFontHeight},set:function(t){this.fingeringLabelFontHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureNumberLabelHeight",{get:function(){return this.measureNumberLabelHeight},set:function(t){this.measureNumberLabelHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureNumberLabelOffset",{get:function(){return this.measureNumberLabelOffset},set:function(t){this.measureNumberLabelOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletNumberLabelHeight",{get:function(){return this.tupletNumberLabelHeight},set:function(t){this.tupletNumberLabelHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletNumberYOffset",{get:function(){return this.tupletNumberYOffset},set:function(t){this.tupletNumberYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LabelMarginBorderFactor",{get:function(){return this.labelMarginBorderFactor},set:function(t){this.labelMarginBorderFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletVerticalLineLength",{get:function(){return this.tupletVerticalLineLength},set:function(t){this.tupletVerticalLineLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLabelHeight",{get:function(){return this.repetitionEndingLabelHeight},set:function(t){this.repetitionEndingLabelHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLabelXOffset",{get:function(){return this.repetitionEndingLabelXOffset},set:function(t){this.repetitionEndingLabelXOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLabelYOffset",{get:function(){return this.repetitionEndingLabelYOffset},set:function(t){this.repetitionEndingLabelYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLineYLowerOffset",{get:function(){return this.repetitionEndingLineYLowerOffset},set:function(t){this.repetitionEndingLineYLowerOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLineYUpperOffset",{get:function(){return this.repetitionEndingLineYUpperOffset},set:function(t){this.repetitionEndingLineYUpperOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricsHeight",{get:function(){return this.lyricsHeight},set:function(t){this.lyricsHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VerticalBetweenLyricsDistance",{get:function(){return this.verticalBetweenLyricsDistance},set:function(t){this.verticalBetweenLyricsDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenSyllabelMaximumDistance",{get:function(){return this.betweenSyllabelMaximumDistance},set:function(t){this.betweenSyllabelMaximumDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumDistanceBetweenDashes",{get:function(){return this.minimumDistanceBetweenDashes},set:function(t){this.minimumDistanceBetweenDashes=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BezierCurveStepSize",{get:function(){return this.bezierCurveStepSize},set:function(t){this.bezierCurveStepSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TPow3",{get:function(){return this.tPower3},set:function(t){this.tPower3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OneMinusTPow3",{get:function(){return this.oneMinusTPower3},set:function(t){this.oneMinusTPower3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BezierFactorOne",{get:function(){return this.factorOne},set:function(t){this.factorOne=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BezierFactorTwo",{get:function(){return this.factorTwo},set:function(t){this.factorTwo=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieGhostObjectWidth",{get:function(){return this.tieGhostObjectWidth},set:function(t){this.tieGhostObjectWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieYPositionOffsetFactor",{get:function(){return this.tieYPositionOffsetFactor},set:function(t){this.tieYPositionOffsetFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumNeededXspaceForTieGhostObject",{get:function(){return this.minimumNeededXspaceForTieGhostObject},set:function(t){this.minimumNeededXspaceForTieGhostObject=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightMinimum",{get:function(){return this.tieHeightMinimum},set:function(t){this.tieHeightMinimum=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightMaximum",{get:function(){return this.tieHeightMaximum},set:function(t){this.tieHeightMaximum=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightInterpolationK",{get:function(){return this.tieHeightInterpolationK},set:function(t){this.tieHeightInterpolationK=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightInterpolationD",{get:function(){return this.tieHeightInterpolationD},set:function(t){this.tieHeightInterpolationD=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurNoteHeadYOffset",{get:function(){return this.slurNoteHeadYOffset},set:function(t){this.slurNoteHeadYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurStemXOffset",{get:function(){return this.slurStemXOffset},set:function(t){this.slurStemXOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurSlopeMaxAngle",{get:function(){return this.slurSlopeMaxAngle},set:function(t){this.slurSlopeMaxAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurTangentMinAngle",{get:function(){return this.slurTangentMinAngle},set:function(t){this.slurTangentMinAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurTangentMaxAngle",{get:function(){return this.slurTangentMaxAngle},set:function(t){this.slurTangentMaxAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlursStartingAtSameStaffEntryYOffset",{get:function(){return this.slursStartingAtSameStaffEntryYOffset},set:function(t){this.slursStartingAtSameStaffEntryYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InstantaniousTempoTextHeight",{get:function(){return this.instantaniousTempoTextHeight},set:function(t){this.instantaniousTempoTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContinuousDynamicTextHeight",{get:function(){return this.continuousDynamicTextHeight},set:function(t){this.continuousDynamicTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MoodTextHeight",{get:function(){return this.moodTextHeight},set:function(t){this.moodTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContinuousTempoTextHeight",{get:function(){return this.continuousTempoTextHeight},set:function(t){this.continuousTempoTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UnknownTextHeight",{get:function(){return this.unknownTextHeight},set:function(t){this.unknownTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffLineWidth",{get:function(){return this.staffLineWidth},set:function(t){this.staffLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LedgerLineWidth",{get:function(){return this.ledgerLineWidth},set:function(t){this.ledgerLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeLineWidth",{get:function(){return this.wedgeLineWidth},set:function(t){this.wedgeLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletLineWidth",{get:function(){return this.tupletLineWidth},set:function(t){this.tupletLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricUnderscoreLineWidth",{get:function(){return this.lyricUnderscoreLineWidth},set:function(t){this.lyricUnderscoreLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemThinLineWidth",{get:function(){return this.systemThinLineWidth},set:function(t){this.systemThinLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemBoldLineWidth",{get:function(){return this.systemBoldLineWidth},set:function(t){this.systemBoldLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemRepetitionEndingLineWidth",{get:function(){return this.systemRepetitionEndingLineWidth},set:function(t){this.systemRepetitionEndingLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemDotWidth",{get:function(){return this.systemDotWidth},set:function(t){this.systemDotWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenVerticalSystemLines",{get:function(){return this.distanceBetweenVerticalSystemLines},set:function(t){this.distanceBetweenVerticalSystemLines=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenDotAndLine",{get:function(){return this.distanceBetweenDotAndLine},set:function(t){this.distanceBetweenDotAndLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OctaveShiftLineWidth",{get:function(){return this.octaveShiftLineWidth},set:function(t){this.octaveShiftLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OctaveShiftVerticalLineLength",{get:function(){return this.octaveShiftVerticalLineLength},set:function(t){this.octaveShiftVerticalLineLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraceLineWidth",{get:function(){return this.graceLineWidth},set:function(t){this.graceLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumStaffLineDistance",{get:function(){return this.minimumStaffLineDistance},set:function(t){this.minimumStaffLineDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumCrossedBeamDifferenceMargin",{get:function(){return this.minimumCrossedBeamDifferenceMargin},set:function(t){this.minimumCrossedBeamDifferenceMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DisplacedNoteMargin",{get:function(){return this.displacedNoteMargin},set:function(t){this.displacedNoteMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinNoteDistance",{get:function(){return this.minNoteDistance},set:function(t){this.minNoteDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SubMeasureXSpacingThreshold",{get:function(){return this.subMeasureXSpacingThreshold},set:function(t){this.subMeasureXSpacingThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureDynamicsMaxScalingFactor",{get:function(){return this.measureDynamicsMaxScalingFactor},set:function(t){this.measureDynamicsMaxScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaxInstructionsConstValue",{get:function(){return this.maxInstructionsConstValue},set:function(t){this.maxInstructionsConstValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteDistances",{get:function(){return this.noteDistances},set:function(t){this.noteDistances=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteDistancesScalingFactors",{get:function(){return this.noteDistancesScalingFactors},set:function(t){this.noteDistancesScalingFactors=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DurationDistanceDict",{get:function(){return this.durationDistanceDict},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DurationScalingDistanceDict",{get:function(){return this.durationScalingDistanceDict},enumerable:!0,configurable:!0}),t.prototype.populateDictionaries=function(){for(var t=0;t<this.noteDistances.length;t++)switch(t){case 0:this.durationDistanceDict[.015625]=this.noteDistances[t],this.durationScalingDistanceDict[.015625]=this.noteDistancesScalingFactors[t];break;case 1:this.durationDistanceDict[.03125]=this.noteDistances[t],this.durationScalingDistanceDict[.03125]=this.noteDistancesScalingFactors[t];break;case 2:this.durationDistanceDict[.0625]=this.noteDistances[t],this.durationScalingDistanceDict[.0625]=this.noteDistancesScalingFactors[t];break;case 3:this.durationDistanceDict[.125]=this.noteDistances[t],this.durationScalingDistanceDict[.125]=this.noteDistancesScalingFactors[t];break;case 4:this.durationDistanceDict[.25]=this.noteDistances[t],this.durationScalingDistanceDict[.25]=this.noteDistancesScalingFactors[t];break;case 5:this.durationDistanceDict[.5]=this.noteDistances[t],this.durationScalingDistanceDict[.5]=this.noteDistancesScalingFactors[t];break;case 6:this.durationDistanceDict[1]=this.noteDistances[t],this.durationScalingDistanceDict[1]=this.noteDistancesScalingFactors[t];break;case 7:this.durationDistanceDict[2]=this.noteDistances[t],this.durationScalingDistanceDict[2]=this.noteDistancesScalingFactors[t]}},t.prototype.calculateCurveParametersArrays=function(){this.tPower3=new Array(this.bezierCurveStepSize),this.oneMinusTPower3=new Array(this.bezierCurveStepSize),this.factorOne=new Array(this.bezierCurveStepSize),this.factorTwo=new Array(this.bezierCurveStepSize);for(var t=0;t<this.bezierCurveStepSize;t++){var e=t/this.bezierCurveStepSize;this.tPower3[t]=Math.pow(e,3),this.oneMinusTPower3[t]=Math.pow(1-e,3),this.factorOne[t]=3*Math.pow(1-e,2)*e,this.factorTwo[t]=3*(1-e)*Math.pow(e,2)}},t.unit=1,t}();e.EngravingRules=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){this.setOctaveShiftValue(t,e)}return Object.defineProperty(t.prototype,"Type",{get:function(){return this.octaveValue},set:function(t){this.octaveValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffNumber",{get:function(){return this.staffNumber},set:function(t){this.staffNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentStartMultiExpression",{get:function(){return this.startMultiExpression},set:function(t){this.startMultiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentEndMultiExpression",{get:function(){return this.endMultiExpression},set:function(t){this.endMultiExpression=t},enumerable:!0,configurable:!0}),t.prototype.setOctaveShiftValue=function(t,e){this.octaveValue=1===e&&"down"===t?i.VA8:1===e&&"up"===t?i.VB8:2===e&&"down"===t?i.MA15:2===e&&"up"===t?i.MB15:i.NONE},t}();e.OctaveShift=r,function(t){t[t.VA8=0]="VA8",t[t.VB8=1]="VB8",t[t.MA15=2]="MA15",t[t.MB15=3]="MB15",t[t.NONE=4]="NONE"}(i=e.OctaveEnum||(e.OctaveEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t,e,n,i){this.slurs=[],this.graceNoteSlash=!1,this.playbackInstrumentId=void 0,this.voiceEntry=t,this.parentStaffEntry=e,this.length=n,this.pitch=i,this.halfTone=void 0!==i?i.getHalfTone():0}return Object.defineProperty(t.prototype,"GraceNoteSlash",{get:function(){return this.graceNoteSlash},set:function(t){this.graceNoteSlash=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentVoiceEntry",{get:function(){return this.voiceEntry},set:function(t){this.voiceEntry=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentStaffEntry",{get:function(){return this.parentStaffEntry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentStaff",{get:function(){return this.parentStaffEntry.ParentStaff},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Length",{get:function(){return this.length},set:function(t){this.length=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Pitch",{get:function(){return this.pitch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteBeam",{get:function(){return this.beam},set:function(t){this.beam=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteTuplet",{get:function(){return this.tuplet},set:function(t){this.tuplet=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteTie",{get:function(){return this.tie},set:function(t){this.tie=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteSlurs",{get:function(){return this.slurs},set:function(t){this.slurs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PlaybackInstrumentId",{get:function(){return this.playbackInstrumentId},set:function(t){this.playbackInstrumentId=t},enumerable:!0,configurable:!0}),t.prototype.isRest=function(){return void 0===this.Pitch},t.prototype.calculateNoteLengthWithoutTie=function(){var t=this.length.clone();if(void 0!==this.tie)for(var e=0,n=this.tie.Fractions;e<n.length;e++){var i=n[e];t.Sub(i)}return t},t.prototype.calculateNoteOriginalLength=function(t){if(void 0===t&&(t=this.length),void 0!==this.tie&&(t=this.calculateNoteLengthWithoutTie()),void 0!==this.tuplet)return this.length;if(t.Numerator>1){var e=Math.floor(Math.log(t.Denominator)/Math.LN2)-this.calculateNumberOfNeededDots(t);t.Denominator=Math.pow(2,e),t.Numerator=1}return t},t.prototype.ToString=function(){return void 0!==this.pitch?this.Pitch.ToString()+", length: "+this.length.toString():"rest note, length: "+this.length.toString()},t.prototype.getAbsoluteTimestamp=function(){return i.Fraction.plus(this.voiceEntry.Timestamp,this.parentStaffEntry.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp)},t.prototype.checkForDoubleSlur=function(t){for(var e=0,n=this.slurs.length;e<n;++e){var i=this.slurs[e];if(void 0!==i.StartNote&&void 0!==i.EndNote&&void 0!==t.StartNote&&t.StartNote===i.StartNote&&i.EndNote===this)return!0}return!1},t.prototype.calculateNumberOfNeededDots=function(t){return void 0===t&&(t=this.length),void 0===this.tuplet?Math.floor(Math.log(t.Numerator)/Math.LN2):0},t}();e.Note=r,function(t){t[t.Normal=0]="Normal",t[t.Grace=1]="Grace",t[t.Cue=2]="Cue"}(e.Appearance||(e.Appearance={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(104),r=n(5),o=function(){function t(t,e,n,i){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=n,this.height=i}return t.createFromLocationAndSize=function(e,n){return new t(e.x,e.y,n.width,n.height)},Object.defineProperty(t.prototype,"Location",{get:function(){return new r.PointF2D(this.x,this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Size",{get:function(){return new i.SizeF2D(this.width,this.height)},enumerable:!0,configurable:!0}),t}();e.RectangleF2D=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.parent=t}return Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),t}();e.AbstractNotationInstruction=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(36),o=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(i.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||i.isUndefined(t))return!1;var n=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=n,this.lastNode=n;else if(e===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===e)n.next=this.firstNode,this.firstNode=n;else{var r=this.nodeAtIndex(e-1);if(null==r)return!1;n.next=r.next,r.next=n}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var n=e||i.defaultEquals;if(i.isUndefined(t))return-1;for(var r=this.firstNode,o=0;null!==r;){if(n(r.element,t))return o;o++,r=r.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var n=e||i.defaultEquals;if(this.nElements<1||i.isUndefined(t))return!1;for(var r=null,o=this.firstNode;null!==o;){if(n(o.element,t))return null==r?(this.firstNode=o.next,o===this.lastNode&&(this.lastNode=null)):o===this.lastNode?(this.lastNode=r,r.next=o.next,o.next=null):(r.next=o.next,o.next=null),this.nElements--,!0;r=o,o=o.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,n){var r=n||i.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,r)},t.prototype.equalsAux=function(t,e,n){for(;null!==t&&null!==e;){if(!n(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(t-1);null===n?(e=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=n),null!==n&&null!==n.next&&(e=n.next.element,n.next=n.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,n=null;null!==e;)n=e.next,e.next=t,t=e,e=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return r.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,n=0;n<t&&null!=e;n++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();e.default=o},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(66);n(0).inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var r=n(0);i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var r=n(65);n(0).inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(66),s=n(116),a=n(115),c=n(64);t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new c(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new s(t)}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK\x03\x04",e.CENTRAL_FILE_HEADER="PK\x01\x02",e.CENTRAL_DIRECTORY_END="PK\x05\x06",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",e.DATA_DESCRIPTOR="PK\x07\b"},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";function i(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var r=n(13),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new r.Buf8(256),c=0;c<256;c++)a[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,o,s,a=t.length,c=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(c),s=0,o=0;s<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},e.buf2binstring=function(t){return i(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,o,s,c=e||t.length,u=new Array(2*c);for(r=0,n=0;n<c;)if((o=t[n++])<128)u[r++]=o;else if((s=a[o])>4)u[r++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<c;)o=o<<6|63&t[n++],s--;s>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return i(u,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,s=r+n;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=n(6);e.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n(130)},function(t,e,n){"use strict";function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=n(6),o=n(47);n(0).inherits(i,r),i.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=i},function(t,e,n){"use strict";function i(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var r=n(0),o=n(6);r.inherits(i,o),i.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},t.exports=i},function(t,e,n){"use strict";function i(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var r=n(0),o=n(6);r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";(function(e){function i(t,n){return new l.Promise(function(i,r){var s=[],a=t._internalType,u=t._outputType,l=t._mimeType;t.on("data",function(t,e){s.push(t),n&&n(e)}).on("error",function(t){s=[],r(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return o.newBlob(o.transformTo("arraybuffer",e),n);case"base64":return c.encode(e);default:return o.transformTo(t,e)}}(u,function(t,n){var i,r=0,o=null,s=0;for(i=0;i<n.length;i++)s+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(s),i=0;i<n.length;i++)o.set(n[i],r),r+=n[i].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(a,s),l);i(t)}catch(t){r(t)}s=[]}).resume()})}function r(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,o.checkSupport(i),this._worker=t.pipe(new s(i)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}var o=n(0),s=n(134),a=n(6),c=n(84),u=n(14),l=n(27),h=null;if(u.nodestream)try{h=n(133)}catch(t){}r.prototype={accumulate:function(t){return i(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){o.delay(e,arguments,n)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=r}).call(this,n(11).Buffer)},function(t,e,n){var i=n(50),r=n(39).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(147);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var i=n(0),r=n(14),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,r,s,a,c,u,l=[],h=0,f=t.length,d=f,p="string"!==i.getTypeOf(t);h<t.length;)d=f-h,p?(e=t[h++],n=h<f?t[h++]:0,r=h<f?t[h++]:0):(e=t.charCodeAt(h++),n=h<f?t.charCodeAt(h++):0,r=h<f?t.charCodeAt(h++):0),s=e>>2,a=(3&e)<<4|n>>4,c=d>1?(15&n)<<2|r>>6:64,u=d>2?63&r:64,l.push(o.charAt(s)+o.charAt(a)+o.charAt(c)+o.charAt(u));return l.join("")},e.decode=function(t){var e,n,i,s,a,c,u=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<t.length;)e=o.indexOf(t.charAt(u++))<<2|(s=o.indexOf(t.charAt(u++)))>>4,n=(15&s)<<4|(a=o.indexOf(t.charAt(u++)))>>2,i=(3&a)<<6|(c=o.indexOf(t.charAt(u++))),h[l++]=e,64!==a&&(h[l++]=n),64!==c&&(h[l++]=i);return h}},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}t.exports=i;var r=n(51),o=n(28);o.inherits=n(21),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(f.isEncoding===d||!d(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=s,this.end=a,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=c,this.end=u,e=3;break;default:return this.write=l,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(e)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function o(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function a(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}var f=n(155).Buffer,d=f.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},i.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=r(e[i]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--i<n||-2===o?0:(o=r(e[i]))>=0?(o>0&&(t.lastNeed=o-2),o):--i<n||-2===o?0:(o=r(e[i]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";(function(e){function i(t,e){S=S||n(19),t=t||{},this.objectMode=!!t.objectMode,e instanceof S&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(w||(w=n(86).StringDecoder),this.decoder=new w(t.encoding),this.encoding=t.encoding)}function r(t){if(S=S||n(19),!(this instanceof r))return new r(t);this._readableState=new i(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),y.call(this)}function o(t,e,n,i,r){var o=function(t,e){var n=null;return v.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,a(t)}}(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&r)s=new Error("stream.unshift() after end event"),t.emit("error",s);else{var c;!e.decoder||r||i||(n=e.decoder.write(n),c=!e.objectMode&&0===n.length),r||(e.reading=!1),c||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&a(t))),function(t,e){e.readingMore||(e.readingMore=!0,b(u,t,e))}(t,e)}else r||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}function s(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function a(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(T("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?b(c,t):c(t))}function c(t){T("emit readable"),t.emit("readable"),f(t)}function u(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(T("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function l(t){T("readable nexttick read 0"),t.read(0)}function h(t,e){e.reading||(T("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),f(t),e.flowing&&!e.reading&&t.read(0)}function f(t){var e=t._readableState;if(T("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function d(t,e){var n,i=e.buffer,r=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(s)n=i.shift();else if(!t||t>=r)n=o?i.join(""):1===i.length?i[0]:v.concat(i,r),i.length=0;else if(t<i[0].length)n=(l=i[0]).slice(0,t),i[0]=l.slice(t);else if(t===i[0].length)n=i.shift();else{n=o?"":new v(t);for(var a=0,c=0,u=i.length;c<u&&a<t;c++){var l=i[0],h=Math.min(t-a,l.length);o?n+=l.slice(0,h):l.copy(n,a,0,h),h<l.length?i[0]=l.slice(h):i.shift(),a+=h}}return n}function p(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,b(m,e,t))}function m(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}t.exports=r;var b=n(53),g=n(89),v=n(11).Buffer;r.ReadableState=i,n(41);var y,_=function(t,e){return t.listeners(e).length};!function(){try{y=n(42)}catch(t){}finally{y||(y=n(41).EventEmitter)}}(),v=n(11).Buffer;var x=n(28);x.inherits=n(21);var w,S,E=n(159),T=void 0;T=E&&E.debuglog?E.debuglog("stream"):function(){},x.inherits(r,y),r.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new v(t,e),e=""),o(this,n,t,e,!1)},r.prototype.unshift=function(t){return o(this,this._readableState,t,"",!0)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(t){return w||(w=n(86).StringDecoder),this._readableState.decoder=new w(t),this._readableState.encoding=t,this};var k=8388608;r.prototype.read=function(t){T("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return T("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?p(this):a(this),null;if(0===(t=s(t,e))&&e.ended)return 0===e.length&&p(this),null;var i,r=e.needReadable;return T("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&T("length less than watermark",r=!0),(e.ended||e.reading)&&T("reading or ended",r=!1),r&&(T("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=s(n,e)),null===(i=t>0?d(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&p(this),null!==i&&this.emit("data",i),i},r.prototype._read=function(t){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(t,n){function i(t){T("onunpipe"),t===h&&o()}function r(){T("onend"),t.end()}function o(){T("cleanup"),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("drain",m),t.removeListener("error",a),t.removeListener("unpipe",i),h.removeListener("end",r),h.removeListener("end",o),h.removeListener("data",s),v=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function s(e){T("ondata"),!1===t.write(e)&&(1!==d.pipesCount||d.pipes[0]!==t||1!==h.listenerCount("data")||v||(T("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++),h.pause())}function a(e){T("onerror",e),l(),t.removeListener("error",a),0===_(t,"error")&&t.emit("error",e)}function c(){t.removeListener("finish",u),l()}function u(){T("onfinish"),t.removeListener("close",c),l()}function l(){T("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,T("pipe count=%d opts=%j",d.pipesCount,n);var p=n&&!1===n.end||t===e.stdout||t===e.stderr?o:r;d.endEmitted?b(p):h.once("end",p),t.on("unpipe",i);var m=function(t){return function(){var e=t._readableState;T("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&_(t,"data")&&(e.flowing=!0,f(t))}}(h);t.on("drain",m);var v=!1;return h.on("data",s),t._events&&t._events.error?g(t._events.error)?t._events.error.unshift(a):t._events.error=[a,t._events.error]:t.on("error",a),t.once("close",c),t.once("finish",u),t.emit("pipe",h),d.flowing||(T("pipe resume"),h.resume()),t},r.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},r.prototype.on=function(t,e){var n=y.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var i=this._readableState;i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&a(this):b(l,this))}return n},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var t=this._readableState;return t.flowing||(T("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,b(h,t,e))}(this,t)),this},r.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;for(var r in t.on("end",function(){if(T("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),t.on("data",function(r){T("wrapped data"),e.decoder&&(r=e.decoder.write(r)),(!e.objectMode||null!==r&&void 0!==r)&&(e.objectMode||r&&r.length)&&(i.push(r)||(n=!0,t.pause()))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));return function(t,e){for(var n=0,i=t.length;n<i;n++)!function(e){t.on(e,i.emit.bind(i,e))}(t[n])}(["error","close","destroy","pause","resume"]),i._read=function(e){T("wrapped _read",e),n&&(n=!1,t.resume())},i},r._fromList=d}).call(this,n(29))},function(t,e,n){t.exports=n(42)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(){}}();e.VexFlowBackends=i;var r=function(){function t(){}return t.prototype.getInnerElement=function(){return this.inner},t.prototype.getCanvas=function(){return this.canvas},t.prototype.getRenderer=function(){return this.renderer},t.prototype.resize=function(t,e){this.renderer.resize(t,e)},t}();e.VexFlowBackend=r},function(t,e,n){"use strict";var i=n(190);t.exports=function(t,e){for(var n,r=0,o="";!n;)o+=t(e>>4*r&15|i()),n=e<Math.pow(16,r+1),r++;return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(193),r=function(){function t(){this.instanceId=i.generate()}return t.prototype.toString=function(){return this.instanceId},t}();e.BaseIdClass=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.enrolledTimestamps=[],this.visible=!0,this.musicSheet=t}return Object.defineProperty(t.prototype,"Visible",{get:function(){return this.visible},set:function(t){this.visible=t},enumerable:!0,configurable:!0}),t.prototype.getFirstSourceMeasure=function(){return this.musicSheet.SourceMeasures[this.startIndex]},t.prototype.getLastSourceMeasure=function(){return this.musicSheet.SourceMeasures[this.endIndex]},t}();e.PartListEntry=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(56),a=n(1),c=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.dynamicType=e,o.label=r,o.placement=n,o.staffNumber=i,o.startVolume=-1,o.endVolume=-1,o.setType(),o}return r(e,t),Object.defineProperty(e.prototype,"DynamicType",{get:function(){return this.dynamicType},set:function(t){this.dynamicType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartMultiExpression",{get:function(){return this.startMultiExpression},set:function(t){this.startMultiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndMultiExpression",{get:function(){return this.endMultiExpression},set:function(t){this.endMultiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Placement",{get:function(){return this.placement},set:function(t){this.placement=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartVolume",{get:function(){return this.startVolume},set:function(t){this.startVolume=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndVolume",{get:function(){return this.endVolume},set:function(t){this.endVolume=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffNumber",{get:function(){return this.staffNumber},set:function(t){this.staffNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Label",{get:function(){return this.label},set:function(t){this.label=t,this.setType()},enumerable:!0,configurable:!0}),e.isInputStringContinuousDynamic=function(t){return void 0!==t&&(e.isStringInStringList(e.listContinuousDynamicIncreasing,t)||e.isStringInStringList(e.listContinuousDynamicDecreasing,t))},e.prototype.getInterpolatedDynamic=function(t){var e,n=this.StartMultiExpression.AbsoluteTimestamp;if(e=void 0!==this.EndMultiExpression?this.EndMultiExpression.AbsoluteTimestamp:a.Fraction.plus(this.startMultiExpression.SourceMeasureParent.AbsoluteTimestamp,this.startMultiExpression.SourceMeasureParent.Duration),t.lt(n))return-1;if(e.lt(t))return-2;var i=a.Fraction.minus(t,n).RealValue/a.Fraction.minus(e,n).RealValue;return Math.max(0,Math.min(99.9,this.startVolume+(this.endVolume-this.startVolume)*i))},e.prototype.isWedge=function(){return void 0===this.label},e.prototype.setType=function(){e.isStringInStringList(e.listContinuousDynamicIncreasing,this.label)?this.dynamicType=o.crescendo:e.isStringInStringList(e.listContinuousDynamicDecreasing,this.label)&&(this.dynamicType=o.diminuendo)},e.listContinuousDynamicIncreasing=["crescendo","cresc","cresc.","cres."],e.listContinuousDynamicDecreasing=["decrescendo","decresc","decr.","diminuendo","dim.","dim"],e}(s.AbstractExpression);e.ContinuousDynamicExpression=c,function(t){t[t.crescendo=0]="crescendo",t[t.diminuendo=1]="diminuendo"}(o=e.ContDynamicEnum||(e.ContDynamicEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(38),o=n(2),s=function(){function t(t,e,n,i,r){this.rootPitch=t,this.chordKind=e,this.keyInstruction=r,this.bassPitch=n,this.degree=i}return Object.defineProperty(t.prototype,"RootPitch",{get:function(){return this.rootPitch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChordKind",{get:function(){return this.chordKind},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BassPitch",{get:function(){return this.bassPitch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChordDegree",{get:function(){return this.degree},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"KeyInstruction",{get:function(){return this.keyInstruction},enumerable:!0,configurable:!0}),t.calculateChordText=function(e,n){var s=e.RootPitch;void 0!==r.MusicSheetCalculator.transposeCalculator&&(s=r.MusicSheetCalculator.transposeCalculator.transposePitch(e.RootPitch,e.KeyInstruction,n));var c=i.Pitch.getNoteEnumString(s.FundamentalNote);if(s.Accidental!==o.AccidentalEnum.NONE&&(c+=this.getTextForAccidental(s.Accidental)),c+=t.getTextFromChordKindEnum(e.ChordKind),void 0!==e.BassPitch){var u=e.BassPitch;void 0!==r.MusicSheetCalculator.transposeCalculator&&(u=r.MusicSheetCalculator.transposeCalculator.transposePitch(e.BassPitch,e.KeyInstruction,n)),c+="/",c+=i.Pitch.getNoteEnumString(u.FundamentalNote),c+=this.getTextForAccidental(u.Accidental)}if(void 0!==e.ChordDegree){switch(e.ChordDegree.text){case a.add:c+="add";break;case a.alter:c+="alt";break;case a.subtract:c+="sub"}c+=e.ChordDegree.value,e.ChordDegree.alteration!==o.AccidentalEnum.NONE&&(c+=t.getTextForAccidental(e.ChordDegree.alteration))}return c},t.getTextForAccidental=function(t){var e="";switch(t){case o.AccidentalEnum.DOUBLEFLAT:e+="bb";break;case o.AccidentalEnum.FLAT:e+="b";break;case o.AccidentalEnum.SHARP:e+="#";break;case o.AccidentalEnum.DOUBLESHARP:e+="x"}return e},t.getTextFromChordKindEnum=function(t){var e="";switch(t){case c.major:break;case c.minor:e+="m";break;case c.augmented:e+="aug";break;case c.diminished:e+="dim";break;case c.dominant:e+="7";break;case c.majorseventh:e+="maj7";break;case c.minorseventh:e+="m7";break;case c.diminishedseventh:e+="dim7";break;case c.augmentedseventh:e+="aug7";break;case c.halfdiminished:e+="m7b5";break;case c.majorminor:e+="";break;case c.majorsixth:e+="maj6";break;case c.minorsixth:e+="m6";break;case c.dominantninth:e+="9";break;case c.majorninth:e+="maj9";break;case c.minorninth:e+="m9";break;case c.dominant11th:e+="11";break;case c.major11th:e+="maj11";break;case c.minor11th:e+="m11";break;case c.dominant13th:e+="13";break;case c.major13th:e+="maj13";break;case c.minor13th:e+="m13";break;case c.suspendedsecond:e+="sus2";break;case c.suspendedfourth:e+="sus4";break;case c.Neapolitan:case c.Italian:case c.French:case c.German:case c.pedal:case c.power:case c.Tristan:}return e},t}();e.ChordSymbolContainer=s;var a,c,u=function(){return function(t,e,n){this.value=t,this.alteration=e,this.text=n}}();e.Degree=u,function(t){t[t.add=0]="add",t[t.alter=1]="alter",t[t.subtract=2]="subtract"}(a=e.ChordDegreeText||(e.ChordDegreeText={})),function(t){t[t.major=0]="major",t[t.minor=1]="minor",t[t.augmented=2]="augmented",t[t.diminished=3]="diminished",t[t.dominant=4]="dominant",t[t.majorseventh=5]="majorseventh",t[t.minorseventh=6]="minorseventh",t[t.diminishedseventh=7]="diminishedseventh",t[t.augmentedseventh=8]="augmentedseventh",t[t.halfdiminished=9]="halfdiminished",t[t.majorminor=10]="majorminor",t[t.majorsixth=11]="majorsixth",t[t.minorsixth=12]="minorsixth",t[t.dominantninth=13]="dominantninth",t[t.majorninth=14]="majorninth",t[t.minorninth=15]="minorninth",t[t.dominant11th=16]="dominant11th",t[t.major11th=17]="major11th",t[t.minor11th=18]="minor11th",t[t.dominant13th=19]="dominant13th",t[t.major13th=20]="major13th",t[t.minor13th=21]="minor13th",t[t.suspendedsecond=22]="suspendedsecond",t[t.suspendedfourth=23]="suspendedfourth",t[t.Neapolitan=24]="Neapolitan",t[t.Italian=25]="Italian",t[t.French=26]="French",t[t.German=27]="German",t[t.pedal=28]="pedal",t[t.power=29]="power",t[t.Tristan=30]="Tristan"}(c=e.ChordSymbolEnum||(e.ChordSymbolEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),r=function(){function t(){var t=document.createElement("canvas");this.context=t.getContext("2d")}return t.prototype.computeTextWidthToHeightRatio=function(t,e,n){return this.context.font=i.VexFlowConverter.font(20,n,e),this.context.measureText(t).width/20},t}();e.VexFlowTextMeasurer=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),s=n(9),a=n(4),c=n(31),u=function(t){function e(e,n,i){void 0===i&&(i=0);var r=t.call(this)||this;r.PositionAndShape=new a.BoundingBox(r,e.ParentMusicSystem.PositionAndShape);var s=e.Measures[0],c=n.Measures[0];return r.addConnector(s.getVFStave(),c.getVFStave(),o.Flow.StaveConnector.type.BRACKET,i),r}return r(e,t),e.prototype.draw=function(t){this.vexflowConnector.setContext(t).draw();var e=this.vexflowConnector,n=e.top_stave.getYForLine(0),i=e.bottom_stave.getYForLine(e.bottom_stave.getNumLines()-1)+e.thickness;this.PositionAndShape.AbsolutePosition.x=(e.top_stave.getX()-2+e.x_shift)/c.unitInPixels,this.PositionAndShape.AbsolutePosition.y=n/c.unitInPixels,this.PositionAndShape.Size.height=(i-n)/c.unitInPixels,this.PositionAndShape.Size.width=12/c.unitInPixels},e.prototype.addConnector=function(t,e,n,i){this.vexflowConnector=new o.Flow.StaveConnector(t,e).setType(n).setXShift(-5*i)},e}(s.GraphicalObject);e.VexFlowInstrumentBracket=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.instrumentalGroups=[],this.name=t,this.musicSheet=e,this.parent=n}return Object.defineProperty(t.prototype,"InstrumentalGroups",{get:function(){return this.instrumentalGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GetMusicSheet",{get:function(){return this.musicSheet},enumerable:!0,configurable:!0}),t}();e.InstrumentalGroup=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(98),s=n(26),a=n(226),c=function(t){function e(e,n,i,r){var o=t.call(this,void 0,i,r)||this;return o.transpose=0,o.voices=[],o.staves=[],o.hasLyrics=!1,o.hasChordSymbols=!1,o.lyricVersesNumbers=[],o.subInstruments=[],o.id=e,o.idString=n,o.nameLabel=new s.Label(n),o}return r(e,t),Object.defineProperty(e.prototype,"Voices",{get:function(){return this.voices},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Staves",{get:function(){return this.staves},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NameLabel",{get:function(){return this.nameLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HasLyrics",{get:function(){return this.hasLyrics},set:function(t){this.hasLyrics=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HasChordSymbols",{get:function(){return this.hasChordSymbols},set:function(t){this.hasChordSymbols=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LyricVersesNumbers",{get:function(){return this.lyricVersesNumbers},set:function(t){this.lyricVersesNumbers=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Name",{get:function(){return this.nameLabel.text},set:function(t){this.nameLabel.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IdString",{get:function(){return this.idString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MidiInstrumentId",{get:function(){return this.subInstruments[0].midiInstrumentID},set:function(t){this.subInstruments[0].midiInstrumentID=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Volume",{get:function(){return this.subInstruments[0].volume},set:function(t){for(var e=0,n=this.subInstruments.length;e<n;++e)this.subInstruments[e].volume=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlaybackTranspose",{get:function(){return this.playbackTranspose},set:function(t){this.playbackTranspose=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SubInstruments",{get:function(){return this.subInstruments},enumerable:!0,configurable:!0}),e.prototype.getSubInstrument=function(t){for(var e=0,n=this.subInstruments.length;e<n;++e){var i=this.subInstruments[e];if(i.idString===t)return i}},Object.defineProperty(e.prototype,"Visible",{get:function(){return this.voices.length>0&&this.Voices[0].Visible},set:function(t){for(var e=0,n=this.Voices.length;e<n;++e)this.Voices[e].Visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Audible",{get:function(){for(var t=!1,e=0,n=this.Voices.length;e<n;++e){var i=this.Voices[e];t=t||i.Audible}return t},set:function(t){for(var e=0,n=this.Voices.length;e<n;++e)this.Voices[e].Audible=t;for(e=0,n=this.staves.length;e<n;++e)this.staves[e].audible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Following",{get:function(){for(var t=!1,e=0,n=this.Voices.length;e<n;++e){var i=this.Voices[e];t=t||i.Following}return t},set:function(t){for(var e=0,n=this.Voices.length;e<n;++e)this.Voices[e].Following=t;for(e=0,n=this.staves.length;e<n;++e)this.staves[e].following=t},enumerable:!0,configurable:!0}),e.prototype.SetVoiceAudible=function(t,e){for(var n=0,i=this.Voices.length;n<i;++n){var r=this.Voices[n];if(r.VoiceId===t){r.Audible=e;break}}},e.prototype.SetVoiceFollowing=function(t,e){for(var n=0,i=this.Voices.length;n<i;++n){var r=this.Voices[n];if(r.VoiceId===t){r.Following=e;break}}},e.prototype.SetStaffAudible=function(t,e){var n=this.staves[t-1];if(n.audible=e,e)for(var i=0,r=n.Voices.length;i<r;++i)n.Voices[i].Audible=!0;else for(i=0,r=n.Voices.length;i<r;++i){for(var o=n.Voices[i],s=!1,a=0,c=this.Staves.length;a<c;++a){var u=this.Staves[a];if(u.Id!==t&&u.audible)for(var l=0,h=u.Voices.length;l<h;++l)u.Voices[l]===o&&(s=!0)}s||(o.Audible=!1)}},e.prototype.SetStaffFollow=function(t,e){var n=this.staves[t-1];if(n.following=e,e)for(var i=0,r=n.Voices.length;i<r;++i)n.Voices[i].Following=!0;else for(i=0,r=n.Voices.length;i<r;++i){for(var o=n.Voices[i],s=!1,a=0,c=this.Staves.length;a<c;++a){var u=this.Staves[a];if(u.Id!==t&&u.following)for(var l=0,h=u.Voices.length;l<h;++l)u.Voices[l]===o&&(s=!0)}s||(o.Following=!1)}},e.prototype.areAllVoiceVisible=function(){for(var t=0,e=this.Voices;t<e.length;t++)if(!e[t].Visible)return!1;return!0},e.prototype.createStaves=function(t){for(var e=0;e<t;e++)this.staves.push(new a.Staff(this,e+1))},e}(o.InstrumentalGroup);e.Instrument=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.TimesNewRoman=0]="TimesNewRoman",t[t.Kokila=1]="Kokila"}(e.Fonts||(e.Fonts={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.master=i,r}return r(e,t),Object.defineProperty(e.prototype,"Master",{get:function(){return this.master},enumerable:!0,configurable:!0}),e}(n(57).Voice);e.LinkedVoice=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(4),a=n(9),c=n(5),u=function(t){function e(e){var n=t.call(this)||this;return n.musicSystems=[],n.labels=[],n.parent=e,n.boundingBox=new s.BoundingBox(n,void 0),n}return r(e,t),Object.defineProperty(e.prototype,"MusicSystems",{get:function(){return this.musicSystems},set:function(t){this.musicSystems=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Labels",{get:function(){return this.labels},set:function(t){this.labels=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),e.prototype.setMusicPageAbsolutePosition=function(t,e){return e.PagePlacement===o.Down?new c.PointF2D(0,t*e.PageHeight):e.PagePlacement===o.Right?new c.PointF2D(t*this.parent.ParentMusicSheet.pageWidth,0):t%2==0?0===t?new c.PointF2D(0,t*e.PageHeight):new c.PointF2D(0,(t-1)*e.PageHeight):1===t?new c.PointF2D(this.parent.ParentMusicSheet.pageWidth,(t-1)*e.PageHeight):new c.PointF2D(this.parent.ParentMusicSheet.pageWidth,(t-2)*e.PageHeight)},e}(a.GraphicalObject);e.GraphicalMusicPage=u,function(t){t[t.Down=0]="Down",t[t.Right=1]="Right",t[t.RightDown=2]="RightDown"}(o=e.PagePlacementEnum||(e.PagePlacementEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function t(t){this.accidentalAbove=i.AccidentalEnum.NONE,this.accidentalBelow=i.AccidentalEnum.NONE,this.ornament=t}return Object.defineProperty(t.prototype,"GetOrnament",{get:function(){return this.ornament},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AccidentalAbove",{get:function(){return this.accidentalAbove},set:function(t){this.accidentalAbove=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AccidentalBelow",{get:function(){return this.accidentalBelow},set:function(t){this.accidentalBelow=t},enumerable:!0,configurable:!0}),t}();e.OrnamentContainer=r,function(t){t[t.Trill=0]="Trill",t[t.Turn=1]="Turn",t[t.InvertedTurn=2]="InvertedTurn",t[t.DelayedTurn=3]="DelayedTurn",t[t.DelayedInvertedTurn=4]="DelayedInvertedTurn",t[t.Mordent=5]="Mordent",t[t.InvertedMordent=6]="InvertedMordent"}(e.OrnamentEnum||(e.OrnamentEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=t,this.height=e}}();e.SizeF2D=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),s=n(8),a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.defaultFactoryFunction=e,i}return r(e,t),e.prototype.setDefault=function(e,n){var i=t.prototype.getValue.call(this,e);return s.isUndefined(i)?(this.setValue(e,n),n):i},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(36),o=function(){function t(t){this.data=[],this.compare=t||i.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)r.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)r.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!i.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=i.compareToEquals(this.compare);return r.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){r.forEach(this.data,t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(63),r=function(){function t(){this.list=new i.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(107),o=function(){function t(t){this.root=null,this.compare=t||i.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!i.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!i.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(e){return t.push(e),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var n=1;null!==t&&0!==n;)(n=this.compare(e,t.element))<0?t=t.leftCh:n>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,n){null===t||n.stop||(this.inorderTraversalAux(t.leftCh,e,n),n.stop||(n.stop=!1===e(t.element),n.stop||this.inorderTraversalAux(t.rightCh,e,n)))},t.prototype.levelTraversalAux=function(t,e){var n=new r.default;for(null!==t&&n.enqueue(t),t=n.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&n.enqueue(t.leftCh),null!==t.rightCh&&n.enqueue(t.rightCh),t=n.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,n){null===t||n.stop||(n.stop=!1===e(t.element),n.stop||(this.preorderTraversalAux(t.leftCh,e,n),n.stop||this.preorderTraversalAux(t.rightCh,e,n)))},t.prototype.postorderTraversalAux=function(t,e,n){null===t||n.stop||(this.postorderTraversalAux(t.leftCh,e,n),n.stop||(this.postorderTraversalAux(t.rightCh,e,n),n.stop||(n.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,n=this.root;null!==n;){var i=this.compare(t.element,n.element);if(0===i)return null;i<0?(e=n,n=n.leftCh):(e=n,n=n.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(36),o=n(10),s=function(){function t(t){this.dictionary=new o.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!i.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return r.toString(this.toArray())},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(242),r=n(45),o=n(5),s=n(7),a=n(12),c=n(1),u=n(4),l=n(3),h=n(10),f=n(35),d=function(){function t(t,e){this.musicPages=[],this.measureList=[],this.verticalGraphicalStaffEntryContainers=[],this.cursors=[],this.leadSheet=!1,this.musicSheet=t,this.numberOfStaves=this.musicSheet.Staves.length,this.calculator=e,this.sourceToGraphicalMeasureLinks=new h.default,this.calculator.initialize(this)}return Object.defineProperty(t.prototype,"ParentMusicSheet",{get:function(){return this.musicSheet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GetCalculator",{get:function(){return this.calculator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MusicPages",{get:function(){return this.musicPages},set:function(t){this.musicPages=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureList",{get:function(){return this.measureList},set:function(t){this.measureList=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VerticalGraphicalStaffEntryContainers",{get:function(){return this.verticalGraphicalStaffEntryContainers},set:function(t){this.verticalGraphicalStaffEntryContainers=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Title",{get:function(){return this.title},set:function(t){this.title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Subtitle",{get:function(){return this.subtitle},set:function(t){this.subtitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Composer",{get:function(){return this.composer},set:function(t){this.composer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Lyricist",{get:function(){return this.lyricist},set:function(t){this.lyricist=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Cursors",{get:function(){return this.cursors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionStartSymbol",{get:function(){return this.selectionStartSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionEndSymbol",{get:function(){return this.selectionEndSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinAllowedSystemWidth",{get:function(){return this.minAllowedSystemWidth},set:function(t){this.minAllowedSystemWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NumberOfStaves",{get:function(){return this.numberOfStaves},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LeadSheet",{get:function(){return this.leadSheet},set:function(t){this.leadSheet=t},enumerable:!0,configurable:!0}),t.transformRelativeToAbsolutePosition=function(t){for(var e=0;e<t.MusicPages.length;e++){var n=t.MusicPages[e].setMusicPageAbsolutePosition(e,t.ParentMusicSheet.rules);t.MusicPages[e].PositionAndShape.calculateAbsolutePositionsRecursive(n.x,n.y)}},t.prototype.Initialize=function(){this.verticalGraphicalStaffEntryContainers=[],this.musicPages=[],this.measureList=[]},t.prototype.reCalculate=function(){this.calculator.calculate()},t.prototype.prepare=function(){this.calculator.prepareGraphicalMusicSheet()},t.prototype.EnforceRedrawOfMusicSystems=function(){for(var t=0,e=this.musicPages.length;t<e;++t)for(var n=this.musicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)n.MusicSystems[i].needsToBeRedrawn=!0},t.prototype.getClickedObject=function(t){for(var e=0,n=this.MusicPages.length;e<n;++e)return this.MusicPages[e].PositionAndShape.getClickedObjectOfType(t)},t.prototype.findGraphicalStaffEntryFromMeasureList=function(t,e,n){for(var i=e;i<this.measureList.length;i++)for(var r=this.measureList[i][t],o=0,s=r.staffEntries.length;o<s;++o){var a=r.staffEntries[o];if(a.sourceStaffEntry===n)return a}},t.prototype.findNextGraphicalStaffEntry=function(t,e,n){var i=n.parentMeasure,r=i.staffEntries.indexOf(n);if(r<i.staffEntries.length-1)return i.staffEntries[r+1];if(e<this.measureList.length-1){var o=this.measureList[e+1][t];if(o.staffEntries.length>0)return o.staffEntries[0]}},t.prototype.getFirstVisibleMeasuresListFromIndeces=function(t,e){for(var n=[],i=this.measureList[0].length,r=t;r<=e;r++)for(var o=0;o<i;o++)if(this.measureList[r][o].isVisible()){n.push(this.measureList[r][o]);break}return n},t.prototype.orderMeasuresByStaffLine=function(t){var e=[],n=[];e.push(n);for(var i=0;i<t.length;i++)0===i?n.push(t[0]):t[i].ParentStaffLine===t[i-1].ParentStaffLine?n.push(t[i]):(-1===e.indexOf(n)&&e.push(n),n=[],e.push(n),n.push(t[i]));return e},t.prototype.initializeActiveClefs=function(){var t=[],e=this.musicSheet.getFirstSourceMeasure();if(void 0!==e)for(var n=0;n<e.CompleteNumberOfStaves;n++){var i=new s.ClefInstruction;if(void 0!==e.FirstInstructionsStaffEntries[n])for(var r=0,o=e.FirstInstructionsStaffEntries[n].Instructions.length;r<o;++r){var a=e.FirstInstructionsStaffEntries[n].Instructions[r];a instanceof s.ClefInstruction&&(i=a)}t.push(i)}return t},t.prototype.GetMainKey=function(){var t=this.musicSheet.getFirstSourceMeasure();if(void 0!==t)for(var e=0;e<t.CompleteNumberOfStaves;e++)for(var n=0,i=t.FirstInstructionsStaffEntries[e].Instructions.length;n<i;++n){var r=t.FirstInstructionsStaffEntries[e].Instructions[n];if(r instanceof a.KeyInstruction)return r}},t.prototype.getOrCreateVerticalContainer=function(t){if(0===this.verticalGraphicalStaffEntryContainers.length||f.CollectionUtil.getLastElement(this.verticalGraphicalStaffEntryContainers).AbsoluteTimestamp.lt(t)){var e=new i.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t);return this.verticalGraphicalStaffEntryContainers.push(e),e}for(var n=this.verticalGraphicalStaffEntryContainers.length-1;n>=0;n--){if(this.verticalGraphicalStaffEntryContainers[n].AbsoluteTimestamp.lt(t))return e=new i.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t),this.verticalGraphicalStaffEntryContainers.splice(n+1,0,e),e;if(this.verticalGraphicalStaffEntryContainers[n].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers[n]}},t.prototype.GetVerticalContainerFromTimestamp=function(t,e){void 0===e&&(e=0);var n=f.CollectionUtil.binarySearch(this.verticalGraphicalStaffEntryContainers,new i.VerticalGraphicalStaffEntryContainer(0,t),i.VerticalGraphicalStaffEntryContainer.compareByTimestamp,e);if(n>=0)return this.verticalGraphicalStaffEntryContainers[n]},t.prototype.GetInterpolatedIndexInVerticalContainers=function(t){var e,n=this.verticalGraphicalStaffEntryContainers,i=0,r=n.length-1,o=void 0,s=void 0;if(t.lte(n[n.length-1].AbsoluteTimestamp)){for(;r-i>1;){var a=Math.floor((r+i)/2);if(n[i].AbsoluteTimestamp.Equals(t)){r=i;break}if(n[r].AbsoluteTimestamp.Equals(t)){i=r;break}if(n[a].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers.indexOf(n[a]);t.lt(n[a].AbsoluteTimestamp)?r=a:i=a}if(i===r)return this.verticalGraphicalStaffEntryContainers.indexOf(n[i]);o=n[i].AbsoluteTimestamp,s=n[r].AbsoluteTimestamp}else o=n[n.length-1].AbsoluteTimestamp,s=c.Fraction.plus(this.getLongestStaffEntryDuration(n.length-1),o),r=n.length;var u=s.RealValue-o.RealValue;return e=r-(s.RealValue-t.RealValue)/u,Math.min(e,this.verticalGraphicalStaffEntryContainers.length)},t.prototype.getVisibleStavesIndecesFromSourceMeasure=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;++i){var o=t[i].ParentStaff.ParentInstrument;-1===e.indexOf(o)&&e.push(o)}for(i=0,r=e.length;i<r;++i){o=e[i];for(var s=this.musicSheet.getGlobalStaffIndexOfFirstStaff(o),a=0;a<o.Staves.length;a++)n.push(s+a)}return n},t.prototype.getGraphicalMeasureFromSourceMeasureAndIndex=function(t,e){for(var n=0;n<this.measureList.length;n++)if(this.measureList[n][0].parentSourceMeasure===t)return this.measureList[n][e]},t.prototype.getMeasureIndex=function(t,e,n){for(e=0,0;e<this.measureList.length;e++)for(var i=0,r=this.measureList[e].length;i<r;++i)if(this.measureList[e][i]===t)return!0;return!1},t.prototype.GetNearesNote=function(t,e){var n=[],i=new u.BoundingBox;i.BorderLeft=t.x-10,i.BorderTop=t.y-10,i.BorderRight=t.x+10,i.BorderBottom=t.y+10,i.AbsolutePosition=new o.PointF2D(0,0);for(var r=0,s=this.MusicPages.length;r<s;++r){var a=this.MusicPages[r].PositionAndShape.getObjectsInRegion(i);if(void 0!==a)for(var c=0,l=a.length;c<l;++c){var h=a[c];Math.abs(h.PositionAndShape.AbsolutePosition.x-t.x)<e.x&&Math.abs(h.PositionAndShape.AbsolutePosition.y-t.y)<e.y&&n.push(h)}}var f=void 0;for(r=0,s=n.length;r<s;++r)if(h=n[r],void 0===f)f=h;else{if(void 0===h.parentStaffEntry.relInMeasureTimestamp)continue;this.CalculateDistance(h.PositionAndShape.AbsolutePosition,t)<this.CalculateDistance(f.PositionAndShape.AbsolutePosition,t)&&(f=h)}if(void 0!==f)return f},t.prototype.GetClickableLabel=function(t){var e=new u.BoundingBox;e.BorderLeft=t.x-4,e.BorderTop=t.y-4,e.BorderRight=t.x+4,e.BorderBottom=t.y+4,e.AbsolutePosition=new o.PointF2D(0,0);for(var n=0,i=this.MusicPages.length;n<i;++n){var r=this.MusicPages[n].PositionAndShape.getObjectsInRegion(e);if(1===r.length)for(var s=0,a=r.length;s<a;++s)return r[s]}},t.prototype.GetNearestStaffEntry=function(t){var e=[],n=new u.BoundingBox(void 0);n.BorderLeft=t.x-10,n.BorderTop=t.y-10,n.BorderRight=t.x+10,n.BorderBottom=t.y+10,n.AbsolutePosition=new o.PointF2D(0,0);for(var i=0,r=this.MusicPages.length;i<r;++i){var s=this.MusicPages[i].PositionAndShape.getObjectsInRegion(n,!1);if(void 0!==s&&0!==s.length)for(var a=0,c=s.length;a<c;++a){var l=s[a];e.push(l)}}var h=void 0;for(i=0,r=e.length;i<r;++i)if(l=e[i],void 0===h)h=l;else{if(void 0===l.relInMeasureTimestamp)continue;this.CalculateDistance(l.PositionAndShape.AbsolutePosition,t)<this.CalculateDistance(h.PositionAndShape.AbsolutePosition,t)&&(h=l)}if(void 0!==h)return h},t.prototype.GetPossibleCommentAnchor=function(t){var e=this.GetNearestStaffEntry(t);if(void 0!==e)return e.sourceStaffEntry},t.prototype.getClickedObjectOfType=function(t){for(var e=0,n=this.musicPages.length;e<n;++e){var i=this.musicPages[e].PositionAndShape.getClickedObjectOfType(t);if(void 0!==i)return i}},t.prototype.tryGetTimestampFromPosition=function(t){var e=this.getClickedObjectOfType(t);if(void 0!==e)return e.getAbsoluteTimestamp()},t.prototype.tryGetClickableLabel=function(t){try{return this.GetClickableLabel(t)}catch(e){l.Logging.log("GraphicalMusicSheet.tryGetClickableObject","positionOnMusicSheet: "+t,e)}},t.prototype.tryGetTimeStampFromPosition=function(t){try{var e=this.GetNearestStaffEntry(t);if(void 0===e)return;return e.getAbsoluteTimestamp()}catch(e){l.Logging.log("GraphicalMusicSheet.tryGetTimeStampFromPosition","positionOnMusicSheet: "+t,e)}},t.prototype.getStaffEntry=function(t){var e=this.VerticalGraphicalStaffEntryContainers[t],n=void 0;try{for(var i=0,r=e.StaffEntries.length;i<r;++i){var o=e.StaffEntries[i];void 0!==o&&o.sourceStaffEntry.ParentStaff.ParentInstrument.Visible&&(void 0===n?n=o:void 0!==o.PositionAndShape&&void 0!==n.PositionAndShape&&n.PositionAndShape.RelativePosition.x>o.PositionAndShape.RelativePosition.x&&(n=o))}}catch(t){l.Logging.log("GraphicalMusicSheet.getStaffEntry",t)}return n},t.prototype.GetPreviousVisibleContainerIndex=function(t){for(var e=t-1;e>=0;e--)for(var n=this.verticalGraphicalStaffEntryContainers[e].StaffEntries,i=0,r=n.length;i<r;++i){var o=n[i];if(void 0!==o&&o.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}return-1},t.prototype.GetNextVisibleContainerIndex=function(t){for(var e=t+1;e<this.verticalGraphicalStaffEntryContainers.length;++e)for(var n=this.verticalGraphicalStaffEntryContainers[e].StaffEntries,i=0,r=n.length;i<r;++i){var o=n[i];if(void 0!==o&&o.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}return-1},t.prototype.findClosestLeftStaffEntry=function(t,e){for(var n=void 0,i=Math.floor(t),r=i=Math.min(this.VerticalGraphicalStaffEntryContainers.length-1,i);r>=0;r--)if(void 0!==(n=this.getStaffEntry(r))){if(!e)return n;if(n.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return n}},t.prototype.findClosestRightStaffEntry=function(t,e){for(var n=void 0,i=Math.max(0,Math.ceil(t));i<this.VerticalGraphicalStaffEntryContainers.length;i++)if(void 0!==(n=this.getStaffEntry(i))){if(!e)return n;if(n.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return n}},t.prototype.calculateCursorLineAtTimestamp=function(t,e){var n=this.calculateXPositionFromTimestamp(t),i=n[0],s=n[1];if(void 0!==s&&0!==s.StaffLines.length){var a=s.PositionAndShape.AbsolutePosition.y,c=f.CollectionUtil.last(s.StaffLines).PositionAndShape.RelativePosition.y+4;return new r.GraphicalLine(new o.PointF2D(i,a),new o.PointF2D(i,a+c),3,e)}},t.prototype.calculateXPositionFromTimestamp=function(t){var e=void 0,n=this.GetInterpolatedIndexInVerticalContainers(t),i=this.findClosestLeftStaffEntry(n,!0),r=this.findClosestRightStaffEntry(n,!0),o=t.RealValue;if(void 0===i&&void 0===r)return[0,void 0];var s=void 0,a=void 0;if((s=void 0!==i?i.parentMeasure.ParentStaffLine.ParentMusicSystem:r.parentMeasure.ParentStaffLine.ParentMusicSystem)===(a=void 0!==r?r.parentMeasure.ParentStaffLine.ParentMusicSystem:i.parentMeasure.ParentStaffLine.ParentMusicSystem)){e=s;var u=void 0,l=void 0,h=void 0;if(void 0===i)l=h=r.PositionAndShape.AbsolutePosition.x,u=0;else if(void 0===r){l=i.PositionAndShape.AbsolutePosition.x,h=e.GetRightBorderAbsoluteXPosition();var f=i.parentMeasure.parentSourceMeasure;u=(o-i.getAbsoluteTimestamp().RealValue)/(c.Fraction.plus(f.AbsoluteTimestamp,f.Duration).RealValue-i.getAbsoluteTimestamp().RealValue)}else l=i.PositionAndShape.AbsolutePosition.x,h=r.PositionAndShape.AbsolutePosition.x,u=i===r?0:(o-i.getAbsoluteTimestamp().RealValue)/(r.getAbsoluteTimestamp().RealValue-i.getAbsoluteTimestamp().RealValue);return[p=l+(u=Math.min(1,Math.max(0,u)))*(h-l),e]}var d=r.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.RealValue,p=void(u=void 0);if(o<d){e=s,l=i.PositionAndShape.AbsolutePosition.x;var m=e.GetRightBorderAbsoluteXPosition();u=(o-i.getAbsoluteTimestamp().RealValue)/(d-i.getAbsoluteTimestamp().RealValue),p=l+(u=Math.min(1,Math.max(0,u)))*(m-l)}else{e=a,h=r.PositionAndShape.AbsolutePosition.x;var b=e.GetLeftBorderAbsoluteXPosition();u=(o-d)/(r.getAbsoluteTimestamp().RealValue-d),p=b+(u=Math.min(1,Math.max(0,u)))*(h-b)}return[p,e]},t.prototype.GetNumberOfVisibleInstruments=function(){for(var t=0,e=0,n=this.musicSheet.Instruments.length;e<n;++e)!0===this.musicSheet.Instruments[e].Visible&&t++;return t},t.prototype.GetNumberOfFollowedInstruments=function(){for(var t=0,e=0,n=this.musicSheet.Instruments.length;e<n;++e)!0===this.musicSheet.Instruments[e].Following&&t++;return t},t.prototype.GetGraphicalFromSourceMeasure=function(t){return this.sourceToGraphicalMeasureLinks.getValue(t)},t.prototype.GetGraphicalFromSourceStaffEntry=function(t){return this.GetGraphicalFromSourceMeasure(t.VerticalContainerParent.ParentMeasure)[t.ParentStaff.idInMusicSheet].findGraphicalStaffEntryFromTimestamp(t.Timestamp)},t.prototype.GetGraphicalNoteFromSourceNote=function(t,e){for(var n=0,i=e.notes.length;n<i;++n)for(var r=e.notes[n],o=0,s=r.length;o<s;++o){var a=r[o];if(a.sourceNote===t)return a}},t.prototype.CalculateDistance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},t.prototype.getLongestStaffEntryDuration=function(t){for(var e=new c.Fraction(0,1),n=0,i=this.verticalGraphicalStaffEntryContainers[t].StaffEntries.length;n<i;++n){var r=this.verticalGraphicalStaffEntryContainers[t].StaffEntries[n];if(void 0!==r)for(var o=0,s=r.notes.length;o<s;++o)for(var a=r.notes[o],u=0,l=a.length;u<l;++u){var h=a[u];e.lt(h.graphicalNoteLength)&&(e=h.graphicalNoteLength)}}return e},t}();e.GraphicalMusicSheet=d;var p=function(){return function(){}}();e.SystemImageProperties=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){if(this.hasAttributes=!1,void 0===t)throw new Error("IXmlElement: expected Element, got undefined");this.elem=t,this.name=t.nodeName.toLowerCase(),t.hasAttributes()&&(this.hasAttributes=!0,this.firstAttribute=t.attributes[0]),this.hasElements=t.hasChildNodes(),1===t.childNodes.length&&t.childNodes[0].nodeType===Node.TEXT_NODE?this.value=t.childNodes[0].nodeValue:this.value=""}return t.prototype.attribute=function(t){return this.elem.attributes.getNamedItem(t)},t.prototype.attributes=function(){if(!this.attrs){for(var t=this.elem.attributes,e=[],n=0;n<t.length;n+=1)e.push(t[n]);this.attrs=e}return this.attrs},t.prototype.element=function(e){for(var n=this.elem.childNodes,i=0,r=n.length;i<r;i+=1){var o=n[i];if(o.nodeType===Node.ELEMENT_NODE&&o.nodeName.toLowerCase()===e)return new t(o)}},t.prototype.elements=function(e){var n=this.elem.childNodes,i=[],r=void 0===e;r||(e=e.toLowerCase());for(var o=0;o<n.length;o+=1){var s=n[o];s.nodeType!==Node.ELEMENT_NODE||!r&&s.nodeName.toLowerCase()!==e||i.push(new t(s))}return i},t}();e.IXmlElement=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(111),r=n(243),o=n(205),s=n(110),a=n(31),c=n(168),u=n(167),l=n(166),h=n(165),f=n(54),d=n(113),p=n(55),m=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n="svg"),this.zoom=1,"string"==typeof t?this.container=document.getElementById(t):t&&"appendChild"in t&&(this.container=t),!this.container)throw new Error("Please pass a valid div container to OpenSheetMusicDisplay");this.backend="svg"===n?new c.SvgVexFlowBackend:new u.CanvasVexFlowBackend,this.backend.initialize(this.container),this.canvas=this.backend.getCanvas();var i=this.backend.getInnerElement();this.drawer=new a.VexFlowMusicSheetDrawer(this.canvas,this.backend,!1),this.cursor=new l.Cursor(i,this),e&&this.autoResize()}return t.prototype.load=function(t){if(this.reset(),"string"==typeof t){var e=t,n=this;if("PK\x03\x04"===e.substr(0,4))return h.MXLHelper.MXLtoXMLstring(e).then(function(t){return n.load(t)},function(t){throw p.debug(t),new Error("OpenSheetMusicDisplay: Invalid MXL file")});if("\uf7ef\uf7bb\uf7bf"===e.substr(0,3))return n.load(e.substr(3));if("<?xml"===e.substr(0,5))t=(new DOMParser).parseFromString(e,"application/xml");else if(e.length<2083)return d.AJAX.ajax(e).then(function(t){return n.load(t)},function(t){throw t})}if(!t||!t.nodeName)return f.Promise.reject(new Error("OpenSheetMusicDisplay: The document which was provided is invalid"));for(var a,c=t.childNodes,u=0,l=c.length;u<l;u+=1){var m=c[u];if(m.nodeType===Node.ELEMENT_NODE&&"score-partwise"===m.nodeName.toLowerCase()){a=m;break}}if(!a)return f.Promise.reject(new Error("OpenSheetMusicDisplay: Document is not a valid 'partwise' MusicXML"));var b=new i.IXmlElement(a),g=new r.VexFlowMusicSheetCalculator,v=new o.MusicSheetReader;return this.sheet=v.createMusicSheet(b,"Unknown path"),this.graphic=new s.GraphicalMusicSheet(this.sheet,g),this.cursor.init(this.sheet.MusicPartManager,this.graphic),p.info("Loaded sheet "+this.sheet.TitleString+" successfully."),f.Promise.resolve({})},t.prototype.render=function(){if(!this.graphic)throw new Error("OpenSheetMusicDisplay: Before rendering a music sheet, please load a MusicXML file");var t=this.container.offsetWidth;this.sheet.pageWidth=t/this.zoom/10,this.graphic.reCalculate(),this.graphic.Cursors.length=0;var e=10*this.graphic.MusicPages[0].PositionAndShape.BorderBottom*this.zoom;this.drawer.clear(),this.drawer.resize(t,e),this.drawer.scale(this.zoom),this.drawer.drawSheet(this.graphic),this.cursor.update()},t.prototype.setLogLevel=function(t){switch(t){case"trace":p.setLevel(p.levels.WARN);break;case"debug":p.setLevel(p.levels.DEBUG);break;case"info":p.setLevel(p.levels.INFO);break;case"warn":p.setLevel(p.levels.WARN);break;case"error":p.setLevel(p.levels.ERROR);break;default:p.warn("Could not set log level to "+t+". Using warn instead."),p.setLevel(p.levels.WARN)}},t.prototype.reset=function(){this.cursor.hide(),this.sheet=void 0,this.graphic=void 0,this.zoom=1},t.prototype.autoResize=function(){var t=this;this.handleResize(function(){},function(){t.render()})},t.prototype.handleResize=function(t,e){function n(){o=void 0,window.clearTimeout(o),(new Date).getTime()-r<s?o=window.setTimeout(n,s):e()}function i(){r=(new Date).getTime(),o||(t(),r=(new Date).getTime(),o=window.setTimeout(n,s))}var r,o=void 0,s=200;window.attachEvent?window.attachEvent("onresize",i):window.addEventListener("resize",i),window.setTimeout(t,0),window.setTimeout(e,1)},t}();e.OpenSheetMusicDisplay=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),r=function(){function t(){}return t.ajax=function(t){var e;if(XMLHttpRequest)e=new XMLHttpRequest;else{if(!ActiveXObject)return i.Promise.reject(new Error("XMLHttp not supported."));e=new ActiveXObject("Microsoft.XMLHTTP")}return new i.Promise(function(n,i){e.onreadystatechange=function(){e.readyState===XMLHttpRequest.DONE&&(200===e.status?n(e.responseText):0===e.status&&e.responseText?n(e.responseText):i(new Error("Could not retrieve requested URL")))},e.overrideMimeType("text/plain; charset=x-user-defined"),e.open("GET",t,!0),e.send()})},t}();e.AJAX=r},function(t,e,n){"use strict";function i(t,e){this.options=t,this.loadOptions=e}var r=n(67),o=n(0),s=n(48),a=n(47),c=n(22),u=n(74),l=n(14);i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:c.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:c.utf8decode(e.readData(t.length-5))}return null}},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(64);n(0).inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(65);n(0).inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){this.files=[],this.loadOptions=t}var r=n(67),o=n(0),s=n(68),a=n(114),c=(n(22),n(14));i.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=c.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},function(t,e,n){"use strict";function i(t){return new o.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new c);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var r=n(0),o=n(27),s=n(22),a=(r=n(0),n(117)),c=n(75),u=n(40);t.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new a(e);return n.load(t),n}).then(function(t){var n=[o.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var s=0;s<r.length;s++)n.push(i(r[s]));return o.Promise.all(n)}).then(function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(t,e,n){"use strict";function i(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var r=n(0),o=n(6);r.inherits(i,o),i.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=n(0),o=n(6),s=n(22),a=n(47),c=n(68),u=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},l=function(t,e,n,i,o,l){var h,f,d=t.file,p=t.compression,m=l!==s.utf8encode,b=r.transformTo("string",l(d.name)),g=r.transformTo("string",s.utf8encode(d.name)),v=d.comment,y=r.transformTo("string",l(v)),_=r.transformTo("string",s.utf8encode(v)),x=g.length!==d.name.length,w=_.length!==v.length,S="",E="",T="",k=d.dir,P=d.date,M={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(M.crc32=t.crc32,M.compressedSize=t.compressedSize,M.uncompressedSize=t.uncompressedSize);var C=0;e&&(C|=8),m||!x&&!w||(C|=2048);var O,A,N=0,L=0;k&&(N|=16),"UNIX"===o?(L=798,N|=(O=d.unixPermissions,A=O,O||(A=k?16893:33204),(65535&A)<<16)):(L=20,N|=63&(d.dosPermissions||0)),h=P.getUTCHours(),h<<=6,h|=P.getUTCMinutes(),h<<=5,h|=P.getUTCSeconds()/2,f=P.getUTCFullYear()-1980,f<<=4,f|=P.getUTCMonth()+1,f<<=5,f|=P.getUTCDate(),x&&(E=u(1,1)+u(a(b),4)+g,S+="up"+u(E.length,2)+E),w&&(T=u(1,1)+u(a(y),4)+_,S+="uc"+u(T.length,2)+T);var I="";return I+="\n\0",I+=u(C,2),I+=p.magic,I+=u(h,2),I+=u(f,2),I+=u(M.crc32,4),I+=u(M.compressedSize,4),I+=u(M.uncompressedSize,4),I+=u(b.length,2),I+=u(S.length,2),{fileRecord:c.LOCAL_FILE_HEADER+I+b+S,dirRecord:c.CENTRAL_FILE_HEADER+u(L,2)+I+u(y.length,2)+"\0\0\0\0"+u(N,4)+u(i,4)+b+S+y}};r.inherits(i,o),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=l(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=l(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return c.DATA_DESCRIPTOR+u(t.crc32,4)+u(t.compressedSize,4)+u(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,o){var s=r.transformTo("string",o(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(t,2)+u(t,2)+u(e,4)+u(n,4)+u(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},i.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=i},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";var i=n(13),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,c,u,l,h,f){var d,p,m,b,g,v,y,_,x,w=f.bits,S=0,E=0,T=0,k=0,P=0,M=0,C=0,O=0,A=0,N=0,L=null,I=0,R=new i.Buf16(16),B=new i.Buf16(16),F=null,D=0;for(S=0;S<=15;S++)R[S]=0;for(E=0;E<c;E++)R[e[n+E]]++;for(P=w,k=15;k>=1&&0===R[k];k--);if(P>k&&(P=k),0===k)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(T=1;T<k&&0===R[T];T++);for(P<T&&(P=T),O=1,S=1;S<=15;S++)if(O<<=1,(O-=R[S])<0)return-1;if(O>0&&(0===t||1!==k))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+R[S];for(E=0;E<c;E++)0!==e[n+E]&&(h[B[e[n+E]]++]=E);if(0===t?(L=F=h,v=19):1===t?(L=r,I-=257,F=o,D-=257,v=256):(L=s,F=a,v=-1),N=0,E=0,S=T,g=l,M=P,C=0,m=-1,b=(A=1<<P)-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){y=S-C,h[E]<v?(_=0,x=h[E]):h[E]>v?(_=F[D+h[E]],x=L[I+h[E]]):(_=96,x=0),d=1<<S-C,T=p=1<<M;do{u[g+(N>>C)+(p-=d)]=y<<24|_<<16|x|0}while(0!==p);for(d=1<<S-1;N&d;)d>>=1;if(0!==d?(N&=d-1,N+=d):N=0,E++,0==--R[S]){if(S===k)break;S=e[n+h[E]]}if(S>P&&(N&b)!==m){for(0===C&&(C=P),g+=T,O=1<<(M=S-C);M+C<k&&!((O-=R[M+C])<=0);)M++,O<<=1;if(A+=1<<M,1===t&&A>852||2===t&&A>592)return 1;u[m=N&b]=P<<24|M<<16|g-l|0}}return 0!==N&&(u[g+N]=S-C<<24|64<<16|0),f.bits=P,0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,s,a,c,u,l,h,f,d,p,m,b,g,v,y,_,x,w,S,E,T,k;n=t.state,i=t.next_in,T=t.input,r=i+(t.avail_in-5),o=t.next_out,k=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,b=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(d+=T[i++]<<p,p+=8,d+=T[i++]<<p,p+=8),y=m[d&g];e:for(;;){if(d>>>=_=y>>>24,p-=_,0===(_=y>>>16&255))k[o++]=65535&y;else{if(!(16&_)){if(0==(64&_)){y=m[(65535&y)+(d&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&y,(_&=15)&&(p<_&&(d+=T[i++]<<p,p+=8),x+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=T[i++]<<p,p+=8,d+=T[i++]<<p,p+=8),y=b[d&v];n:for(;;){if(d>>>=_=y>>>24,p-=_,!(16&(_=y>>>16&255))){if(0==(64&_)){y=b[(65535&y)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&y,p<(_&=15)&&(d+=T[i++]<<p,(p+=8)<_&&(d+=T[i++]<<p,p+=8)),(w+=d&(1<<_)-1)>c){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=_,p-=_,w>(_=o-s)){if((_=w-_)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=0,E=f,0===h){if(S+=u-_,_<x){x-=_;do{k[o++]=f[S++]}while(--_);S=o-w,E=k}}else if(h<_){if(S+=u+h-_,(_-=h)<x){x-=_;do{k[o++]=f[S++]}while(--_);if(S=0,h<x){x-=_=h;do{k[o++]=f[S++]}while(--_);S=o-w,E=k}}}else if(S+=h-_,_<x){x-=_;do{k[o++]=f[S++]}while(--_);S=o-w,E=k}for(;x>2;)k[o++]=E[S++],k[o++]=E[S++],k[o++]=E[S++],x-=3;x&&(k[o++]=E[S++],x>1&&(k[o++]=E[S++]))}else{S=o-w;do{k[o++]=k[S++],k[o++]=k[S++],k[o++]=k[S++],x-=3}while(x>2);x&&(k[o++]=k[S++],x>1&&(k[o++]=k[S++]))}break}}break}}while(i<r&&o<a);i-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new f.Buf32(E),e.distcode=e.distdyn=new f.Buf32(T),e.sane=1,e.back=-1,y):_}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,r(t)):_}function s(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,o(t))):_}function a(t,e){var n,i;return t?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=i,i.window=null,(n=s(t,e))!==y&&(t.state=null),n):_}function c(t){if(k){var e;for(l=new f.Buf32(512),h=new f.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(b(g,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;b(v,t.lens,0,32,h,0,t.work,{bits:5}),k=!1}t.lencode=l,t.lenbits=9,t.distcode=h,t.distbits=5}function u(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new f.Buf8(o.wsize)),i>=o.wsize?(f.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),f.arraySet(o.window,e,n-i,r,o.wnext),(i-=r)?(f.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var l,h,f=n(13),d=n(73),p=n(72),m=n(123),b=n(122),g=1,v=2,y=0,_=-2,x=1,w=12,S=30,E=852,T=592,k=!0;e.inflateReset=o,e.inflateReset2=s,e.inflateResetKeep=r,e.inflateInit=function(t){return a(t,15)},e.inflateInit2=a,e.inflate=function(t,e){var n,r,o,s,a,l,h,E,T,k,P,M,C,O,A,N,L,I,R,B,F,D,j,V,G=0,H=new f.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return _;(n=t.state).mode===w&&(n.mode=13),a=t.next_out,o=t.output,h=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,E=n.hold,T=n.bits,k=l,P=h,D=y;t:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=13;break}for(;T<16;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(2&n.wrap&&35615===E){n.check=0,H[0]=255&E,H[1]=E>>>8&255,n.check=p(n.check,H,2,0),E=0,T=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&E)<<8)+(E>>8))%31){t.msg="incorrect header check",n.mode=S;break}if(8!==(15&E)){t.msg="unknown compression method",n.mode=S;break}if(T-=4,F=8+(15&(E>>>=4)),0===n.wbits)n.wbits=F;else if(F>n.wbits){t.msg="invalid window size",n.mode=S;break}n.dmax=1<<F,t.adler=n.check=1,n.mode=512&E?10:w,E=0,T=0;break;case 2:for(;T<16;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(n.flags=E,8!==(255&n.flags)){t.msg="unknown compression method",n.mode=S;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=S;break}n.head&&(n.head.text=E>>8&1),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,n.check=p(n.check,H,2,0)),E=0,T=0,n.mode=3;case 3:for(;T<32;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}n.head&&(n.head.time=E),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,H[2]=E>>>16&255,H[3]=E>>>24&255,n.check=p(n.check,H,4,0)),E=0,T=0,n.mode=4;case 4:for(;T<16;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}n.head&&(n.head.xflags=255&E,n.head.os=E>>8),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,n.check=p(n.check,H,2,0)),E=0,T=0,n.mode=5;case 5:if(1024&n.flags){for(;T<16;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}n.length=E,n.head&&(n.head.extra_len=E),512&n.flags&&(H[0]=255&E,H[1]=E>>>8&255,n.check=p(n.check,H,2,0)),E=0,T=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((M=n.length)>l&&(M=l),M&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),f.arraySet(n.head.extra,r,s,M,F)),512&n.flags&&(n.check=p(n.check,r,M,s)),l-=M,s+=M,n.length-=M),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===l)break t;M=0;do{F=r[s+M++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F))}while(F&&M<l);if(512&n.flags&&(n.check=p(n.check,r,M,s)),l-=M,s+=M,F)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===l)break t;M=0;do{F=r[s+M++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F))}while(F&&M<l);if(512&n.flags&&(n.check=p(n.check,r,M,s)),l-=M,s+=M,F)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;T<16;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(E!==(65535&n.check)){t.msg="header crc mismatch",n.mode=S;break}E=0,T=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=w;break;case 10:for(;T<32;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}t.adler=n.check=i(E),E=0,T=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=l,n.hold=E,n.bits=T,2;t.adler=n.check=1,n.mode=w;case w:if(5===e||6===e)break t;case 13:if(n.last){E>>>=7&T,T-=7&T,n.mode=27;break}for(;T<3;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}switch(n.last=1&E,T-=1,3&(E>>>=1)){case 0:n.mode=14;break;case 1:if(c(n),n.mode=20,6===e){E>>>=2,T-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=S}E>>>=2,T-=2;break;case 14:for(E>>>=7&T,T-=7&T;T<32;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if((65535&E)!=(E>>>16^65535)){t.msg="invalid stored block lengths",n.mode=S;break}if(n.length=65535&E,E=0,T=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(M=n.length){if(M>l&&(M=l),M>h&&(M=h),0===M)break t;f.arraySet(o,r,s,M,a),l-=M,s+=M,h-=M,a+=M,n.length-=M;break}n.mode=w;break;case 17:for(;T<14;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(n.nlen=257+(31&E),E>>>=5,T-=5,n.ndist=1+(31&E),E>>>=5,T-=5,n.ncode=4+(15&E),E>>>=4,T-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=S;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;T<3;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}n.lens[z[n.have++]]=7&E,E>>>=3,T-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},D=b(0,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,D){t.msg="invalid code lengths set",n.mode=S;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;N=(G=n.lencode[E&(1<<n.lenbits)-1])>>>16&255,L=65535&G,!((A=G>>>24)<=T);){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(L<16)E>>>=A,T-=A,n.lens[n.have++]=L;else{if(16===L){for(V=A+2;T<V;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(E>>>=A,T-=A,0===n.have){t.msg="invalid bit length repeat",n.mode=S;break}F=n.lens[n.have-1],M=3+(3&E),E>>>=2,T-=2}else if(17===L){for(V=A+3;T<V;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}T-=A,F=0,M=3+(7&(E>>>=A)),E>>>=3,T-=3}else{for(V=A+7;T<V;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}T-=A,F=0,M=11+(127&(E>>>=A)),E>>>=7,T-=7}if(n.have+M>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=S;break}for(;M--;)n.lens[n.have++]=F}}if(n.mode===S)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=S;break}if(n.lenbits=9,j={bits:n.lenbits},D=b(g,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,D){t.msg="invalid literal/lengths set",n.mode=S;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},D=b(v,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,D){t.msg="invalid distances set",n.mode=S;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(l>=6&&h>=258){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=l,n.hold=E,n.bits=T,m(t,P),a=t.next_out,o=t.output,h=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,E=n.hold,T=n.bits,n.mode===w&&(n.back=-1);break}for(n.back=0;N=(G=n.lencode[E&(1<<n.lenbits)-1])>>>16&255,L=65535&G,!((A=G>>>24)<=T);){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(N&&0==(240&N)){for(I=A,R=N,B=L;N=(G=n.lencode[B+((E&(1<<I+R)-1)>>I)])>>>16&255,L=65535&G,!(I+(A=G>>>24)<=T);){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}E>>>=I,T-=I,n.back+=I}if(E>>>=A,T-=A,n.back+=A,n.length=L,0===N){n.mode=26;break}if(32&N){n.back=-1,n.mode=w;break}if(64&N){t.msg="invalid literal/length code",n.mode=S;break}n.extra=15&N,n.mode=22;case 22:if(n.extra){for(V=n.extra;T<V;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}n.length+=E&(1<<n.extra)-1,E>>>=n.extra,T-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;N=(G=n.distcode[E&(1<<n.distbits)-1])>>>16&255,L=65535&G,!((A=G>>>24)<=T);){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(0==(240&N)){for(I=A,R=N,B=L;N=(G=n.distcode[B+((E&(1<<I+R)-1)>>I)])>>>16&255,L=65535&G,!(I+(A=G>>>24)<=T);){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}E>>>=I,T-=I,n.back+=I}if(E>>>=A,T-=A,n.back+=A,64&N){t.msg="invalid distance code",n.mode=S;break}n.offset=L,n.extra=15&N,n.mode=24;case 24:if(n.extra){for(V=n.extra;T<V;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}n.offset+=E&(1<<n.extra)-1,E>>>=n.extra,T-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=S;break}n.mode=25;case 25:if(0===h)break t;if(M=P-h,n.offset>M){if((M=n.offset-M)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=S;break}M>n.wnext?(M-=n.wnext,C=n.wsize-M):C=n.wnext-M,M>n.length&&(M=n.length),O=n.window}else O=o,C=a-n.offset,M=n.length;M>h&&(M=h),h-=M,n.length-=M;do{o[a++]=O[C++]}while(--M);0===n.length&&(n.mode=21);break;case 26:if(0===h)break t;o[a++]=n.length,h--,n.mode=21;break;case 27:if(n.wrap){for(;T<32;){if(0===l)break t;l--,E|=r[s++]<<T,T+=8}if(P-=h,t.total_out+=P,n.total+=P,P&&(t.adler=n.check=n.flags?p(n.check,o,P,a-P):d(n.check,o,P,a-P)),P=h,(n.flags?E:i(E))!==n.check){t.msg="incorrect data check",n.mode=S;break}E=0,T=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;T<32;){if(0===l)break t;l--,E+=r[s++]<<T,T+=8}if(E!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=S;break}E=0,T=0}n.mode=29;case 29:D=1;break t;case S:D=-3;break t;case 31:return-4;case 32:default:return _}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=l,n.hold=E,n.bits=T,(n.wsize||P!==t.avail_out&&n.mode<S&&(n.mode<27||4!==e))&&u(t,t.output,t.next_out,P-t.avail_out)?(n.mode=31,-4):(k-=t.avail_in,P-=t.avail_out,t.total_in+=k,t.total_out+=P,n.total+=P,n.wrap&&P&&(t.adler=n.check=n.flags?p(n.check,o,P,t.next_out-P):d(n.check,o,P,t.next_out-P)),t.data_type=n.bits+(n.last?64:0)+(n.mode===w?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===P||4===e)&&D===y&&(D=-5),D)},e.inflateEnd=function(t){if(!t||!t.state)return _;var e=t.state;return e.window&&(e.window=null),t.state=null,y},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?_:(n.head=e,e.done=!1,y):_},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?_:11===n.mode&&d(1,e,i,0)!==n.check?-3:u(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,y):_},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,e.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||u[n.err];return n.result}var o=n(124),s=n(13),a=n(71),c=n(69),u=n(46),l=n(70),h=n(121),f=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,r,u,l,h,d=this.strm,p=this.options.chunkSize,m=this.options.dictionary,b=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?d.input=a.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new s.Buf8(p),d.next_out=0,d.avail_out=p),(n=o.inflate(d,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&m&&(h="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===f.call(m)?new Uint8Array(m):m,n=o.inflateSetDictionary(this.strm,h)),n===c.Z_BUF_ERROR&&!0===b&&(n=c.Z_OK,b=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==c.Z_STREAM_END&&(0!==d.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=a.utf8border(d.output,d.next_out),u=d.next_out-r,l=a.buf2string(d.output,r),d.next_out=u,d.avail_out=p-u,u&&s.arraySet(d.output,d.output,r,u,0),this.onData(l)):this.onData(s.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(b=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),d.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=i,e.inflate=r,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},e.ungzip=r},function(t,e,n){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?V[t]:V[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function c(t,e,n){t.bi_valid>C-n?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>C-t.bi_valid,t.bi_valid+=n-C):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function u(t,e,n){c(t,n[2*e],n[2*e+1])}function l(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function h(t,e,n){var i,r,o=new Array(M+1),s=0;for(i=1;i<=M;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=l(o[a]++,a))}}function f(t){var e;for(e=0;e<E;e++)t.dyn_ltree[2*e]=0;for(e=0;e<T;e++)t.dyn_dtree[2*e]=0;for(e=0;e<k;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*O]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function d(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function p(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function m(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&p(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!p(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function b(t,e,n){var i,r,o,a,l=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===i?u(t,r,e):(u(t,(o=G[r])+S+1,e),0!==(a=I[o])&&c(t,r-=H[o],a),u(t,o=s(--i),n),0!==(a=R[o])&&c(t,i-=Y[o],a))}while(l<t.last_lit);u(t,O,e)}function g(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=P,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)m(t,o,n);r=c;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],m(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,m(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,a,c=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=M;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<P;n++)(o=c[2*c[2*(i=t.heap[n])+1]+1]+1)>p&&(o=p,m++),c[2*i+1]=o,i>u||(t.bl_count[o]++,s=0,i>=d&&(s=f[i-d]),a=c[2*i],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(l[2*i+1]+s)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>u||(c[2*r+1]!==o&&(t.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(t,e),h(o,u,t.bl_count)}function v(t,e,n){var i,r,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<c&&r===s||(a<u?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*A]++):a<=10?t.bl_tree[2*N]++:t.bl_tree[2*L]++,a=0,o=r,0===s?(c=138,u=3):r===s?(c=6,u=3):(c=7,u=4))}function y(t,e,n){var i,r,o=-1,s=e[1],a=0,l=7,h=4;for(0===s&&(l=138,h=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<l&&r===s)){if(a<h)do{u(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(u(t,r,t.bl_tree),a--),u(t,A,t.bl_tree),c(t,a-3,2)):a<=10?(u(t,N,t.bl_tree),c(t,a-3,3)):(u(t,L,t.bl_tree),c(t,a-11,7));a=0,o=r,0===s?(l=138,h=3):r===s?(l=6,h=3):(l=7,h=4)}}function _(t,e,n,i){c(t,(w<<1)+(i?1:0),3),function(t,e,n,i){d(t),a(t,n),a(t,~n),x.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}var x=n(13),w=0,S=256,E=S+1+29,T=30,k=19,P=2*E+1,M=15,C=16,O=256,A=16,N=17,L=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(E+2));i(D);var j=new Array(2*T);i(j);var V=new Array(512);i(V);var G=new Array(256);i(G);var H=new Array(29);i(H);var z,W,U,Y=new Array(T);i(Y);var X=!1;e._tr_init=function(t){X||(function(){var t,e,n,i,o,s=new Array(M+1);for(n=0,i=0;i<28;i++)for(H[i]=n,t=0;t<1<<I[i];t++)G[n++]=i;for(G[n-1]=i,o=0,i=0;i<16;i++)for(Y[i]=o,t=0;t<1<<R[i];t++)V[o++]=i;for(o>>=7;i<T;i++)for(Y[i]=o<<7,t=0;t<1<<R[i]-7;t++)V[256+o++]=i;for(e=0;e<=M;e++)s[e]=0;for(t=0;t<=143;)D[2*t+1]=8,t++,s[8]++;for(;t<=255;)D[2*t+1]=9,t++,s[9]++;for(;t<=279;)D[2*t+1]=7,t++,s[7]++;for(;t<=287;)D[2*t+1]=8,t++,s[8]++;for(h(D,E+1,s),t=0;t<T;t++)j[2*t+1]=5,j[2*t]=l(t,5);z=new r(D,I,S+1,E,M),W=new r(j,R,0,T,M),U=new r(new Array(0),B,0,k,7)}(),X=!0),t.l_desc=new o(t.dyn_ltree,z),t.d_desc=new o(t.dyn_dtree,W),t.bl_desc=new o(t.bl_tree,U),t.bi_buf=0,t.bi_valid=0,f(t)},e._tr_stored_block=_,e._tr_flush_block=function(t,e,n,i){var r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<S;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),g(t,t.l_desc),g(t,t.d_desc),s=function(t){var e;for(v(t,t.dyn_ltree,t.l_desc.max_code),v(t,t.dyn_dtree,t.d_desc.max_code),g(t,t.bl_desc),e=k-1;e>=3&&0===t.bl_tree[2*F[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?_(t,e,n,i):4===t.strategy||o===r?(c(t,2+(i?1:0),3),b(t,D,j)):(c(t,4+(i?1:0),3),function(t,e,n,i){var r;for(c(t,e-257,5),c(t,n-1,5),c(t,i-4,4),r=0;r<i;r++)c(t,t.bl_tree[2*F[r]+1],3);y(t,t.dyn_ltree,e-1),y(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),f(t),i&&d(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(G[n]+S+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){c(t,2,3),u(t,O,D),function(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";function i(t,e){return t.msg=S[e],e}function r(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(y.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function a(t,e){_._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function c(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function l(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-G?t.strstart-(t.w_size-G):0,u=t.window,l=t.w_mask,h=t.prev,f=t.strstart+V,d=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(n=e)+s]===p&&u[n+s-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=V-(f-o),o=f-V,i>s){if(t.match_start=e,s=i,i>=a)break;d=u[o+s-1],p=u[o+s]}}}while((e=h[e&l])>c&&0!=--r);return s<=t.lookahead?s:t.lookahead}function h(t){var e,n,i,r,o,s,a,c,u,l,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-G)){y.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--n);e=n=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--n);r+=h}if(0===t.strm.avail_in)break;if(s=t.strm,a=t.window,c=t.strstart+t.lookahead,u=r,l=void 0,(l=s.avail_in)>u&&(l=u),n=0===l?0:(s.avail_in-=l,y.arraySet(a,s.input,s.next_in,l,c),1===s.state.wrap?s.adler=x(s.adler,a,l,c):2===s.state.wrap&&(s.adler=w(s.adler,a,l,c)),s.next_in+=l,s.total_in+=l,l),t.lookahead+=n,t.lookahead+t.insert>=j)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+j-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<j)););}while(t.lookahead<G&&0!==t.strm.avail_in)}function f(t,e){for(var n,i;;){if(t.lookahead<G){if(h(t),t.lookahead<G&&e===E)return Y;if(0===t.lookahead)break}if(n=0,t.lookahead>=j&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-G&&(t.match_length=l(t,n)),t.match_length>=j)if(i=_._tr_tally(t,t.strstart-t.match_start,t.match_length-j),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=j){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(a(t,!1),0===t.strm.avail_out))return Y}return t.insert=t.strstart<j-1?t.strstart:j-1,e===T?(a(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?Y:X}function d(t,e){for(var n,i,r;;){if(t.lookahead<G){if(h(t),t.lookahead<G&&e===E)return Y;if(0===t.lookahead)break}if(n=0,t.lookahead>=j&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=j-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-G&&(t.match_length=l(t,n),t.match_length<=5&&(t.strategy===C||t.match_length===j&&t.strstart-t.match_start>4096)&&(t.match_length=j-1)),t.prev_length>=j&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-j,i=_._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-j),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+j-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=j-1,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return Y}else if(t.match_available){if((i=_._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Y}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=_._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<j-1?t.strstart:j-1,e===T?(a(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?Y:X}function p(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function m(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=A,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?H:W,t.adler=2===e.wrap?0:1,e.last_flush=E,_._tr_init(e),k):i(t,P)}function b(t){var e,n=m(t);return n===k&&((e=t.state).window_size=2*e.w_size,o(e.head),e.max_lazy_match=v[e.level].max_lazy,e.good_match=v[e.level].good_length,e.nice_match=v[e.level].nice_length,e.max_chain_length=v[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=j-1,e.match_available=0,e.ins_h=0),n}function g(t,e,n,r,s,a){if(!t)return P;var c=1;if(e===M&&(e=6),r<0?(c=0,r=-r):r>15&&(c=2,r-=16),s<1||s>L||n!==N||r<8||r>15||e<0||e>9||a<0||a>O)return i(t,P);8===r&&(r=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(2*F),this.dyn_dtree=new y.Buf16(2*(2*R+1)),this.bl_tree=new y.Buf16(2*(2*B+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(D+1),this.heap=new y.Buf16(2*I+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*I+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=u,u.strm=t,u.wrap=c,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=s+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+j-1)/j),u.window=new y.Buf8(2*u.w_size),u.head=new y.Buf16(u.hash_size),u.prev=new y.Buf16(u.w_size),u.lit_bufsize=1<<s+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new y.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,b(t)}var v,y=n(13),_=n(126),x=n(73),w=n(72),S=n(46),E=0,T=4,k=0,P=-2,M=-1,C=1,O=4,A=2,N=8,L=9,I=286,R=30,B=19,F=2*I+1,D=15,j=3,V=258,G=V+j+1,H=42,z=103,W=113,U=666,Y=1,X=2,K=3,q=4;v=[new p(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===E)return Y;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,a(t,!1),0===t.strm.avail_out))return Y;if(t.strstart-t.block_start>=t.w_size-G&&(a(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===T?(a(t,!0),0===t.strm.avail_out?K:q):(t.strstart>t.block_start&&(a(t,!1),t.strm.avail_out),Y)}),new p(4,4,8,4,f),new p(4,5,16,8,f),new p(4,6,32,32,f),new p(4,4,16,16,d),new p(8,16,32,32,d),new p(8,16,128,128,d),new p(8,32,128,256,d),new p(32,128,258,1024,d),new p(32,258,258,4096,d)],e.deflateInit=function(t,e){return g(t,e,N,15,8,0)},e.deflateInit2=g,e.deflateReset=b,e.deflateResetKeep=m,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?P:(t.state.gzhead=e,k):P},e.deflate=function(t,e){var n,l,f,d;if(!t||!t.state||e>5||e<0)return t?i(t,P):P;if(l=t.state,!t.output||!t.input&&0!==t.avail_in||l.status===U&&e!==T)return i(t,0===t.avail_out?-5:P);if(l.strm=t,n=l.last_flush,l.last_flush=e,l.status===H)if(2===l.wrap)t.adler=0,c(l,31),c(l,139),c(l,8),l.gzhead?(c(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),c(l,255&l.gzhead.time),c(l,l.gzhead.time>>8&255),c(l,l.gzhead.time>>16&255),c(l,l.gzhead.time>>24&255),c(l,9===l.level?2:l.strategy>=2||l.level<2?4:0),c(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(c(l,255&l.gzhead.extra.length),c(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(t.adler=w(t.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(c(l,0),c(l,0),c(l,0),c(l,0),c(l,0),c(l,9===l.level?2:l.strategy>=2||l.level<2?4:0),c(l,3),l.status=W);else{var p=N+(l.w_bits-8<<4)<<8;p|=(l.strategy>=2||l.level<2?0:l.level<6?1:6===l.level?2:3)<<6,0!==l.strstart&&(p|=32),p+=31-p%31,l.status=W,u(l,p),0!==l.strstart&&(u(l,t.adler>>>16),u(l,65535&t.adler)),t.adler=1}if(69===l.status)if(l.gzhead.extra){for(f=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>f&&(t.adler=w(t.adler,l.pending_buf,l.pending-f,f)),s(t),f=l.pending,l.pending!==l.pending_buf_size));)c(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>f&&(t.adler=w(t.adler,l.pending_buf,l.pending-f,f)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(73===l.status)if(l.gzhead.name){f=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>f&&(t.adler=w(t.adler,l.pending_buf,l.pending-f,f)),s(t),f=l.pending,l.pending===l.pending_buf_size)){d=1;break}d=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,c(l,d)}while(0!==d);l.gzhead.hcrc&&l.pending>f&&(t.adler=w(t.adler,l.pending_buf,l.pending-f,f)),0===d&&(l.gzindex=0,l.status=91)}else l.status=91;if(91===l.status)if(l.gzhead.comment){f=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>f&&(t.adler=w(t.adler,l.pending_buf,l.pending-f,f)),s(t),f=l.pending,l.pending===l.pending_buf_size)){d=1;break}d=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,c(l,d)}while(0!==d);l.gzhead.hcrc&&l.pending>f&&(t.adler=w(t.adler,l.pending_buf,l.pending-f,f)),0===d&&(l.status=z)}else l.status=z;if(l.status===z&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&s(t),l.pending+2<=l.pending_buf_size&&(c(l,255&t.adler),c(l,t.adler>>8&255),t.adler=0,l.status=W)):l.status=W),0!==l.pending){if(s(t),0===t.avail_out)return l.last_flush=-1,k}else if(0===t.avail_in&&r(e)<=r(n)&&e!==T)return i(t,-5);if(l.status===U&&0!==t.avail_in)return i(t,-5);if(0!==t.avail_in||0!==l.lookahead||e!==E&&l.status!==U){var m=2===l.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===E)return Y;break}if(t.match_length=0,n=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===T?(a(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?Y:X}(l,e):3===l.strategy?function(t,e){for(var n,i,r,o,s=t.window;;){if(t.lookahead<=V){if(h(t),t.lookahead<=V&&e===E)return Y;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=j&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=t.strstart+V;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=V-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=j?(n=_._tr_tally(t,1,t.match_length-j),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(a(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===T?(a(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?Y:X}(l,e):v[l.level].func(l,e);if(m!==K&&m!==q||(l.status=U),m===Y||m===K)return 0===t.avail_out&&(l.last_flush=-1),k;if(m===X&&(1===e?_._tr_align(l):5!==e&&(_._tr_stored_block(l,0,0,!1),3===e&&(o(l.head),0===l.lookahead&&(l.strstart=0,l.block_start=0,l.insert=0))),s(t),0===t.avail_out))return l.last_flush=-1,k}return e!==T?k:l.wrap<=0?1:(2===l.wrap?(c(l,255&t.adler),c(l,t.adler>>8&255),c(l,t.adler>>16&255),c(l,t.adler>>24&255),c(l,255&t.total_in),c(l,t.total_in>>8&255),c(l,t.total_in>>16&255),c(l,t.total_in>>24&255)):(u(l,t.adler>>>16),u(l,65535&t.adler)),s(t),l.wrap>0&&(l.wrap=-l.wrap),0!==l.pending?k:1)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==H&&69!==e&&73!==e&&91!==e&&e!==z&&e!==W&&e!==U?i(t,P):(t.state=null,e===W?i(t,-3):k):P},e.deflateSetDictionary=function(t,e){var n,i,r,s,a,c,u,l,f=e.length;if(!t||!t.state)return P;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==H||n.lookahead)return P;for(1===s&&(t.adler=x(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new y.Buf8(n.w_size),y.arraySet(l,e,f-n.w_size,n.w_size,0),e=l,f=n.w_size),a=t.avail_in,c=t.next_in,u=t.input,t.avail_in=f,t.next_in=0,t.input=e,h(n);n.lookahead>=j;){i=n.strstart,r=n.lookahead-(j-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+j-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=j-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=j-1,n.match_available=0,t.next_in=c,t.input=u,t.avail_in=a,n.wrap=s,k},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==h)throw new Error(c[n]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=o.deflateSetDictionary(this.strm,r))!==h)throw new Error(c[n]);this._dict_set=!0}}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}var o=n(127),s=n(13),a=n(71),c=n(46),u=n(70),l=Object.prototype.toString,h=0,f=-1,d=0,p=8;i.prototype.push=function(t,e){var n,i,r=this.strm,c=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=a.string2buf(t):"[object ArrayBuffer]"===l.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(c),r.next_out=0,r.avail_out=c),1!==(n=o.deflate(r,i))&&n!==h)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(a.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===i?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):2!==i||(this.onEnd(h),r.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=i,e.deflate=r,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},function(t,e,n){"use strict";var i={};(0,n(13).assign)(i,n(128),n(125),n(69)),t.exports=i},function(t,e,n){"use strict";function i(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=n(129),s=n(0),a=n(6),c=r?"uint8array":"array";e.magic="\b\0",s.inherits(i,a),i.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(c,t.data),!1)},i.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new i("Deflate",t)},e.uncompressWorker=function(){return new i("Inflate",{})}},function(t,e,n){"use strict";var i=n(74),r=n(120);e.generateWorker=function(t,e,n){var o=new r(e.streamFiles,n,e.platform,e.encodeFileName),s=0;try{t.forEach(function(t,n){s++;var r=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),a=n.options.compressionOptions||e.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:t,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=s}catch(t){o.error(t)}return o}},function(t,e,n){"use strict";var i=n(79),r=n(77),o=n(22),s=n(48),a=n(6),c=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};c.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&r&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new a("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)c.prototype[u[h]]=l;t.exports=c},function(t,e,n){"use strict";function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}var r=n(88).Readable;n(0).inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,"ConvertWorker to "+t),this.destType=t}var r=n(6),o=n(0);o.inherits(i,r),i.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},t.exports=i},function(t,e,n){"use strict";(function(e){function n(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}var i,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var s=0,a=new o(n),c=e.document.createTextNode("");a.observe(c,{characterData:!0}),i=function(){c.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var u=new e.MessageChannel;u.port1.onmessage=n,i=function(){u.port2.postMessage(0)}}var l=[];t.exports=function(t){1!==l.push(t)||r||i()}}).call(this,n(23))},function(t,e,n){"use strict";function i(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,t!==i&&c(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(t,e,n){l(function(){var i;try{i=e(n)}catch(e){return h.reject(t,e)}i===t?h.reject(t,new TypeError("Cannot resolve promise with itself")):h.resolve(t,i)})}function a(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function c(t,e){function n(e){r||(r=!0,h.reject(t,e))}function i(e){r||(r=!0,h.resolve(t,e))}var r=!1,o=u(function(){e(i,n)});"error"===o.status&&n(o.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}var l=n(135),h={},f=["REJECTED"],d=["FULFILLED"],p=["PENDING"];t.exports=r,r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===d||"function"!=typeof e&&this.state===f)return this;var n=new this.constructor(i);return this.state!==p?s(n,this.state===d?t:e,this.outcome):this.queue.push(new o(n,t,e)),n},o.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){h.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},h.resolve=function(t,e){var n=u(a,e);if("error"===n.status)return h.reject(t,n.value);var i=n.value;if(i)c(t,i);else{t.state=d,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},h.reject=function(t,e){t.state=f,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},r.resolve=function(t){return t instanceof this?t:h.resolve(new this(i),t)},r.reject=function(t){var e=new this(i);return h.reject(e,t)},r.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,a=-1,c=new this(i);++a<n;)!function(t,i){e.resolve(t).then(function(t){o[i]=t,++s!==n||r||(r=!0,h.resolve(c,o))},function(t){r||(r=!0,h.reject(c,t))})}(t[a],a);return c},r.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)a=t[o],e.resolve(a).then(function(t){r||(r=!0,h.resolve(s,t))},function(t){r||(r=!0,h.reject(s,t))});var a;return s}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){t.exports=n(39).document&&document.documentElement},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i,r,o,s=n(82),a=n(139),c=n(138),u=n(80),l=n(39),h=l.process,f=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,m=0,b={},g=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},v=function(t){g.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++m]=function(){a("function"==typeof t?t:Function(t),e)},i(m),m},d=function(t){delete b[t]},"process"==n(137)(h)?i=function(t){h.nextTick(s(g,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=v,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",v,!1)):i="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:f,clear:d}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(50);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=!n(49)&&!n(81)(function(){return 7!=Object.defineProperty(n(80)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(50);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(144),r=n(143),o=n(142),s=Object.defineProperty;e.f=n(49)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(145),r=n(141);t.exports=n(49)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(39),r=n(83),o=n(82),s=n(146),a=function(t,e,n){var c,u,l,h=t&a.F,f=t&a.G,d=t&a.S,p=t&a.P,m=t&a.B,b=t&a.W,g=f?r:r[e]||(r[e]={}),v=g.prototype,y=f?i:d?i[e]:(i[e]||{}).prototype;for(c in f&&(n=e),n)(u=!h&&y&&void 0!==y[c])&&c in g||(l=u?y[c]:n[c],g[c]=f&&"function"!=typeof y[c]?n[c]:m&&u?o(l,i):b&&y[c]==l?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):p&&"function"==typeof l?o(Function.call,l):l,p&&((g.virtual||(g.virtual={}))[c]=l,t&a.R&&v&&!v[c]&&s(v,c,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,n){var i=n(148),r=n(140);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){n(149),t.exports=n(83).setImmediate},function(t,e,n){t.exports=n(85)},function(t,e,n){t.exports=n(51)},function(t,e,n){t.exports=n(19)},function(t,e,n){t.exports=n(52)},function(t,e,n){function i(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return s(t,e,n)}var o=n(11),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(i(o,e),e.Buffer=r),i(s,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=s(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(23))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){delete h[t]}function r(t){if(f)setTimeout(r,0,t);else{var e=h[t];if(e){f=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{i(t),f=!1}}}}if(!t.setImmediate){var o,s,a,c,u,l=1,h={},f=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){r(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(c="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(c)&&r(+e.data.slice(c.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),o=function(e){t.postMessage(c+e,"*")}):t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){r(t.data)},o=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(s=d.documentElement,o=function(t){var e=d.createElement("script");e.onreadystatechange=function(){r(t),e.onreadystatechange=null,s.removeChild(e),e=null},s.appendChild(e)}):o=function(t){setTimeout(r,0,t)},p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return h[l]=i,o(l),l++},p.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(23),n(29))},function(t,e,n){(function(t){function i(t,e){this._id=t,this._clearFn=e}var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(157),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(23))},function(t,e){},function(t,e,n){var i=function(){try{return n(42)}catch(t){}}();(e=t.exports=n(87)).Stream=i||e,e.Readable=e,e.Writable=n(52),e.Duplex=n(19),e.Transform=n(51),e.PassThrough=n(85)},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?r-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=u}return(d?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,c,u=8*o-r-1,l=(1<<u)-1,h=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*m}},function(t,e,n){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function r(t,e,n){for(var i,r,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(o[(r=i)>>18&63]+o[r>>12&63]+o[r>>6&63]+o[63&r]);return s.join("")}e.byteLength=function(t){var e=i(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=i(t),r=n[0],o=n[1],c=new a(function(t,e,n){return 3*(e+n)/4-n}(0,r,o)),u=0,l=o>0?r-4:r,h=0;h<l;h+=4)e=s[t.charCodeAt(h)]<<18|s[t.charCodeAt(h+1)]<<12|s[t.charCodeAt(h+2)]<<6|s[t.charCodeAt(h+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===o&&(e=s[t.charCodeAt(h)]<<2|s[t.charCodeAt(h+1)]>>4,c[u++]=255&e),1===o&&(e=s[t.charCodeAt(h)]<<10|s[t.charCodeAt(h+1)]<<4|s[t.charCodeAt(h+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],a=0,c=n-i;a<c;a+=16383)s.push(r(t,a,a+16383>c?c:a+16383));return 1===i?(e=t[n-1],s.push(o[e>>2]+o[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),s.join("")};for(var o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=c.length;u<l;++u)o[u]=c[u],s[c.charCodeAt(u)]=u;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e,n){"use strict";function i(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var r=n(22),o=n(0),s=n(6),a=n(79),c=n(78),u=n(48),l=n(132),h=n(131),f=n(40),d=n(119),p=function(t,e,n){var i,r=o.getTypeOf(e),a=o.extend(n||{},c);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=b(t)),a.createFolders&&(i=m(t))&&g.call(this,i,!0);var h="string"===r&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!h),(e instanceof u&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",r="string");var p=null;p=e instanceof u||e instanceof s?e:f.isNode&&f.isStream(e)?new d(t,e):o.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var v=new l(t,p,a);this.files[t]=v},m=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},b=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:c.createFolders,t=b(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1===arguments.length){if(i(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,p.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=g.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=h.generateWorker(this,n,i)}catch(t){(e=new s("error")).error(t)}return new a(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=v},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=n(163),i.prototype.loadAsync=n(118),i.support=n(14),i.defaults=n(78),i.version="3.1.5",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(27),t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(111),r=n(54),o=n(164),s=function(){function t(){}return t.MXLtoIXmlElement=function(t){var e=new o;return e.loadAsync(t).then(function(t){return e.file("META-INF/container.xml").async("string")},function(t){throw t}).then(function(t){var n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("rootfile")[0].getAttribute("full-path");return e.file(n).async("string")},function(t){throw t}).then(function(t){var e=(new DOMParser).parseFromString(t,"text/xml"),n=new i.IXmlElement(e.documentElement);return r.Promise.resolve(n)},function(t){throw t}).then(function(t){return t},function(t){throw new Error("extractSheetFromMxl: "+t.message)})},t.MXLtoXMLstring=function(t){var e=new o;return e.loadAsync(t).then(function(t){return e.file("META-INF/container.xml").async("string")},function(t){throw t}).then(function(t){var n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("rootfile")[0].getAttribute("full-path");return e.file(n).async("string")},function(t){throw t})},t}();e.MXLHelper=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.hidden=!0,this.container=t,this.openSheetMusicDisplay=e;var n=document.createElement("img");n.style.position="absolute",n.style.zIndex="-1",this.cursorElement=n,this.container.appendChild(n)}return t.prototype.init=function(t,e){this.manager=t,this.reset(),this.graphic=e,this.hidden=!0,this.hide()},t.prototype.show=function(){this.hidden=!1,this.update()},t.prototype.update=function(){if(!this.hidden){this.graphic.Cursors.length=0;var t=this.iterator;if(!t.EndReached&&void 0!==t.CurrentVoiceEntries&&0!==t.CurrentVoiceEntries.length){var e,n,i,r=t.CurrentVoiceEntries[0],o=r.ParentSourceStaffEntry.VerticalContainerParent.ParentMeasure.measureListIndex,s=r.ParentSourceStaffEntry.ParentStaff.idInMusicSheet,a=this.graphic.findGraphicalStaffEntryFromMeasureList(s,o,r.ParentSourceStaffEntry);e=a.PositionAndShape.AbsolutePosition.x;var c=a.parentMeasure.parentMusicSystem;n=c.PositionAndShape.AbsolutePosition.y+c.StaffLines[0].PositionAndShape.RelativePosition.y,i=c.PositionAndShape.AbsolutePosition.y+c.StaffLines[c.StaffLines.length-1].PositionAndShape.RelativePosition.y+4-n;var u=this.cursorElement;u.style.top=10*n*this.openSheetMusicDisplay.zoom+"px",u.style.left=10*(e-1.5)*this.openSheetMusicDisplay.zoom+"px",u.height=10*i*this.openSheetMusicDisplay.zoom;var l=30*this.openSheetMusicDisplay.zoom;l!==u.width&&(u.width=l,this.updateStyle(l)),this.cursorElement.style.display=""}}},t.prototype.hide=function(){this.cursorElement.style.display="none",this.hidden=!0},t.prototype.next=function(){this.iterator.moveToNext(),this.hidden||this.show()},t.prototype.reset=function(){this.iterator=this.manager.getIterator(),this.iterator.moveToNext(),this.update()},t.prototype.updateStyle=function(t,e){void 0===e&&(e="#33e02f");var n=document.createElement("canvas");n.width=this.cursorElement.width,n.height=1;var i=n.getContext("2d");i.globalAlpha=.5;var r=i.createLinearGradient(0,0,this.cursorElement.width,0);r.addColorStop(0,"white"),r.addColorStop(.2,e),r.addColorStop(.8,e),r.addColorStop(1,"white"),i.fillStyle=r,i.fillRect(0,0,t,1),this.cursorElement.src=n.toDataURL("image/png")},t}();e.Cursor=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),s=n(90),a=n(25),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getBackendType=function(){return o.Flow.Renderer.Backends.CANVAS},e.prototype.initialize=function(t){this.canvas=document.createElement("canvas"),this.inner=document.createElement("div"),this.inner.style.position="relative",this.canvas.style.zIndex="0",this.inner.appendChild(this.canvas),t.appendChild(this.inner),this.renderer=new o.Flow.Renderer(this.canvas,this.getBackendType()),this.ctx=this.renderer.getContext(),this.canvasRenderingCtx=this.ctx.vexFlowCanvasContext},e.prototype.getContext=function(){return this.ctx},e.prototype.clear=function(){},e.prototype.scale=function(t){this.ctx.scale(t,t)},e.prototype.translate=function(t,e){this.canvasRenderingCtx.translate(t,e)},e.prototype.renderText=function(t,e,n,i,r,o){var s=this.canvasRenderingCtx.font;this.canvasRenderingCtx.font=a.VexFlowConverter.font(t,e,n),this.canvasRenderingCtx.fillText(i,o.x,o.y+r),this.canvasRenderingCtx.font=s},e.prototype.renderRectangle=function(t,e,n){void 0===n&&(n=1);var i=this.canvasRenderingCtx.fillStyle;this.canvasRenderingCtx.fillStyle=a.VexFlowConverter.style(e),this.canvasRenderingCtx.globalAlpha=n,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.canvasRenderingCtx.fillStyle=i,this.canvasRenderingCtx.globalAlpha=1},e}(s.VexFlowBackend);e.CanvasVexFlowBackend=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),s=n(90),a=n(25),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getBackendType=function(){return o.Flow.Renderer.Backends.SVG},e.prototype.initialize=function(t){this.canvas=document.createElement("div"),this.inner=this.canvas,this.inner.style.position="relative",this.canvas.style.zIndex="0",t.appendChild(this.inner),this.renderer=new o.Flow.Renderer(this.canvas,this.getBackendType()),this.ctx=this.renderer.getContext()},e.prototype.getContext=function(){return this.ctx},e.prototype.clear=function(){var t=this.ctx.svg;if(t)for(;t.lastChild;)t.removeChild(t.lastChild)},e.prototype.scale=function(t){this.ctx.scale(t,t)},e.prototype.translate=function(t,e){},e.prototype.renderText=function(t,e,n,i,r,o){this.ctx.save(),this.ctx.setFont("Times New Roman",t,a.VexFlowConverter.fontStyle(e)),this.ctx.attributes["font-size"]=t+"px",this.ctx.state["font-size"]=t+"px",this.ctx.fillText(i,o.x,o.y+r),this.ctx.restore()},e.prototype.renderRectangle=function(t,e,n){void 0===n&&(n=1),this.ctx.save(),this.ctx.attributes.fill=a.VexFlowConverter.style(e),this.ctx.attributes["fill-opacity"]=n,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.restore(),this.ctx.attributes["fill-opacity"]=1},e}(s.VexFlowBackend);e.SvgVexFlowBackend=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),r=n(24),o=n(18),s=function(){function t(){this.repetitionInstructions=[]}return t.prototype.calculateRepetitions=function(t,e){this.musicSheet=t,this.repetitionInstructions=e;for(var n=this.musicSheet.SourceMeasures,i=0,o=this.repetitionInstructions.length;i<o;++i){var s=this.repetitionInstructions[i];this.currentMeasureIndex=s.measureIndex,this.currentMeasure=n[this.currentMeasureIndex],this.handleRepetitionInstructions(s)}for(i=0,o=this.musicSheet.SourceMeasures.length;i<o;++i){var a=this.musicSheet.SourceMeasures[i];a.FirstRepetitionInstructions.length>1&&a.FirstRepetitionInstructions.sort(r.RepetitionInstructionComparer.Compare),a.LastRepetitionInstructions.length>1&&a.LastRepetitionInstructions.sort(r.RepetitionInstructionComparer.Compare)}},t.prototype.handleRepetitionInstructions=function(t){switch(t.type){case i.RepetitionInstructionEnum.StartLine:this.currentMeasure.FirstRepetitionInstructions.push(t);break;case i.RepetitionInstructionEnum.BackJumpLine:this.currentMeasure.LastRepetitionInstructions.push(t);break;case i.RepetitionInstructionEnum.Ending:if(t.alignment===i.AlignmentType.Begin)this.currentMeasure.FirstRepetitionInstructions.push(t);else for(var e=0,n=t.endingIndices.length;e<n;++e)this.currentMeasure.LastRepetitionInstructions.push(t);break;case i.RepetitionInstructionEnum.Segno:this.currentMeasure.FirstRepetitionInstructions.push(t);break;case i.RepetitionInstructionEnum.Fine:case i.RepetitionInstructionEnum.ToCoda:case i.RepetitionInstructionEnum.Coda:case i.RepetitionInstructionEnum.DaCapo:case i.RepetitionInstructionEnum.DalSegno:case i.RepetitionInstructionEnum.DalSegnoAlFine:case i.RepetitionInstructionEnum.DaCapoAlFine:case i.RepetitionInstructionEnum.DalSegnoAlCoda:case i.RepetitionInstructionEnum.DaCapoAlCoda:this.currentMeasure.LastRepetitionInstructions.push(t);break;case i.RepetitionInstructionEnum.None:break;default:throw new o.ArgumentOutOfRangeException("currentRepetitionInstruction")}return!0},t}();e.RepetitionCalculator=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.StringContainsSeparatedWord=function(t,e){return t===e||-1!==t.search(" "+e)||-1!==t.search(e+" ")||-1!==t.search(e+".")},t}();e.StringUtil=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),r=n(24),o=n(170),s=function(){function t(){}return Object.defineProperty(t.prototype,"MusicSheet",{set:function(t){this.musicSheet=t,this.xmlMeasureList=new Array(this.musicSheet.Instruments.length),this.repetitionInstructions=[]},enumerable:!0,configurable:!0}),t.prototype.prepareReadingMeasure=function(t,e){this.currentMeasureIndex=e},t.prototype.handleLineRepetitionInstructions=function(t,e){if(t.elements().length>0){var n="",r=!1,o="",s="",a="",c=[],u=t.element("bar-style");void 0!==u&&(a=u.value),n=t.attributes().length>0&&void 0!==t.attribute("location")?t.attribute("location").value:"right";for(var l=t.elements(),h=0,f=l.length;h<f;++h){var d=l[h];if("repeat"===d.name&&d.hasAttributes)r=!0,o=d.attribute("direction").value;else if("ending"===d.name&&d.hasAttributes&&void 0!==d.attribute("type")&&void 0!==d.attribute("number")){s=d.attribute("type").value;for(var p=d.attribute("number").value.split("[,+]"),m=0,b=p.length;m<b;++m){var g=p[m],v=g.match("[0-9]");if(-1!==g.search("-")&&2===v.length)for(var y=parseInt(v[0],10),_=parseInt(v[1],10),x=y;x<=_;x++)c.push(x);else for(var w=0,S=v.length;w<S;++w)x=v[w],c.push(parseInt(x,10))}}}if("light-heavy"!==a||c.length,r||c.length>0)if("left"===n){if("start"===s){var E=new i.RepetitionInstruction(this.currentMeasureIndex,i.RepetitionInstructionEnum.Ending,i.AlignmentType.Begin,void 0,c);this.addInstruction(this.repetitionInstructions,E)}"forward"===o&&(E=new i.RepetitionInstruction(this.currentMeasureIndex,i.RepetitionInstructionEnum.StartLine),this.addInstruction(this.repetitionInstructions,E))}else"stop"!==s&&"discontinue"!==s||(E=new i.RepetitionInstruction(this.currentMeasureIndex,i.RepetitionInstructionEnum.Ending,i.AlignmentType.End,void 0,c),this.addInstruction(this.repetitionInstructions,E)),"backward"===o&&(E=new i.RepetitionInstruction(this.currentMeasureIndex,i.RepetitionInstructionEnum.BackJumpLine),this.addInstruction(this.repetitionInstructions,E))}},t.prototype.handleRepetitionInstructionsFromWordsOrSymbols=function(t,e){var n=t.element("words");if(void 0!==n){var r=n.value.trim().toLowerCase();if(o.StringUtil.StringContainsSeparatedWord(r,"d.s. al fine")||o.StringUtil.StringContainsSeparatedWord(r,"d. s. al fine")){var s=this.currentMeasureIndex;e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&s--;var a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.DalSegnoAlFine);return this.addInstruction(this.repetitionInstructions,a),!0}if(o.StringUtil.StringContainsSeparatedWord(r,"d.s. al coda")||o.StringUtil.StringContainsSeparatedWord(r,"d. s. al coda"))return s=this.currentMeasureIndex,e<.5&&s--,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.DalSegnoAlCoda),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"d.c. al fine")||o.StringUtil.StringContainsSeparatedWord(r,"d. c. al fine"))return s=this.currentMeasureIndex,e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&s--,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.DaCapoAlFine),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"d.c. al coda")||o.StringUtil.StringContainsSeparatedWord(r,"d. c. al coda"))return s=this.currentMeasureIndex,e<.5&&s--,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.DaCapoAlCoda),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"d.c.")||o.StringUtil.StringContainsSeparatedWord(r,"d. c.")||o.StringUtil.StringContainsSeparatedWord(r,"dacapo")||o.StringUtil.StringContainsSeparatedWord(r,"da capo"))return s=this.currentMeasureIndex,e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&s--,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.DaCapo),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"d.s.")||o.StringUtil.StringContainsSeparatedWord(r,"d. s.")||o.StringUtil.StringContainsSeparatedWord(r,"dalsegno")||o.StringUtil.StringContainsSeparatedWord(r,"dal segno"))return s=this.currentMeasureIndex,e<.5&&this.currentMeasureIndex<this.xmlMeasureList[0].length-1&&s--,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.DalSegno),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"tocoda")||o.StringUtil.StringContainsSeparatedWord(r,"to coda")||o.StringUtil.StringContainsSeparatedWord(r,"a coda")||o.StringUtil.StringContainsSeparatedWord(r,"a la coda"))return s=this.currentMeasureIndex,e<.5&&s--,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.ToCoda),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"fine"))return s=this.currentMeasureIndex,e<.5&&s--,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.Fine),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"coda"))return s=this.currentMeasureIndex,e>.5&&s++,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.Coda),this.addInstruction(this.repetitionInstructions,a),!0;if(o.StringUtil.StringContainsSeparatedWord(r,"segno"))return s=this.currentMeasureIndex,e>.5&&s++,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.Segno),this.addInstruction(this.repetitionInstructions,a),!0}else{if(void 0!==t.element("segno"))return s=this.currentMeasureIndex,e>.5&&s++,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.Segno),this.addInstruction(this.repetitionInstructions,a),!0;if(void 0!==t.element("coda"))return s=this.currentMeasureIndex,e>.5&&s++,a=new i.RepetitionInstruction(s,i.RepetitionInstructionEnum.Coda),this.addInstruction(this.repetitionInstructions,a),!0}return!1},t.prototype.removeRedundantInstructions=function(){for(var t=0,e=0,n=0,o=0,s=0;s<this.repetitionInstructions.length;s++){var a=this.repetitionInstructions[s];switch(a.type){case i.RepetitionInstructionEnum.Coda:n>0&&this.findInstructionInPreviousMeasure(s,a.measureIndex,i.RepetitionInstructionEnum.ToCoda)&&(a.type=i.RepetitionInstructionEnum.None),0===e&&0===n&&(a.type=i.RepetitionInstructionEnum.ToCoda,a.alignment=i.AlignmentType.End,a.measureIndex--);break;case i.RepetitionInstructionEnum.Segno:if(t-o>0){for(var c=!1,u=0,l=this.repetitionInstructions.length;u<l;++u){var h=this.repetitionInstructions[u];if(a.measureIndex-h.measureIndex==1)switch(h.type){case i.RepetitionInstructionEnum.BackJumpLine:h.type=n-e>0?i.RepetitionInstructionEnum.DalSegnoAlCoda:i.RepetitionInstructionEnum.DalSegno,a.type=i.RepetitionInstructionEnum.None,c=!0;break;case i.RepetitionInstructionEnum.DalSegno:case i.RepetitionInstructionEnum.DalSegnoAlFine:case i.RepetitionInstructionEnum.DalSegnoAlCoda:a.type=i.RepetitionInstructionEnum.None,c=!0}if(c)break}if(c)break;a.type=n-e>0?i.RepetitionInstructionEnum.DalSegnoAlCoda:i.RepetitionInstructionEnum.DalSegno,a.alignment=i.AlignmentType.End,a.measureIndex--}}if(this.backwardSearchForPreviousIdenticalInstruction(s,a)||a.type===i.RepetitionInstructionEnum.None)this.repetitionInstructions.splice(s,1),s--;else switch(a.type){case i.RepetitionInstructionEnum.Fine:break;case i.RepetitionInstructionEnum.ToCoda:n++;break;case i.RepetitionInstructionEnum.Coda:e++;break;case i.RepetitionInstructionEnum.Segno:t++;break;case i.RepetitionInstructionEnum.DalSegnoAlFine:case i.RepetitionInstructionEnum.DalSegnoAlCoda:o++}}this.repetitionInstructions.sort(r.RepetitionInstructionComparer.Compare)},t.prototype.findInstructionInPreviousMeasure=function(t,e,n){for(var i=t-1;i>=0;i--){var r=this.repetitionInstructions[i];if(e-r.measureIndex==1&&r.type===n)return!0}return!1},t.prototype.backwardSearchForPreviousIdenticalInstruction=function(t,e){for(var n=t-1;n>=0;n--)if(this.repetitionInstructions[n].equals(e))return!0;return!1},t.prototype.addInstruction=function(t,e){for(var n=!0,i=0,r=t.length;i<r;++i){var o=t[i];if(e.equals(o)){n=!1;break}}n&&t.push(e)},t}();e.RepetitionInstructionReader=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(171),r=n(169),o=function(){function t(){}return t.createRepetitionInstructionReader=function(){return new i.RepetitionInstructionReader},t.createRepetitionCalculator=function(){return new r.RepetitionCalculator},t}();e.MusicSymbolModuleFactory=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(3),o=function(){function t(e){this.parentInstrument=e,this.fixedKey=-1,this.name=this.parseMidiInstrument(this.parentInstrument.Name),this.midiInstrumentID=t.midiInstrument[this.name],this.volume=1}return Object.defineProperty(t.prototype,"ParentInstrument",{get:function(){return this.parentInstrument},enumerable:!0,configurable:!0}),t.isPianoInstrument=function(t){return t===i.MidiInstrument.Acoustic_Grand_Piano||t===i.MidiInstrument.Bright_Acoustic_Piano||t===i.MidiInstrument.Electric_Grand_Piano||t===i.MidiInstrument.Electric_Piano_1||t===i.MidiInstrument.Electric_Piano_2},t.prototype.setMidiInstrument=function(e){this.midiInstrumentID=t.midiInstrument[this.parseMidiInstrument(e)]},t.prototype.parseMidiInstrument=function(e){try{if(e){var n=e.toLowerCase().trim();for(var i in t.midiInstrument)if(-1!==n.indexOf(i))return i}if(this.parentInstrument.Name){n=this.parentInstrument.Name.toLowerCase().trim();for(var i in t.midiInstrument)if(-1!==n.indexOf(i))return i}}catch(t){r.Logging.error("Error parsing MIDI Instrument. Default to Grand Piano.")}return"unnamed"},t.midiInstrument={alt:i.MidiInstrument.Synth_Voice,alto:i.MidiInstrument.Synth_Voice,banjo:i.MidiInstrument.Banjo,bariton:i.MidiInstrument.Synth_Voice,baritone:i.MidiInstrument.Synth_Voice,bass:i.MidiInstrument.Synth_Voice,"blockfl\xf6te":i.MidiInstrument.Recorder,brass:i.MidiInstrument.Trombone,bratsche:i.MidiInstrument.Viola,cello:i.MidiInstrument.Cello,clarinet:i.MidiInstrument.Clarinet,contrabass:i.MidiInstrument.Contrabass,drums:i.MidiInstrument.Percussion,flute:i.MidiInstrument.Flute,"fl\xf6te":i.MidiInstrument.Flute,frenchhorn:i.MidiInstrument.French_Horn,gitarre:i.MidiInstrument.Acoustic_Guitar_nylon,guitar:i.MidiInstrument.Acoustic_Guitar_nylon,harfe:i.MidiInstrument.Orchestral_Harp,harp:i.MidiInstrument.Orchestral_Harp,klarinette:i.MidiInstrument.Clarinet,klavier:i.MidiInstrument.Acoustic_Grand_Piano,kontrabass:i.MidiInstrument.Contrabass,oboe:i.MidiInstrument.Oboe,organ:i.MidiInstrument.Church_Organ,orgel:i.MidiInstrument.Church_Organ,orgue:i.MidiInstrument.Church_Organ,percussion:i.MidiInstrument.Percussion,piano:i.MidiInstrument.Acoustic_Grand_Piano,piccolo:i.MidiInstrument.Piccolo,posaune:i.MidiInstrument.Trombone,recorder:i.MidiInstrument.Recorder,sax:i.MidiInstrument.Tenor_Sax,schlagwerk:i.MidiInstrument.Percussion,schlagzeug:i.MidiInstrument.Percussion,sopran:i.MidiInstrument.Synth_Voice,steeldrum:i.MidiInstrument.Steel_Drums,streicher:i.MidiInstrument.String_Ensemble_1,strings:i.MidiInstrument.String_Ensemble_1,tenor:i.MidiInstrument.Synth_Voice,tpt:i.MidiInstrument.Trumpet,trombone:i.MidiInstrument.Trombone,trompete:i.MidiInstrument.Trumpet,trumpet:i.MidiInstrument.Trumpet,tuba:i.MidiInstrument.Tuba,unnamed:i.MidiInstrument.Acoustic_Grand_Piano,viola:i.MidiInstrument.Viola,violin:i.MidiInstrument.Violin,"violon-c":i.MidiInstrument.Cello,"violon.":i.MidiInstrument.Violin,voice:i.MidiInstrument.Synth_Voice,woodblock:i.MidiInstrument.Woodblock},t}();e.SubInstrument=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(95),r=n(2),o=n(30),s=n(55),a=function(){function t(){}return t.readChordSymbol=function(t,e,n){var a=t.element("root"),c=t.element("kind");if(void 0!==a&&void 0!==c){var u=a.element("root-step"),l=a.element("root-alter");if(void 0!==u){var h;try{h=r.NoteEnum[u.value.trim()]}catch(t){var f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol");return e.SheetErrors.pushMeasureError(f),void s.debug("InstrumentReader.readChordSymbol",f,t)}var d=r.AccidentalEnum.NONE;if(void 0!==l)try{d=parseInt(l.value,void 0)}catch(t){f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol"),e.SheetErrors.pushMeasureError(f),s.debug("InstrumentReader.readChordSymbol",f,t)}var p,m=new r.Pitch(h,1,d),b=c.value.trim().replace("-","");try{p=i.ChordSymbolEnum[b]}catch(t){return f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol"),e.SheetErrors.pushMeasureError(f),void s.debug("InstrumentReader.readChordSymbol",f,t)}var g=void 0,v=t.element("bass");if(void 0!==v){var y=v.element("bass-step"),_=v.element("bass-alter"),x=r.NoteEnum.C;if(void 0!==y)try{x=r.NoteEnum[y.value.trim()]}catch(t){return f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol"),e.SheetErrors.pushMeasureError(f),void s.debug("InstrumentReader.readChordSymbol",f,t)}var w=r.AccidentalEnum.NONE;if(void 0!==_)try{w=parseInt(_.value,void 0)}catch(t){f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol"),e.SheetErrors.pushMeasureError(f),s.debug("InstrumentReader.readChordSymbol",f,t)}g=new r.Pitch(x,1,w)}var S=void 0,E=t.element("degree");if(void 0!==E){var T=E.element("degree-value"),k=E.element("degree-alter"),P=E.element("degree-type");if(void 0===T||void 0===k||void 0===P)return;var M=void 0;try{M=parseInt(T.value.trim(),void 0)}catch(t){return f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol"),e.SheetErrors.pushMeasureError(f),void s.debug("InstrumentReader.readChordSymbol",f,t)}var C=void 0;try{C=parseInt(k.value,void 0)}catch(t){return f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol"),e.SheetErrors.pushMeasureError(f),void s.debug("InstrumentReader.readChordSymbol",f,t)}var O=void 0;try{O=i.ChordDegreeText[P.value.trim().toLowerCase()]}catch(t){return f=o.ITextTranslation.translateText("ReaderErrorMessages/ChordSymbolError","Invalid chord symbol"),e.SheetErrors.pushMeasureError(f),void s.debug("InstrumentReader.readChordSymbol",f,t)}S=new i.Degree(M,C,O)}return new i.ChordSymbolContainer(m,p,g,S,n)}}},t}();e.ChordSymbolReader=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Fingering=0]="Fingering"}(e.TechnicalInstructionType||(e.TechnicalInstructionType={}));var i=function(){return function(){}}();e.TechnicalInstruction=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),r=n(55),o=n(175),s=n(103),a=n(56),c=n(2),u=function(){function t(){}return t.prototype.getAccEnumFromString=function(t){switch(t){case"natural":return c.AccidentalEnum.NATURAL;case"sharp":return c.AccidentalEnum.SHARP;case"sharp-sharp":case"double-sharp":return c.AccidentalEnum.DOUBLESHARP;case"flat":return c.AccidentalEnum.FLAT;case"flat-flat":return c.AccidentalEnum.DOUBLEFLAT;default:return c.AccidentalEnum.NONE}},t.prototype.addArticulationExpression=function(t,e){if(void 0!==t&&t.elements().length>0)for(var n=t.elements(),o=0,s=n.length;o<s;++o){var a=n[o].name;try{a.replace("-","");var c=i.ArticulationEnum[a];i.VoiceEntry.isSupportedArticulation(c)&&("staccato"===a&&e.Articulations.length>0&&e.Articulations[0]!==i.ArticulationEnum.staccato&&e.Articulations.splice(0,0,c),-1===e.Articulations.indexOf(c)&&e.Articulations.push(c))}catch(t){return void r.debug("addArticulationExpression","Invalid note articulation.",t)}}},t.prototype.addFermata=function(t,e){var n=i.ArticulationEnum.fermata;t.attributes().length>0&&void 0!==t.attribute("type")&&"inverted"===t.attribute("type").value&&(n=i.ArticulationEnum.invertedfermata),e.Articulations.push(n)},t.prototype.addTechnicalArticulations=function(t,e){var n=t.element("up-bow");if(void 0!==n&&-1===e.Articulations.indexOf(i.ArticulationEnum.upbow)&&e.Articulations.push(i.ArticulationEnum.upbow),void 0!==(n=t.element("down-bow"))&&-1===e.Articulations.indexOf(i.ArticulationEnum.downbow)&&e.Articulations.push(i.ArticulationEnum.downbow),void 0!==(n=t.element("open-string"))&&-1===e.Articulations.indexOf(i.ArticulationEnum.naturalharmonic)&&e.Articulations.push(i.ArticulationEnum.naturalharmonic),void 0!==(n=t.element("stopped"))&&-1===e.Articulations.indexOf(i.ArticulationEnum.lefthandpizzicato)&&e.Articulations.push(i.ArticulationEnum.lefthandpizzicato),void 0!==(n=t.element("snap-pizzicato"))&&-1===e.Articulations.indexOf(i.ArticulationEnum.snappizzicato)&&e.Articulations.push(i.ArticulationEnum.snappizzicato),void 0!==(n=t.element("fingering"))){var r=new o.TechnicalInstruction;r.type=o.TechnicalInstructionType.Fingering,r.value=n.value,e.TechnicalInstructions.push(r)}},t.prototype.addOrnament=function(t,e){if(void 0!==t){var n=void 0,i=t.element("trill-mark");if(void 0!==i&&(n=new s.OrnamentContainer(s.OrnamentEnum.Trill)),void 0!==(i=t.element("turn"))&&(n=new s.OrnamentContainer(s.OrnamentEnum.Turn)),void 0!==(i=t.element("inverted-turn"))&&(n=new s.OrnamentContainer(s.OrnamentEnum.InvertedTurn)),void 0!==(i=t.element("delayed-turn"))&&(n=new s.OrnamentContainer(s.OrnamentEnum.DelayedTurn)),void 0!==(i=t.element("delayed-inverted-turn"))&&(n=new s.OrnamentContainer(s.OrnamentEnum.DelayedInvertedTurn)),void 0!==(i=t.element("mordent"))&&(n=new s.OrnamentContainer(s.OrnamentEnum.Mordent)),void 0!==(i=t.element("inverted-mordent"))&&(n=new s.OrnamentContainer(s.OrnamentEnum.InvertedMordent)),void 0!==n){var r=t.elements("accidental-mark");if(void 0!==r)for(var o=a.PlacementEnum.Below,u=c.AccidentalEnum.NONE,l=r,h=0,f=l.length;h<f;++h){var d=l[h],p=d.value;u=this.getAccEnumFromString(p);var m=d.attribute("placement");d.hasAttributes&&void 0!==m&&("above"===(p=m.value)?o=a.PlacementEnum.Above:"below"===p&&(o=a.PlacementEnum.Below)),o===a.PlacementEnum.Above?n.AccidentalAbove=u:o===a.PlacementEnum.Below&&(n.AccidentalBelow=u)}e.OrnamentContainer=n}}},t}();e.ArticulationReader=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.linkStaffEntries=[],this.voiceEntry=t}return Object.defineProperty(t.prototype,"GetVoiceEntry",{get:function(){return this.voiceEntry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LinkStaffEntries",{get:function(){return this.linkStaffEntries},set:function(t){this.linkStaffEntries=t},enumerable:!0,configurable:!0}),t}();e.StaffEntryLink=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i){this.text=t,this.word=n,this.parent=i,this.verseNumber=e}return Object.defineProperty(t.prototype,"Text",{get:function(){return this.text},set:function(t){this.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Word",{get:function(){return this.word},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VerseNumber",{get:function(){return this.verseNumber},enumerable:!0,configurable:!0}),t}();e.LyricsEntry=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.syllables=[]}return Object.defineProperty(t.prototype,"Syllables",{get:function(){return this.syllables},enumerable:!0,configurable:!0}),t.prototype.containsVoiceEntry=function(t){for(var e=0,n=this.Syllables.length;e<n;++e)if(this.Syllables[e].Parent===t)return!0;return!1},t.prototype.findLyricEntryInVoiceEntry=function(t){for(var e=0,n=this.Syllables.length;e<n;++e){var i=this.Syllables[e];if(i.Parent===t)return i}},t}();e.LyricWord=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(179),r=n(178),o=n(30),s=function(){function t(t){this.openLyricWords={},this.musicSheet=t}return t.prototype.addLyricEntry=function(t,e){if(void 0!==t){for(var n=t,s=0,a=n.length;s<a;++s){var c=n[s];try{var u="single";if(void 0!==c.element("text")){var l=c.element("text");if(void 0!==c.element("syllabic")&&(u=c.element("syllabic").value),void 0!==l){var h=l.value;if(void 0!==c.element("elision")&&"-"===h){for(var f=c.elements(),d=0,p=0;p<f.length;p++)if("elision"===(g=f[p]).name){d=p;break}var m=void 0,b=void 0;if(d>0)for(p=d;p<f.length;p++){var g;"text"===(g=f[p]).name&&(m=g),"syllabic"===g.name&&(b=g)}void 0!==m&&void 0!==b&&(l=m,u="middle")}var v=1;if(void 0!==c.attributes()&&void 0!==c.attribute("number"))try{v=parseInt(c.attribute("number").value,10)}catch(t){try{var y=c.attribute("number").value.toLowerCase().split("verse");y.length>1&&(v=parseInt(y[1],10))}catch(t){var _=o.ITextTranslation.translateText("ReaderErrorMessages/LyricVerseNumberError","Invalid lyric verse number");this.musicSheet.SheetErrors.pushMeasureError(_);continue}}var x=void 0;"single"===u||"end"===u?(void 0!==this.openLyricWords[v]?(this.currentLyricWord=this.openLyricWords[v],x=new r.LyricsEntry(h,v,this.currentLyricWord,e),this.currentLyricWord.Syllables.push(x),delete this.openLyricWords[v],this.currentLyricWord=void 0):x=new r.LyricsEntry(h,v,void 0,e),x.extend=void 0!==c.element("extend")):"begin"===u?(void 0!==this.openLyricWords[v]&&(delete this.openLyricWords[v],this.currentLyricWord=void 0),this.currentLyricWord=new i.LyricWord,this.openLyricWords[v]=this.currentLyricWord,x=new r.LyricsEntry(h,v,this.currentLyricWord,e),this.currentLyricWord.Syllables.push(x)):"middle"===u&&(void 0!==this.openLyricWords[v]?(this.currentLyricWord=this.openLyricWords[v],x=new r.LyricsEntry(h,v,this.currentLyricWord,e),this.currentLyricWord.Syllables.push(x)):x=new r.LyricsEntry(h,v,void 0,e)),void 0!==x&&(void 0!==!e.LyricsEntries[v]&&e.LyricsEntries.setValue(v,x),void 0!==!e.ParentVoice.Parent.LyricVersesNumbers[v]&&e.ParentVoice.Parent.LyricVersesNumbers.push(v))}}}catch(t){_=o.ITextTranslation.translateText("ReaderErrorMessages/LyricError","Error while reading lyric entry."),this.musicSheet.SheetErrors.pushMeasureError(_);continue}}e.ParentVoice.Parent.LyricVersesNumbers=e.ParentVoice.Parent.LyricVersesNumbers.filter(function(t,e,n){return n.indexOf(t)===e})}},t}();e.LyricsReader=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.notes=[],this.fractions=[],this.tupletLabelNumber=t}return Object.defineProperty(t.prototype,"TupletLabelNumber",{get:function(){return this.tupletLabelNumber},set:function(t){this.tupletLabelNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Notes",{get:function(){return this.notes},set:function(t){this.notes=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Fractions",{get:function(){return this.fractions},set:function(t){this.fractions=t},enumerable:!0,configurable:!0}),t.prototype.getNoteIndex=function(t){for(var e=this.notes.length-1;e>=0;e--)for(var n=0;n<this.notes[e].length;n++)if(t===this.notes[e][n])return e;return 0},t}();e.Tuplet=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this)||this;return n.fractions=[],n.noteHasBeenCreated=[],n.start=e,n}return r(e,t),Object.defineProperty(e.prototype,"Start",{get:function(){return this.start},set:function(t){this.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TieBeam",{get:function(){return this.tieBeam},set:function(t){this.tieBeam=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BeamStartTimestamp",{get:function(){return this.beamStartTimestamp},set:function(t){this.beamStartTimestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TieTuplet",{get:function(){return this.tieTuplet},set:function(t){this.tieTuplet=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Fractions",{get:function(){return this.fractions},set:function(t){this.fractions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NoteHasBeenCreated",{get:function(){return this.noteHasBeenCreated},set:function(t){this.noteHasBeenCreated=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BaseNoteYPosition",{get:function(){return this.baseNoteYPosition},set:function(t){this.baseNoteYPosition=t},enumerable:!0,configurable:!0}),e.prototype.initializeBoolList=function(){this.noteHasBeenCreated=new Array(this.fractions.length)},e.prototype.allGraphicalNotesHaveBeenCreated=function(){for(var t=0,e=this.noteHasBeenCreated;t<e.length;t++)if(!e[t])return!1;return!0},e}(n(92).BaseIdClass);e.Tie=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.notes=[],this.extendedNoteList=[]}return Object.defineProperty(t.prototype,"Notes",{get:function(){return this.notes},set:function(t){this.notes=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ExtendedNoteList",{get:function(){return this.extendedNoteList},set:function(t){this.extendedNoteList=t},enumerable:!0,configurable:!0}),t.prototype.addNoteToBeam=function(t){void 0!==t&&(t.NoteBeam=this,this.notes.push(t),this.extendedNoteList.push(t))},t}();e.Beam=i,function(t){t[t.BeamNone=-1]="BeamNone",t[t.BeamBegin=0]="BeamBegin",t[t.BeamContinue=1]="BeamContinue",t[t.BeamEnd=2]="BeamEnd",t[t.BeamForward=3]="BeamForward",t[t.BeamBackward=4]="BeamBackward"}(e.BeamEnum||(e.BeamEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(101),r=n(57),o=n(17),s=n(60),a=n(33),c=n(183),u=n(182),l=n(181),h=n(1),f=n(30),d=n(17),p=n(180),m=n(18),b=n(2),g=n(2),v=n(177),y=n(3),_=n(2),x=n(35),w=n(176),S=function(){function t(t,e,n,o){void 0===o&&(o=void 0),this.lastBeamTag="",this.openTieDict={},this.currentOctaveShift=0,this.tupletDict={},this.openTupletNumber=0,this.musicSheet=t.GetMusicSheet,this.voice=void 0!==o?new i.LinkedVoice(t,e,o):new r.Voice(t,e),t.Voices.push(this.voice),this.lyricsReader=new p.LyricsReader(this.musicSheet),this.articulationReader=new w.ArticulationReader}return Object.defineProperty(t.prototype,"GetVoice",{get:function(){return this.voice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OctaveShift",{get:function(){return this.currentOctaveShift},set:function(t){this.currentOctaveShift=t},enumerable:!0,configurable:!0}),t.prototype.createVoiceEntry=function(t,e,n){this.currentVoiceEntry=new o.VoiceEntry(t.clone(),this.voice,e),n&&this.voice.VoiceEntries.push(this.currentVoiceEntry),-1===e.VoiceEntries.indexOf(this.currentVoiceEntry)&&e.VoiceEntries.push(this.currentVoiceEntry)},t.prototype.read=function(t,e,n,i,r,o,s,a,c,u){this.currentStaffEntry=r,this.currentMeasure=o;try{this.currentNote=n?this.addRestNote(e):this.addSingleNote(t,e,i,c,u),void 0!==this.lyricsReader&&void 0!==t.elements("lyric")&&(this.lyricsReader.addLyricEntry(t.elements("lyric"),this.currentVoiceEntry),this.voice.Parent.HasLyrics=!0);var l=!1,d=t.element("notations");if(void 0!==d){void 0!==this.articulationReader&&this.readArticulations(d,this.currentVoiceEntry);var p=d.elements("tuplet");p.length>0&&(this.openTupletNumber=this.addTuplet(t,p),l=!0),void 0===d.element("arpeggiate")||i||this.currentVoiceEntry.ArpeggiosNotesIndices.push(this.currentVoiceEntry.Notes.indexOf(this.currentNote));var m=d.elements("tied");m.length>0&&this.addTie(m,s,a);var b=this.openTieDict;for(var g in b)if(b.hasOwnProperty(g)){var v=b[g];h.Fraction.plus(v.Start.ParentStaffEntry.Timestamp,v.Start.Length).lt(this.currentStaffEntry.Timestamp)&&delete b[g]}}void 0===t.element("time-modification")||l||this.handleTimeModificationNode(t)}catch(t){var y=f.ITextTranslation.translateText("ReaderErrorMessages/NoteError","Ignored erroneous Note.");this.musicSheet.SheetErrors.pushMeasureError(y)}return this.currentNote},t.prototype.checkForOpenGraceNotes=function(){if(void 0!==this.currentStaffEntry&&0===this.currentStaffEntry.VoiceEntries.length&&void 0!==this.currentVoiceEntry.graceVoiceEntriesBefore&&this.currentVoiceEntry.graceVoiceEntriesBefore.length>0){var t=this.currentVoiceEntry.ParentVoice,e=this.currentMeasure.VerticalSourceStaffEntryContainers.indexOf(this.currentStaffEntry.VerticalContainerParent),n=this.currentStaffEntry.VerticalContainerParent.StaffEntries.indexOf(this.currentStaffEntry),i=this.currentMeasure.getPreviousSourceStaffEntryFromIndex(n,e);if(void 0!==i)for(var r=void 0,o=0,s=i.VoiceEntries.length;o<s;++o){var a=i.VoiceEntries[o];if(a.ParentVoice===t){(r=a).graceVoiceEntriesAfter=[];for(var c=0,u=this.currentVoiceEntry.graceVoiceEntriesBefore.length;c<u;++c){var l=this.currentVoiceEntry.graceVoiceEntriesBefore[c];r.graceVoiceEntriesAfter.push(l)}this.currentVoiceEntry.graceVoiceEntriesBefore=[],this.currentStaffEntry=void 0;break}}}},t.prototype.checkForStaffEntryLink=function(t,e,n,i){var r=new v.StaffEntryLink(this.currentVoiceEntry);r.LinkStaffEntries.push(n),n.Link=r;var o=this.currentVoiceEntry.Timestamp.clone(),s=i.getVerticalContainerByTimestamp(o);return void 0===(n=s.StaffEntries[t])&&(n=new a.SourceStaffEntry(s,e),s.StaffEntries[t]=n),n.VoiceEntries.push(this.currentVoiceEntry),r.LinkStaffEntries.push(n),n.Link=r,n},t.prototype.checkForOpenBeam=function(){void 0!==this.openBeam&&void 0!==this.currentNote&&this.handleOpenBeam()},t.prototype.checkOpenTies=function(){var t=this.openTieDict;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];h.Fraction.plus(n.Start.ParentStaffEntry.Timestamp,n.Start.Length).lt(n.Start.ParentStaffEntry.VerticalContainerParent.ParentMeasure.Duration)&&delete t[e]}},t.prototype.hasVoiceEntry=function(){return void 0!==this.currentVoiceEntry},t.prototype.getNoteDurationFromType=function(t){switch(t){case"1024th":return new h.Fraction(1,1024);case"512th":return new h.Fraction(1,512);case"256th":return new h.Fraction(1,256);case"128th":return new h.Fraction(1,128);case"64th":return new h.Fraction(1,64);case"32th":case"32nd":return new h.Fraction(1,32);case"16th":return new h.Fraction(1,16);case"eighth":return new h.Fraction(1,8);case"quarter":return new h.Fraction(1,4);case"half":return new h.Fraction(1,2);case"whole":return new h.Fraction(1,1);case"breve":return new h.Fraction(2,1);case"long":return new h.Fraction(4,1);case"maxima":return new h.Fraction(8,1);default:var e=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw new m.MusicSheetReadingException(e)}},t.prototype.readArticulations=function(t,e){var n=t.element("articulations");void 0!==n&&this.articulationReader.addArticulationExpression(n,e);var i=t.element("fermata");void 0!==i&&this.articulationReader.addFermata(i,e);var r=t.element("technical");void 0!==r&&this.articulationReader.addTechnicalArticulations(r,e);var o=t.element("ornaments");void 0!==o&&this.articulationReader.addOrnament(o,e)},t.prototype.addSingleNote=function(t,e,n,i,r){for(var o=b.AccidentalEnum.NONE,a=g.NoteEnum.C,c=0,u=void 0,l=t.elements(),d=0,p=l.length;d<p;++d){var v=l[d];try{if("pitch"===v.name)for(var x=v.elements(),w=0,S=x.length;w<S;++w){var E=x[w];try{if("step"===E.name){if(void 0===(a=g.NoteEnum[E.value])){var T=f.ITextTranslation.translateText("ReaderErrorMessages/NotePitchError","Invalid pitch while reading note.");throw this.musicSheet.SheetErrors.pushMeasureError(T),new m.MusicSheetReadingException(T,void 0)}}else if("alter"===E.name){if(o=parseInt(E.value,10),isNaN(o))throw T=f.ITextTranslation.translateText("ReaderErrorMessages/NoteAlterationError","Invalid alteration while reading note."),this.musicSheet.SheetErrors.pushMeasureError(T),new m.MusicSheetReadingException(T,void 0)}else if("octave"===E.name&&(c=parseInt(E.value,10),isNaN(c)))throw T=f.ITextTranslation.translateText("ReaderErrorMessages/NoteOctaveError","Invalid octave value while reading note."),this.musicSheet.SheetErrors.pushMeasureError(T),new m.MusicSheetReadingException(T,void 0)}catch(t){y.Logging.log("VoiceGenerator.addSingleNote read Step: ",t.message)}}else if("unpitched"===v.name){var k=v.element("display-step");void 0!==k&&(a=g.NoteEnum[k.value.toUpperCase()]);var P=v.element("display-octave");void 0!==P&&(c=parseInt(P.value,10),r&&(c+=1))}else"instrument"===v.name&&void 0!==v.firstAttribute&&(u=v.firstAttribute.value)}catch(t){y.Logging.log("VoiceGenerator.addSingleNote: ",t)}}c-=_.Pitch.OctaveXmlDifference;var M=new _.Pitch(a,c,o),C=h.Fraction.createFromFraction(e),O=new s.Note(this.currentVoiceEntry,this.currentStaffEntry,C,M);return O.PlaybackInstrumentId=u,n?this.handleGraceNote(t,O):this.currentVoiceEntry.Notes.push(O),t.elements("beam")&&!i&&this.createBeam(t,O,n),O},t.prototype.addRestNote=function(t){var e=h.Fraction.createFromFraction(t),n=new s.Note(this.currentVoiceEntry,this.currentStaffEntry,e,void 0);return this.currentVoiceEntry.Notes.push(n),void 0!==this.openBeam&&this.openBeam.ExtendedNoteList.push(n),n},t.prototype.createBeam=function(t,e,n){try{var i=t.element("beam"),r=void 0;if(void 0!==i&&i.hasAttributes&&(r=i.attribute("number")),void 0!==r){var o=parseInt(r.value,10),s=t.elements("beam"),a=s[0].value;1===o&&void 0!==s&&("begin"===a&&this.lastBeamTag!==a&&(n?(void 0!==this.openGraceBeam&&this.handleOpenBeam(),this.openGraceBeam=new c.Beam):(void 0!==this.openBeam&&this.handleOpenBeam(),this.openBeam=new c.Beam)),this.lastBeamTag=a);var u=!1;if(n){if(void 0===this.openGraceBeam)return;for(var l=0,h=this.openGraceBeam.Notes.length;l<h;++l){var d=this.openGraceBeam.Notes[l];this.currentVoiceEntry===d.ParentVoiceEntry&&(u=!0)}u||(this.openGraceBeam.addNoteToBeam(e),"end"===a&&1===o&&(this.openGraceBeam=void 0))}else{if(void 0===this.openBeam)return;for(l=0,h=this.openBeam.Notes.length;l<h;++l)d=this.openBeam.Notes[l],this.currentVoiceEntry===d.ParentVoiceEntry&&(u=!0);u||(this.openBeam.addNoteToBeam(e),"end"===a&&1===o&&(this.openBeam=void 0))}}}catch(t){var p=f.ITextTranslation.translateText("ReaderErrorMessages/BeamError","Error while reading beam.");throw this.musicSheet.SheetErrors.pushMeasureError(p),new m.MusicSheetReadingException("",t)}},t.prototype.handleOpenBeam=function(){if(1===this.openBeam.Notes.length)return this.openBeam.Notes[0].NoteBeam=void 0,void(this.openBeam=void 0);if(this.currentNote===x.CollectionUtil.last(this.openBeam.Notes))this.openBeam=void 0;else{var t=x.CollectionUtil.last(this.openBeam.Notes).ParentStaffEntry,e=this.currentMeasure.getVerticalContainerIndexByTimestamp(t.Timestamp),n=t.VerticalContainerParent.StaffEntries.indexOf(t);if(e<this.currentMeasure.VerticalSourceStaffEntryContainers.length-1){var i=this.currentMeasure.VerticalSourceStaffEntryContainers[e+1].StaffEntries[n];if(void 0!==i)for(var r=0,o=i.VoiceEntries.length;r<o;++r){var s=i.VoiceEntries[r];if(s.ParentVoice===this.voice){var a=s.Notes[0];a.Length.lte(new h.Fraction(1,8))?(this.openBeam.addNoteToBeam(a),this.openBeam=void 0):this.openBeam=void 0}}}else this.openBeam=void 0}},t.prototype.handleGraceNote=function(t,e){var n=!1,i="";if(t.elements("type")){var r=t.elements("type");if(r){i=r[0].value;try{e.Length=this.getNoteDurationFromType(i),e.Length.Numerator=1}catch(t){var s=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(s),new m.MusicSheetReadingException(s,t)}}}var a=t.element("grace");void 0!==a&&a.attributes()&&a.attribute("slash")&&"yes"===a.attribute("slash").value&&(e.GraceNoteSlash=!0),void 0!==t.element("chord")&&(n=!0);var c=void 0;n?void 0!==this.currentVoiceEntry.graceVoiceEntriesBefore&&this.currentVoiceEntry.graceVoiceEntriesBefore.length>0&&(c=x.CollectionUtil.last(this.currentVoiceEntry.graceVoiceEntriesBefore)):(c=new o.VoiceEntry(new h.Fraction(0,1),this.currentVoiceEntry.ParentVoice,this.currentStaffEntry),void 0===this.currentVoiceEntry.graceVoiceEntriesBefore&&(this.currentVoiceEntry.graceVoiceEntriesBefore=[]),this.currentVoiceEntry.graceVoiceEntriesBefore.push(c)),void 0!==c&&(c.Notes.push(e),e.ParentVoiceEntry=c)},t.prototype.addTuplet=function(t,e){if(void 0!==e&&e.length>1){void 0!==(g=t.element("time-modification"))&&(g=g.element("actual-notes"));for(var n=e,i=0,r=n.length;i<r;++i){var o=n[i];if(void 0!==o&&o.attributes())if("start"===(d=o.attribute("type").value)){var s=1;o.attribute("number")&&(s=parseInt(o.attribute("number").value,10));var a=0;if(void 0!==g&&(a=parseInt(g.value,10),isNaN(a))){var c=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNoteDurationError","Invalid tuplet note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(c),new m.MusicSheetReadingException(c,void 0)}var u=new l.Tuplet(a);void 0!==this.tupletDict[s]&&(delete this.tupletDict[s],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--),this.tupletDict[s]=u,(v=[]).push(this.currentNote),u.Notes.push(v),u.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=u,this.openTupletNumber=s}else"stop"===d&&(s=1,o.attribute("number")&&(s=parseInt(o.attribute("number").value,10)),void 0!==(u=this.tupletDict[s])&&((v=[]).push(this.currentNote),u.Notes.push(v),u.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=u,delete this.tupletDict[s],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--))}}else if(void 0!==e[0]){var h=e[0];if(h.hasAttributes){var d=h.attribute("type").value,p=1;h.attribute("number")&&(p=parseInt(h.attribute("number").value,10));var b=isNaN(p);if("start"===d){var g;if(a=0,void 0!==(g=t.element("time-modification"))&&(g=g.element("actual-notes")),void 0!==g&&(a=parseInt(g.value,10),isNaN(a)))throw c=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNoteDurationError","Invalid tuplet note duration."),this.musicSheet.SheetErrors.pushMeasureError(c),new m.MusicSheetReadingException(c);b&&(this.openTupletNumber++,p=this.openTupletNumber),void 0===(u=this.tupletDict[p])&&(u=this.tupletDict[p]=new l.Tuplet(a)),(v=[]).push(this.currentNote),u.Notes.push(v),u.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=u,this.openTupletNumber=p}else if("stop"===d){var v;b&&(p=this.openTupletNumber),void 0!==(u=this.tupletDict[this.openTupletNumber])&&((v=[]).push(this.currentNote),u.Notes.push(v),u.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=u,0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--,delete this.tupletDict[p])}}}return this.openTupletNumber},t.prototype.handleTimeModificationNode=function(t){if(void 0!==this.tupletDict[this.openTupletNumber])try{var e=this.tupletDict[this.openTupletNumber],n=(s=x.CollectionUtil.last(e.Notes))[0].ParentVoiceEntry,i=void 0;n.Timestamp.Equals(this.currentVoiceEntry.Timestamp)?i=s:(i=[],e.Notes.push(i),e.Fractions.push(this.getTupletNoteDurationFromType(t))),i.push(this.currentNote),this.currentNote.NoteTuplet=e}catch(t){var r=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNumberError","Invalid tuplet number.");throw this.musicSheet.SheetErrors.pushMeasureError(r),t}else if(this.currentVoiceEntry.Notes.length>0){var o=this.currentVoiceEntry.Notes[0];if(void 0!==o.NoteTuplet){var s;e=o.NoteTuplet,(s=x.CollectionUtil.last(e.Notes)).push(this.currentNote),this.currentNote.NoteTuplet=e}}},t.prototype.addTie=function(t,e,n){if(void 0!==t)if(1===t.length){var i=t[0];if(void 0!==i&&i.attributes()){var r=i.attribute("type").value;try{if("start"===r){var o=this.findCurrentNoteInTieDict(this.currentNote);o<0&&delete this.openTieDict[o];var s=this.getNextAvailableNumberForTie(),a=new u.Tie(this.currentNote);if(this.openTieDict[s]=a,void 0!==this.currentNote.NoteBeam)if(this.currentNote.NoteBeam.Notes[0]===this.currentNote)a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp);else{for(var c=0,l=this.currentNote.NoteBeam.Notes.length;c<l;++c){var p=this.currentNote.NoteBeam.Notes[c];if(void 0!==p.NoteTie&&p.NoteTie!==a&&void 0!==p.NoteTie.BeamStartTimestamp){a.BeamStartTimestamp=p.NoteTie.BeamStartTimestamp;break}}this.currentNote===x.CollectionUtil.last(this.currentNote.NoteBeam.Notes)&&(a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp))}}else if("stop"===r){var m=this.findCurrentNoteInTieDict(this.currentNote);if(void 0!==(a=this.openTieDict[m])){var b=a.Start;if(b.NoteTie=a,b.Length.Add(this.currentNote.Length),a.Fractions.push(this.currentNote.Length),n.lt(h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(n=h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length)),-1!==(P=this.currentVoiceEntry.Notes.indexOf(this.currentNote))&&this.currentVoiceEntry.Notes.splice(P,1),1===this.currentVoiceEntry.Articulations.length&&this.currentVoiceEntry.Articulations[0]===d.ArticulationEnum.fermata&&void 0===b.ParentVoiceEntry.Articulations[d.ArticulationEnum.fermata]&&b.ParentVoiceEntry.Articulations.push(d.ArticulationEnum.fermata),void 0!==this.currentNote.NoteBeam&&(0===(T=this.currentNote.NoteBeam.Notes.indexOf(this.currentNote))&&void 0===a.BeamStartTimestamp&&(a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp)),(k=this.currentNote.NoteBeam).Notes[T]=b,a.TieBeam=k),void 0!==this.currentNote.NoteTuplet){var g=this.currentNote.NoteTuplet.getNoteIndex(this.currentNote),v=this.currentNote.NoteTuplet.Notes[g].indexOf(this.currentNote),y=this.currentNote.NoteTuplet;y.Notes[g][v]=b,a.TieTuplet=y}for(c=0,l=this.currentNote.NoteSlurs.length;c<l;++c)(C=this.currentNote.NoteSlurs[c]).StartNote===this.currentNote&&(C.StartNote=a.Start,C.StartNote.NoteSlurs.push(C)),C.EndNote===this.currentNote&&(C.EndNote=a.Start,C.EndNote.NoteSlurs.push(C));var _=this.currentVoiceEntry.LyricsEntries;for(var w in _)if(_.hasOwnProperty(w)){var S=this.currentVoiceEntry.LyricsEntries[w];b.ParentVoiceEntry.LyricsEntries.hasOwnProperty(w)||(b.ParentVoiceEntry.LyricsEntries[w]=S,S.Parent=b.ParentVoiceEntry)}delete this.openTieDict[m]}}}catch(t){var E=f.ITextTranslation.translateText("ReaderErrorMessages/TieError","Error while reading tie.");this.musicSheet.SheetErrors.pushMeasureError(E)}}}else if(2===t.length&&(m=this.findCurrentNoteInTieDict(this.currentNote))>=0){var T,k,P,M=(a=this.openTieDict[m]).Start;for(M.Length.Add(this.currentNote.Length),a.Fractions.push(this.currentNote.Length),void 0!==this.currentNote.NoteBeam&&(0===(T=this.currentNote.NoteBeam.Notes.indexOf(this.currentNote))&&void 0===a.BeamStartTimestamp&&(a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp)),(k=this.currentNote.NoteBeam).Notes[T]=M,a.TieBeam=k),c=0,l=this.currentNote.NoteSlurs.length;c<l;++c){var C;(C=this.currentNote.NoteSlurs[c]).StartNote===this.currentNote&&(C.StartNote=a.Start,C.StartNote.NoteSlurs.push(C)),C.EndNote===this.currentNote&&(C.EndNote=a.Start,C.EndNote.NoteSlurs.push(C))}this.currentVoiceEntry.LyricsEntries.forEach(function(t,e){M.ParentVoiceEntry.LyricsEntries.containsKey(t)||(M.ParentVoiceEntry.LyricsEntries.setValue(t,e),e.Parent=M.ParentVoiceEntry)}),n.lt(h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(n=h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length)),-1!==(P=this.currentVoiceEntry.Notes.indexOf(this.currentNote))&&this.currentVoiceEntry.Notes.splice(P,1)}},t.prototype.getNextAvailableNumberForTie=function(){var t=Object.keys(this.openTieDict);if(0===t.length)return 1;t.sort(function(t,e){return+t-+e});for(var e=0;e<t.length;e++)if(""+(e+1)!==t[e])return e+1;return+t[t.length-1]+1},t.prototype.findCurrentNoteInTieDict=function(t){var e=this.openTieDict;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i.Start.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&i.Start.Pitch.Octave===t.Pitch.Octave)return+n}return-1},t.prototype.getTupletNoteDurationFromType=function(t){if(void 0!==t.element("type")){var e=t.element("type");if(void 0!==e){var n=e.value;try{return this.getNoteDurationFromType(n)}catch(t){var i=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(i),new m.MusicSheetReadingException("",t)}}}},t}();e.VoiceGenerator=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(184),r=n(33),o=n(7),s=n(12),a=n(16),c=n(1),u=n(30),l=n(18),h=n(7),f=n(16),d=n(12),p=n(3),m=n(7),b=n(174),g=function(){function t(t,e,n){this.voiceGeneratorsDict={},this.staffMainVoiceGeneratorDict={},this.divisions=0,this.currentXmlMeasureIndex=0,this.activeKeyHasBeenInitialized=!1,this.abstractInstructions=[],this.repetitionInstructionReader=t,this.xmlMeasureList=e,this.musicSheet=n.GetMusicSheet,this.instrument=n,this.activeClefs=new Array(n.Staves.length),this.activeClefsHaveBeenInitialized=new Array(n.Staves.length);for(var i=0;i<n.Staves.length;i++)this.activeClefsHaveBeenInitialized[i]=!1}return Object.defineProperty(t.prototype,"ActiveKey",{get:function(){return this.activeKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaxTieNoteFraction",{get:function(){return this.maxTieNoteFraction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ActiveRhythm",{get:function(){return this.activeRhythm},set:function(t){this.activeRhythm=t},enumerable:!0,configurable:!0}),t.prototype.readNextXmlMeasure=function(t,e,n){if(this.currentXmlMeasureIndex>=this.xmlMeasureList.length)return!1;this.currentMeasure=t,this.inSourceMeasureInstrumentIndex=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument),void 0!==this.repetitionInstructionReader&&this.repetitionInstructionReader.prepareReadingMeasure(t,this.currentXmlMeasureIndex);var i=new c.Fraction(0,1),r=new c.Fraction(0,1),o=!1;this.maxTieNoteFraction=new c.Fraction(0,1);var s=!1;try{for(var a=this.xmlMeasureList[this.currentXmlMeasureIndex].elements(),h=0,f=a;h<f.length;h++){var d=f[h];if("note"===d.name){if(d.hasAttributes&&d.attribute("print-object")&&d.attribute("print-spacing"))continue;var m=1;this.instrument.Staves.length>1&&void 0!==d.element("staff")&&(m=parseInt(d.element("staff").value,10),isNaN(m)&&(p.Logging.debug("InstrumentReader.readNextXmlMeasure.get staff number"),m=1)),this.currentStaff=this.instrument.Staves[m-1];var g=void 0!==d.element("chord");if(void 0!==d.element("voice")){var v=parseInt(d.element("voice").value,10);this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(v,m-1)}else g&&void 0!==this.currentVoiceGenerator||(this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(1,m-1));var y=0,_=new c.Fraction(0,1),x=!1;if(void 0!==d.element("duration")){if(y=parseInt(d.element("duration").value,10),isNaN(y)){var w=u.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid Note Duration.");this.musicSheet.SheetErrors.pushMeasureError(w),p.Logging.debug("InstrumentReader.readNextXmlMeasure",w);continue}_=new c.Fraction(y,4*this.divisions),0===y&&(_=this.getNoteDurationFromTypeNode(d)),void 0!==d.element("time-modification")&&(_=this.getNoteDurationForTuplet(d),x=!0)}var S=void 0!==d.element("rest"),E=void 0!==d.element("grace")||0===y||g&&s,T=i.clone();g&&(T=r.clone()),this.currentStaffEntry=this.currentMeasure.findOrCreateStaffEntry(T,this.inSourceMeasureInstrumentIndex+m-1,this.currentStaff).staffEntry,this.currentVoiceGenerator.hasVoiceEntry()&&(g||E||s)&&(s||!E)||this.currentVoiceGenerator.createVoiceEntry(T,this.currentStaffEntry,!S),E||g||(r=i.clone(),i.Add(_)),g&&void 0!==this.currentStaffEntry&&this.currentStaffEntry.ParentStaff!==this.currentStaff&&(this.currentStaffEntry=this.currentVoiceGenerator.checkForStaffEntryLink(this.inSourceMeasureInstrumentIndex+m-1,this.currentStaff,this.currentStaffEntry,this.currentMeasure));var k=void 0!==this.currentStaffEntry&&void 0!==this.currentStaffEntry.Timestamp&&this.currentStaffEntry.Timestamp.Equals(new c.Fraction(0,1))&&!this.currentStaffEntry.hasNotes();this.saveAbstractInstructionList(this.instrument.Staves.length,k),void 0!==this.openChordSymbolContainer&&(this.currentStaffEntry.ChordContainer=this.openChordSymbolContainer,this.openChordSymbolContainer=void 0),this.activeRhythm,x?this.currentVoiceGenerator.read(d,_,S,E,this.currentStaffEntry,this.currentMeasure,e,this.maxTieNoteFraction,g,n):this.currentVoiceGenerator.read(d,new c.Fraction(y,4*this.divisions),S,E,this.currentStaffEntry,this.currentMeasure,e,this.maxTieNoteFraction,g,n);var P=d.element("notations");void 0!==P&&P.element("dynamics"),s=E}else if("attributes"===d.name){var M=d.element("divisions");if(void 0!==M&&(this.divisions=parseInt(M.value,10),isNaN(this.divisions))){if(w=u.ITextTranslation.translateText("ReaderErrorMessages/DivisionError","Invalid divisions value at Instrument: "),p.Logging.debug("InstrumentReader.readNextXmlMeasure",w),this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new l.MusicSheetReadingException(w+this.instrument.Name);this.musicSheet.SheetErrors.push(w+this.instrument.Name)}if(void 0===d.element("divisions")&&0===this.divisions&&0===this.currentXmlMeasureIndex){if(w=u.ITextTranslation.translateText("ReaderErrorMessages/DivisionError","Invalid divisions value at Instrument: "),this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new l.MusicSheetReadingException(w+this.instrument.Name);this.musicSheet.SheetErrors.push(w+this.instrument.Name)}this.addAbstractInstruction(d,n),i.Equals(new c.Fraction(0,1))&&this.isAttributesNodeAtBeginOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],d)&&this.saveAbstractInstructionList(this.instrument.Staves.length,!0),this.isAttributesNodeAtEndOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],d)&&this.saveClefInstructionAtEndOfMeasure()}else if("forward"===d.name){var C=parseInt(d.element("duration").value,10);i.Add(new c.Fraction(C,4*this.divisions))}else if("backup"===d.name){var O=parseInt(d.element("duration").value,10);i.Sub(new c.Fraction(O,4*this.divisions)),i.IsNegative()&&(i=new c.Fraction(0,1)),r.Sub(new c.Fraction(O,4*this.divisions)),r.IsNegative()&&(r=new c.Fraction(0,1))}else if("direction"===d.name){var A=Math.min(1,i.RealValue);void 0!==this.activeRhythm&&void 0!==this.activeRhythm.Rhythm&&(A/=this.activeRhythm.Rhythm.RealValue);var N=d.element("direction-type");void 0!==this.repetitionInstructionReader&&this.repetitionInstructionReader.handleRepetitionInstructionsFromWordsOrSymbols(N,A)}else"barline"===d.name?void 0!==this.repetitionInstructionReader&&this.repetitionInstructionReader.handleLineRepetitionInstructions(d,!1):"sound"===d.name||"harmony"===d.name&&(this.openChordSymbolContainer=b.ChordSymbolReader.readChordSymbol(d,this.musicSheet,this.activeKey))}for(var L in this.voiceGeneratorsDict)if(this.voiceGeneratorsDict.hasOwnProperty(L)){var I=this.voiceGeneratorsDict[L];I.checkForOpenBeam(),I.checkForOpenGraceNotes()}if(this.currentXmlMeasureIndex===this.xmlMeasureList.length-1){for(var R=0;R<this.instrument.Staves.length;R++)this.activeClefsHaveBeenInitialized[R]||this.createDefaultClefInstruction(this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument)+R);this.activeKeyHasBeenInitialized||this.createDefaultKeyInstruction()}}catch(t){if(o)throw new l.MusicSheetReadingException(t.Message);w=u.ITextTranslation.translateText("ReaderErrorMessages/MeasureError","Error while reading Measure."),this.musicSheet.SheetErrors.pushMeasureError(w),p.Logging.debug("InstrumentReader.readNextXmlMeasure",w,t)}return this.previousMeasure=this.currentMeasure,this.currentXmlMeasureIndex+=1,!0},t.prototype.doCalculationsAfterDurationHasBeenSet=function(){for(var t in this.voiceGeneratorsDict)this.voiceGeneratorsDict.hasOwnProperty(t)&&this.voiceGeneratorsDict[t].checkOpenTies()},t.prototype.getOrCreateVoiceGenerator=function(t,e){var n=this.instrument.Staves[e],r=this.voiceGeneratorsDict[t];if(void 0!==r)-1===n.Voices.indexOf(r.GetVoice)&&n.Voices.push(r.GetVoice);else{var o=this.staffMainVoiceGeneratorDict[e];void 0!==o?(r=new i.VoiceGenerator(this.instrument,t,this.slurReader,o.GetVoice),n.Voices.push(r.GetVoice),this.voiceGeneratorsDict[t]=r):(r=new i.VoiceGenerator(this.instrument,t,this.slurReader),n.Voices.push(r.GetVoice),this.voiceGeneratorsDict[t]=r,this.staffMainVoiceGeneratorDict[e]=r)}return r},t.prototype.createDefaultClefInstruction=function(t){var e;e=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;var n,i=new o.ClefInstruction(h.ClefEnum.G,0,2);void 0===e.FirstInstructionsStaffEntries[t]?(n=new r.SourceStaffEntry(void 0,void 0),e.FirstInstructionsStaffEntries[t]=n):(n=e.FirstInstructionsStaffEntries[t]).removeFirstInstructionOfTypeClefInstruction(),i.Parent=n,n.Instructions.splice(0,0,i)},t.prototype.createDefaultKeyInstruction=function(){var t;t=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;for(var e=new s.KeyInstruction(void 0,0,d.KeyEnum.major),n=this.inSourceMeasureInstrumentIndex;n<this.inSourceMeasureInstrumentIndex+this.instrument.Staves.length;n++)if(void 0===t.FirstInstructionsStaffEntries[n]){var i=new r.SourceStaffEntry(void 0,void 0);t.FirstInstructionsStaffEntries[n]=i,e.Parent=i,i.Instructions.push(e)}else i=t.FirstInstructionsStaffEntries[n],e.Parent=i,i.removeFirstInstructionOfTypeKeyInstruction(),i.Instructions[0]instanceof o.ClefInstruction?i.Instructions.splice(1,0,e):i.Instructions.splice(0,0,e)},t.prototype.isAttributesNodeAtBeginOfMeasure=function(t,e){var n=t.elements(),i=n.indexOf(e);if(i>0&&"backup"===n[i-1].name)return!0;for(var r=-1,o=0;o<n.length;o++)if("note"===n[o].name){r=o;break}return i<r&&r>0||r<0},t.prototype.isAttributesNodeAtEndOfMeasure=function(t,e){for(var n=t.elements().slice(),i=0,r=0;r<n.length;r++)if(n[r]===e){i=r;break}var o=0;for(r=i;r<n.length;r++)if("note"===n[r].name){o=r;break}return i>o},t.prototype.getNoteDurationFromTypeNode=function(t){if(void 0!==t.element("type")){var e=t.element("type");if(void 0!==e){var n=e.value;return this.currentVoiceGenerator.getNoteDurationFromType(n)}}return new c.Fraction(0,4*this.divisions)},t.prototype.addAbstractInstruction=function(t,e){if(void 0===t.element("divisions")||1!==t.elements().length){var n=t.element("transpose");if(void 0!==n){var i=n.element("chromatic");void 0!==i&&(this.instrument.PlaybackTranspose=parseInt(i.value,10))}var r,l=t.elements("clef");if(l.length>0)for(var b=0,g=l.length;b<g;++b){var v=l[b],y=h.ClefEnum.G,_=2,x=1,w=0,S=v.element("line");if(void 0!==S)try{_=parseInt(S.value,10)}catch(t){r=u.ITextTranslation.translateText("ReaderErrorMessages/ClefLineError","Invalid clef line given -> using default clef line."),this.musicSheet.SheetErrors.pushMeasureError(r),_=2,p.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var E=v.element("sign");if(void 0!==E)try{y=h.ClefEnum[E.value],o.ClefInstruction.isSupportedClef(y)||(y===h.ClefEnum.TAB&&e&&(w=-1),r=u.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Unsupported clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),y=h.ClefEnum.G,_=2)}catch(t){r=u.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Invalid clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),y=h.ClefEnum.G,_=2,p.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var T=v.element("clef-octave-change");if(void 0!==T)try{w=parseInt(T.value,10)}catch(t){r=u.ITextTranslation.translateText("ReaderErrorMessages/ClefOctaveError","Invalid clef octave found -> using default clef octave."),this.musicSheet.SheetErrors.pushMeasureError(r),w=0}if(v.hasAttributes&&"number"===v.attributes()[0].name)try{x=parseInt(v.attributes()[0].value,10)}catch(t){r=u.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Invalid clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),x=1}var k=new o.ClefInstruction(y,w,_);this.abstractInstructions.push([x,k])}if(void 0!==t.element("key")&&this.instrument.MidiInstrumentId!==m.MidiInstrument.Percussion){var P=0,M=t.element("key").element("fifths");if(void 0!==M)try{P=parseInt(M.value,10)}catch(t){r=u.ITextTranslation.translateText("ReaderErrorMessages/KeyError","Invalid key found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),P=0,p.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var C=d.KeyEnum.none,O=t.element("key");if(void 0!==O&&(O=O.element("mode")),void 0!==O)try{C=d.KeyEnum[O.value]}catch(t){r=u.ITextTranslation.translateText("ReaderErrorMessages/KeyError","Invalid key found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),C=d.KeyEnum.major,p.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var A=new s.KeyInstruction(void 0,P,C);this.abstractInstructions.push([1,A])}if(void 0!==t.element("time")){var N=f.RhythmSymbolEnum.NONE,L=t.element("time");if(void 0!==L&&L.hasAttributes){var I=L.firstAttribute;"symbol"===I.name&&("common"===I.value?N=f.RhythmSymbolEnum.COMMON:"cut"===I.value&&(N=f.RhythmSymbolEnum.CUT))}var R=0,B=0,F=void 0!==L&&void 0!==L.element("senza-misura"),D=t.elements("time"),j=[],V=[];for(b=0,g=D.length;b<g;++b){var G=D[b];j.push.apply(j,G.elements("beats")),V.push.apply(V,G.elements("beat-type"))}if(F)this.abstractInstructions.push([1,new a.RhythmInstruction(new c.Fraction(4,4,0,!1),f.RhythmSymbolEnum.NONE)]);else{try{if(void 0!==j&&j.length>0&&void 0!==V&&j.length===V.length){for(var H=j.length,z=new Array(H),W=0,U=0;U<H;U++){var Y,X=j[U].value,K=0;if(-1!==X.indexOf("+")){var q=X.split("+");for(b=0,g=q.length;b<g;++b)K+=parseInt(q[b],10)}else K=parseInt(X,10);Y=parseInt(V[U].value,10),W=Math.max(W,Y),z[U]=new c.Fraction(K,Y,0,!1)}for(U=0;U<H;U++)z[U].Denominator===W?R+=z[U].Numerator:R+=W/z[U].Denominator*z[U].Numerator;B=W}else R=parseInt(t.element("time").element("beats").value,10),B=parseInt(t.element("time").element("beat-type").value,10)}catch(t){r=u.ITextTranslation.translateText("ReaderErrorMessages/RhythmError","Invalid rhythm found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),R=4,B=4,p.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}(4===R&&4===B||2===R&&2===B)&&(N=f.RhythmSymbolEnum.NONE),this.abstractInstructions.push([1,new a.RhythmInstruction(new c.Fraction(R,B,0,!1),N)])}}}},t.prototype.saveAbstractInstructionList=function(t,e){for(var n=this.abstractInstructions.length-1;n>=0;n--){var i=this.abstractInstructions[n],c=i[0],u=i[1];if(u instanceof o.ClefInstruction){var l=u;if(0===this.currentXmlMeasureIndex||c<=this.activeClefs.length&&l!==this.activeClefs[c-1])if(e||void 0===this.currentStaffEntry||this.currentStaffEntry.hasNotes()||c-1!==this.instrument.Staves.indexOf(this.currentStaffEntry.ParentStaff)){if(e){var h=void 0;if(void 0!==this.currentMeasure){var f=l,d=this.inSourceMeasureInstrumentIndex+c-1,p=this.currentMeasure.FirstInstructionsStaffEntries[d];if(0===this.currentXmlMeasureIndex)if(void 0===p)h=new r.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[d]=h,f.Parent=h,h.Instructions.push(f),this.activeClefsHaveBeenInitialized[c-1]=!0;else if(void 0===this.currentMeasure.FirstInstructionsStaffEntries[d]||p.Instructions[0]instanceof o.ClefInstruction){var m=new r.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[d]=m,f.Parent=m,m.Instructions.push(f)}else h=p,f.Parent=h,h.removeFirstInstructionOfTypeClefInstruction(),h.Instructions.splice(0,0,f),this.activeClefsHaveBeenInitialized[c-1]=!0;else if(this.activeClefsHaveBeenInitialized[c-1])m=new r.SourceStaffEntry(void 0,void 0),this.previousMeasure.LastInstructionsStaffEntries[d]=m,f.Parent=m,m.Instructions.push(f);else{var b=this.musicSheet.SourceMeasures[0];void 0===b.FirstInstructionsStaffEntries[d]?h=new r.SourceStaffEntry(void 0,void 0):(h=b.FirstInstructionsStaffEntries[d]).removeFirstInstructionOfTypeClefInstruction(),f.Parent=h,h.Instructions.splice(0,0,f),this.activeClefsHaveBeenInitialized[c-1]=!0}this.activeClefs[c-1]=l,this.abstractInstructions.splice(n,1)}}}else(f=l).Parent=this.currentStaffEntry,this.currentStaffEntry.removeFirstInstructionOfTypeClefInstruction(),this.currentStaffEntry.Instructions.push(f),this.activeClefs[c-1]=l,this.abstractInstructions.splice(n,1);else c<=this.activeClefs.length&&l===this.activeClefs[c-1]&&this.abstractInstructions.splice(n,1)}if(u instanceof s.KeyInstruction){var g=u;if(void 0===this.activeKey||this.activeKey.Key!==g.Key){this.activeKey=g,this.abstractInstructions.splice(n,1);var v=void 0;if(this.activeKeyHasBeenInitialized?v=this.currentMeasure:(this.activeKeyHasBeenInitialized=!0,v=this.currentXmlMeasureIndex>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure),void 0!==v)for(var y=this.inSourceMeasureInstrumentIndex;y<this.inSourceMeasureInstrumentIndex+t;y++){var _=g;void 0===v.FirstInstructionsStaffEntries[y]?(h=new r.SourceStaffEntry(void 0,void 0),v.FirstInstructionsStaffEntries[y]=h,_.Parent=h,h.Instructions.push(_)):(h=v.FirstInstructionsStaffEntries[y],_.Parent=h,h.removeFirstInstructionOfTypeKeyInstruction(),0===h.Instructions.length?h.Instructions.push(_):h.Instructions[0]instanceof o.ClefInstruction?h.Instructions.splice(1,0,_):h.Instructions.splice(0,0,_))}}else this.abstractInstructions.splice(n,1)}if(u instanceof a.RhythmInstruction){var x=u;if(void 0===this.activeRhythm||this.activeRhythm!==x){if(this.activeRhythm=x,this.abstractInstructions.splice(n,1),void 0!==this.currentMeasure)for(y=this.inSourceMeasureInstrumentIndex;y<this.inSourceMeasureInstrumentIndex+t;y++){var w=x;h=void 0,void 0===this.currentMeasure.FirstInstructionsStaffEntries[y]?(h=new r.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[y]=h):(h=this.currentMeasure.FirstInstructionsStaffEntries[y]).removeFirstInstructionOfTypeRhythmInstruction(),w.Parent=h,h.Instructions.push(w)}}else this.abstractInstructions.splice(n,1)}}},t.prototype.saveClefInstructionAtEndOfMeasure=function(){for(var t=this.abstractInstructions.length-1;t>=0;t--){var e=this.abstractInstructions[t][0],n=this.abstractInstructions[t][1];if(n instanceof o.ClefInstruction){var i=n;if(void 0===this.activeClefs[e-1]||i.ClefType!==this.activeClefs[e-1].ClefType||i.ClefType===this.activeClefs[e-1].ClefType&&i.Line!==this.activeClefs[e-1].Line){var s=new r.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[this.inSourceMeasureInstrumentIndex+e-1]=s;var a=i;a.Parent=s,s.Instructions.push(a),this.activeClefs[e-1]=i,this.abstractInstructions.splice(t,1)}}}},t.prototype.getNoteDurationForTuplet=function(t){var e=new c.Fraction(0,1),n=this.getNoteDurationFromTypeNode(t);if(void 0!==t.element("time-modification")){var i=t.element("time-modification");if(void 0!==i&&void 0!==i.element("actual-notes")&&void 0!==i.element("normal-notes")){var r=i.element("actual-notes"),o=i.element("normal-notes");if(void 0!==r&&void 0!==o){var s=parseInt(r.value,10),a=parseInt(o.value,10);e=new c.Fraction(a*n.Numerator,s*n.Denominator)}}}return e},t.prototype.readDivisionsFromNotes=function(){for(var t=0,e=this.currentXmlMeasureIndex,n=!1;!n;){for(var i=this.xmlMeasureList[e].elements(),r=0,o=i.length;r<o;++r){var s=i[r];if("note"===s.name&&void 0===s.element("time-modification")&&void 0!==s.element("duration")&&void 0!==s.element("type")){var a=s.element("duration"),c=s.element("type");if(void 0!==a&&void 0!==c){var h=c.value,f=0;try{f=parseInt(a.value,10)}catch(t){p.Logging.debug("InstrumentReader.readDivisionsFromNotes",t);continue}switch(h){case"1024th":t=f/4*1024;break;case"512th":t=f/4*512;break;case"256th":t=f/4*256;break;case"128th":t=f/4*128;break;case"64th":t=f/4*64;break;case"32nd":t=f/4*32;break;case"16th":t=f/4*16;break;case"eighth":t=f/4*8;break;case"quarter":t=f/4*4;break;case"half":t=f/4*2;break;case"whole":t=f/4;break;case"breve":t=f/4/2;break;case"long":t=f/4/4;break;case"maxima":t=f/4/8}}}if(t>0){n=!0;break}}if(0===t&&++e===this.xmlMeasureList.length){var d=u.ITextTranslation.translateText("ReaderErrorMEssages/DivisionsError","Invalid divisions value at Instrument: ");throw new l.MusicSheetReadingException(d+this.instrument.Name)}}return t},t}();e.InstrumentReader=g},function(t,e,n){"use strict";t.exports=0},function(t,e,n){"use strict";var i=n(43);t.exports=function(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=i.characters(),n=t.length,r=0;r<n;r++)if(-1===e.indexOf(t[r]))return!1;return!0}},function(t,e,n){"use strict";var i,r,o=n(91),s=n(43);t.exports=function(t){var e="",n=Math.floor(.001*(Date.now()-1459707606518));return n===r?i++:(i=0,r=n),e+=o(s.lookup,6),e+=o(s.lookup,t),i>0&&(e+=o(s.lookup,i)),e+=o(s.lookup,n)}},function(t,e,n){"use strict";var i=n(43);t.exports=function(t){var e=i.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}},function(t,e,n){"use strict";var i="object"==typeof window&&(window.crypto||window.msCrypto);t.exports=function(){if(!i||!i.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return i.getRandomValues(t),48&t[0]}},function(t,e,n){"use strict";var i=1;t.exports={nextValue:function(){return(i=(9301*i+49297)%233280)/233280},seed:function(t){i=t}}},function(t,e,n){"use strict";function i(){return s(c)}var r=n(43),o=(n(91),n(189)),s=n(188),a=n(187),c=n(186)||0;t.exports=i,t.exports.generate=i,t.exports.seed=function(e){return r.seed(e),t.exports},t.exports.worker=function(e){return c=e,t.exports},t.exports.characters=function(t){return void 0!==t&&r.characters(t),r.shuffled()},t.exports.decode=o,t.exports.isValid=a},function(t,e,n){"use strict";t.exports=n(192)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t,e,n){this.staffEntries=[],this.comments=[],this.timestamp=e,this.staffEntries=new Array(n),this.parentMeasure=t}return t.prototype.$get$=function(t){return this.staffEntries[t]},t.prototype.$set$=function(t,e){this.staffEntries[t]=e},Object.defineProperty(t.prototype,"Timestamp",{get:function(){return this.timestamp},set:function(t){this.timestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffEntries",{get:function(){return this.staffEntries},set:function(t){this.staffEntries=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Comments",{get:function(){return this.comments},set:function(t){this.comments=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentMeasure",{get:function(){return this.parentMeasure},set:function(t){this.parentMeasure=t},enumerable:!0,configurable:!0}),t.prototype.getAbsoluteTimestamp=function(){return i.Fraction.plus(this.timestamp,this.parentMeasure.AbsoluteTimestamp)},t}();e.VerticalSourceStaffEntryContainer=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(194),a=n(33),c=n(24),u=n(17),l=n(12),h=function(t){function e(e){var n=t.call(this)||this;n.staffLinkedExpressions=[],n.tempoExpressions=[],n.verticalSourceStaffEntryContainers=[],n.staffMeasureErrors=[],n.firstRepetitionInstructions=[],n.lastRepetitionInstructions=[],n.completeNumberOfStaves=e,n.implicitMeasure=!1,n.breakSystemAfter=!1,n.endsPiece=!1,n.firstInstructionsStaffEntries=new Array(e),n.lastInstructionsStaffEntries=new Array(e);for(var i=0;i<e;i++)n.staffMeasureErrors.push(!1),n.staffLinkedExpressions.push([]);return n}return r(e,t),Object.defineProperty(e.prototype,"MeasureNumber",{get:function(){return this.measureNumber},set:function(t){this.measureNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AbsoluteTimestamp",{get:function(){return this.absoluteTimestamp},set:function(t){this.absoluteTimestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CompleteNumberOfStaves",{get:function(){return this.completeNumberOfStaves},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.duration},set:function(t){this.duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ImplicitMeasure",{get:function(){return this.implicitMeasure},set:function(t){this.implicitMeasure=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BreakSystemAfter",{get:function(){return this.breakSystemAfter},set:function(t){this.breakSystemAfter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffLinkedExpressions",{get:function(){return this.staffLinkedExpressions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TempoExpressions",{get:function(){return this.tempoExpressions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"VerticalSourceStaffEntryContainers",{get:function(){return this.verticalSourceStaffEntryContainers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FirstInstructionsStaffEntries",{get:function(){return this.firstInstructionsStaffEntries},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastInstructionsStaffEntries",{get:function(){return this.lastInstructionsStaffEntries},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FirstRepetitionInstructions",{get:function(){return this.firstRepetitionInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastRepetitionInstructions",{get:function(){return this.lastRepetitionInstructions},enumerable:!0,configurable:!0}),e.prototype.getErrorInMeasure=function(t){return this.staffMeasureErrors[t]},e.prototype.setErrorInStaffMeasure=function(t,e){this.staffMeasureErrors[t]=e},e.prototype.getNextMeasure=function(t){return t[this.measureListIndex+1]},e.prototype.getPreviousMeasure=function(t){if(this.measureListIndex>1)return t[this.measureListIndex-1]},e.prototype.findOrCreateStaffEntry=function(t,e,n){for(var i,r=void 0,o=0,c=this.verticalSourceStaffEntryContainers;o<c.length;o++)if((l=c[o]).Timestamp.Equals(t)){i=l;break}if(void 0!==i)return void 0!==i.StaffEntries[e]?r=i.StaffEntries[e]:(r=new a.SourceStaffEntry(i,n),i.StaffEntries[e]=r),{createdNewContainer:!1,staffEntry:r};var u=this.verticalSourceStaffEntryContainers[this.verticalSourceStaffEntryContainers.length-1];if(0===this.verticalSourceStaffEntryContainers.length||u.Timestamp.lt(t)){var l=new s.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.push(l),r=new a.SourceStaffEntry(l,n),l.StaffEntries[e]=r}else for(var h=this.verticalSourceStaffEntryContainers.length-1;h>=0;h--){if(this.verticalSourceStaffEntryContainers[h].Timestamp.lt(t)){l=new s.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves),this.verticalSourceStaffEntryContainers.splice(h+1,0,l),r=new a.SourceStaffEntry(l,n),l.StaffEntries[e]=r;break}if(0===h){l=new s.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves),this.verticalSourceStaffEntryContainers.splice(h,0,l),r=new a.SourceStaffEntry(l,n),l.StaffEntries[e]=r;break}}return{createdNewContainer:!0,staffEntry:r}},e.prototype.findOrCreateVoiceEntry=function(t,e){for(var n=void 0,i=!1,r=0,o=t.VoiceEntries;r<o.length;r++){var s=o[r];if(s.ParentVoice===e){n=s;break}}return void 0===n&&(n=new u.VoiceEntry(t.Timestamp,e,t),t.VoiceEntries.push(n),i=!0),{createdVoiceEntry:i,voiceEntry:n}},e.prototype.getPreviousSourceStaffEntryFromIndex=function(t,e){for(var n=e-1;n>=0;n--)if(void 0!==this.verticalSourceStaffEntryContainers[n][t])return this.verticalSourceStaffEntryContainers[n][t]},e.prototype.getVerticalContainerIndexByTimestamp=function(t){for(var e=0,n=this.VerticalSourceStaffEntryContainers.length;e<n;++e)if(this.VerticalSourceStaffEntryContainers[e].Timestamp.Equals(t))return e;return-1},e.prototype.getVerticalContainerByTimestamp=function(t){for(var e=0,n=this.VerticalSourceStaffEntryContainers.length;e<n;++e){var i=this.VerticalSourceStaffEntryContainers[e];if(i.Timestamp.Equals(t))return i}},e.prototype.checkForEmptyVerticalContainer=function(t){for(var e=0,n=0;n<this.completeNumberOfStaves;n++)void 0===this.verticalSourceStaffEntryContainers[t][n]&&e++;e===this.completeNumberOfStaves&&this.verticalSourceStaffEntryContainers.splice(t,1)},e.prototype.reverseCheck=function(t,e){for(var n=new o.Fraction(0,1),i=[],r=0;r<t.Instruments.length;r++){for(var s=new o.Fraction(0,1),a=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[r]),c=0;c<t.Instruments[r].Staves.length;c++){var u=this.getLastSourceStaffEntryForInstrument(a+c);if(void 0!==u&&!u.hasTie())for(var l=this.verticalSourceStaffEntryContainers.indexOf(u.VerticalContainerParent)-1;l>=0;l--){var h=this.verticalSourceStaffEntryContainers[l][a+c];if(void 0!==h&&h.hasTie()&&s.lt(o.Fraction.plus(h.Timestamp,h.calculateMaxNoteLength()))){s=o.Fraction.plus(h.Timestamp,h.calculateMaxNoteLength());break}}}i.push(s)}for(var f=0,d=i.length;f<d;++f){var p=i[f];n.lt(p)&&(n=p)}return o.Fraction.max(n,e)},e.prototype.calculateInstrumentsDuration=function(t,e){for(var n=[],i=0;i<t.Instruments.length;i++){for(var r=new o.Fraction(0,1),s=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[i]),a=0;a<t.Instruments[i].Staves.length;a++){var c=this.getLastSourceStaffEntryForInstrument(s+a);void 0!==c&&void 0!==c.Timestamp&&r.lt(o.Fraction.plus(c.Timestamp,c.calculateMaxNoteLength()))&&(r=o.Fraction.plus(c.Timestamp,c.calculateMaxNoteLength()))}r.lt(e[i])&&(r=e[i]),n.push(r)}return n},e.prototype.getEntriesPerStaff=function(t){for(var e=[],n=0,i=this.VerticalSourceStaffEntryContainers;n<i.length;n++){var r=i[n].StaffEntries[t];void 0!==r&&e.push(r)}return e},e.prototype.hasBeginInstructions=function(){for(var t=0,e=this.FirstInstructionsStaffEntries.length;t<e;t++){var n=this.FirstInstructionsStaffEntries[t];if(void 0!==n&&n.Instructions.length>0)return!0}return!1},e.prototype.beginsWithLineRepetition=function(){for(var t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){var n=this.FirstRepetitionInstructions[t];if(n.type===c.RepetitionInstructionEnum.StartLine)return!0;if(void 0!==n.parentRepetition&&n===n.parentRepetition.startMarker&&!n.parentRepetition.FromWords)return!0}return!1},e.prototype.endsWithLineRepetition=function(){for(var t=0,e=this.LastRepetitionInstructions.length;t<e;++t){var n=this.LastRepetitionInstructions[t];if(n.type===c.RepetitionInstructionEnum.BackJumpLine)return!0;var i=n.parentRepetition;if(void 0!==i&&!i.FromWords)for(var r=0,o=i.BackwardJumpInstructions.length;r<o;++r)if(n===i.BackwardJumpInstructions[r])return!0}return!1},e.prototype.beginsWithWordRepetition=function(){for(var t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){var n=this.FirstRepetitionInstructions[t];if(void 0!==n.parentRepetition&&n===n.parentRepetition.startMarker&&n.parentRepetition.FromWords)return!0}return!1},e.prototype.endsWithWordRepetition=function(){for(var t=0,e=this.LastRepetitionInstructions.length;t<e;++t){var n=this.LastRepetitionInstructions[t],i=n.parentRepetition;if(void 0!==i&&i.FromWords){for(var r=0,o=i.BackwardJumpInstructions.length;r<o;++r)if(n===i.BackwardJumpInstructions[r])return!0;if(n===i.forwardJumpInstruction)return!0}}return!1},e.prototype.getKeyInstruction=function(t){if(void 0!==this.FirstInstructionsStaffEntries[t])for(var e=this.FirstInstructionsStaffEntries[t],n=0,i=e.Instructions.length;n<i;++n){var r=e.Instructions[n];if(r instanceof l.KeyInstruction)return r}},e.prototype.getLastSourceStaffEntryForInstrument=function(t){for(var e,n=this.verticalSourceStaffEntryContainers.length-1;n>=0&&!(e=this.verticalSourceStaffEntryContainers[n].StaffEntries[t]);n--);return e},e}(n(92).BaseIdClass);e.SourceMeasure=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.measureErrors={},this.errors=[],this.tempErrors=[]}return t.prototype.finalizeMeasure=function(t){var e=this.measureErrors[t];void 0===e&&(e=[]),this.measureErrors[t]=e.concat(this.tempErrors),this.tempErrors=[]},t.prototype.pushMeasureError=function(t){this.tempErrors.push(t)},t.prototype.push=function(t){this.errors.push(t)},t}();e.MusicSheetErrors=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(93),s=n(1),a=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.musicSheet=e,r.startIndex=n,r.endIndex=i,r}return r(e,t),Object.defineProperty(e.prototype,"MeasuresCount",{get:function(){return this.endIndex-this.startIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartIndex",{get:function(){return this.startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndIndex",{get:function(){return this.endIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentRepetition",{get:function(){return this.parentRepetition},set:function(t){this.parentRepetition=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AbsoluteTimestamp",{get:function(){return s.Fraction.createFromFraction(this.musicSheet.SourceMeasures[this.startIndex].AbsoluteTimestamp)},enumerable:!0,configurable:!0}),e.prototype.setStartIndex=function(t){this.startIndex=t},e.prototype.setEndIndex=function(t){this.endIndex=t},e}(o.PartListEntry);e.SourceMusicPart=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(197),s=n(1),a=n(93),c=n(3),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.backwardJumpInstructions=[],i.endingParts=[],i.endingIndexDict={},i.userNumberOfRepetitions=0,i.visibles=[],i.fromWords=!1,i.repetitonIterationOrder=[],i.numberOfEndings=1,i.musicSheet2=e,i.virtualOverallRepetition=n,i}return r(e,t),Object.defineProperty(e.prototype,"BackwardJumpInstructions",{get:function(){return this.backwardJumpInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndingIndexDict",{get:function(){return this.endingIndexDict},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndingParts",{get:function(){return this.endingParts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Visibles",{get:function(){return this.visibles},set:function(t){this.visibles=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DefaultNumberOfRepetitions",{get:function(){var t=2;return this.virtualOverallRepetition&&(t=1),Math.max(t,Object.keys(this.endingIndexDict).length,this.checkRepetitionForMultipleLyricVerses())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UserNumberOfRepetitions",{get:function(){return this.userNumberOfRepetitions},set:function(t){this.userNumberOfRepetitions=t,this.repetitonIterationOrder=[];for(var e=this.userNumberOfRepetitions-this.NumberOfEndings,n=1;n<=this.userNumberOfRepetitions;n++)n<=e?this.repetitonIterationOrder.push(1):this.repetitonIterationOrder.push(n-e)},enumerable:!0,configurable:!0}),e.prototype.getForwardJumpTargetForIteration=function(t){var e=this.repetitonIterationOrder[t-1];return void 0!==this.endingIndexDict[e]?this.endingIndexDict[e].part.StartIndex:-1},e.prototype.getBackwardJumpTarget=function(){return this.startMarker.measureIndex},e.prototype.SetEndingStartIndex=function(t,e){var n=new l(new o.SourceMusicPart(this.musicSheet2,e,e));this.endingParts.push(n);for(var i=0,r=t;i<r.length;i++){var s=r[i];try{this.endingIndexDict[s]=n,n.endingIndices.push(s),this.numberOfEndings<s&&(this.numberOfEndings=s)}catch(t){c.Logging.error("Repetition: Exception.",t)}}},e.prototype.setEndingEndIndex=function(t,e){void 0!==this.endingIndexDict[t]&&this.endingIndexDict[t].part.setEndIndex(e)},Object.defineProperty(e.prototype,"NumberOfEndings",{get:function(){return this.numberOfEndings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FromWords",{get:function(){return this.fromWords},set:function(t){this.fromWords=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AbsoluteTimestamp",{get:function(){return s.Fraction.createFromFraction(this.musicSheet2.SourceMeasures[this.startMarker.measureIndex].AbsoluteTimestamp)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartIndex",{get:function(){return this.startMarker.measureIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndIndex",{get:function(){if(0===this.BackwardJumpInstructions.length)return this.StartIndex;var t=this.backwardJumpInstructions[this.backwardJumpInstructions.length-1].measureIndex;return void 0!==this.endingIndexDict[this.NumberOfEndings]&&(t=Math.max(this.endingIndexDict[this.NumberOfEndings].part.EndIndex,t)),t},enumerable:!0,configurable:!0}),e.prototype.checkRepetitionForMultipleLyricVerses=function(){for(var t=0,e=this.StartIndex,n=this.EndIndex,i=e;i<=n;i++)for(var r=this.musicSheet2.SourceMeasures[i],o=0;o<r.CompleteNumberOfStaves;o++)for(var s=0,a=r.VerticalSourceStaffEntryContainers[o].StaffEntries;s<a.length;s++){var c=a[s];if(void 0!==c){for(var u=0,l=0,h=c.VoiceEntries;l<h.length;l++){var f=h[l];u+=Object.keys(f.LyricsEntries).length}t=Math.max(t,u)}}return t},Object.defineProperty(e.prototype,"FirstSourceMeasureNumber",{get:function(){return this.getFirstSourceMeasure().MeasureNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastSourceMeasureNumber",{get:function(){return this.getLastSourceMeasure().MeasureNumber},enumerable:!0,configurable:!0}),e}(a.PartListEntry);e.Repetition=u;var l=function(){function t(t){this.endingIndices=[],this.part=t}return t.prototype.ToString=function(){return this.endingIndices.join(", ")},t}();e.RepetitionEndingPart=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.p=0]="p",t[t.f=1]="f",t[t.s=2]="s",t[t.z=3]="z",t[t.m=4]="m",t[t.r=5]="r"}(e.DynamicExpressionSymbolEnum||(e.DynamicExpressionSymbolEnum={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(56),a=n(199),c=n(18),u=n(3),l=function(t){function e(e,n,i,r){var s=t.call(this)||this;return s.dynamicEnum=o[e.toLowerCase()],s.soundDynamic=n,s.placement=i,s.staffNumber=r,s}return r(e,t),Object.defineProperty(e.prototype,"ParentMultiExpression",{get:function(){return this.multiExpression},set:function(t){this.multiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DynEnum",{get:function(){return this.dynamicEnum},set:function(t){this.dynamicEnum=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SoundDynamic",{get:function(){return this.soundDynamic},set:function(t){this.soundDynamic=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Placement",{get:function(){return this.placement},set:function(t){this.placement=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffNumber",{get:function(){return this.staffNumber},set:function(t){this.staffNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Length",{get:function(){return Math.abs(this.length)<1e-4&&(this.length=this.calculateLength()),this.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MidiVolume",{get:function(){return 127*e.dynamicToRelativeVolumeDict[this.dynamicEnum]},enumerable:!0,configurable:!0}),e.isInputStringInstantaniousDynamic=function(t){return void 0!==t&&e.isStringInStringList(e.listInstantaniousDynamics,t)},e.prototype.getDynamicExpressionSymbol=function(t){switch(t){case"p":return a.DynamicExpressionSymbolEnum.p;case"f":return a.DynamicExpressionSymbolEnum.f;case"s":return a.DynamicExpressionSymbolEnum.s;case"z":return a.DynamicExpressionSymbolEnum.z;case"m":return a.DynamicExpressionSymbolEnum.m;case"r":return a.DynamicExpressionSymbolEnum.r;default:throw new c.InvalidEnumArgumentException("unknown DynamicExpressionSymbolEnum: "+t)}},e.prototype.calculateLength=function(){return u.Logging.debug("[Andrea] instantaniousDynamicExpression: not implemented: calculateLength!"),0},e.dynamicToRelativeVolumeDict={f:92/127,ff:108/127,fff:124/127,ffff:125/127,fffff:126/127,ffffff:1,fp:.5,fz:.5,mf:76/127,mp:60/127,p:44/127,pp:28/127,ppp:12/127,pppp:10/127,ppppp:8/127,pppppp:6/127,rf:.5,rfz:.5,sf:.5,sffz:.5,sfp:.5,sfpp:.5,sfz:.5},e.listInstantaniousDynamics=["pppppp","ppppp","pppp","ppp","pp","p","ffffff","fffff","ffff","fff","ff","f","mf","mp","sf","sp","spp","fp","rf","rfz","sfz","sffz","fz"],e}(s.AbstractExpression);e.InstantaniousDynamicExpression=l,function(t){t[t.pppppp=0]="pppppp",t[t.ppppp=1]="ppppp",t[t.pppp=2]="pppp",t[t.ppp=3]="ppp",t[t.pp=4]="pp",t[t.p=5]="p",t[t.mp=6]="mp",t[t.mf=7]="mf",t[t.f=8]="f",t[t.ff=9]="ff",t[t.fff=10]="fff",t[t.ffff=11]="ffff",t[t.fffff=12]="fffff",t[t.ffffff=13]="ffffff",t[t.sf=14]="sf",t[t.sfp=15]="sfp",t[t.sfpp=16]="sfpp",t[t.fp=17]="fp",t[t.rf=18]="rf",t[t.rfz=19]="rfz",t[t.sfz=20]="sfz",t[t.sffz=21]="sffz",t[t.fz=22]="fz",t[t.other=23]="other"}(o=e.DynamicEnum||(e.DynamicEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(94),r=n(200),o=function(){function t(t,e){t instanceof i.ContinuousDynamicExpression?this.continuousDynamicExpression=t:t instanceof r.InstantaniousDynamicExpression&&(this.instantaneousDynamicExpression=t),this.staffNumber=e}return t.prototype.parMultiExpression=function(){return void 0!==this.continuousDynamicExpression?this.continuousDynamicExpression.StartMultiExpression:void 0!==this.instantaneousDynamicExpression?this.instantaneousDynamicExpression.ParentMultiExpression:void 0},t.prototype.CompareTo=function(t){return this.parMultiExpression().AbsoluteTimestamp.CompareTo(t.parMultiExpression().AbsoluteTimestamp)},t}();e.DynamicsContainer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(201),o=n(16),s=n(94),a=n(3),c=function(){function t(t,e,n){this.currentMeasureIndex=0,this.currentPartIndex=0,this.currentVoiceEntryIndex=-1,this.currentDynamicEntryIndex=0,this.currentTempoEntryIndex=0,this.currentDynamicChangingExpressions=[],this.currentRepetition=void 0,this.endReached=!1,this.frontReached=!1,this.currentTimeStamp=new i.Fraction(0,1),this.currentEnrolledMeasureTimestamp=new i.Fraction(0,1),this.currentVerticalContainerInMeasureTimestamp=new i.Fraction(0,1),this.jumpResponsibleRepetition=void 0,this.activeDynamicExpressions=[];try{this.frontReached=!0,this.manager=t,this.currentVoiceEntries=void 0,this.frontReached=!1;for(var o=0,c=t.MusicSheet.Repetitions;o<c.length;o++){var u=c[o];this.setRepetitionIterationCount(u,1)}if(this.activeDynamicExpressions=new Array(t.MusicSheet.getCompleteNumberOfStaves()),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[0],void 0===e)return;do{this.moveToNext()}while((void 0===this.currentVoiceEntries||this.currentTimeStamp.lt(e))&&!this.endReached);for(var l=0;l<this.activeDynamicExpressions.length;l++)if(void 0!==this.activeDynamicExpressions[l])if(this.activeDynamicExpressions[l]instanceof s.ContinuousDynamicExpression){var h=this.activeDynamicExpressions[l];this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(h,l))}else{var f=this.activeDynamicExpressions[l];this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(f,l))}this.currentTempoChangingExpression=this.activeTempoExpression}catch(t){a.Logging.log("MusicPartManagerIterator: "+t)}}return Object.defineProperty(t.prototype,"EndReached",{get:function(){return this.endReached},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FrontReached",{get:function(){return this.frontReached},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentMeasure",{get:function(){return this.currentMeasure},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentRepetition",{get:function(){return this.currentRepetition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentRepetitionIteration",{get:function(){return void 0!==this.CurrentRepetition?this.getRepetitionIterationCount(this.CurrentRepetition):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentJumpResponsibleRepetitionIterationBeforeJump",{get:function(){return void 0!==this.jumpResponsibleRepetition?this.getRepetitionIterationCount(this.jumpResponsibleRepetition)-1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentVoiceEntries",{get:function(){return this.currentVoiceEntries},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentMeasureIndex",{get:function(){return this.currentMeasureIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentEnrolledTimestamp",{get:function(){return i.Fraction.plus(this.currentEnrolledMeasureTimestamp,this.currentVerticalContainerInMeasureTimestamp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentSourceTimestamp",{get:function(){return this.currentTimeStamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"JumpOccurred",{get:function(){return this.backJumpOccurred||this.forwardJumpOccurred},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ActiveTempoExpression",{get:function(){return this.activeTempoExpression},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ActiveDynamicExpressions",{get:function(){return this.activeDynamicExpressions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentTempoChangingExpression",{get:function(){return this.currentTempoChangingExpression},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"JumpResponsibleRepetition",{get:function(){return this.jumpResponsibleRepetition},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t(this.manager);return e.currentVoiceEntryIndex=this.currentVoiceEntryIndex,e.currentMappingPart=this.currentMappingPart,e.currentPartIndex=this.currentPartIndex,e.currentVoiceEntries=this.currentVoiceEntries,e.endReached=this.endReached,e.frontReached=this.frontReached,e},t.prototype.CurrentVisibleVoiceEntries=function(t){var e=[];if(void 0===this.currentVoiceEntries)return e;if(void 0!==t){for(var n=0,i=this.currentVoiceEntries;n<i.length;n++)if((s=i[n]).ParentVoice.Parent.IdString===t.IdString)return this.getVisibleEntries(s,e),e}else for(var r=0,o=this.currentVoiceEntries;r<o.length;r++){var s=o[r];this.getVisibleEntries(s,e)}return e},t.prototype.CurrentAudibleVoiceEntries=function(t){var e=[];if(void 0===this.currentVoiceEntries)return e;if(void 0!==t){for(var n=0,i=this.currentVoiceEntries;n<i.length;n++)if((s=i[n]).ParentVoice.Parent.IdString===t.IdString)return this.getAudibleEntries(s,e),e}else for(var r=0,o=this.currentVoiceEntries;r<o.length;r++){var s=o[r];this.getAudibleEntries(s,e)}return e},t.prototype.getCurrentDynamicChangingExpressions=function(){return this.currentDynamicChangingExpressions},t.prototype.CurrentScoreFollowingVoiceEntries=function(t){var e=[];if(void 0===this.currentVoiceEntries)return e;if(void 0!==t){for(var n=0,i=this.currentVoiceEntries;n<i.length;n++)if((s=i[n]).ParentVoice.Parent.IdString===t.IdString)return this.getScoreFollowingEntries(s,e),e}else for(var r=0,o=this.currentVoiceEntries;r<o.length;r++){var s=o[r];this.getScoreFollowingEntries(s,e)}return e},t.prototype.moveToNext=function(){this.forwardJumpOccurred=this.backJumpOccurred=!1,this.endReached||(void 0!==this.currentVoiceEntries&&(this.currentVoiceEntries=[]),this.recursiveMove(),void 0===this.currentMeasure&&(this.currentTimeStamp=new i.Fraction(99999,1)))},t.prototype.moveToNextVisibleVoiceEntry=function(t){for(;!this.endReached;)if(this.moveToNext(),this.checkEntries(t))return},t.prototype.resetRepetitionIterationCount=function(t){return this.setRepetitionIterationCount(t,1),1},t.prototype.incrementRepetitionIterationCount=function(t){return-1===this.repetitionIterationCountDictKeys.indexOf(t)?this.setRepetitionIterationCount(t,1):this.setRepetitionIterationCount(t,this.getRepetitionIterationCount(t)+1)},t.prototype.setRepetitionIterationCount=function(t,e){var n=this.repetitionIterationCountDictKeys.indexOf(t);return-1===n?(this.repetitionIterationCountDictKeys.push(t),this.repetitionIterationCountDictValues.push(e)):this.repetitionIterationCountDictValues[n]=e,e},t.prototype.getRepetitionIterationCount=function(t){var e=this.repetitionIterationCountDictKeys.indexOf(t);if(-1!==e)return this.repetitionIterationCountDictValues[e]},t.prototype.handleRepetitionsAtMeasureBegin=function(){for(var t=0,e=this.currentMeasure.FirstRepetitionInstructions.length;t<e;++t){var n=this.currentMeasure.FirstRepetitionInstructions[t];if(void 0!==n.parentRepetition){var i=n.parentRepetition;this.currentRepetition=i,i.StartIndex===this.currentMeasureIndex&&void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i)}}},t.prototype.handleRepetitionsAtMeasureEnd=function(){for(var t=0,e=this.currentMeasure.LastRepetitionInstructions.length;t<e;++t){var n=this.currentMeasure.LastRepetitionInstructions[t],i=n.parentRepetition;if(void 0!==i){if(i.BackwardJumpInstructions.indexOf(n)>-1&&this.getRepetitionIterationCount(i)<i.UserNumberOfRepetitions)return this.doBackJump(i),void(this.backJumpOccurred=!0);if(n===i.forwardJumpInstruction){void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i);var r=i.getForwardJumpTargetForIteration(this.getRepetitionIterationCount(i));if(r>=0)return this.currentMeasureIndex=r,this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.jumpResponsibleRepetition=i,void(this.forwardJumpOccurred=!0);-2===r&&(this.endReached=!0)}}}this.currentMeasureIndex++,void 0!==this.JumpResponsibleRepetition&&this.currentMeasureIndex>this.JumpResponsibleRepetition.EndIndex&&(this.jumpResponsibleRepetition=void 0)},t.prototype.doBackJump=function(t){this.currentMeasureIndex=t.getBackwardJumpTarget(),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.incrementRepetitionIterationCount(t),this.jumpResponsibleRepetition=t},t.prototype.activateCurrentRhythmInstructions=function(){if(void 0!==this.currentMeasure&&this.currentMeasure.FirstInstructionsStaffEntries.length>0&&void 0!==this.currentMeasure.FirstInstructionsStaffEntries[0])for(var t=this.currentMeasure.FirstInstructionsStaffEntries[0].Instructions,e=0,n=t.length;e<n;++e){var i=t[e];i instanceof o.RhythmInstruction&&(this.manager.MusicSheet.SheetPlaybackSetting.rhythm=i.Rhythm)}},t.prototype.activateCurrentDynamicOrTempoInstructions=function(){for(var t=this.manager.MusicSheet.TimestampSortedDynamicExpressionsList;this.currentDynamicEntryIndex>0&&(this.currentDynamicEntryIndex>=t.length||this.CurrentSourceTimestamp.lte(t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp));)this.currentDynamicEntryIndex--;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentDynamicEntryIndex++;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);){var e=t[this.currentDynamicEntryIndex],n=e.staffNumber;this.CurrentSourceTimestamp.Equals(e.parMultiExpression().AbsoluteTimestamp)&&(void 0!==e.continuousDynamicExpression?this.activeDynamicExpressions[n]=e.continuousDynamicExpression:void 0!==e.instantaneousDynamicExpression&&(this.activeDynamicExpressions[n]=e.instantaneousDynamicExpression)),this.currentDynamicEntryIndex++}for(this.currentDynamicChangingExpressions=[],n=0;n<this.activeDynamicExpressions.length;n++)if(void 0!==this.activeDynamicExpressions[n]){var i=void 0,o=void 0;if(this.activeDynamicExpressions[n]instanceof s.ContinuousDynamicExpression){var a=this.activeDynamicExpressions[n];i=a.StartMultiExpression.AbsoluteTimestamp,o=a.EndMultiExpression.AbsoluteTimestamp,i.lte(this.CurrentSourceTimestamp)&&this.CurrentSourceTimestamp.lte(o)&&this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(a,n))}else{var c=this.activeDynamicExpressions[n];this.CurrentSourceTimestamp.Equals(c.ParentMultiExpression.AbsoluteTimestamp)&&this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(c,n))}}for(var u=this.manager.MusicSheet.TimestampSortedTempoExpressionsList;this.currentTempoEntryIndex>0&&(this.currentTempoEntryIndex>=u.length||this.CurrentSourceTimestamp.lte(u[this.currentTempoEntryIndex].AbsoluteTimestamp));)this.currentTempoEntryIndex--;for(;this.currentTempoEntryIndex<u.length&&u[this.currentTempoEntryIndex].AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentTempoEntryIndex++;for(;this.currentTempoEntryIndex<u.length&&u[this.currentTempoEntryIndex].AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);)this.activeTempoExpression=u[this.currentTempoEntryIndex],this.currentTempoEntryIndex++;this.currentTempoChangingExpression=void 0,void 0!==this.activeTempoExpression&&(o=this.activeTempoExpression.AbsoluteTimestamp,void 0!==this.activeTempoExpression.ContinuousTempo&&(o=this.activeTempoExpression.ContinuousTempo.AbsoluteEndTimestamp),(this.activeTempoExpression.AbsoluteTimestamp.lte(this.CurrentSourceTimestamp)||this.CurrentSourceTimestamp.lte(o))&&(this.currentTempoChangingExpression=this.activeTempoExpression))},t.prototype.recursiveMove=function(){if(this.currentVoiceEntryIndex++,0===this.currentVoiceEntryIndex&&(this.handleRepetitionsAtMeasureBegin(),this.activateCurrentRhythmInstructions()),this.currentVoiceEntryIndex>=0&&this.currentVoiceEntryIndex<this.currentMeasure.VerticalSourceStaffEntryContainers.length){var t=this.currentMeasure.VerticalSourceStaffEntryContainers[this.currentVoiceEntryIndex];return this.currentVoiceEntries=this.getVoiceEntries(t),this.currentVerticalContainerInMeasureTimestamp=t.Timestamp,this.currentTimeStamp=i.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp),this.currentTimeStamp>=this.manager.MusicSheet.SelectionEnd&&(this.endReached=!0),void this.activateCurrentDynamicOrTempoInstructions()}if(this.currentEnrolledMeasureTimestamp.Add(this.currentMeasure.Duration),this.handleRepetitionsAtMeasureEnd(),this.currentMeasureIndex>=0&&this.currentMeasureIndex<this.manager.MusicSheet.SourceMeasures.length)return this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentTimeStamp=i.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp),this.currentVoiceEntryIndex=-1,void this.recursiveMove();this.currentVerticalContainerInMeasureTimestamp=new i.Fraction,this.currentMeasure=void 0,this.currentVoiceEntries=void 0,this.endReached=!0},t.prototype.checkEntries=function(t){var e=this.CurrentVisibleVoiceEntries();if(e.length>0){if(!t)return!0;for(var n=0,i=e.length;n<i;++n)if(void 0!==e[n].Notes[0].Pitch)return!0}return!1},t.prototype.getVisibleEntries=function(t,e){t.ParentVoice.Visible&&e.push(t)},t.prototype.getAudibleEntries=function(t,e){t.ParentVoice.Audible&&e.push(t)},t.prototype.getScoreFollowingEntries=function(t,e){t.ParentVoice.Following&&t.ParentVoice.Parent.Following&&e.push(t)},t.prototype.getVoiceEntries=function(t){for(var e=[],n=0,i=t.StaffEntries;n<i.length;n++){var r=i[n];if(void 0!==r)for(var o=0,s=r.VoiceEntries;o<s.length;o++){var a=s[o];e.push(a)}}return e},t}();e.MusicPartManagerIterator=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(202),o=function(){function t(t){this.musicSheet=t}return t.prototype.reInit=function(){this.init()},t.prototype.init=function(){this.parts=this.musicSheet.Repetitions.slice(),this.sheetStart=this.musicSheet.SelectionStart=new i.Fraction(0,1),this.sheetEnd=this.musicSheet.SelectionEnd=this.musicSheet.SheetEndTimestamp,this.calcMapping()},t.prototype.getCurrentRepetitionTimestampTransform=function(t){for(var e=void 0,n=this.timestamps.length-1;n>=0;n--)if(t>=(e=this.timestamps[n]).$from)return e;return this.timestamps[0]},t.prototype.absoluteEnrolledToSheetTimestamp=function(t){if(0===this.timestamps.length)return t;var e=this.getCurrentRepetitionTimestampTransform(t);return i.Fraction.plus(t,i.Fraction.minus(e.to,e.$from))},Object.defineProperty(t.prototype,"Parts",{get:function(){return this.parts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MusicSheet",{get:function(){return this.musicSheet},enumerable:!0,configurable:!0}),t.prototype.getIterator=function(t){return void 0===t?new r.MusicPartManagerIterator(this,this.musicSheet.SelectionStart,this.musicSheet.SelectionEnd):new r.MusicPartManagerIterator(this,t,void 0)},t.prototype.setSelectionStart=function(t){this.musicSheet.SelectionStart=t,this.musicSheet.SelectionEnd=void 0},t.prototype.setSelectionRange=function(t,e){this.musicSheet.SelectionStart=void 0===t?this.sheetStart:t,this.musicSheet.SelectionEnd=void 0===e?this.sheetEnd:e},t.prototype.calcMapping=function(){var t=[],e=this.getIterator(),n=e.CurrentRepetition,i=new s(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0);for(t.push(i);!e.EndReached;){if(e.JumpOccurred||n!==e.CurrentRepetition){if(n=e.CurrentRepetition,e.backJumpOccurred){var r=e.JumpResponsibleRepetition;i.nextBackJump=e.CurrentEnrolledTimestamp,i.curRepetition=r,i.curRepetitionIteration=e.CurrentJumpResponsibleRepetitionIterationBeforeJump;for(var o=this.timestamps.length-2;o>=0&&!t[o].to.lt(r.AbsoluteTimestamp)&&void 0===t[o].curRepetition;o--)t[o].nextBackJump=i.nextBackJump,t[o].curRepetition=r,t[o].curRepetitionIteration=i.curRepetitionIteration}i=new s(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0),t.push(i)}e.moveToNext()}this.timestamps=t},t}();e.MusicPartManager=o;var s=function(){return function(t,e,n,i){this.$from=t,this.to=e,this.curRepetition=n,this.curRepetitionIteration=i,this.nextBackJump=void 0,this.nextForwardJump=void 0}}();e.TimestampTransform=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(203),o=n(198),s=n(57),a=n(196),c=n(58),u=n(37),l=n(3),h=function(){return function(){}}();e.PlaybackSettings=h;var f=function(){function t(){this.idString="kjgdfuilhsda\xf6oihfsvjh",this.sourceMeasures=[],this.repetitions=[],this.dynListStaves=[],this.timestampSortedDynamicExpressionsList=[],this.timestampSortedTempoExpressionsList=[],this.instrumentalGroups=[],this.instruments=[],this.musicPartManager=void 0,this.musicSheetErrors=new a.MusicSheetErrors,this.staves=[],this.transpose=0,this.defaultStartTempoInBpm=0,this.drawErroneousMeasures=!1,this.hasBeenOpenedForTheFirstTime=!1,this.currentEnrolledPosition=new i.Fraction(0,1),this.rules=c.EngravingRules.Rules,this.playbackSettings=new h,this.playbackSettings.rhythm=new i.Fraction(4,4,0,!1),this.userStartTempoInBPM=100,this.pageWidth=120,this.MusicPartManager=new r.MusicPartManager(this)}return t.getIndexFromStaff=function(t){return t.idInMusicSheet},Object.defineProperty(t.prototype,"SourceMeasures",{get:function(){return this.sourceMeasures},set:function(t){this.sourceMeasures=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Repetitions",{get:function(){return this.repetitions},set:function(t){this.repetitions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DynListStaves",{get:function(){return this.dynListStaves},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimestampSortedTempoExpressionsList",{get:function(){return this.timestampSortedTempoExpressionsList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimestampSortedDynamicExpressionsList",{get:function(){return this.timestampSortedDynamicExpressionsList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InstrumentalGroups",{get:function(){return this.instrumentalGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Instruments",{get:function(){return this.instruments},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetPlaybackSetting",{get:function(){return this.playbackSettings},set:function(t){this.playbackSettings=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DrawErroneousMeasures",{get:function(){return this.drawErroneousMeasures},set:function(t){this.drawErroneousMeasures=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"HasBeenOpenedForTheFirstTime",{get:function(){return this.hasBeenOpenedForTheFirstTime},set:function(t){this.hasBeenOpenedForTheFirstTime=t},enumerable:!0,configurable:!0}),t.prototype.InitializeStartTempoInBPM=function(t){this.userStartTempoInBPM=t},Object.defineProperty(t.prototype,"DefaultStartTempoInBpm",{get:function(){return this.defaultStartTempoInBpm},set:function(t){this.defaultStartTempoInBpm=t,this.InitializeStartTempoInBPM(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Path",{get:function(){return this.path},set:function(t){this.path=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Staves",{get:function(){return this.staves},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TitleString",{get:function(){return void 0!==this.title?this.title.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SubtitleString",{get:function(){return void 0!==this.subtitle?this.subtitle.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ComposerString",{get:function(){return void 0!==this.composer?this.composer.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricistString",{get:function(){return void 0!==this.lyricist?this.lyricist.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Title",{get:function(){return this.title},set:function(t){this.title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Subtitle",{get:function(){return this.subtitle},set:function(t){this.subtitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Composer",{get:function(){return this.composer},set:function(t){this.composer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Lyricist",{get:function(){return this.lyricist},set:function(t){this.lyricist=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Rules",{get:function(){return this.engravingRules},set:function(t){this.engravingRules=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetErrors",{get:function(){return this.musicSheetErrors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionStart",{get:function(){return this.selectionStart},set:function(t){this.selectionStart=t.clone(),this.currentEnrolledPosition=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionEnd",{get:function(){return this.selectionEnd},set:function(t){this.selectionEnd=t},enumerable:!0,configurable:!0}),t.prototype.addMeasure=function(t){this.sourceMeasures.push(t),t.measureListIndex=this.sourceMeasures.length-1},t.prototype.checkForInstrumentWithNoVoice=function(){for(var t=0,e=this.instruments.length;t<e;++t){var n=this.instruments[t];if(0===n.Voices.length){var i=new s.Voice(n,1);n.Voices.push(i)}}},t.prototype.getStaffFromIndex=function(t){return this.staves[t]},t.prototype.fillStaffList=function(){for(var t=0,e=0,n=this.instruments.length;e<n;++e)for(var i=this.instruments[e],r=0,o=i.Staves.length;r<o;++r){var s=i.Staves[r];s.idInMusicSheet=t,this.staves.push(s),t++}},Object.defineProperty(t.prototype,"MusicPartManager",{get:function(){return this.musicPartManager},set:function(t){this.musicPartManager=t},enumerable:!0,configurable:!0}),t.prototype.getCompleteNumberOfStaves=function(){for(var t=0,e=0,n=this.instruments.length;e<n;++e)t+=this.instruments[e].Staves.length;return t},t.prototype.getListOfMeasuresFromIndeces=function(t,e){for(var n=[],i=t;i<=e;i++)n.push(this.sourceMeasures[i]);return n},t.prototype.getNextSourceMeasure=function(t){var e=this.sourceMeasures.indexOf(t);return e===this.sourceMeasures.length-1?t:this.sourceMeasures[e+1]},t.prototype.getFirstSourceMeasure=function(){return this.sourceMeasures[0]},t.prototype.getLastSourceMeasure=function(){return this.sourceMeasures[this.sourceMeasures.length-1]},t.prototype.resetAllNoteStates=function(){for(var t=this.MusicPartManager.getIterator();!t.EndReached&&void 0!==t.CurrentVoiceEntries;){for(var e=0,n=t.CurrentVoiceEntries.length;e<n;++e)for(var i=t.CurrentVoiceEntries[e],r=0,o=i.Notes.length;r<o;++r)i.Notes[r].state=u.NoteState.Normal;t.moveToNext()}},t.prototype.getMusicSheetInstrumentIndex=function(t){return this.Instruments.indexOf(t)},t.prototype.getGlobalStaffIndexOfFirstStaff=function(t){for(var e=this.getMusicSheetInstrumentIndex(t),n=0,i=0;i<e;i++)n+=this.Instruments[i].Staves.length;return n},t.prototype.setRepetitionNewUserNumberOfRepetitions=function(t,e){for(var n=0,i=0;i<this.repetitions.length;i++)if(this.repetitions[i]instanceof o.Repetition){if(t===n){this.repetitions[i].UserNumberOfRepetitions=e;break}n++}},t.prototype.getRepetitionByIndex=function(t){for(var e=0,n=0;n<this.repetitions.length;n++)if(this.repetitions[n]instanceof o.Repetition){if(t===e)return this.repetitions[n];e++}},t.prototype.CompareTo=function(t){return this.Title.text.localeCompare(t.Title.text)},Object.defineProperty(t.prototype,"Errors",{get:function(){return this.musicSheetErrors.measureErrors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FirstMeasureNumber",{get:function(){try{return this.getFirstSourceMeasure().MeasureNumber}catch(t){return l.Logging.log("MusicSheet.FirstMeasureNumber: ",t),0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LastMeasureNumber",{get:function(){try{return this.getLastSourceMeasure().MeasureNumber}catch(t){return l.Logging.log("MusicSheet.LastMeasureNumber: ",t),0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentEnrolledPosition",{get:function(){return this.currentEnrolledPosition.clone()},set:function(t){this.currentEnrolledPosition=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Transpose",{get:function(){return this.transpose},set:function(t){this.transpose=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FullNameString",{get:function(){return this.ComposerString+" "+this.TitleString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IdString",{get:function(){return this.idString},set:function(t){this.idString=t},enumerable:!0,configurable:!0}),t.prototype.getEnrolledSelectionStartTimeStampWorkaround=function(){var t=this.MusicPartManager.getIterator(this.SelectionStart);return i.Fraction.createFromFraction(t.CurrentEnrolledTimestamp)},Object.defineProperty(t.prototype,"SheetEndTimestamp",{get:function(){var t=this.getLastSourceMeasure();return i.Fraction.plus(t.AbsoluteTimestamp,t.Duration)},enumerable:!0,configurable:!0}),t.prototype.getSourceMeasureFromTimeStamp=function(t){for(var e=0,n=this.sourceMeasures.length;e<n;++e)for(var i=this.sourceMeasures[e],r=0,o=i.VerticalSourceStaffEntryContainers.length;r<o;++r){var s=i.VerticalSourceStaffEntryContainers[r];if(t.Equals(s.getAbsoluteTimestamp()))return i}return this.findSourceMeasureFromTimeStamp(t)},t.prototype.findSourceMeasureFromTimeStamp=function(t){for(var e=0,n=this.sourceMeasures;e<n.length;e++){var r=n[e];if(r.AbsoluteTimestamp.lte(t)&&t.lt(i.Fraction.plus(r.AbsoluteTimestamp,r.Duration)))return r}},t.prototype.getVisibleInstruments=function(){for(var t=[],e=0,n=this.Instruments.length;e<n;++e){var i=this.Instruments[e];i.Voices.length>0&&i.Voices[0].Visible&&t.push(i)}return t},t.defaultTitle="[kein Titel]",t}();e.MusicSheet=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(204),r=n(195),o=n(1),s=n(185),a=n(99),c=n(30),u=n(18),l=n(3),h=n(16),f=n(16),d=n(33),p=n(98),m=n(173),b=n(7),g=n(26),v=n(172),y=function(){function t(t){void 0===t&&(t=void 0),this.completeNumberOfStaves=0,this.afterSheetReadingModules=void 0===t?[]:t,this.repetitionInstructionReader=v.MusicSymbolModuleFactory.createRepetitionInstructionReader(),this.repetitionCalculator=v.MusicSymbolModuleFactory.createRepetitionCalculator()}return Object.defineProperty(t.prototype,"CompleteNumberOfStaves",{get:function(){return this.completeNumberOfStaves},enumerable:!0,configurable:!0}),t.doCalculationsAfterDurationHasBeenSet=function(t){for(var e=0,n=t;e<n.length;e++)n[e].doCalculationsAfterDurationHasBeenSet()},t.prototype.createMusicSheet=function(t,e){try{return this._createMusicSheet(t,e)}catch(t){l.Logging.log("MusicSheetReader.CreateMusicSheet",t)}},t.prototype._removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},t.prototype.trimString=function(t){return t.replace(/^\s+|\s+$/g,"")},t.prototype._lastElement=function(t){return t[t.length-1]},t.prototype._createMusicSheet=function(e,n){var s=[],a=0;if(this.musicSheet=new i.MusicSheet,this.musicSheet.Path=n,void 0===e)throw new u.MusicSheetReadingException("Undefined root element");this.pushSheetLabels(e,n);var l=e.element("part-list");if(void 0===l)throw new u.MusicSheetReadingException("Undefined partListNode");var h=e.elements("part"),f=l.elements();this.initializeReading(f,h,s);var d=!0;this.currentFraction=new o.Fraction(0,1);var p=!1,m=e.element("identification");for(void 0!==m&&(m=m.element("encoding")),void 0!==m&&(m=m.element("software")),void 0!==m&&"Guitar Pro 5"===m.value&&(p=!0);d;){void 0!==this.currentMeasure&&this.currentMeasure.endsPiece&&(a=0),this.currentMeasure=new r.SourceMeasure(this.completeNumberOfStaves);for(var b=0,g=s;b<g.length;b++){var v=g[b];try{d=d&&v.readNextXmlMeasure(this.currentMeasure,this.currentFraction,p)}catch(t){var y=c.ITextTranslation.translateText("ReaderErrorMessages/InstrumentError","Error while reading instruments.");throw new u.MusicSheetReadingException(y,t)}}d&&(this.musicSheet.addMeasure(this.currentMeasure),this.checkIfRhythmInstructionsAreSetAndEqual(s),this.checkSourceMeasureForNullEntries(),a=this.setSourceMeasureDuration(s,a),t.doCalculationsAfterDurationHasBeenSet(s),this.currentMeasure.AbsoluteTimestamp=this.currentFraction.clone(),this.musicSheet.SheetErrors.finalizeMeasure(this.currentMeasure.MeasureNumber),this.currentFraction.Add(this.currentMeasure.Duration),this.previousMeasure=this.currentMeasure)}void 0!==this.repetitionInstructionReader&&(this.repetitionInstructionReader.removeRedundantInstructions(),void 0!==this.repetitionCalculator&&this.repetitionCalculator.calculateRepetitions(this.musicSheet,this.repetitionInstructionReader.repetitionInstructions)),this.musicSheet.checkForInstrumentWithNoVoice(),this.musicSheet.fillStaffList();for(var _=0,x=this.afterSheetReadingModules.length;_<x;++_)this.afterSheetReadingModules[_].calculate(this.musicSheet);return this.musicSheet},t.prototype.initializeReading=function(t,e,n){var i=this.createInstrumentGroups(t);this.completeNumberOfStaves=this.getCompleteNumberOfStavesFromXml(e),0!==e.length&&(this.repetitionInstructionReader.MusicSheet=this.musicSheet,this.currentFraction=new o.Fraction(0,1),this.currentMeasure=void 0,this.previousMeasure=void 0);for(var r=0,a=0,u=e;a<u.length;a++){var l=u[a],h=l.attribute("id");if(h){var f=i[h.value],d=l.elements("measure"),p=1;try{p=this.getInstrumentNumberOfStavesFromXml(l)}catch(t){var m=c.ITextTranslation.translateText("ReaderErrorMessages/InstrumentStavesNumberError","Invalid number of staves at instrument: ");this.musicSheet.SheetErrors.push(m+f.Name);continue}f.createStaves(p),n.push(new s.InstrumentReader(this.repetitionInstructionReader,d,f)),void 0!==this.repetitionInstructionReader&&(this.repetitionInstructionReader.xmlMeasureList[r]=d),r++}}},t.prototype.checkIfRhythmInstructionsAreSetAndEqual=function(t){for(var e=[],n=0;n<this.completeNumberOfStaves;n++)if(void 0!==this.currentMeasure.FirstInstructionsStaffEntries[n]){var i=this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions[this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.length-1];i instanceof h.RhythmInstruction&&e.push(i)}for(var r=0,s=-1,a=0,c=e.length;a<c;++a)if((u=e[a]).Rhythm.RealValue>r){if(this.areRhythmInstructionsMixed(e)&&u.SymbolEnum!==f.RhythmSymbolEnum.NONE)continue;r=u.Rhythm.RealValue,s=e.indexOf(u)}if(e.length>0&&e.length<this.completeNumberOfStaves){var u=e[s].clone();for(n=0;n<this.completeNumberOfStaves;n++)void 0===this.currentMeasure.FirstInstructionsStaffEntries[n]||this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions)instanceof h.RhythmInstruction||(this.currentMeasure.FirstInstructionsStaffEntries[n].removeAllInstructionsOfTypeRhythmInstruction(),this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.push(u.clone())),void 0===this.currentMeasure.FirstInstructionsStaffEntries[n]&&(this.currentMeasure.FirstInstructionsStaffEntries[n]=new d.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.push(u.clone()));for(a=0,c=t.length;a<c;++a)t[a].ActiveRhythm=u}if(0===e.length&&this.currentMeasure===this.musicSheet.SourceMeasures[0]){for(u=new h.RhythmInstruction(new o.Fraction(4,4,0,!1),f.RhythmSymbolEnum.NONE),n=0;n<this.completeNumberOfStaves;n++)void 0===this.currentMeasure.FirstInstructionsStaffEntries[n]?this.currentMeasure.FirstInstructionsStaffEntries[n]=new d.SourceStaffEntry(void 0,void 0):this.currentMeasure.FirstInstructionsStaffEntries[n].removeAllInstructionsOfTypeRhythmInstruction(),this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.push(u);for(a=0,c=t.length;a<c;++a)t[a].ActiveRhythm=u}for(a=0,c=e.length;a<c;++a){if((u=e[a]).Rhythm.RealValue<r&&this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(u)].Instructions)instanceof h.RhythmInstruction){var l=this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(u)].Instructions;l[l.length-1]=e[s].clone()}Math.abs(u.Rhythm.RealValue-r)<1e-6&&u.SymbolEnum!==f.RhythmSymbolEnum.NONE&&this.areRhythmInstructionsMixed(e)&&(u.SymbolEnum=f.RhythmSymbolEnum.NONE)}},t.prototype.areRhythmInstructionsMixed=function(t){for(var e=1;e<t.length;e++)if(Math.abs(t[e].Rhythm.RealValue-t[0].Rhythm.RealValue)<1e-6&&t[e].SymbolEnum!==t[0].SymbolEnum)return!0;return!1},t.prototype.setSourceMeasureDuration=function(t,e){for(var n=new o.Fraction(0,1),i=[],r=0,s=t;r<s.length;r++){var a=s[r];i.push(a.MaxTieNoteFraction);var u=a.ActiveRhythm.Rhythm;n.lt(u)&&(n=new o.Fraction(u.Numerator,u.Denominator,0,!1))}for(var l=this.currentMeasure.calculateInstrumentsDuration(this.musicSheet,i),h=new o.Fraction(0,1),f=0,d=l;f<d.length;f++){var p=d[f];h.lt(p)&&(h=p)}o.Fraction.Equal(h,n)?this.checkFractionsForEquivalence(h,n):h.lt(n)&&(h=this.currentMeasure.reverseCheck(this.musicSheet,h),this.checkFractionsForEquivalence(h,n)),this.currentMeasure.ImplicitMeasure=this.checkIfMeasureIsImplicit(h,n),this.currentMeasure.ImplicitMeasure||e++,this.currentMeasure.Duration=h,this.currentMeasure.MeasureNumber=e;for(var m=0;m<l.length;m++)if(p=l[m],this.currentMeasure.ImplicitMeasure&&p!==h||!o.Fraction.Equal(p,n)&&!this.allInstrumentsHaveSameDuration(l,h))for(var b=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.musicSheet.Instruments[m]),g=0;g<this.musicSheet.Instruments[m].Staves.length;g++)if(!this.staffMeasureIsEmpty(b+g)){this.currentMeasure.setErrorInStaffMeasure(b+g,!0);var v=c.ITextTranslation.translateText("ReaderErrorMessages/MissingNotesError","Given Notes don't correspond to measure duration.");this.musicSheet.SheetErrors.pushMeasureError(v)}return e},t.prototype.checkFractionsForEquivalence=function(t,e){if(e.Denominator>t.Denominator){var n=e.Denominator/t.Denominator;t.expand(n)}},t.prototype.checkIfMeasureIsImplicit=function(t,e){return!(void 0!==this.previousMeasure||!t.lt(e))||void 0!==this.previousMeasure&&o.Fraction.plus(this.previousMeasure.Duration,t).Equals(e)},t.prototype.allInstrumentsHaveSameDuration=function(t,e){for(var n=0,i=0,r=t.length;i<r;++i)t[i].Equals(e)&&n++;return n===t.length&&e!==new o.Fraction(0,1)},t.prototype.staffMeasureIsEmpty=function(t){for(var e=0,n=0;n<this.currentMeasure.VerticalSourceStaffEntryContainers.length;n++)void 0===this.currentMeasure.VerticalSourceStaffEntryContainers[n].StaffEntries[t]&&e++;return e===this.currentMeasure.VerticalSourceStaffEntryContainers.length},t.prototype.checkSourceMeasureForNullEntries=function(){for(var t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--)for(var e=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length-1;e>=0;e--){if(void 0!==(a=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e]))for(var n=a.VoiceEntries.length-1;n>=0;n--){var i=a.VoiceEntries[n];0===i.Notes.length&&(this._removeFromArray(i.ParentVoice.VoiceEntries,i),this._removeFromArray(a.VoiceEntries,i))}void 0!==a&&0===a.VoiceEntries.length&&(this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e]=void 0)}for(t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--){for(var r=0,o=0,s=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length;o<s;++o){var a;void 0===(a=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[o])&&r++}r===this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length&&this._removeFromArray(this.currentMeasure.VerticalSourceStaffEntryContainers,this.currentMeasure.VerticalSourceStaffEntryContainers[t])}},t.prototype.pushSheetLabels=function(t,e){if(this.readComposer(t),this.readTitle(t),void 0!==this.musicSheet.Title&&void 0!==this.musicSheet.Composer||this.readTitleAndComposerFromCredits(t),void 0===this.musicSheet.Title)try{var n=Math.max(0,e.lastIndexOf("/"),e.lastIndexOf("\\")),i=e.substr(n).split(".",1);this.musicSheet.Title=new g.Label(i[0])}catch(t){l.Logging.log("MusicSheetReader.pushSheetLabels: ",t)}},t.prototype.presentAttrsWithValue=function(t,e){for(var n=0,i=t.attributes();n<i.length;n++)if(i[n].value===e)return!0;return!1},t.prototype.readComposer=function(t){var e=t.element("identification");if(void 0!==e)for(var n=e.elements("creator"),i=0,r=n.length;i<r;++i){var o=n[i];if(o.hasAttributes){if(this.presentAttrsWithValue(o,"composer")){this.musicSheet.Composer=new g.Label(this.trimString(o.value));continue}(this.presentAttrsWithValue(o,"lyricist")||this.presentAttrsWithValue(o,"poet"))&&(this.musicSheet.Lyricist=new g.Label(this.trimString(o.value)))}}},t.prototype.readTitleAndComposerFromCredits=function(t){var e=this.computeSystemYCoordinates(t);if(0!==e){for(var n=1,i=void 0,r=0,o=void 0,s=void 0,a=t.elements("credit"),c=0,u=a.length;c<u;++c){var l=a[c];if(!l.attribute("page"))return;if("1"===l.attribute("page").value){var h=void 0;if(void 0!==l){if(!(h=l.element("credit-words")).attribute("justify"))break;var f=h.attribute("justify").value,d=h.attribute("default-y").value,p=parseFloat(d);if(p>e){if(void 0===this.musicSheet.Title){var m=h.attribute("font-size").value,b=parseFloat(m);n<b&&(n=b,i=h.value)}if(void 0===this.musicSheet.Subtitle&&"right"!==f&&"left"!==f&&r<p&&(r=p,s?(o=s,s=h.value):s=h.value),void 0===this.musicSheet.Composer||void 0===this.musicSheet.Lyricist)switch(f){case"right":this.musicSheet.Composer=new g.Label(this.trimString(h.value));break;case"left":this.musicSheet.Lyricist=new g.Label(this.trimString(h.value))}}}}}void 0===this.musicSheet.Title&&i&&(this.musicSheet.Title=new g.Label(this.trimString(i))),void 0===this.musicSheet.Subtitle&&o&&(this.musicSheet.Subtitle=new g.Label(this.trimString(o)))}},t.prototype.computeSystemYCoordinates=function(t){if(void 0===t.element("defaults"))return 0;var e,n=0,i=t.element("defaults").element("page-layout").element("page-height").value;e=parseFloat(i);for(var r=!1,o=t.elements("part"),s=0,a=o.length;s<a;++s){for(var c=o[s].elements("measure"),u=0,l=c.length;u<l;++u){var h=c[u];if(void 0!==h.element("print")){for(var f=h.element("print").elements("system-layout"),d=0,p=f.length;d<p;++d){var m=f[d];if(void 0!==m.element("top-system-distance")){var b=m.element("top-system-distance").value;n=parseFloat(b),r=!0;break}}break}}if(r)break}return void 0!==t.element("defaults").element("system-layout")&&void 0!==t.element("defaults").element("system-layout").element("top-system-distance")&&(b=t.element("defaults").element("system-layout").element("top-system-distance").value,n=parseFloat(b)),0===n?0:e-n},t.prototype.readTitle=function(t){var e=t.element("work"),n=void 0;void 0!==e&&void 0!==(n=e.element("work-title"))&&n.value&&(this.musicSheet.Title=new g.Label(this.trimString(n.value)));var i=t.element("movement-title"),r="";if(void 0!==i&&(void 0===this.musicSheet.Title?this.musicSheet.Title=new g.Label(this.trimString(i.value)):r=this.trimString(i.value)),void 0!==e){var o=e.element("work-number");if(void 0!==o){var s=o.value;s&&(r=r?s:r+", "+s)}}r&&(this.musicSheet.Subtitle=new g.Label(r))},t.prototype.createInstrumentGroups=function(t){var e,n=0,i={};try{for(var r=t,o=0,s=r.length;o<s;++o){var h=r[o];if("score-part"===h.name){var f=h.attribute("id").value,d=new a.Instrument(n,f,this.musicSheet,e);n++;for(var g=h.elements(),v=0,y=g.length;v<y;++v){var _=g[v];try{if("part-name"===_.name)d.Name=_.value;else if("score-instrument"===_.name){(w=new m.SubInstrument(d)).idString=_.firstAttribute.value,d.SubInstruments.push(w);var x=_.element("instrument-name");void 0!==x&&(w.name=x.value,w.setMidiInstrument(x.value))}else if("midi-instrument"===_.name){for(var w=d.getSubInstrument(_.firstAttribute.value),S=0,E=d.SubInstruments.length;S<E;++S){var T=d.SubInstruments[S];if(T.idString===_.value){w=T;break}}var k=_.elements();for(S=0,E=k.length;S<E;++S){var P=k[S];try{if("midi-channel"===P.name)10===parseInt(P.value,10)&&(d.MidiInstrumentId=b.MidiInstrument.Percussion);else if("midi-program"===P.name)d.SubInstruments.length>0&&d.MidiInstrumentId!==b.MidiInstrument.Percussion&&(w.midiInstrumentID=Math.max(0,parseInt(P.value,10)-1));else if("midi-unpitched"===P.name)w.fixedKey=Math.max(0,parseInt(P.value,10));else if("volume"===P.name)try{var M=parseFloat(P.value);w.volume=M/127}catch(t){l.Logging.debug("ExpressionReader.readExpressionParameters","read volume",t)}else if("pan"===P.name)try{M=parseFloat(P.value),w.pan=M/64}catch(t){l.Logging.debug("ExpressionReader.readExpressionParameters","read pan",t)}}catch(t){l.Logging.log("MusicSheetReader.createInstrumentGroups midi settings: ",t)}}}}catch(t){l.Logging.log("MusicSheetReader.createInstrumentGroups: ",t)}}0===d.SubInstruments.length&&(w=new m.SubInstrument(d),d.SubInstruments.push(w)),i[f]=d,void 0!==e?(e.InstrumentalGroups.push(d),this.musicSheet.Instruments.push(d)):(this.musicSheet.InstrumentalGroups.push(d),this.musicSheet.Instruments.push(d))}else if("part-group"===h.name&&"start"===h.attribute("type").value){var C=new p.InstrumentalGroup("group",this.musicSheet,e);void 0!==e?e.InstrumentalGroups.push(C):this.musicSheet.InstrumentalGroups.push(C),e=C}else if("part-group"===h.name&&"stop"===h.attribute("type").value&&void 0!==e){if(1===e.InstrumentalGroups.length){var O=e.InstrumentalGroups[0];void 0!==e.Parent?(e.Parent.InstrumentalGroups.push(O),this._removeFromArray(e.Parent.InstrumentalGroups,e)):(this.musicSheet.InstrumentalGroups.push(O),this._removeFromArray(this.musicSheet.InstrumentalGroups,e))}e=e.Parent}}}catch(t){var A=c.ITextTranslation.translateText("ReaderErrorMessages/InstrumentError","Error while reading Instruments");throw new u.MusicSheetReadingException(A,t)}for(o=0,s=this.musicSheet.Instruments.length;o<s;++o)(d=this.musicSheet.Instruments[o]).Name||(d.Name="Instr. "+d.IdString);return i},t.prototype.getCompleteNumberOfStavesFromXml=function(t){for(var e=0,n=0,i=t;n<i.length;n++){var r=i[n].elements("measure");if(r.length>0){var o=r[0];if(void 0!==o){var s=o.element("attributes");void 0!==s&&(s=s.element("staves")),void 0===s?e++:e+=parseInt(s.value,10)}}}if(isNaN(e)||e<=0){var a=c.ITextTranslation.translateText("ReaderErrorMessages/StaffError","Invalid number of staves.");throw new u.MusicSheetReadingException(a)}return e},t.prototype.getInstrumentNumberOfStavesFromXml=function(t){var e=0,n=t.element("measure");if(void 0!==n){var i=n.element("attributes"),r=void 0;void 0!==i&&(r=i.element("staves")),e=void 0===i||void 0===r?1:parseInt(r.value,10)}if(isNaN(e)||e<=0){var o=c.ITextTranslation.translateText("ReaderErrorMessages/StaffError","Invalid number of Staves.");throw new u.MusicSheetReadingException(o)}return e},t}();e.MusicSheetReader=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.graphicalLyricsEntries=[],this.lyricWord=t,this.initialize()}return Object.defineProperty(t.prototype,"GetLyricWord",{get:function(){return this.lyricWord},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraphicalLyricsEntries",{get:function(){return this.graphicalLyricsEntries},set:function(t){this.graphicalLyricsEntries=t},enumerable:!0,configurable:!0}),t.prototype.isFilled=function(){for(var t=0;t<this.graphicalLyricsEntries.length;t++)if(void 0===this.graphicalLyricsEntries[t])return!1;return!0},t.prototype.initialize=function(){for(var t=0;t<this.lyricWord.Syllables.length;t++)this.graphicalLyricsEntries.push(void 0)},t}();e.GraphicalLyricWord=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(32),r=n(26),o=n(20),s=n(5),a=function(){function t(t,e,n,a){this.lyricsEntry=t,this.graphicalStaffEntry=e,this.graphicalLabel=new i.GraphicalLabel(new r.Label(t.Text),n,o.TextAlignment.CenterBottom,e.PositionAndShape),this.graphicalLabel.PositionAndShape.RelativePosition=new s.PointF2D(0,a)}return Object.defineProperty(t.prototype,"GetLyricsEntry",{get:function(){return this.lyricsEntry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentLyricWord",{get:function(){return this.graphicalLyricWord},set:function(t){this.graphicalLyricWord=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraphicalLabel",{get:function(){return this.graphicalLabel},set:function(t){this.graphicalLabel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffEntryParent",{get:function(){return this.graphicalStaffEntry},set:function(t){this.graphicalStaffEntry=t},enumerable:!0,configurable:!0}),t}();e.GraphicalLyricEntry=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=void 0),this.tie=t,this.startNote=e,this.endNote=n}return Object.defineProperty(t.prototype,"GetTie",{get:function(){return this.tie},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StartNote",{get:function(){return this.startNote},set:function(t){this.startNote=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"EndNote",{get:function(){return this.endNote},set:function(t){this.endNote=t},enumerable:!0,configurable:!0}),t}();e.GraphicalTie=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),s=n(26),a=n(32),c=n(95),u=n(4),l=n(9),h=n(5),f=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.chordSymbolContainer=e,o.boundingBox=new u.BoundingBox(o,n),o.calculateLabel(i,r),o}return r(e,t),Object.defineProperty(e.prototype,"GetChordSymbolContainer",{get:function(){return this.chordSymbolContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GetGraphicalLabel",{get:function(){return this.graphicalLabel},enumerable:!0,configurable:!0}),e.prototype.calculateLabel=function(t,e){var n=c.ChordSymbolContainer.calculateChordText(this.chordSymbolContainer,e);this.graphicalLabel=new a.GraphicalLabel(new s.Label(n),t,o.TextAlignment.CenterBottom,this.boundingBox),this.graphicalLabel.PositionAndShape.RelativePosition=new h.PointF2D(0,0)},e}(l.GraphicalObject);e.GraphicalChordSymbolContainer=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),s=n(38),a=n(4),c=function(t){function e(e,n,i){void 0===i&&(i=void 0);var r=t.call(this)||this;return r.sourceNote=e,r.parentStaffEntry=n,r.PositionAndShape=new a.BoundingBox(r,n.PositionAndShape),void 0!==i?r.graphicalNoteLength=i:void 0!==e.NoteTie?r.graphicalNoteLength=e.calculateNoteLengthWithoutTie():r.graphicalNoteLength=e.Length,r.numberOfDots=r.calculateNumberOfNeededDots(r.graphicalNoteLength),r}return r(e,t),Object.defineProperty(e.prototype,"ParentList",{get:function(){for(var t=0,e=this.parentStaffEntry.notes.length;t<e;++t){var n=this.parentStaffEntry.notes[t];if(-1!==n.indexOf(this))return n}},enumerable:!0,configurable:!0}),e.prototype.Transpose=function(t,e,n,i){var r=this.sourceNote.Pitch;return void 0!==s.MusicSheetCalculator.transposeCalculator&&(r=s.MusicSheetCalculator.transposeCalculator.transposePitch(this.sourceNote.Pitch,t,n)),r},e.prototype.calculateNumberOfNeededDots=function(t){var e=1,n=2,i=t.GetExpandedNumerator();if(void 0===this.sourceNote||void 0===this.sourceNote.NoteTuplet)for(;n<i;)e++,n=Math.pow(2,e);return Math.min(3,e-1)},e}(o.GraphicalObject);e.GraphicalNote=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),s=n(210),a=n(25),c=n(59),u=function(t){function e(e,n,i,r,o){void 0===r&&(r=c.OctaveEnum.NONE),void 0===o&&(o=void 0);var s=t.call(this,e,n,o)||this;return s.clef=i,e.Pitch&&(s.vfpitch=a.VexFlowConverter.pitch(e.Pitch,s.clef),s.vfpitch[1]=void 0),s}return r(e,t),e.prototype.setPitch=function(t){if(this.vfnote){var e=a.VexFlowConverter.accidental(t.Accidental);e&&(alert(e),this.vfnote[0].addAccidental(this.vfnote[1],new o.Flow.Accidental(e)))}else this.vfpitch=a.VexFlowConverter.pitch(t,this.clef)},e.prototype.setIndex=function(t,e){this.vfnote=[t,e]},e}(s.GraphicalNote);e.VexFlowGraphicalNote=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),s=n(1),a=n(9),c=n(35),u=function(t){function e(e,n,i){void 0===n&&(n=void 0),void 0===i&&(i=void 0);var r=t.call(this)||this;return r.graphicalInstructions=[],r.graphicalTies=[],r.lyricsEntries=[],r.parentMeasure=e,r.notes=[],r.graceStaffEntriesBefore=[],r.graceStaffEntriesAfter=[],r.sourceStaffEntry=n,void 0!==i?(r.staffEntryParent=i,r.parentVerticalContainer=i.parentVerticalContainer,r.PositionAndShape=new o.BoundingBox(r,i.PositionAndShape)):r.PositionAndShape=new o.BoundingBox(r,e.PositionAndShape),void 0!==n&&(r.relInMeasureTimestamp=n.Timestamp),r}return r(e,t),Object.defineProperty(e.prototype,"GraphicalInstructions",{get:function(){return this.graphicalInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalTies",{get:function(){return this.graphicalTies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LyricsEntries",{get:function(){return this.lyricsEntries},set:function(t){this.lyricsEntries=t},enumerable:!0,configurable:!0}),e.prototype.getAbsoluteTimestamp=function(){var t=this.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.clone();return void 0!==this.relInMeasureTimestamp&&t.Add(this.relInMeasureTimestamp),t},e.prototype.findEndTieGraphicalNoteFromNote=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r],a=s.sourceNote;if(void 0!==a.Pitch&&a.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&a.Pitch.Octave===t.Pitch.Octave&&a.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return s}},e.prototype.findEndTieGraphicalNoteFromNoteWithStartingSlur=function(t,e){for(var n=0,i=this.notes.length;n<i;++n)for(var r=this.notes[n],o=0,s=r.length;o<s;++o){var a=r[o],c=a.sourceNote;if(void 0!==c.NoteTie&&-1!==c.NoteSlurs.indexOf(e))return a}},e.prototype.findEndTieGraphicalNoteFromNoteWithEndingSlur=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r],a=s.sourceNote;if(void 0!==a.Pitch&&a.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&a.Pitch.Octave===t.Pitch.Octave&&this.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return s}},e.prototype.findGraphicalNoteFromGraceNote=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s.sourceNote===t)return s}},e.prototype.findGraphicalNoteFromNote=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s.sourceNote===t&&this.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return s}},e.prototype.getGraphicalNoteDurationFromVoice=function(t){for(var e=0,n=this.notes.length;e<n;++e){var i=this.notes[e];if(i[0].sourceNote.ParentVoiceEntry.ParentVoice===t)return i[0].graphicalNoteLength}return new s.Fraction(0,1)},e.prototype.findLinkedNotes=function(t){if(void 0!==this.sourceStaffEntry&&void 0!==this.sourceStaffEntry.Link)for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r];s.parentStaffEntry===this&&t.push(s)}},e.prototype.findVoiceEntryGraphicalNotes=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r)if(i[r].sourceNote.ParentVoiceEntry===t)return i},e.prototype.isVoiceEntryPartOfLinkedVoiceEntry=function(t){if(void 0!==this.sourceStaffEntry.Link)for(var e=0,n=this.sourceStaffEntry.Link.LinkStaffEntries.length;e<n;++e){var i=this.sourceStaffEntry.Link.LinkStaffEntries[e];if(-1!==i.VoiceEntries.indexOf(t)&&i!==this.sourceStaffEntry)return!0}return!1},e.prototype.findStaffEntryMinNoteLength=function(){for(var t=new s.Fraction(Number.MAX_VALUE,1),e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var a=i[r].graphicalNoteLength;a.lt(t)&&a.GetExpandedNumerator()>0&&(t=a)}return t},e.prototype.findStaffEntryMaxNoteLength=function(){for(var t=new s.Fraction(0,1),e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var a=i[r].graphicalNoteLength;t.lt(a)&&a.GetExpandedNumerator()>0&&(t=a)}return t},e.prototype.findOrCreateGraphicalNotesListFromVoiceEntry=function(t){var e;if(0===this.notes.length)e=[],this.notes.push(e);else{for(var n=0;n<this.notes.length;n++)if(this.notes[n][0].sourceNote.ParentVoiceEntry.ParentVoice===t.ParentVoice)return this.notes[n];e=[],this.notes.push(e)}return e},e.prototype.findOrCreateGraphicalNotesListFromGraphicalNote=function(t){var e,n=t.sourceNote.ParentStaffEntry;if(this.sourceStaffEntry!==n)e=this.findOrCreateGraphicalNotesListFromVoiceEntry(t.sourceNote.ParentVoiceEntry);else if(0===this.notes.length)e=[],this.notes.push(e);else{for(var i=0;i<this.notes.length;i++)if(this.notes[i][0].sourceNote.ParentVoiceEntry.ParentVoice===t.sourceNote.ParentVoiceEntry.ParentVoice)return this.notes[i];e=[],this.notes.push(e)}return e},e.prototype.addGraphicalNoteToListAtCorrectYPosition=function(t,e){if(0===t.length||e.PositionAndShape.RelativePosition.y<c.CollectionUtil.last(t).PositionAndShape.RelativePosition.Y)t.push(e);else for(var n=t.length-1;n>=0;n--){if(t[n].PositionAndShape.RelativePosition.y>e.PositionAndShape.RelativePosition.y){t.splice(n+1,0,e);break}if(0===n){t.splice(0,0,e);break}}},e.prototype.hasOnlyRests=function(){for(var t=0,e=this.notes;t<e.length;t++)for(var n=0,i=e[t];n<i.length;n++)if(!i[n].sourceNote.isRest())return!1;return!0},e}(a.GraphicalObject);e.GraphicalStaffEntry=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(212),s=n(31),a=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.graphicalNotes={},r.vfNotes={},r}return r(e,t),e.prototype.calculateXPosition=function(){var t=this.vfNotes,e=this.parentMeasure.getVFStave(),n=0,i=0;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];o.setStave(e);var a=o;n+=a.getNoteHeadEndX()-a.getGlyphWidth()/2,i++}n/=i;var c=e.getModifierXShift()-(1===this.parentMeasure.MeasureNumber?25:0);this.PositionAndShape.RelativePosition.x=(n-e.getNoteStartX()+c)/s.unitInPixels},e}(o.GraphicalStaffEntry);e.VexFlowStaffEntry=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),s=n(1),a=n(4),c=n(5),u=function(t){function e(e,n,i){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);var r=t.call(this)||this;return r.measureNumber=-1,r.parentStaff=e,r.parentSourceMeasure=n,r.parentStaffLine=i,void 0!==i?(r.parentStaff=i.ParentStaff,r.PositionAndShape=new a.BoundingBox(r,i.PositionAndShape)):r.PositionAndShape=new a.BoundingBox(r),r.PositionAndShape.BorderBottom=4,void 0!==r.parentSourceMeasure&&(r.measureNumber=r.parentSourceMeasure.MeasureNumber),r.staffEntries=[],r}return r(e,t),Object.defineProperty(e.prototype,"ParentStaff",{get:function(){return this.parentStaff},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MeasureNumber",{get:function(){return this.measureNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FirstInstructionStaffEntry",{get:function(){return this.firstInstructionStaffEntry},set:function(t){this.firstInstructionStaffEntry=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastInstructionStaffEntry",{get:function(){return this.lastInstructionStaffEntry},set:function(t){this.lastInstructionStaffEntry=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentStaffLine",{get:function(){return this.parentStaffLine},set:function(t){this.parentStaffLine=t,void 0!==this.parentStaffLine&&(this.PositionAndShape.Parent=this.parentStaffLine.PositionAndShape)},enumerable:!0,configurable:!0}),e.prototype.resetLayout=function(){throw new Error("not implemented")},e.prototype.getLineWidth=function(t){throw new Error("not implemented")},e.prototype.addClefAtBegin=function(t){throw new Error("not implemented")},e.prototype.addKeyAtBegin=function(t,e,n){throw new Error("not implemented")},e.prototype.addRhythmAtBegin=function(t){throw new Error("not implemented")},e.prototype.addClefAtEnd=function(t){throw new Error("not implemented")},e.prototype.setPositionInStaffline=function(t){this.PositionAndShape.RelativePosition=new c.PointF2D(t,0)},e.prototype.setWidth=function(t){this.PositionAndShape.BorderRight=t},e.prototype.layoutSymbols=function(){throw new Error("not implemented")},e.prototype.findGraphicalStaffEntryFromTimestamp=function(t){for(var e=0,n=this.staffEntries.length;e<n;++e){var i=this.staffEntries[e];if(i.relInMeasureTimestamp.Equals(t))return i}},e.prototype.findGraphicalStaffEntryFromVerticalContainerTimestamp=function(t){for(var e=0,n=this.staffEntries.length;e<n;++e){var i=this.staffEntries[e];if(i.sourceStaffEntry.VerticalContainerParent.getAbsoluteTimestamp().Equals(t))return i}},e.prototype.hasSameDurationWithSourceMeasureParent=function(){for(var t=new s.Fraction(0,1),e=0,n=this.staffEntries.length;e<n;++e){var i=this.staffEntries[e];t.Add(i.findStaffEntryMinNoteLength())}return t.Equals(this.parentSourceMeasure.Duration)},e.prototype.hasMultipleVoices=function(){if(0===this.staffEntries.length)return!1;for(var t=[],e=0,n=this.staffEntries.length;e<n;++e)for(var i=this.staffEntries[e],r=0,o=i.sourceStaffEntry.VoiceEntries.length;r<o;++r){var s=i.sourceStaffEntry.VoiceEntries[r];t.indexOf(s.ParentVoice)<0&&t.push(s.ParentVoice)}return t.length>1},e.prototype.isVisible=function(){return this.ParentStaff.ParentInstrument.Visible},e.prototype.getGraphicalMeasureDurationFromStaffEntries=function(){for(var t=new s.Fraction(0,1),e=[],n=0,i=this.staffEntries.length;n<i;++n)for(var r=0,o=(l=this.staffEntries[n]).sourceStaffEntry.VoiceEntries.length;r<o;++r){var a=l.sourceStaffEntry.VoiceEntries[r];e.indexOf(a.ParentVoice)<0&&e.push(a.ParentVoice)}for(n=0,i=e.length;n<i;++n){var c=e[n],u=new s.Fraction(0,1);for(r=0,o=this.staffEntries.length;r<o;++r)for(var l,h=0,f=(l=this.staffEntries[r]).notes.length;h<f;++h){var d=l.notes[h];d.length>0&&d[0].sourceNote.ParentVoiceEntry.ParentVoice===c&&u.Add(d[0].graphicalNoteLength)}t.lt(u)&&(t=s.Fraction.createFromFraction(u))}return t},e.prototype.addGraphicalStaffEntry=function(t){this.staffEntries.push(t)},e.prototype.addGraphicalStaffEntryAtTimestamp=function(t){if(void 0!==t)if(0===this.staffEntries.length||this.staffEntries[this.staffEntries.length-1].relInMeasureTimestamp.lt(t.relInMeasureTimestamp))this.staffEntries.push(t);else for(var e=this.staffEntries.length-1;e>=0;e--){if(this.staffEntries[e].relInMeasureTimestamp.lt(t.relInMeasureTimestamp)){this.staffEntries.splice(e+1,0,t);break}0===e&&this.staffEntries.splice(e,0,t)}},e.prototype.beginsWithLineRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.beginsWithLineRepetition()},e.prototype.endsWithLineRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.endsWithLineRepetition()},e.prototype.beginsWithWordRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.beginsWithWordRepetition()},e.prototype.endsWithWordRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.endsWithWordRepetition()},e}(o.GraphicalObject);e.StaffMeasure=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),s=n(214),a=n(34),c=n(25),u=n(3),l=n(31),h=n(24),f=n(44),d=n(17),p=function(t){function e(e,n,i){void 0===n&&(n=void 0),void 0===i&&(i=void 0);var r=t.call(this,e,i,n)||this;return r.octaveOffset=3,r.vfVoices={},r.vfTies=[],r.vfRepetitionWords=[],r.connectors=[],r.beams={},r.tuplets={},r.vftuplets={},r.minimumStaffEntriesWidth=-1,r.resetLayout(),r}return r(e,t),e.prototype.setAbsoluteCoordinates=function(t,e){this.stave.setX(t).setY(e)},e.prototype.resetLayout=function(){this.stave=new o.Flow.Stave(0,0,0,{space_above_staff_ln:0,space_below_staff_ln:0}),this.updateInstructionWidth()},e.prototype.clean=function(){this.vfTies.length=0,this.connectors=[],this.resetLayout()},e.prototype.getLineWidth=function(t){switch(t){case a.SystemLinesEnum.BoldThinDots:case a.SystemLinesEnum.DotsThinBold:case a.SystemLinesEnum.DotsBoldBoldDots:return 10/l.unitInPixels;default:return 0}},e.prototype.addClefAtBegin=function(t){this.octaveOffset=t.OctaveOffset;var e=c.VexFlowConverter.Clef(t,"default");this.stave.addClef(e.type,e.size,e.annotation,o.Flow.Modifier.Position.BEGIN),this.updateInstructionWidth()},e.prototype.addKeyAtBegin=function(t,e,n){this.stave.setKeySignature(c.VexFlowConverter.keySignature(t),c.VexFlowConverter.keySignature(e),void 0),this.updateInstructionWidth()},e.prototype.addRhythmAtBegin=function(t){var e=c.VexFlowConverter.TimeSignature(t);this.stave.addModifier(e,o.Flow.Modifier.Position.BEGIN),this.updateInstructionWidth()},e.prototype.addClefAtEnd=function(t){var e=c.VexFlowConverter.Clef(t,"small");this.stave.setEndClef(e.type,e.size,e.annotation),this.updateInstructionWidth()},e.prototype.addMeasureLine=function(t,e){switch(e){case f.SystemLinePosition.MeasureBegin:switch(t){case a.SystemLinesEnum.BoldThinDots:this.stave.setBegBarType(c.VexFlowBarlineType.REPEAT_BEGIN)}break;case f.SystemLinePosition.MeasureEnd:switch(t){case a.SystemLinesEnum.DotsBoldBoldDots:this.stave.setEndBarType(c.VexFlowBarlineType.REPEAT_BOTH);break;case a.SystemLinesEnum.DotsThinBold:this.stave.setEndBarType(c.VexFlowBarlineType.REPEAT_END);break;case a.SystemLinesEnum.DoubleThin:this.stave.setEndBarType(c.VexFlowBarlineType.DOUBLE);break;case a.SystemLinesEnum.ThinBold:this.stave.setEndBarType(c.VexFlowBarlineType.END)}}},e.prototype.addMeasureNumber=function(){var t=this.MeasureNumber.toString(),e=o.Flow.StaveModifier.Position.ABOVE;this.stave.setText(t,e,{justification:1,shift_x:0,shift_y:0})},e.prototype.addWordRepetition=function(t){var e=void 0,n=o.Flow.Modifier.Position.END;switch(t){case h.RepetitionInstructionEnum.Segno:e=c.VexFlowRepetitionType.SEGNO_LEFT,n=o.Flow.Modifier.Position.BEGIN;break;case h.RepetitionInstructionEnum.Coda:e=c.VexFlowRepetitionType.CODA_LEFT,n=o.Flow.Modifier.Position.BEGIN;break;case h.RepetitionInstructionEnum.DaCapo:e=c.VexFlowRepetitionType.DC;break;case h.RepetitionInstructionEnum.DalSegno:e=c.VexFlowRepetitionType.DS;break;case h.RepetitionInstructionEnum.Fine:e=c.VexFlowRepetitionType.FINE;break;case h.RepetitionInstructionEnum.ToCoda:break;case h.RepetitionInstructionEnum.DaCapoAlFine:e=c.VexFlowRepetitionType.DC_AL_FINE;break;case h.RepetitionInstructionEnum.DaCapoAlCoda:e=c.VexFlowRepetitionType.DC_AL_CODA;break;case h.RepetitionInstructionEnum.DalSegnoAlFine:e=c.VexFlowRepetitionType.DS_AL_FINE;break;case h.RepetitionInstructionEnum.DalSegnoAlCoda:e=c.VexFlowRepetitionType.DS_AL_CODA}void 0!==e&&this.stave.addModifier(new o.Flow.Repetition(e,0,0),n)},e.prototype.setWidth=function(e){t.prototype.setWidth.call(this,e),this.stave.setWidth(e*l.unitInPixels)},e.prototype.layoutSymbols=function(){},e.prototype.draw=function(t){for(var e in this.stave.setContext(t).draw(),this.vfVoices)this.vfVoices.hasOwnProperty(e)&&this.vfVoices[e].draw(t,this.stave);for(var e in this.vfbeams)if(this.vfbeams.hasOwnProperty(e))for(var n=0,i=this.vfbeams[e];n<i.length;n++)i[n].setContext(t).draw();for(var e in this.vftuplets)if(this.vftuplets.hasOwnProperty(e))for(var r=0,o=this.vftuplets[e];r<o.length;r++)o[r].setContext(t).draw();for(var s=0,a=this.vfTies;s<a.length;s++)a[s].setContext(t).draw();for(var c=0,u=this.connectors;c<u.length;c++)u[c].setContext(t).draw()},e.prototype.format=function(){this.formatVoices&&this.formatVoices((this.PositionAndShape.BorderRight-this.beginInstructionsWidth-this.endInstructionsWidth)*l.unitInPixels),this.stave.setNoteStartX(this.stave.getX()+l.unitInPixels*this.beginInstructionsWidth)},e.prototype.handleBeam=function(t,e){var n,i=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId,r=this.beams[i];void 0===r&&(r=this.beams[i]=[]);for(var o=0,s=r;o<s.length;o++){var a=s[o];a[0]===e&&(n=a)}void 0===n&&(n=[e,[]],r.push(n));var c=t.parentStaffEntry;n[1].indexOf(c)<0&&n[1].push(c)},e.prototype.handleTuplet=function(t,e){var n=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId;e=t.sourceNote.NoteTuplet;var i,r=this.tuplets[n];void 0===r&&(r=this.tuplets[n]=[]);for(var o=0,s=r;o<s.length;o++){var a=s[o];a[0]===e&&(i=a)}void 0===i&&(i=[e,[]],r.push(i));var c=t.parentStaffEntry;i[1].indexOf(c)<0&&i[1].push(c)},e.prototype.finalizeBeams=function(){for(var t in this.vfbeams={},this.beams)if(this.beams.hasOwnProperty(t)){var e=this.vfbeams[t];void 0===e&&(e=this.vfbeams[t]=[]);for(var n=0,i=this.beams[t];n<i.length;n++){for(var r=[],s=i[n][1],a=s[0].graphicalNotes[t][0].sourceNote.ParentVoiceEntry.StemDirection===d.StemDirectionType.Undefined,c=0,l=s;c<l.length;c++){var h=l[c].vfNotes[t];void 0!==h&&r.push(h)}if(r.length>1){var f=new o.Flow.Beam(r,a);e.push(f)}else u.Logging.log("Warning! Beam with no notes!")}}},e.prototype.finalizeTuplets=function(){for(var t in this.vftuplets={},this.tuplets)if(this.tuplets.hasOwnProperty(t)){var e=this.vftuplets[t];void 0===e&&(e=this.vftuplets[t]=[]);for(var n=0,i=this.tuplets[t];n<i.length;n++){for(var r=[],s=0,a=i[n][1];s<a.length;s++){var c=a[s];r.push(c.vfNotes[t])}r.length>1?e.push(new o.Flow.Tuplet(r,{notes_occupied:2,num_notes:r.length})):u.Logging.log("Warning! Tuplet with no notes! Trying to ignore, but this is a serious problem.")}}},e.prototype.layoutStaffEntry=function(t){},e.prototype.staffMeasureCreatedCalculations=function(){for(var t=0,e=this.staffEntries.length;t<e;++t){var n=(s=this.staffEntries[t]).graphicalNotes;for(var i in n)if(n.hasOwnProperty(i)){var r=c.VexFlowConverter.StaveNote(n[i]);s.vfNotes[i]=r}}for(this.finalizeBeams(),this.finalizeTuplets(),t=0,e=this.staffEntries.length;t<e;++t){n=(s=this.staffEntries[t]).graphicalNotes;var s,a=this.vfVoices;for(var i in n)n.hasOwnProperty(i)&&(i in a||(a[i]=new o.Flow.Voice({beat_value:this.parentSourceMeasure.Duration.Denominator,num_beats:this.parentSourceMeasure.Duration.Numerator,resolution:o.Flow.RESOLUTION}).setMode(o.Flow.Voice.Mode.SOFT)),a[i].addTickable(s.vfNotes[i]))}this.createArticulations()},e.prototype.createArticulations=function(){for(var t=0,e=this.staffEntries.length;t<e;++t){var n=this.staffEntries[t],i=n.graphicalNotes;for(var r in i)if(i.hasOwnProperty(r)){var o=n.vfNotes[r];c.VexFlowConverter.generateArticulations(o,i[r][0].sourceNote.ParentVoiceEntry.Articulations)}}},e.prototype.lineTo=function(t,e){var n=new o.Flow.StaveConnector(t.getVFStave(),this.stave);n.setType(e),this.connectors.push(n)},e.prototype.getVFStave=function(){return this.stave},e.prototype.updateInstructionWidth=function(){for(var t=0,e=0,n=0,i=this.stave.getModifiers();n<i.length;n++){var r=i[n];r.getPosition()===o.Flow.StaveModifier.Position.BEGIN?t+=r.getWidth()+r.getPadding(void 0):r.getPosition()===o.Flow.StaveModifier.Position.END&&(e+=r.getWidth()+r.getPadding(void 0))}this.beginInstructionsWidth=t/l.unitInPixels,this.endInstructionsWidth=e/l.unitInPixels},e}(s.StaffMeasure);e.VexFlowMeasure=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),s=n(4),a=function(t){function e(e){var n=t.call(this)||this;n.parentStaffLine=e;var i=e.PositionAndShape;return n.boundingBox=new s.BoundingBox(n,i),n.boundingBox.BorderRight=6,n.boundingBox.BorderBottom=4.5,n.boundingBox.BorderLeft=-1.5,n.boundingBox.BorderTop=-1.5,n}return r(e,t),e}(o.GraphicalObject);e.StaffLineActivitySymbol=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),s=n(9),a=n(216),c=n(5),u=function(t){function e(e,n){var i=t.call(this)||this;return i.measures=[],i.staffLines=new Array(5),i.lyricLines=[],i.lyricsDashes=[],i.parentMusicSystem=e,i.parentStaff=n,i.boundingBox=new o.BoundingBox(i,e.PositionAndShape),i}return r(e,t),Object.defineProperty(e.prototype,"Measures",{get:function(){return this.measures},set:function(t){this.measures=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffLines",{get:function(){return this.staffLines},set:function(t){this.staffLines=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NextStaffLine",{get:function(){var t=this.parentMusicSystem.StaffLines.indexOf(this);return t!==this.parentMusicSystem.StaffLines.length?this.parentMusicSystem.StaffLines[t+1]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LyricLines",{get:function(){return this.lyricLines},set:function(t){this.lyricLines=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LyricsDashes",{get:function(){return this.lyricsDashes},set:function(t){this.lyricsDashes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentMusicSystem",{get:function(){return this.parentMusicSystem},set:function(t){this.parentMusicSystem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentStaff",{get:function(){return this.parentStaff},set:function(t){this.parentStaff=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SkyLine",{get:function(){return this.skyLine},set:function(t){this.skyLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BottomLine",{get:function(){return this.bottomLine},set:function(t){this.bottomLine=t},enumerable:!0,configurable:!0}),e.prototype.addActivitySymbolClickArea=function(){var t=new a.StaffLineActivitySymbol(this),e=this.PositionAndShape;t.PositionAndShape.RelativePosition=new c.PointF2D(e.RelativePosition.x+e.BorderRight+.5,e.RelativePosition.y+.5),t.PositionAndShape.Parent=this.parentMusicSystem.PositionAndShape},e.prototype.isPartOfMultiStaffInstrument=function(){return this.parentStaff.ParentInstrument.Staves.length>1},e.prototype.findClosestStaffEntry=function(t){for(var e=void 0,n=0,i=this.Measures.length;n<i;++n)for(var r=this.Measures[n],o=0,s=r.staffEntries.length;o<s;++o){var a=r.staffEntries[o];Math.abs(a.PositionAndShape.RelativePosition.x-t+r.PositionAndShape.RelativePosition.x)<5&&(e=a)}return e},e}(s.GraphicalObject);e.StaffLine=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(n(217).StaffLine);e.VexFlowStaffLine=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),s=function(t){function e(e,n,i){void 0===i&&(i=0);var r=t.call(this,e,n,i)||this;return r.vexflowConnector.setType(o.Flow.StaveConnector.type.BRACE),r}return r(e,t),e}(n(97).VexFlowInstrumentBracket);e.VexFlowInstrumentBrace=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.All=0]="All",t[t.NoOverlays=1]="NoOverlays",t[t.Leadsheet=2]="Leadsheet"}(e.DrawingMode||(e.DrawingMode={})),function(t){t[t.Normal=0]="Normal",t[t.Disabled=1]="Disabled",t[t.Selected=2]="Selected",t[t.Clickable=3]="Clickable",t[t.PlaybackSymbols=4]="PlaybackSymbols",t[t.FollowSymbols=5]="FollowSymbols",t[t.QFeedbackNotFound=6]="QFeedbackNotFound",t[t.QFeedbackOk=7]="QFeedbackOk",t[t.QFeedbackPerfect=8]="QFeedbackPerfect",t[t.Debug1=9]="Debug1",t[t.Debug2=10]="Debug2",t[t.Debug3=11]="Debug3"}(e.MusicSymbolDrawingStyle||(e.MusicSymbolDrawingStyle={})),function(t){t[t.Following=0]="Following",t[t.Midi=1]="Midi",t[t.Manual=2]="Manual"}(e.PhonicScoreModes||(e.PhonicScoreModes={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Unused_first_Symbol=0]="Unused_first_Symbol",t[t.BLACK_HEAD=1]="BLACK_HEAD",t[t.UPWARDS_TAIL=2]="UPWARDS_TAIL",t[t.DOWNWARDS_TAIL=3]="DOWNWARDS_TAIL",t[t.UPWARDS_DOUBLE_TAIL=4]="UPWARDS_DOUBLE_TAIL",t[t.DOWNWARDS_DOUBLE_TAIL=5]="DOWNWARDS_DOUBLE_TAIL",t[t.UPWARDS_TRIPLE_TAIL=6]="UPWARDS_TRIPLE_TAIL",t[t.DOWNWARDS_TRIPLE_TAIL=7]="DOWNWARDS_TRIPLE_TAIL",t[t.UPWARDS_QUAD_TAIL=8]="UPWARDS_QUAD_TAIL",t[t.DOWNWARDS_QUAD_TAIL=9]="DOWNWARDS_QUAD_TAIL",t[t.ROUND_HEAD=10]="ROUND_HEAD",t[t.WHITE_HEAD=11]="WHITE_HEAD",t[t.G_CLEF=12]="G_CLEF",t[t.F_CLEF=13]="F_CLEF",t[t.C_CLEF=14]="C_CLEF",t[t.BREVE=15]="BREVE",t[t.BREVE_REST=16]="BREVE_REST",t[t.COMMON_TIME=17]="COMMON_TIME",t[t.CUT_TIME=18]="CUT_TIME",t[t.WHOLE_REST=19]="WHOLE_REST",t[t.HALF_REST=20]="HALF_REST",t[t.QUARTER_REST=21]="QUARTER_REST",t[t.EIGHTH_REST=22]="EIGHTH_REST",t[t.SIXTEENTH_REST=23]="SIXTEENTH_REST",t[t.THIRTYSECOND_REST=24]="THIRTYSECOND_REST",t[t.SIXTYFOURTH_REST=25]="SIXTYFOURTH_REST",t[t.FLAT=26]="FLAT",t[t.SHARP=27]="SHARP",t[t.NATURAL=28]="NATURAL",t[t.DOUBLE_FLAT=29]="DOUBLE_FLAT",t[t.DOUBLE_SHARP=30]="DOUBLE_SHARP",t[t.ZERO=31]="ZERO",t[t.ONE=32]="ONE",t[t.TWO=33]="TWO",t[t.THREE=34]="THREE",t[t.FOUR=35]="FOUR",t[t.FIVE=36]="FIVE",t[t.SIX=37]="SIX",t[t.SEVEN=38]="SEVEN",t[t.EIGHT=39]="EIGHT",t[t.NINE=40]="NINE",t[t.DOT=41]="DOT",t[t.FERMATA=42]="FERMATA",t[t.INVERTED_FERMATA=43]="INVERTED_FERMATA",t[t.SPICCATO=44]="SPICCATO",t[t.TENUTO=45]="TENUTO",t[t.MARCATO=46]="MARCATO",t[t.MARCATISSIMO=47]="MARCATISSIMO",t[t.INVERTED_MARCATISSIMO=48]="INVERTED_MARCATISSIMO",t[t.P=49]="P",t[t.F=50]="F",t[t.S=51]="S",t[t.Z=52]="Z",t[t.M=53]="M",t[t.R=54]="R",t[t.SEGNO=55]="SEGNO",t[t.CODA=56]="CODA",t[t.DRUM_CLEF=57]="DRUM_CLEF",t[t.G_CLEF_SUB8=58]="G_CLEF_SUB8",t[t.G_CLEF_SUPER8=59]="G_CLEF_SUPER8",t[t.G_CLEF_SUB15=60]="G_CLEF_SUB15",t[t.G_CLEF_SUPER15=61]="G_CLEF_SUPER15",t[t.F_CLEF_SUB8=62]="F_CLEF_SUB8",t[t.F_CLEF_SUPER8=63]="F_CLEF_SUPER8",t[t.F_CLEF_SUB15=64]="F_CLEF_SUB15",t[t.F_CLEF_SUPER15=65]="F_CLEF_SUPER15",t[t.DOWN_BOW=66]="DOWN_BOW",t[t.MORDENT=67]="MORDENT",t[t.INVERTED_MORDENT=68]="INVERTED_MORDENT",t[t.TURN=69]="TURN",t[t.INVERTED_TURN=70]="INVERTED_TURN",t[t.LEFTHAND_PIZZICATO=71]="LEFTHAND_PIZZICATO",t[t.RELEASE_PED=72]="RELEASE_PED",t[t.ENGAGE_PED=73]="ENGAGE_PED",t[t.VA8=74]="VA8",t[t.VB8=75]="VB8",t[t.TRILL=76]="TRILL",t[t.MA15=77]="MA15",t[t.MB15=78]="MB15",t[t.HIGH=79]="HIGH",t[t.PLAY=80]="PLAY",t[t.MIC=81]="MIC",t[t.SNAP_PIZZICATO=82]="SNAP_PIZZICATO",t[t.NATURAL_HARMONIC=83]="NATURAL_HARMONIC",t[t.EditPen=84]="EditPen"}(e.MusicSymbol||(e.MusicSymbol={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.setForAllOn=function(){this.drawHighlights=!0,this.drawErrors=!0,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!0,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0},t.prototype.setForThumbmail=function(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!1,this.drawSelectionStartSymbol=!1,this.drawCursors=!1,this.drawActivitySymbols=!1,this.drawScrollIndicator=!1,this.drawComments=!0,this.drawMarkedAreas=!0},t.prototype.setForLeadsheet=function(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!1,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0},t}();e.DrawingParameters=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(37),o=n(222),s=n(45),a=n(61),c=n(5),u=n(32),l=n(26),h=n(20),f=n(18),d=n(221),p=n(220),m=function(){function t(t,e){void 0===e&&(e=!1),this.drawingParameters=new o.DrawingParameters,this.phonicScoreMode=p.PhonicScoreModes.Manual,this.textMeasurer=t,this.splitScreenLineColor=-1,e?this.drawingParameters.setForThumbmail():this.drawingParameters.setForAllOn()}return Object.defineProperty(t.prototype,"Mode",{set:function(t){this.phonicScoreMode=t},enumerable:!0,configurable:!0}),t.prototype.drawSheet=function(t){if(this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.Rules,this.drawSplitScreenLine(),this.drawingParameters.drawCursors)for(var e=0,n=t.Cursors;e<n.length;e++){var o=n[e],s=new i.BoundingBox(o);s.AbsolutePosition=o.Start,s.BorderBottom=o.End.y-o.Start.y,s.BorderRight=o.Width/2,s.BorderLeft=-o.Width/2,this.isVisible(s)&&this.drawLineAsVerticalRectangle(o,r.GraphicalLayers.Cursor)}this.drawingParameters.drawScrollIndicator&&this.drawScrollIndicator();for(var a=0,c=this.graphicalMusicSheet.MusicPages;a<c.length;a++){var u=c[a];this.drawPage(u)}},t.prototype.drawLineAsHorizontalRectangle=function(t,e){var n=new a.RectangleF2D(t.Start.x,t.End.y-t.Width/2,t.End.x-t.Start.x,t.Width);n=this.applyScreenTransformationForRect(n),this.renderRectangle(n,e,t.styleId)},t.prototype.drawLineAsVerticalRectangle=function(t,e){var n=t.Start,i=t.Width,r=new a.RectangleF2D(n.x-i/2,n.y,i,t.End.y-n.y);r=this.applyScreenTransformationForRect(r),this.renderRectangle(r,e,t.styleId)},t.prototype.drawLineAsHorizontalRectangleWithOffset=function(t,e,n){var i=new c.PointF2D(t.Start.x+e.x,t.Start.y+e.y),r=new c.PointF2D(t.End.x+e.x,t.End.y+e.y),o=t.Width,s=new a.RectangleF2D(i.x,r.y-o/2,r.x-i.x,o);s=this.applyScreenTransformationForRect(s),this.renderRectangle(s,n,t.styleId)},t.prototype.drawLineAsVerticalRectangleWithOffset=function(t,e,n){var i=new c.PointF2D(t.Start.x+e.x,t.Start.y+e.y),r=new c.PointF2D(t.End.x+e.x,t.End.y+e.y),o=t.Width,s=new a.RectangleF2D(i.x,i.y,o,r.y-i.y);s=this.applyScreenTransformationForRect(s),this.renderRectangle(s,n,t.styleId)},t.prototype.drawRectangle=function(t,e){var n=t.PositionAndShape,i=new a.RectangleF2D(n.AbsolutePosition.x,n.AbsolutePosition.y,n.BorderRight,n.BorderBottom);i=this.applyScreenTransformationForRect(i),this.renderRectangle(i,e,t.style)},t.prototype.calculatePixelDistance=function(t){throw new Error("not implemented")},t.prototype.drawLabel=function(t,e){if(this.isVisible(t.PositionAndShape)){var n=t.Label;if(""!==n.text.trim()){var i=this.applyScreenTransformation(t.PositionAndShape.AbsolutePosition),r=this.calculatePixelDistance(n.fontHeight),o=r*this.textMeasurer.computeTextWidthToHeightRatio(n.text,n.font,n.fontStyle),s=Math.ceil(o),a=Math.ceil(1.2*r);switch(n.textAlignment){case h.TextAlignment.LeftTop:break;case h.TextAlignment.LeftCenter:i.y-=a/2;break;case h.TextAlignment.LeftBottom:i.y-=a;break;case h.TextAlignment.CenterTop:i.x-=s/2;break;case h.TextAlignment.CenterCenter:i.x-=s/2,i.y-=a/2;break;case h.TextAlignment.CenterBottom:i.x-=s/2,i.y-=a;break;case h.TextAlignment.RightTop:i.x-=s;break;case h.TextAlignment.RightCenter:i.x-=s,i.y-=a/2;break;case h.TextAlignment.RightBottom:i.x-=s,i.y-=a;break;default:throw new f.ArgumentOutOfRangeException("")}this.renderLabel(t,e,s,a,r,i)}}},t.prototype.applyScreenTransformation=function(t){throw new Error("not implemented")},t.prototype.applyScreenTransformations=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var r=i[n];e.push(this.applyScreenTransformation(r))}return e},t.prototype.applyScreenTransformationForRect=function(t){throw new Error("not implemented")},t.prototype.drawSplitScreenLine=function(){},t.prototype.renderRectangle=function(t,e,n,i){throw void 0===i&&(i=1),new Error("not implemented")},t.prototype.drawScrollIndicator=function(){},t.prototype.drawSelectionStartSymbol=function(t){},t.prototype.drawSelectionEndSymbol=function(t){},t.prototype.renderLabel=function(t,e,n,i,r,o){throw new Error("not implemented")},t.prototype.renderSystemToScreen=function(t,e,n){},t.prototype.drawMeasure=function(t){throw new Error("not implemented")},t.prototype.drawSkyLine=function(t){},t.prototype.drawBottomLine=function(t){},t.prototype.drawInstrumentBrace=function(t,e){},t.prototype.drawGroupBracket=function(t,e){},t.prototype.isVisible=function(t){return!0},t.prototype.drawMusicSystem=function(t){var e=this.getSystemAbsBoundingRect(t),n=this.getSytemBoundingBoxInPixels(e);this.drawMusicSystemComponents(t,n,e)},t.prototype.getSytemBoundingBoxInPixels=function(t){var e=this.applyScreenTransformationForRect(t);return e.x=Math.round(e.x),e.y=Math.round(e.y),e},t.prototype.getSystemAbsBoundingRect=function(t){var e=t.PositionAndShape.BoundingRectangle;return new a.RectangleF2D(t.PositionAndShape.AbsolutePosition.x+t.PositionAndShape.BorderLeft-1,t.PositionAndShape.AbsolutePosition.y+t.PositionAndShape.BorderTop-1,e.width+6,e.height+2)},t.prototype.drawMusicSystemComponents=function(t,e,n){var i=this.graphicalMusicSheet.SelectionStartSymbol,o=this.graphicalMusicSheet.SelectionEndSymbol;this.drawingParameters.drawSelectionStartSymbol&&void 0!==i&&this.isVisible(i.PositionAndShape)&&this.drawSelectionStartSymbol(i),this.drawingParameters.drawSelectionEndSymbol&&void 0!==o&&this.isVisible(o.PositionAndShape)&&this.drawSelectionEndSymbol(o);for(var s=0,a=t.StaffLines;s<a.length;s++){var c=a[s];this.drawStaffLine(c)}for(var u=0,l=t.SystemLines;u<l.length;u++){var h=l[u];this.drawSystemLineObject(h)}if(t===t.Parent.MusicSystems[0]&&t.Parent===t.Parent.Parent.MusicPages[0])for(var f=0,d=t.Labels;f<d.length;f++){var p=d[f];this.drawLabel(p,r.GraphicalLayers.Notes)}for(var m=0,b=t.InstrumentBrackets;m<b.length;m++){var g=b[m];this.drawInstrumentBrace(g,t)}for(var v=0,y=t.GroupBrackets;v<y.length;v++)g=y[v],this.drawGroupBracket(g,t);if(!this.leadSheet)for(var _=0,x=t.MeasureNumberLabels;_<x.length;_++){var w=x[_];this.drawLabel(w,r.GraphicalLayers.Notes)}for(var S=0,E=t.StaffLines;S<E.length;S++)c=E[S],this.drawStaffLineSymbols(c);this.drawingParameters.drawMarkedAreas&&this.drawMarkedAreas(t),this.drawingParameters.drawComments&&this.drawComment(t)},t.prototype.activateSystemRendering=function(t,e,n,i){return!0},t.prototype.drawSystemLineObject=function(t){},t.prototype.drawStaffLine=function(t){for(var e=0,n=t.Measures;e<n.length;e++){var i=n[e];this.drawMeasure(i)}t.LyricsDashes.length>0&&this.drawDashes(t.LyricsDashes)},t.prototype.drawDashes=function(t){var e=this;t.forEach(function(t){return e.drawLabel(t,r.GraphicalLayers.Notes)})},t.prototype.drawOctaveShift=function(t,e){this.drawSymbol(e.octaveSymbol,p.MusicSymbolDrawingStyle.Normal,e.PositionAndShape.AbsolutePosition);var n=t.PositionAndShape.AbsolutePosition;if(e.dashesStart.x<e.dashesEnd.x){var i=new s.GraphicalLine(e.dashesStart,e.dashesEnd,this.rules.OctaveShiftLineWidth);this.drawLineAsHorizontalRectangleWithOffset(i,n,r.GraphicalLayers.Notes)}if(!e.endsOnDifferentStaffLine||e.isSecondPart){var o=void 0,a=e.dashesEnd,u=this.rules.OctaveShiftVerticalLineLength,l=this.rules.OctaveShiftLineWidth;o=e.octaveSymbol===d.MusicSymbol.VA8||e.octaveSymbol===d.MusicSymbol.MA15?new s.GraphicalLine(a,new c.PointF2D(a.x,a.y+u),l):new s.GraphicalLine(new c.PointF2D(a.x,a.y-u),a,l),this.drawLineAsVerticalRectangleWithOffset(o,n,r.GraphicalLayers.Notes)}},t.prototype.drawStaffLines=function(t){if(void 0!==t.StaffLines)for(var e=t.PositionAndShape.AbsolutePosition,n=0;n<5;n++)this.drawLineAsHorizontalRectangleWithOffset(t.StaffLines[n],e,r.GraphicalLayers.Notes)},t.prototype.drawSymbol=function(t,e,n,i,o){void 0===i&&(i=1),void 0===o&&(o=r.GraphicalLayers.Notes)},Object.defineProperty(t.prototype,"leadSheet",{get:function(){return this.graphicalMusicSheet.LeadSheet},set:function(t){this.graphicalMusicSheet.LeadSheet=t},enumerable:!0,configurable:!0}),t.prototype.drawPage=function(t){if(this.isVisible(t.PositionAndShape)){for(var e=0,n=t.MusicSystems;e<n.length;e++){var i=n[e];this.isVisible(i.PositionAndShape)&&this.drawMusicSystem(i)}if(t===t.Parent.MusicPages[0])for(var o=0,s=t.Labels;o<s.length;o++){var a=s[o];this.drawLabel(a,r.GraphicalLayers.Notes)}}},t.prototype.drawBoundingBoxes=function(t,e,n){var i=this;void 0===e&&(e=0),void 0===n&&(n="all");var o=t.DataObject.constructor.name;if(void 0!==t.BoundingRectangle&&(o===n||"all"===n)){var s=t.BoundingRectangle,f=new a.RectangleF2D(t.AbsolutePosition.x+t.BorderLeft,t.AbsolutePosition.y+t.BorderTop,s.width+0,s.height+0);f=this.applyScreenTransformationForRect(f),this.renderRectangle(f,r.GraphicalLayers.Background,e,.5),this.renderLabel(new u.GraphicalLabel(new l.Label(o),1.2,h.TextAlignment.CenterCenter),e,f.width,f.height,f.height,new c.PointF2D(f.x,f.y+12))}e++,t.ChildElements.forEach(function(t){return i.drawBoundingBoxes(t,e,n)})},t.prototype.drawMarkedAreas=function(t){for(var e=0,n=t.GraphicalMarkedAreas;e<n.length;e++){var i=n[e];void 0!==i&&(void 0!==i.systemRectangle&&this.drawRectangle(i.systemRectangle,r.GraphicalLayers.Background),void 0!==i.settings&&this.drawLabel(i.settings,r.GraphicalLayers.Comment),void 0!==i.labelRectangle&&this.drawRectangle(i.labelRectangle,r.GraphicalLayers.Background),void 0!==i.label&&this.drawLabel(i.label,r.GraphicalLayers.Comment))}},t.prototype.drawComment=function(t){for(var e=0,n=t.GraphicalComments;e<n.length;e++){var i=n[e];void 0!==i&&(void 0!==i.settings&&this.drawLabel(i.settings,r.GraphicalLayers.Comment),void 0!==i.label&&this.drawLabel(i.label,r.GraphicalLayers.Comment))}},t.prototype.drawStaffLineSymbols=function(t){var e=t.ParentStaff.ParentInstrument,n=t.PositionAndShape.AbsolutePosition.x,i=t.PositionAndShape.AbsolutePosition.y+2,o=t.PositionAndShape.BorderRight;e.highlight&&this.drawingParameters.drawHighlights&&this.drawLineAsHorizontalRectangle(new s.GraphicalLine(new c.PointF2D(n,i),new c.PointF2D(n+o,i),4,r.OutlineAndFillStyleEnum.Highlighted),r.GraphicalLayers.Highlight);var a=p.MusicSymbolDrawingStyle.Disabled,u=d.MusicSymbol.PLAY,l=this.drawingParameters.drawActivitySymbols;switch(this.phonicScoreMode){case p.PhonicScoreModes.Midi:u=d.MusicSymbol.PLAY,this.midiPlaybackAvailable&&t.ParentStaff.audible&&(a=p.MusicSymbolDrawingStyle.PlaybackSymbols);break;case p.PhonicScoreModes.Following:u=d.MusicSymbol.MIC,t.ParentStaff.following&&(a=p.MusicSymbolDrawingStyle.FollowSymbols);break;default:l=!1}if(l){var h=new c.PointF2D(n+o+2,i);this.drawSymbol(u,a,h)}if(this.drawingParameters.drawErrors)for(var f=0,m=t.Measures;f<m.length;f++){var b=m[f],g=b.PositionAndShape,v=g.AbsolutePosition.x,y=g.AbsolutePosition.y+2;b.hasError&&this.graphicalMusicSheet.ParentMusicSheet.DrawErroneousMeasures&&this.drawLineAsHorizontalRectangle(new s.GraphicalLine(new c.PointF2D(v,y),new c.PointF2D(v+g.BorderRight,y),4,r.OutlineAndFillStyleEnum.ErrorUnderlay),r.GraphicalLayers.MeasureError)}},t}();e.MusicSheetDrawer=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold",t[t.Italic=2]="Italic",t[t.BoldItalic=3]="BoldItalic",t[t.Underlined=4]="Underlined"}(e.FontStyles||(e.FontStyles={}))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(34),s=n(4),a=function(t){function e(e,n,i,r,o){void 0===o&&(o=void 0);var a=t.call(this)||this;return a.lineType=e,a.linePosition=n,a.parentMusicSystem=i,a.topMeasure=r,a.bottomMeasure=o,a.parentTopStaffLine=r.ParentStaffLine,a.boundingBox=new s.BoundingBox(a,i.PositionAndShape),a}return r(e,t),e.getObjectWidthForLineType=function(t,e){switch(e){case o.SystemLinesEnum.SingleThin:return t.SystemThinLineWidth;case o.SystemLinesEnum.DoubleThin:return 2*t.SystemThinLineWidth+t.DistanceBetweenVerticalSystemLines;case o.SystemLinesEnum.ThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines;case o.SystemLinesEnum.BoldThinDots:case o.SystemLinesEnum.DotsThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines+t.SystemDotWidth+t.DistanceBetweenDotAndLine;case o.SystemLinesEnum.DotsBoldBoldDots:return 2*t.SystemBoldLineWidth+2*t.SystemDotWidth+2*t.DistanceBetweenDotAndLine+t.DistanceBetweenVerticalSystemLines;default:return 0}},e}(n(9).GraphicalObject);e.SystemLine=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.voices=[],this.volume=1,this.parentInstrument=t,this.id=e,this.audible=!0,this.following=!0}return Object.defineProperty(t.prototype,"ParentInstrument",{get:function(){return this.parentInstrument},set:function(t){this.parentInstrument=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Voices",{get:function(){return this.voices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Volume",{get:function(){return this.volume},set:function(t){this.volume=t},enumerable:!0,configurable:!0}),t}();e.Staff=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(99),s=n(4),a=n(1),c=n(20),u=n(32),l=n(9),h=n(5),f=n(34),d=n(10),p=n(44),m=function(t){function e(e,n){var i=t.call(this)||this;return i.needsToBeRedrawn=!0,i.staffLines=[],i.graphicalMeasures=[],i.labels=new d.default,i.measureNumberLabels=[],i.objectsToRedraw=[],i.instrumentBrackets=[],i.groupBrackets=[],i.graphicalMarkedAreas=[],i.graphicalComments=[],i.systemLines=[],i.parent=e,i.id=n,i.boundingBox=new s.BoundingBox(i,e.PositionAndShape),i.maxLabelLength=0,i.rules=i.parent.Parent.ParentMusicSheet.Rules,i}return r(e,t),Object.defineProperty(e.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NextSystem",{get:function(){var t=this.Parent.MusicSystems.indexOf(this);return t!==this.Parent.MusicSystems.length?this.Parent.MusicSystems[t+1]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffLines",{get:function(){return this.staffLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalMeasures",{get:function(){return this.graphicalMeasures},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MeasureNumberLabels",{get:function(){return this.measureNumberLabels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Labels",{get:function(){return this.labels.keys()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ObjectsToRedraw",{get:function(){return this.objectsToRedraw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"InstrumentBrackets",{get:function(){return this.instrumentBrackets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GroupBrackets",{get:function(){return this.groupBrackets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalMarkedAreas",{get:function(){return this.graphicalMarkedAreas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalComments",{get:function(){return this.graphicalComments},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SystemLines",{get:function(){return this.systemLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e.prototype.createSystemLeftLine=function(t,e){var n=-t/2;this===this.parent.MusicSystems[0]&&this.parent===this.parent.Parent.MusicPages[0]&&(n=this.maxLabelLength+e-t/2);var i=this.staffLines[0].Measures[0],r=void 0;this.staffLines.length>1&&(r=this.staffLines[this.staffLines.length-1].Measures[0]);var o=this.createSystemLine(n,t,f.SystemLinesEnum.SingleThin,p.SystemLinePosition.MeasureBegin,this,i,r);this.SystemLines.push(o),o.PositionAndShape.RelativePosition=new h.PointF2D(n,0),o.PositionAndShape.BorderLeft=0,o.PositionAndShape.BorderRight=t,o.PositionAndShape.BorderTop=0,o.PositionAndShape.BorderBottom=this.boundingBox.Size.height,this.createLinesForSystemLine(o)},e.prototype.createVerticalLineForMeasure=function(t,e,n,i,r,o){var s=o.ParentStaffLine,a=new h.PointF2D(s.PositionAndShape.RelativePosition.x,s.PositionAndShape.RelativePosition.y),c=s.ParentStaff.ParentInstrument.Staves;if(s.ParentStaff===c[0]){var u=void 0;c.length>1&&(u=this.getBottomStaffLine(s).Measures[r]);var l=this.createSystemLine(t,e,n,i,this,o,u),f=a.x+t;l.PositionAndShape.RelativePosition=new h.PointF2D(f,0),l.PositionAndShape.BorderLeft=0,l.PositionAndShape.BorderRight=e,this.SystemLines.push(l)}},e.prototype.setYPositionsToVerticalLineObjectsAndCreateLines=function(t){},e.prototype.calculateBorders=function(t){},e.prototype.alignBeginInstructions=function(){},e.prototype.GetLeftBorderAbsoluteXPosition=function(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].Measures[0].beginInstructionsWidth},e.prototype.GetRightBorderAbsoluteXPosition=function(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].StaffLines[0].End.x},e.prototype.AddStaffMeasures=function(t){for(var e=0,n=t.length;e<n;++e)t[e].parentMusicSystem=this;this.graphicalMeasures.push(t)},e.prototype.GetSystemsFirstTimeStamp=function(){return this.graphicalMeasures[0][0].parentSourceMeasure.AbsoluteTimestamp},e.prototype.GetSystemsLastTimeStamp=function(){var t=this.graphicalMeasures[this.graphicalMeasures.length-1][0].parentSourceMeasure;return a.Fraction.plus(t.AbsoluteTimestamp,t.Duration)},e.prototype.createInstrumentBrackets=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];if(r.Staves.length>1){for(var o=void 0,s=void 0,a=0,c=this.staffLines.length;a<c;++a){var u=this.staffLines[a];u.ParentStaff===r.Staves[0]&&(o=u),u.ParentStaff===r.Staves[r.Staves.length-1]&&(s=u)}void 0!==o&&void 0!==s&&this.createInstrumentBracket(o,s)}}},e.prototype.createGroupBrackets=function(t,e,n){for(var i=0,r=t.length;i<r;++i){var o=t[i];if(!(o.InstrumentalGroups.length<1)){var s=this.findFirstVisibleInstrumentInInstrumentalGroup(o),a=this.findLastVisibleInstrumentInInstrumentalGroup(o);if(void 0!==s&&void 0!==a){for(var c=void 0,u=void 0,l=0,h=this.staffLines.length;l<h;++l){var f=this.staffLines[l];f.ParentStaff===s.Staves[0]&&(c=f),f.ParentStaff===a.Staves[0]&&(u=f)}void 0!==c&&void 0!==u&&this.createGroupBracket(c,u,n),o.InstrumentalGroups.length<1||this.createGroupBrackets(o.InstrumentalGroups,e,n+1)}}}},e.prototype.createMusicSystemLabel=function(t,e,n){if(this.parent===this.parent.Parent.MusicPages[0]&&this===this.parent.MusicSystems[0]){for(var i=this.parent.Parent.ParentMusicSheet.getVisibleInstruments(),r=0,o=i.length;r<o;++r){var s=i[r],a=new u.GraphicalLabel(s.NameLabel,t,c.TextAlignment.LeftCenter,this.boundingBox);a.setLabelPositionAndShapeBorders(),this.labels.setValue(a,s)}this.maxLabelLength=0;var l=this.labels.keys();for(r=0,o=l.length;r<o;++r){var h=l[r];h.PositionAndShape.Size.width>this.maxLabelLength&&(this.maxLabelLength=h.PositionAndShape.Size.width)}this.updateMusicSystemStaffLineXPosition(e)}},e.prototype.setMusicSystemLabelsYPosition=function(){var t=this;this.parent===this.parent.Parent.MusicPages[0]&&this===this.parent.MusicSystems[0]&&this.labels.forEach(function(e,n){for(var i=0,r=0,o=0;o<t.staffLines.length;o++)if(t.staffLines[o].ParentStaff.ParentInstrument===n){for(var s=o;s<t.staffLines.length;s++){var a=t.staffLines[s];if(a.ParentStaff.ParentInstrument!==n)break;i+=a.PositionAndShape.RelativePosition.y,r++}break}r>0&&(e.PositionAndShape.RelativePosition=new h.PointF2D(0,i/r+2))})},e.prototype.checkStaffEntriesForStaffEntryLink=function(){for(var t=!1,e=!1,n=0;n<this.staffLines.length-1;n++){for(var i=0,r=this.staffLines[n].Measures.length;i<r;++i)for(var o=0,s=(a=this.staffLines[n].Measures[i]).staffEntries.length;o<s;++o)void 0!==a.staffEntries[o].sourceStaffEntry.Link&&(t=!0);for(i=0,r=this.staffLines[n+1].Measures.length;i<r;++i){var a;for(o=0,s=(a=this.staffLines[n+1].Measures[i]).staffEntries.length;o<s;++o)void 0!==a.staffEntries[o].sourceStaffEntry.Link&&(e=!0)}}return!(!t||!e)},e.prototype.getBottomStaffLine=function(t){for(var e=t.ParentStaff.ParentInstrument.Staves,n=e[e.length-1],i=0,r=t.ParentMusicSystem.staffLines;i<r.length;i++){var o=r[i];if(o.ParentStaff===n)return o}},e.prototype.createSystemLine=function(t,e,n,i,r,o,s){throw void 0===s&&(s=void 0),new Error("not implemented")},e.prototype.createLinesForSystemLine=function(t){},e.prototype.calcBracketsWidth=function(){for(var t=0,e=0,n=this.GroupBrackets.length;e<n;++e){var i=this.GroupBrackets[e];t=Math.max(t,i.PositionAndShape.Size.width)}for(var r=0,o=this.InstrumentBrackets.length;r<o;++r){var s=this.InstrumentBrackets[r];t=Math.max(t,s.PositionAndShape.Size.width)}return t},e.prototype.createInstrumentBracket=function(t,e){},e.prototype.createGroupBracket=function(t,e,n){},e.prototype.findFirstVisibleInstrumentInInstrumentalGroup=function(t){for(var e=0,n=t.InstrumentalGroups.length;e<n;++e){var i=t.InstrumentalGroups[e];if(!(i instanceof o.Instrument))return this.findFirstVisibleInstrumentInInstrumentalGroup(i);if(!0===i.Visible)return i}},e.prototype.findLastVisibleInstrumentInInstrumentalGroup=function(t){for(var e,n=t.InstrumentalGroups.length-1;n>=0;n--){if(!((e=t.InstrumentalGroups[n])instanceof o.Instrument))return this.findLastVisibleInstrumentInInstrumentalGroup(e);if(!0===e.Visible)return e}},e.prototype.updateMusicSystemStaffLineXPosition=function(t){for(var e=0,n=this.StaffLines.length;e<n;++e){var i=this.StaffLines[e],r=i.PositionAndShape.RelativePosition;r.x=this.maxLabelLength+t,i.PositionAndShape.RelativePosition=r,i.PositionAndShape.BorderRight=this.boundingBox.Size.width-this.maxLabelLength-t;for(var o=0;o<i.StaffLines.length;o++){var s=new h.PointF2D(i.PositionAndShape.Size.width,i.StaffLines[o].End.y);i.StaffLines[o].End=s}}},e}(l.GraphicalObject);e.MusicSystem=m},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(227),s=n(225),a=n(25),c=n(97),u=n(219),l=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.calculateBorders=function(t){if(0!==this.staffLines.length){var e=this.calcBracketsWidth();this.boundingBox.BorderLeft=-e,this.boundingBox.BorderMarginLeft=-e,this.boundingBox.XBordersHaveBeenSet=!0}},e.prototype.createSystemLine=function(t,e,n,i,r,o,c){return void 0===c&&(c=void 0),o.addMeasureLine(n,i),c&&(c.lineTo(o,a.VexFlowConverter.line(n,i)),c.addMeasureLine(n,i)),new s.SystemLine(n,i,this,o,c)},e.prototype.createInstrumentBracket=function(t,e){var n=t,i=e,r=new u.VexFlowInstrumentBrace(n,i);this.InstrumentBrackets.push(r)},e.prototype.createGroupBracket=function(t,e,n){var i=t,r=e;if(0===n){var o=new c.VexFlowInstrumentBracket(i,r,n);this.GroupBrackets.push(o)}else{var s=new u.VexFlowInstrumentBrace(i,r,n);this.GroupBrackets.push(s)}},e}(o.MusicSystem);e.VexFlowMusicSystem=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(228),r=n(218),o=n(215),s=n(213),a=n(59),c=n(211),u=n(209),l=n(58),h=function(){function t(){}return t.prototype.createMusicSystem=function(t,e){return new i.VexFlowMusicSystem(t,e)},t.prototype.createStaffLine=function(t,e){return new r.VexFlowStaffLine(t,e)},t.prototype.createStaffMeasure=function(t,e){return new o.VexFlowMeasure(e,void 0,t)},t.prototype.createExtraStaffMeasure=function(t){return new o.VexFlowMeasure(t.ParentStaff,t)},t.prototype.createStaffEntry=function(t,e){return new s.VexFlowStaffEntry(e,t,void 0)},t.prototype.createGraceStaffEntry=function(t,e){return new s.VexFlowStaffEntry(e,void 0,t)},t.prototype.createNote=function(t,e,n,i,r){void 0===i&&(i=a.OctaveEnum.NONE),void 0===r&&(r=void 0);var o=new c.VexFlowGraphicalNote(t,e,n,i,r);if(void 0!==t.ParentVoiceEntry){var s=t.ParentVoiceEntry.ParentVoice.VoiceId,u=e.graphicalNotes;s in u||(u[s]=[]),u[s].push(o)}return o},t.prototype.createGraceNote=function(t,e,n,i){return void 0===i&&(i=a.OctaveEnum.NONE),new c.VexFlowGraphicalNote(t,e,n,i)},t.prototype.addGraphicalAccidental=function(t,e,n,i){t.setPitch(e)},t.prototype.addFermataAtTiedEndNote=function(t,e){},t.prototype.createInStaffClef=function(t,e){},t.prototype.createChordSymbol=function(t,e,n){var i=new u.GraphicalChordSymbolContainer(t.ChordContainer,e.PositionAndShape,l.EngravingRules.Rules.ChordSymbolTextHeight,n);i.GetGraphicalLabel.setLabelPositionAndShapeBorders(),i.PositionAndShape.calculateBoundingBox(),e.graphicalChordContainer=i},t.prototype.createGraphicalTechnicalInstruction=function(t,e){},t}();e.VexFlowGraphicalSymbolFactory=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(12),o=n(10),s=function(){function t(t){this.keySignatureNoteAlterationsDict=new o.default,this.currentAlterationsComparedToKeyInstructionList=[],this.currentInMeasureNoteAlterationsDict=new o.default,this.symbolFactory=t}return Object.defineProperty(t.prototype,"ActiveKeyInstruction",{get:function(){return this.activeKeyInstruction},set:function(t){this.activeKeyInstruction=t,this.reactOnKeyInstructionChange()},enumerable:!0,configurable:!0}),t.prototype.doCalculationsAtEndOfMeasure=function(){this.currentInMeasureNoteAlterationsDict.clear();for(var t=0,e=this.keySignatureNoteAlterationsDict.keys();t<e.length;t++){var n=e[t];this.currentInMeasureNoteAlterationsDict.setValue(n,this.keySignatureNoteAlterationsDict.getValue(n))}},t.prototype.checkAccidental=function(t,e,n,r){if(void 0!==e){var o=e.FundamentalNote+12*e.Octave,s=this.currentAlterationsComparedToKeyInstructionList.indexOf(o)>=0;this.currentInMeasureNoteAlterationsDict.containsKey(o)?(s&&this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(o),1),this.currentInMeasureNoteAlterationsDict.getValue(o)!==e.Accidental&&(this.keySignatureNoteAlterationsDict.containsKey(o)&&this.keySignatureNoteAlterationsDict.getValue(o)!==e.Accidental?(this.currentAlterationsComparedToKeyInstructionList.push(o),this.currentInMeasureNoteAlterationsDict.setValue(o,e.Accidental)):this.currentInMeasureNoteAlterationsDict.remove(o),this.symbolFactory.addGraphicalAccidental(t,e,n,r))):e.Accidental!==i.AccidentalEnum.NONE?(s||this.currentAlterationsComparedToKeyInstructionList.push(o),this.currentInMeasureNoteAlterationsDict.setValue(o,e.Accidental),this.symbolFactory.addGraphicalAccidental(t,e,n,r)):s&&(this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(o),1),this.symbolFactory.addGraphicalAccidental(t,e,n,r))}},t.prototype.reactOnKeyInstructionChange=function(){var t,e=r.KeyInstruction.getNoteEnumList(this.activeKeyInstruction);t=this.activeKeyInstruction.Key>0?i.AccidentalEnum.SHARP:i.AccidentalEnum.FLAT,this.keySignatureNoteAlterationsDict.clear(),this.currentAlterationsComparedToKeyInstructionList.length=0;for(var n=-9;n<9;n++)for(var o=0;o<e.length;o++)this.keySignatureNoteAlterationsDict.setValue(e[o]+12*n,t);this.doCalculationsAtEndOfMeasure()},t}();e.AccidentalCalculator=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e,n){this.getOpenOctaveShift=t,this.getAbsoluteStartTimestamp=e,this.getAbsoluteEndTimestamp=n}}();e.OctaveShiftParams=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(9).GraphicalObject);e.Clickable=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(102),r=n(16),o=n(12),s=n(7),a=n(5),c=n(45),u=n(34),l=n(38),h=n(7),f=n(35),d=n(44),p=function(){function t(){this.globalSystemIndex=0,this.leadSheet=!1}return t.prototype.initialize=function(t,e,n,i){this.leadSheet=t.LeadSheet,this.graphicalMusicSheet=t,this.rules=this.graphicalMusicSheet.ParentMusicSheet.rules,this.measureList=e,this.symbolFactory=i,this.currentMusicPage=this.createMusicPage(),this.currentPageHeight=0,this.numberOfVisibleStaffLines=n,this.activeRhythm=new Array(this.numberOfVisibleStaffLines),this.activeKeys=new Array(this.numberOfVisibleStaffLines),this.activeClefs=new Array(this.numberOfVisibleStaffLines),this.initializeActiveInstructions(this.measureList[0])},t.prototype.buildMusicSystems=function(){var t=!1,e=this.getFullPageSystemWidth();this.measureListIndex=0,this.currentSystemParams=new m,this.currentSystemParams.currentSystem=this.initMusicSystem(),this.layoutSystemStaves(),this.currentSystemParams.currentSystem.createMusicSystemLabel(this.rules.InstrumentLabelTextHeight,this.rules.SystemLabelsRightMargin,this.rules.LabelMarginBorderFactor),this.currentPageHeight+=this.currentSystemParams.currentSystem.PositionAndShape.RelativePosition.y;for(var n=0,i=0,r=this.measureList.length;i<r;++i)this.measureList[i].length>0&&n++;for(;this.measureListIndex<n;){var o=this.measureList[this.measureListIndex];for(i=0,r=o.length;i<r;++i)o[i].resetLayout();var s=o[0].parentSourceMeasure,a=s.BreakSystemAfter,c=this.currentSystemParams.IsSystemStartMeasure(),u=s===this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure(),l=this.rules.MeasureLeftMargin,h=0,f=this.getMeasureStartLine();l+=this.getLineWidth(o[0],f,c),this.leadSheet||(l+=this.addBeginInstructions(o,c,u),h+=this.addEndInstructions(o));for(var d=0,p=0;p<this.numberOfVisibleStaffLines;p++)d=Math.max(d,o[p].minimumStaffEntriesWidth);var b=this.getMeasureEndLine();h+=this.getLineWidth(o[0],b,c);var g=this.rules.MeasureLeftMargin;if(this.measureListIndex+1<this.measureList.length){var v=this.measureList[this.measureListIndex+1];v[0].parentSourceMeasure.hasBeginInstructions()&&(g+=this.addBeginInstructions(v,!1,!1))}var y=l+h+d,_=this.currentSystemParams.currentWidth+y+g<e;c||_?(this.addMeasureToSystem(o,f,b,y,l,d,h),this.updateActiveClefs(s,o),this.measureListIndex++):this.finalizeCurrentAndCreateNewSystem(o,t),t=a}this.finalizeCurrentAndCreateNewSystem(this.measureList[this.measureList.length-1],!0)},t.prototype.setMeasureWidth=function(t,e,n,i){for(var r=0,o=t.length;r<o;++r){var s=t[r];s.setWidth(e),n>0&&(s.beginInstructionsWidth=n),i>0&&(s.endInstructionsWidth=i)}},t.prototype.finalizeCurrentAndCreateNewSystem=function(t,e){void 0===e&&(e=!1),this.adaptRepetitionLineWithIfNeeded(),e||this.checkAndCreateExtraInstructionMeasure(t),this.stretchMusicSystem(e),this.currentPageHeight+this.currentSystemParams.currentSystem.PositionAndShape.Size.height+this.rules.SystemDistance<=this.rules.PageHeight?(this.currentPageHeight+=this.currentSystemParams.currentSystem.PositionAndShape.Size.height+this.rules.SystemDistance,this.currentPageHeight+this.currentSystemParams.currentSystem.PositionAndShape.Size.height+this.rules.SystemDistance>=this.rules.PageHeight&&(this.currentMusicPage=this.createMusicPage(),this.currentPageHeight=this.rules.PageTopMargin+this.rules.TitleTopDistance)):(this.currentMusicPage=this.createMusicPage(),this.currentPageHeight=this.rules.PageTopMargin+this.rules.TitleTopDistance),this.currentSystemParams=new m,this.measureListIndex<this.measureList.length&&(this.currentSystemParams.currentSystem=this.initMusicSystem(),this.layoutSystemStaves())},t.prototype.adaptRepetitionLineWithIfNeeded=function(){var t=this.currentSystemParams.systemMeasures;if(t.length>=1){var e=this.currentSystemParams.currentSystem.GraphicalMeasures[this.currentSystemParams.currentSystem.GraphicalMeasures.length-1],n=t[t.length-1],i=0;n.endLine===u.SystemLinesEnum.DotsBoldBoldDots&&(n.endLine=u.SystemLinesEnum.DotsThinBold,i=e[0].getLineWidth(u.SystemLinesEnum.DotsBoldBoldDots)/2-e[0].getLineWidth(u.SystemLinesEnum.DotsThinBold)),this.currentSystemParams.currentSystemFixWidth-=i;for(var r=0,o=e.length;r<o;++r)e[r].endInstructionsWidth-=i}},t.prototype.addMeasureToSystem=function(t,e,n,i,r,o,s){this.currentSystemParams.systemMeasures.push({beginLine:e,endLine:n}),this.setMeasureWidth(t,i,r,s),this.addStaveMeasuresToSystem(t),this.currentSystemParams.currentWidth+=i,this.currentSystemParams.currentSystemFixWidth+=r+s,this.currentSystemParams.currentSystemVarWidth+=o,this.currentSystemParams.systemMeasureIndex++},t.prototype.createMusicPage=function(){var t=new i.GraphicalMusicPage(this.graphicalMusicSheet);return this.graphicalMusicSheet.MusicPages.push(t),t.PositionAndShape.BorderLeft=0,t.PositionAndShape.BorderRight=this.graphicalMusicSheet.ParentMusicSheet.pageWidth,t.PositionAndShape.BorderTop=0,t.PositionAndShape.BorderBottom=this.rules.PageHeight,t.PositionAndShape.RelativePosition=new a.PointF2D(0,0),t},t.prototype.initMusicSystem=function(){var t=this.symbolFactory.createMusicSystem(this.currentMusicPage,this.globalSystemIndex++);return this.currentMusicPage.MusicSystems.push(t),t},t.prototype.getFullPageSystemWidth=function(){return this.currentMusicPage.PositionAndShape.Size.width-this.rules.PageLeftMargin-this.rules.PageRightMargin-this.rules.SystemLeftMargin-this.rules.SystemRightMargin},t.prototype.layoutSystemStaves=function(){var t=this.getFullPageSystemWidth(),e=this.currentSystemParams.currentSystem,n=e.PositionAndShape;n.BorderLeft=0,n.BorderRight=t,n.BorderTop=0;for(var i=[],r=this.graphicalMusicSheet.ParentMusicSheet.Instruments,o=0,s=r.length;o<s;++o){var a=r[o];if(0!==a.Voices.length&&a.Visible)for(var c=0,u=a.Staves.length;c<u;++c){var l=a.Staves[c];i.push(l)}}var h=!1;if(this.leadSheet)for(o=0,s=i.length;o<s;++o)if((l=i[o]).ParentInstrument.LyricVersesNumbers.length>1){h=!0;break}for(var f=0,d=0;d<i.length;d++)this.addStaffLineToMusicSystem(e,f,i[d]),f+=this.rules.StaffHeight,d+1<i.length&&(f+=this.leadSheet&&!h?2.5:i[d].ParentInstrument===i[d+1].ParentInstrument?this.rules.BetweenStaffDistance:this.rules.StaffDistance);n.BorderBottom=f},t.prototype.addStaffLineToMusicSystem=function(t,e,n){if(void 0!==t){var i=this.symbolFactory.createStaffLine(t,n);t.StaffLines.push(i);var r=i.PositionAndShape,o=new a.PointF2D;t.Parent.MusicSystems[0]===t&&t.Parent===t.Parent.Parent.MusicPages[0]?o.x=this.rules.FirstSystemMargin:o.x=0,o.y=e,r.RelativePosition=o,t.Parent.MusicSystems[0]===t&&t.Parent===t.Parent.Parent.MusicPages[0]?r.BorderRight=t.PositionAndShape.Size.width-this.rules.FirstSystemMargin:r.BorderRight=t.PositionAndShape.Size.width,r.BorderLeft=0,r.BorderTop=0,r.BorderBottom=this.rules.StaffHeight;for(var s=0;s<5;s++){var u=new a.PointF2D;u.x=0,u.y=s*this.rules.StaffHeight/4;var l=new a.PointF2D;l.x=i.PositionAndShape.Size.width,l.y=s*this.rules.StaffHeight/4,this.leadSheet&&(u.y=l.y=0),i.StaffLines[s]=new c.GraphicalLine(u,l,this.rules.StaffLineWidth)}}},t.prototype.initializeActiveInstructions=function(t){var e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(void 0!==e){this.visibleStaffIndices=this.graphicalMusicSheet.getVisibleStavesIndecesFromSourceMeasure(t);for(var n=0,i=this.visibleStaffIndices.length;n<i;n++){var r=this.visibleStaffIndices[n],s=this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(e,r);this.activeClefs[n]=e.FirstInstructionsStaffEntries[r].Instructions[0];var a=o.KeyInstruction.copy(e.FirstInstructionsStaffEntries[r].Instructions[1]);a=this.transposeKeyInstruction(a,s),this.activeKeys[n]=a,this.activeRhythm[n]=e.FirstInstructionsStaffEntries[r].Instructions[2]}}},t.prototype.transposeKeyInstruction=function(t,e){return 0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&e.ParentStaff.ParentInstrument.MidiInstrumentId!==h.MidiInstrument.Percussion&&void 0!==l.MusicSheetCalculator.transposeCalculator&&l.MusicSheetCalculator.transposeCalculator.transposeKey(t,this.graphicalMusicSheet.ParentMusicSheet.Transpose),t},t.prototype.addBeginInstructions=function(t,e,n){var i=t.length;if(0===i)return 0;for(var r=0,o=t[0].parentSourceMeasure,s=0;s<i;++s){var a=t[s],c=this.visibleStaffIndices[s],u=o.FirstInstructionsStaffEntries[c],l=this.AddInstructionsAtMeasureBegin(u,a,s,n,e);r=Math.max(r,l)}return r},t.prototype.addEndInstructions=function(t){var e=t.length;if(0===e)return 0;for(var n=.5,i=t[0].parentSourceMeasure,r=0;r<e;r++){var o=t[r],s=this.visibleStaffIndices[r],a=i.LastInstructionsStaffEntries[s],c=this.addInstructionsAtMeasureEnd(a,o);n=Math.max(n,c)}return n},t.prototype.AddInstructionsAtMeasureBegin=function(t,e,n,i,a){var c=0,u=void 0,l=void 0,h=void 0;if(void 0!==t)for(var f=0,d=t.Instructions.length;f<d;++f){var p=t.Instructions[f];p instanceof s.ClefInstruction?u=p:p instanceof o.KeyInstruction?l=p:p instanceof r.RhythmInstruction&&(h=p)}a&&(void 0===u&&(u=this.activeClefs[n]),void 0===l&&(l=this.activeKeys[n]),i&&void 0===h&&(h=this.activeRhythm[n]));var m=!1,b=!1,g=!1;if(void 0!==u?(e.addClefAtBegin(u),m=!0):u=this.activeClefs[n],void 0!==l){l=this.transposeKeyInstruction(l,e);var v=a?void 0:this.activeKeys[n];e.addKeyAtBegin(l,v,u),b=!0}return void 0!==h&&(e.addRhythmAtBegin(h),g=!0),(m||b||g)&&(c+=e.beginInstructionsWidth,g&&(c+=this.rules.RhythmRightMargin)),c},t.prototype.addInstructionsAtMeasureEnd=function(t,e){if(void 0===t||void 0===t.Instructions||0===t.Instructions.length)return 0;for(var n=0,i=t.Instructions.length;n<i;++n){var r=t.Instructions[n];if(r instanceof s.ClefInstruction){var o=r;e.addClefAtEnd(o)}}return this.rules.MeasureRightMargin+e.endInstructionsWidth},t.prototype.updateActiveClefs=function(t,e){for(var n=0,i=e.length;n<i;n++){var a=this.visibleStaffIndices[n],c=t.FirstInstructionsStaffEntries[a];if(void 0!==c)for(var u=0,l=c.Instructions.length;u<l;++u)(g=c.Instructions[u])instanceof s.ClefInstruction?this.activeClefs[n]=g:g instanceof o.KeyInstruction?this.activeKeys[n]=g:g instanceof r.RhythmInstruction&&(this.activeRhythm[n]=g);var h=t.getEntriesPerStaff(a);for(u=0,l=h.length;u<l;++u){var f=h[u];if(void 0!==f.Instructions)for(var d=0,p=f.Instructions.length;d<p;++d)(g=f.Instructions[d])instanceof s.ClefInstruction&&(this.activeClefs[n]=g)}var m=t.LastInstructionsStaffEntries[a];if(void 0!==m){var b=m.Instructions;for(u=0,p=b.length;u<p;++u){var g;(g=b[u])instanceof s.ClefInstruction&&(this.activeClefs[n]=g)}}}},t.prototype.checkAndCreateExtraInstructionMeasure=function(t){for(var e=t[0].parentSourceMeasure.FirstInstructionsStaffEntries,n=[],i=0,s=t.length;i<s;++i){var a=t[i];n.push(e[a.ParentStaff.idInMusicSheet])}var c=0,l=0;for(s=n.length;l<s;++l){var h=n[l];if(void 0!==h){for(var f=h.Instructions,d=void 0,p=void 0,m=0,b=f.length;m<b;++m){var g=f[m];g instanceof o.KeyInstruction&&g.Key!==this.activeKeys[l].Key&&(d=g),g instanceof r.RhythmInstruction&&g!==this.activeRhythm[l]&&(p=g)}if(void 0!==d||void 0!==p){var v=this.addExtraInstructionMeasure(l,d,p);c=Math.max(c,v)}}}c>0&&(this.currentSystemParams.systemMeasures.push({beginLine:u.SystemLinesEnum.None,endLine:u.SystemLinesEnum.None}),this.currentSystemParams.currentWidth+=c,this.currentSystemParams.currentSystemFixWidth+=c)},t.prototype.addExtraInstructionMeasure=function(t,e,n){var i=this.currentSystemParams.currentSystem,r=this.symbolFactory.createExtraStaffMeasure(i.StaffLines[t]);[].push(r),void 0!==e&&r.addKeyAtBegin(e,this.activeKeys[t],this.activeClefs[t]),void 0!==n&&r.addRhythmAtBegin(n),r.PositionAndShape.BorderLeft=0,r.PositionAndShape.BorderTop=0,r.PositionAndShape.BorderBottom=this.rules.StaffHeight;var o=this.rules.MeasureLeftMargin+r.beginInstructionsWidth+this.rules.MeasureRightMargin;return r.PositionAndShape.BorderRight=o,i.StaffLines[t].Measures.push(r),r.ParentStaffLine=i.StaffLines[t],o},t.prototype.addStaveMeasuresToSystem=function(t){if(void 0!==t[0]){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);for(var i=this.currentSystemParams.currentSystem,r=0;r<this.numberOfVisibleStaffLines;r++){var o=e[r];i.StaffLines[r].Measures.push(o),o.ParentStaffLine=i.StaffLines[r]}i.AddStaffMeasures(e)}},t.prototype.getMeasureStartLine=function(){if(this.thisMeasureBeginsLineRepetition()){var t=this.currentSystemParams.IsSystemStartMeasure(),e=0===this.measureListIndex;if(this.previousMeasureEndsLineRepetition()&&!t)return u.SystemLinesEnum.DotsBoldBoldDots;if(!e)return u.SystemLinesEnum.BoldThinDots}return u.SystemLinesEnum.None},t.prototype.getMeasureEndLine=function(){return this.nextMeasureBeginsLineRepetition()&&this.thisMeasureEndsLineRepetition()?u.SystemLinesEnum.DotsBoldBoldDots:this.thisMeasureEndsLineRepetition()?u.SystemLinesEnum.DotsThinBold:this.measureListIndex===this.measureList.length-1||this.measureList[this.measureListIndex][0].parentSourceMeasure.endsPiece?u.SystemLinesEnum.ThinBold:this.nextMeasureHasKeyInstructionChange()||this.thisMeasureEndsWordRepetition()||this.nextMeasureBeginsWordRepetition()?u.SystemLinesEnum.DoubleThin:u.SystemLinesEnum.SingleThin},t.prototype.getLineWidth=function(t,e,n){var i=t.getLineWidth(e);return e===u.SystemLinesEnum.DotsBoldBoldDots&&(i/=2),n&&e===u.SystemLinesEnum.BoldThinDots&&(i+=this.rules.DistanceBetweenLastInstructionAndRepetitionBarline),i},t.prototype.previousMeasureEndsLineRepetition=function(){if(0===this.measureListIndex)return!1;for(var t=0,e=this.measureList[this.measureListIndex-1].length;t<e;++t)if(this.measureList[this.measureListIndex-1][t].endsWithLineRepetition())return!0;return!1},t.prototype.thisMeasureBeginsLineRepetition=function(){for(var t=0,e=this.measureList[this.measureListIndex].length;t<e;++t)if(this.measureList[this.measureListIndex][t].beginsWithLineRepetition())return!0;return!1},t.prototype.nextMeasureBeginsLineRepetition=function(){var t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length)return!1;for(var e=0,n=this.measureList[t].length;e<n;++e)if(this.measureList[t][e].beginsWithLineRepetition())return!0;return!1},t.prototype.thisMeasureEndsLineRepetition=function(){for(var t=0,e=this.measureList[this.measureListIndex].length;t<e;++t)if(this.measureList[this.measureListIndex][t].endsWithLineRepetition())return!0;return!1},t.prototype.nextMeasureBeginsWordRepetition=function(){var t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length)return!1;for(var e=0,n=this.measureList[t].length;e<n;++e)if(this.measureList[t][e].beginsWithWordRepetition())return!0;return!1},t.prototype.thisMeasureEndsWordRepetition=function(){for(var t=0,e=this.measureList[this.measureListIndex].length;t<e;++t)if(this.measureList[this.measureListIndex][t].endsWithWordRepetition())return!0;return!1},t.prototype.nextMeasureHasKeyInstructionChange=function(){return void 0!==this.getNextMeasureKeyInstruction()},t.prototype.getNextMeasureKeyInstruction=function(){if(this.measureListIndex<this.measureList.length-1)for(var t=0;t<this.measureList[this.measureListIndex].length;t++){var e=this.measureList[this.measureListIndex+1][t].parentSourceMeasure;if(void 0===e)return;return e.getKeyInstruction(this.visibleStaffIndices[t])}},t.prototype.calculateXScalingFactor=function(t,e){return Math.abs(e-0)<1e-5||Math.abs(t-0)<1e-5?1:(this.currentSystemParams.currentSystem.StaffLines[0].PositionAndShape.Size.width-t)/e},t.prototype.stretchMusicSystem=function(t){var e=this.calculateXScalingFactor(this.currentSystemParams.currentSystemFixWidth,this.currentSystemParams.currentSystemVarWidth);t&&(e=Math.min(e,this.rules.LastSystemMaxScalingFactor));for(var n=this.currentSystemParams.currentSystem,i=0,r=n.StaffLines.length;i<r;++i)for(var o=n.StaffLines[i],s=0,a=0;a<o.Measures.length;a++){var c=o.Measures[a];if(c.setPositionInStaffline(s),c.setWidth(c.beginInstructionsWidth+c.minimumStaffEntriesWidth*e+c.endInstructionsWidth),a<this.currentSystemParams.systemMeasures.length){var l=this.currentSystemParams.systemMeasures[a].beginLine,h=c.getLineWidth(u.SystemLinesEnum.BoldThinDots);switch(l){case u.SystemLinesEnum.BoldThinDots:var f=s;0===a&&(f=s+c.beginInstructionsWidth-h),n.createVerticalLineForMeasure(f,h,l,d.SystemLinePosition.MeasureBegin,a,c)}}if(c.staffEntriesScaleFactor=e,c.layoutSymbols(),!(a+1<this.currentSystemParams.systemMeasures.length&&this.currentSystemParams.systemMeasures[a+1].beginLine===u.SystemLinesEnum.BoldThinDots)){var p=u.SystemLinesEnum.SingleThin;a<this.currentSystemParams.systemMeasures.length&&(p=this.currentSystemParams.systemMeasures[a].endLine),h=c.getLineWidth(p);var m=c.PositionAndShape.RelativePosition.x+c.PositionAndShape.BorderRight-h;p===u.SystemLinesEnum.DotsBoldBoldDots&&(m-=h/2),n.createVerticalLineForMeasure(m,h,p,d.SystemLinePosition.MeasureEnd,a,c)}s=c.PositionAndShape.RelativePosition.x+c.PositionAndShape.BorderRight}t&&this.decreaseMusicSystemBorders()},t.prototype.decreaseMusicSystemBorders=function(){for(var t=this.currentSystemParams.currentSystem,e=f.CollectionUtil.last(t.StaffLines[0].Measures).PositionAndShape,n=e.RelativePosition.x+e.Size.width,i=0,r=t.StaffLines.length;i<r;++i){var o=t.StaffLines[i];o.PositionAndShape.BorderRight=n;for(var s=0,c=o.StaffLines.length;s<c;++s){var u=o.StaffLines[s];u.End=new a.PointF2D(n,u.End.y)}}t.PositionAndShape.BorderRight=n+this.currentSystemParams.maxLabelLength+this.rules.SystemLabelsRightMargin},t}();e.MusicSystemBuilder=p;var m=function(){function t(){this.systemMeasures=[],this.systemMeasureIndex=0,this.currentWidth=0,this.currentSystemFixWidth=0,this.currentSystemVarWidth=0,this.maxLabelLength=0}return t.prototype.IsSystemStartMeasure=function(){return 0===this.systemMeasureIndex},t}();e.SystemBuildParameters=m;var b=function(){return function(){}}();e.MeasureBuildParameters=b},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(i||(i={}));var r=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var n=e[t];this.createEmptyNodeIfNotExist(n)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,n=this.nodes[t];e<n.length;e++){var i=n[e];this.createEmptyNodeIfNotExist(i)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){function t(e,n,i,r){if(void 0===r&&(r=0),e&&n&&i&&n[e]){r++;for(var o=n[e],s=0;s<o.length;s++){var a=o[s];i.push({id:a,level:r,hasParent:!0}),t(a,n,i,r)}r--}}for(var e=this,n=[],i=0;i<this.rootIds.length;i++){var r=this.rootIds[i];n.push({id:r,level:0,hasParent:!1,childrenCount:0}),t(r,this.nodes,n,0)}for(var o=0,s=n;o<s.length;o++){var a=s[o];a.childrenCount=function(t){return e.nodes[t]?e.nodes[t].length:0}(a.id)}return n},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,i.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,i.AFTER)},t.prototype.moveIdIntoId=function(t,e,n){return void 0===n&&(n=!0),n?this.moveId(t,e,i.INSIDE_AT_START):this.moveId(t,e,i.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var n=this.findRootId(t),i=this.findRootId(e);this.swapRootPositionWithRootPosition(n,i)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var n=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=n},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var n=this.findRootId(t);for(var i in n>-1&&this.insertIdIntoRoot(e,n),this.nodes)if(this.nodes.hasOwnProperty(i)){var r=this.findNodeId(i,t);r>-1&&this.insertIdIntoNode(i,e,r)}},t.prototype.insertIdAfterId=function(t,e){var n=this.findRootId(t);for(var i in n>-1&&this.insertIdIntoRoot(e,n+1),this.nodes)if(this.nodes.hasOwnProperty(i)){var r=this.findNodeId(i,t);r>-1&&this.insertIdIntoNode(i,e,r+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var n=this.rootIds.length;this.rootIds.splice(e+n+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,n){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===n)this.nodeInsertAtEnd(t,e);else if(n<0){var i=this.nodes[t].length;this.nodes[t].splice(n+i+1,0,e)}else this.nodes[t].splice(n,0,e)},t.prototype.moveId=function(t,e,n){var r=t,o=this.findRootId(r);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}var a=e,c=this.findRootId(a);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}if(o>-1){if(c>-1)switch(this.rootDelete(o),c>o&&c--,n){case i.BEFORE:this.insertIdIntoRoot(r,c);break;case i.AFTER:this.insertIdIntoRoot(r,c+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}else for(var s in this.rootDelete(o),this.nodes)if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,a))>-1){switch(n){case i.BEFORE:this.insertIdIntoNode(s,r,u);break;case i.AFTER:this.insertIdIntoNode(s,r,u+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}else if(c>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,r))>-1){this.nodeDeleteAtIndex(s,u);break}switch(n){case i.BEFORE:this.insertIdIntoRoot(r,c);break;case i.AFTER:this.insertIdIntoRoot(r,c+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,r))>-1){this.nodeDeleteAtIndex(s,u);break}for(var s in this.nodes){var u;if(this.nodes.hasOwnProperty(s)&&(u=this.findNodeId(s,a))>-1){switch(n){case i.BEFORE:this.insertIdIntoNode(s,r,u);break;case i.AFTER:this.insertIdIntoNode(s,r,u+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(a,r);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(a,r)}break}}}},t.prototype.swapArrayElements=function(t,e,n){var i=t[e];return t[e]=t[n],t[n]=i,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],n=0;n<this.nodes[t].length;n++){var i=this.nodes[t][n];this.nodeAndSubNodesDelete(i),e.push(t)}for(this.nodeDelete(t),n=0;n<e.length;n++)this.nodeDelete(e[n])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var n=0;n<this.nodes[e].length;n++)this.nodes[e][n]===t&&this.nodeDeleteAtIndex(e,n)},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(63),r=function(){function t(){this.list=new i.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(106),o=function(){function t(t){this.heap=new r.default(i.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(10),o=n(36),s=function(){function t(t,e,n){void 0===n&&(n=!1),this.dict=new r.default(t),this.equalsF=e||i.defaultEquals,this.allowDuplicate=n}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return i.isUndefined(e)?[]:o.copy(e)},t.prototype.setValue=function(t,e){if(i.isUndefined(t)||i.isUndefined(e))return!1;var n=this.dict.getValue(t);return i.isUndefined(n)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&o.contains(n,e,this.equalsF))&&(n.push(e),!0)},t.prototype.remove=function(t,e){if(i.isUndefined(e)){var n=this.dict.remove(t);return!i.isUndefined(n)}var r=this.dict.getValue(t);return!(i.isUndefined(r)||!o.remove(r,e,this.equalsF))&&(0===r.length&&this.dict.remove(t),!0)},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,n=this.dict.values();e<n.length;e++)for(var i=0,r=n[e];i<r.length;i++){var o=r[i];t.push(o)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();e.default=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),s=n(8),a=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),c=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),u=function(t){function e(e){var n=t.call(this,e)||this;return n.head=new c,n.tail=new c,n.head.next=n.tail,n.tail.prev=n.head,n}return r(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!s.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!s.isUndefined(e))return e.value},e.prototype.remove=function(e){var n=this.getLinkedDictionaryPair(e);if(!s.isUndefined(n))return t.prototype.remove.call(this,e),n.unlink(),n.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var n="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[n]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!s.isUndefined(t)&&!s.isUndefined(e)){var n=this.getLinkedDictionaryPair(t),i=new a(t,e),r="$"+this.toStr(t);return s.isUndefined(n)?(this.appendToTail(i),this.table[r]=i,void++this.nElements):(this.replace(n,i),n.value)}},e.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(e)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},e.prototype.forEach=function(t){for(var e=this.head.next;null!==e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(o.default);e.default=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(108).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(10),o=n(109),s=function(){function t(t){this.toStrF=t||i.defaultToString,this.dictionary=new r.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),i.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var n={value:t,copies:e};this.dictionary.setValue(t,n)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),i.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var n=this.dictionary.getValue(t);return e>n.copies?this.nElements-=n.copies:this.nElements-=e,n.copies-=e,n.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,n=this.dictionary.values();e<n.length;e++)for(var i=n[e],r=i.value,o=i.copies,s=0;s<o;s++)t.push(r);return t},t.prototype.toSet=function(){for(var t=new o.default(this.toStrF),e=0,n=this.dictionary.values();e<n.length;e++){var i=n[e].value;t.add(i)}return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){for(var i=n.value,r=n.copies,o=0;o<r;o++)if(!1===t(i))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36);e.arrays=i;var r=n(240);e.Bag=r.default;var o=n(239);e.BSTree=o.default;var s=n(108);e.BSTreeKV=s.default;var a=n(10);e.Dictionary=a.default;var c=n(106);e.Heap=c.default;var u=n(238);e.LinkedDictionary=u.default;var l=n(63);e.LinkedList=l.default;var h=n(237);e.MultiDictionary=h.default;var f=n(105);e.FactoryDictionary=f.default;var d=n(105);e.DefaultDictionary=d.default;var p=n(107);e.Queue=p.default;var m=n(236);e.PriorityQueue=m.default;var b=n(109);e.Set=b.default;var g=n(235);e.Stack=g.default;var v=n(234);e.MultiRootTree=v.default;var y=n(8);e.util=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.staffEntries=[],this.absoluteTimestamp=e,this.staffEntries=new Array(t)}return Object.defineProperty(t.prototype,"Index",{get:function(){return this.index},set:function(t){this.index=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AbsoluteTimestamp",{get:function(){return this.absoluteTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffEntries",{get:function(){return this.staffEntries},set:function(t){this.staffEntries=t},enumerable:!0,configurable:!0}),t.compareByTimestamp=function(t,e){var n=t.absoluteTimestamp.RealValue,i=e.absoluteTimestamp.RealValue;return n<i?-1:n>i?1:0},t.prototype.getFirstNonNullStaffEntry=function(){for(var t=0,e=this.staffEntries.length;t<e;++t){var n=this.staffEntries[t];if(void 0!==n)return n}},t}();e.VerticalGraphicalStaffEntryContainer=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),s=n(229),a=n(208),c=n(96),u=n(15),l=n(3),h=n(31),f=n(207),d=n(206),p=function(t){function e(){var e=t.call(this,new s.VexFlowGraphicalSymbolFactory)||this;return o.MusicSheetCalculator.TextMeasurer=new c.VexFlowTextMeasurer,e}return r(e,t),e.prototype.clearRecreatedObjects=function(){t.prototype.clearRecreatedObjects.call(this);for(var e=0,n=this.graphicalMusicSheet.MeasureList;e<n.length;e++)for(var i=0,r=n[e];i<r.length;i++)r[i].clean()},e.prototype.formatMeasures=function(){for(var t=0,e=this.graphicalMusicSheet.MeasureList;t<e.length;t++)for(var n=0,i=e[t];n<i.length;n++){var r=i[n];r.format();for(var o=0,s=r.staffEntries;o<s.length;o++)s[o].calculateXPosition()}},e.prototype.calculateMeasureXLayout=function(t){for(var e=[],n=new u.Flow.Formatter({align_rests:!0}),i=0,r=t;i<r.length;i++){var o=(p=r[i]).vfVoices,s=[];for(var a in o)o.hasOwnProperty(a)&&(s.push(o[a]),e.push(o[a]));0!==s.length?n.joinVoices(s):l.Logging.warn("Found a measure with no voices... Continuing anyway.",o)}var c=200;if(e.length>0){c=n.preCalculateMinTotalWidth(e)/h.unitInPixels+5;for(var f=0,d=t;f<d.length;f++){var p;(p=d[f]).minimumStaffEntriesWidth=c,p!==t[0]?p.formatVoices=void 0:p.formatVoices=function(t){n.format(e,t)}}}return c},e.prototype.createGraphicalTie=function(t,e,n,i,r){return new a.GraphicalTie(t,i,r)},e.prototype.updateStaffLineBorders=function(t){},e.prototype.staffMeasureCreatedCalculations=function(t){t.staffMeasureCreatedCalculations()},e.prototype.layoutVoiceEntry=function(t,e,n,i,r){},e.prototype.layoutStaffEntry=function(t){t.parentMeasure.layoutStaffEntry(t)},e.prototype.calculateSystemYLayout=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t){var n=this.graphicalMusicSheet.MusicPages[t];if(!this.leadSheet)for(var i=this.rules.PageTopMargin+this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.TitleBottomDistance,r=0,o=n.MusicSystems.length;r<o;++r){for(var s=n.MusicSystems[r],a=0,c=0,u=s.StaffLines;c<u.length;c++)u[c].PositionAndShape.RelativePosition.y=a,a+=10;s.PositionAndShape.BorderBottom=a+0,s.PositionAndShape.RelativePosition.x=this.rules.PageLeftMargin+this.rules.SystemLeftMargin,s.PositionAndShape.RelativePosition.y=i,i+=a+5}}},e.prototype.initStaffMeasuresCreation=function(){},e.prototype.layoutArticulationMarks=function(t,e,n){},e.prototype.layoutGraphicalTie=function(t,e){var n=t.StartNote,i=void 0;void 0!==n&&(i=n.vfnote[0]);var r=t.EndNote,o=void 0;if(void 0!==r&&(o=r.vfnote[0]),e){var s=new u.Flow.StaveTie({first_note:i});n.parentStaffEntry.parentMeasure.vfTies.push(s);var a=new u.Flow.StaveTie({last_note:o});r.parentStaffEntry.parentMeasure.vfTies.push(a)}else{var c=new u.Flow.StaveTie({first_note:i,last_note:o});r.parentStaffEntry.parentMeasure.vfTies.push(c)}},e.prototype.calculateSingleOctaveShift=function(t,e,n,i){},e.prototype.calculateWordRepetitionInstruction=function(t,e){for(var n=void 0,i=this.graphicalMusicSheet.MeasureList[e],r=0,o=i.length;r<o;++r){var s=i[r];if(void 0!==s.ParentStaffLine&&s.ParentStaff.ParentInstrument.Visible){n=s;break}}void 0!==n&&n.addWordRepetition(t.type)},e.prototype.calculateMoodAndUnknownExpression=function(t,e,n){},e.prototype.handleTiedGraphicalNote=function(t,e,n,i,r,o,s,a){},e.prototype.handleBeam=function(t,e,n){t.parentStaffEntry.parentMeasure.handleBeam(t,e)},e.prototype.handleVoiceEntryLyrics=function(t,e,n){var i=this;t.LyricsEntries.forEach(function(t,r){var o=new f.GraphicalLyricEntry(r,e,i.rules.LyricsHeight,i.rules.StaffHeight);if(e.LyricsEntries.push(o),o.GraphicalLabel.setLabelPositionAndShapeBorders(),void 0!==r.Word){var s=r.Word.Syllables.indexOf(r),a=n.indexOf(r.Word);if(-1===a&&(n.push(r.Word),a=n.indexOf(r.Word)),0===i.graphicalLyricWords.length||a>i.graphicalLyricWords.length-1){var c=new d.GraphicalLyricWord(r.Word);o.ParentLyricWord=c,c.GraphicalLyricsEntries[s]=o,i.graphicalLyricWords.push(c)}else c=i.graphicalLyricWords[a],o.ParentLyricWord=c,c.GraphicalLyricsEntries[s]=o,c.isFilled()&&(n.splice(a,1),i.graphicalLyricWords.splice(i.graphicalLyricWords.indexOf(c),1))}})},e.prototype.handleVoiceEntryOrnaments=function(t,e,n){},e.prototype.handleVoiceEntryArticulations=function(t,e,n){},e.prototype.handleVoiceEntryTechnicalInstructions=function(t,e,n){},e.prototype.handleTuplet=function(t,e,n){t.parentStaffEntry.parentMeasure.handleTuplet(t,e)},e}(o.MusicSheetCalculator);e.VexFlowMusicSheetCalculator=p}])})},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(25),u=(n.n(c),function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()),l=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(c.Notation,{notation:'\nX:1\nT:Golden Slippers\nC:Traditional\nL:1/4\nQ:1/4=120\nM:4/4\nK:G\nV:1\n ((G/A/)) |:"G" B ((B/c/)) B/A/G/A/ | B ((B/c/)) B/A/G/A/ | B B c B |"D7" B A A ((F/G/)) |\n |A ((A/B/)) A/G/F/G/ | A ((A/B/)) A/G/F/G/ | A c B A |1"G" A G G ((G/A/)) :|2"G" A G G z ||\n |:"G" D3 G | B A G F |"C" E3 A |"Am" c B A G |"D7" F3/2 F/ F G |\n |1 A3/2 A/ A A |"G" G3/2 F/ G A | B G F E :|2"G" A2 c2 | B3/2 c/ B A | G3 z |]\n'}),a.a.createElement("h4",null,"Pros"),a.a.createElement("ul",null,a.a.createElement("li",null,"ABC notation is simple"),a.a.createElement("li",null,"Theoretically, can play midi directly from ABC notation, rather than creating midi files")))}}]),e}(s.Component);e.a=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(0),u=i(c),l=n(3),h=i(l),f=n(14),d=i(f),p=n(19),m=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.editor=null,n}return s(e,t),a(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.editArea,n=t.editorParams,i=t.soundfontUrl;d.default.midi.soundfontUrl=i,this.editor=new d.default.Editor(e,n)}},{key:"render",value:function(){var t=this;return u.default.createElement("div",{ref:function(e){t.el=e}})}}]),e}(c.Component);m.propTypes={editArea:h.default.string.isRequired,editorParams:h.default.object,soundfontUrl:h.default.string},m.defaultProps=p.editorProps,e.default=m},function(t,e,n){var i=n(2),r={};!function(){"use strict";function t(t,e){var n=t.getAttribute("class"),i=/[\t\r\n\f]/g,r=" "+e+" ";return 1===t.nodeType&&(" "+n+" ").replace(i," ").indexOf(r)>=0}function e(e,n,i){for(var r=e.getElementsByClassName(n),o=[],s=0;s<r.length;s++)t(r[s],i)&&o.push(r[s]);return o}function n(t){for(var e,i=0;i<document.styleSheets.length&&void 0===e;i++){var r=document.styleSheets[i],o=r.rules;if(o)for(var s=0;s<o.length&&void 0===e;s++)o[s].selectorText&&o[s].selectorText===t&&(e=o[s])}return e||(document.styleSheets[0].insertRule(t+" { }",1),n(t))}function o(t,e){return e.bpm?e.bpm:t&&t.metaText&&t.metaText.tempo&&t.metaText.tempo.bpm?t.metaText.tempo.bpm:120}function s(t){u.style.marginTop=-t+"px",l=t}var a,c,u,l,h,f,d,p,m,b,g,v,y=!1;r.startAnimation=function(_,x,w){function S(){var t=_.style.marginLeft;t=""===t?0:parseInt(t),t-=F,_.style.marginLeft=t+"px",t>D.offsetWidth-_.scrollWidth&&(a=setTimeout(S,B))}function E(t,n){t=parseInt(t,10),n=parseInt(n,10),n++;var i=e(_,"l"+t,"m"+n);return i.length>0?[t,n]:(t++,n=0,i=e(_,"l"+t,"m"+n),i.length>0?[t,n]:null)}function T(n,i){var r=e(_,"l"+n,"m"+i);if(r.length>0)for(var o=0;o<r.length;o++){var s=r[o];t(s,"bar")||(s.style.display="none")}}function k(t){for(var e,n,i,r,o=t.length-1;o>=0;o--){var s=t[o];"bar"===s.type?(s.top=i,s.nextTop=e,e=i,s.bottom=r,s.nextBottom=n,n=r):"event"===s.type&&(i=s.top,r=s.top+s.height)}}function P(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e=e.sort(function(t,e){var n=t.time-e.time;return 0!==n?n:"bar"===t.type?-1:1})}function M(t){return t.top!==t.nextTop&&void 0!==t.nextTop}function C(t,e,n){var i=parseInt(t.clientHeight,10);return!(n.nextBottom-e<i)}function O(){var t=j.shift();if(!t)return y=!0,0;if("bar"===t.type){if(w.scrollVertical&&M(t)&&C(D,l,t)&&setTimeout(function(){s(t.nextTop)},A),w.hideCurrentMeasure){var e=E(t.lineNum,t.measureNum);e&&T(e[0],e[1])}else w.hideFinishedMeasures&&T(t.lineNum,t.measureNum);return j.length>0?j[0].time/I:0}return w.scrollHint&&V!==t.top&&(V=t.top,s(V)),w.showCursor&&d&&d.style&&(d.style.left=t.left+"px",d.style.top=t.top+"px",d.style.width=t.width+"px",d.style.height=t.height+"px"),j.length>0?j[0].time/I:(y=!0,0)}if(void 0===_.getElementsByClassName)return void console.error("ABCJS.startAnimation: The first parameter must be a regular DOM element. (Did you pass a jQuery object or an ID?)");if(void 0===x.getBeatLength)return void console.error("ABCJS.startAnimation: The second parameter must be a single tune. (Did you pass the entire array of tunes?)");if((w.scrollHorizontal||w.scrollVertical||w.scrollHint)&&(t(_,"abcjs-inner")||(_.scrollTop=0,_.style.overflow="hidden",_=_.children[0]),!t(_,"abcjs-inner")))return void console.error("ABCJS.startAnimation: When using scrollHorizontal/scrollVertical/scrollHint, the music must have been rendered using viewportHorizontal/viewportVertical.");r.stopAnimation(),h=_,f=w.scrollVertical||w.scrollHint,w.showCursor&&(d=document.createElement("DIV"),d.className="cursor",d.style.position="absolute",_.appendChild(d),_.style.position="relative"),y=!1;var A,N=o(x,w),L=N/6e4,I=x.getBeatLength(),R=0;if(w.scrollVertical){A=1/L*(1/I)/2,u=n(".abcjs-inner")}m=!1;var B=11,F=1,D=_.parentNode;w.scrollHorizontal&&(_.style.marginLeft="0px",a=setTimeout(S,2700));var j=[];!function(t){for(var e={},n=0,r=!1,o=0;o<t.staffgroups.length;o++){var s=t.staffgroups[o],a=s.voices,c=s.staffs[0],u=c.absoluteY,l=u-c.top*i.STEP,h=s.staffs[s.staffs.length-1];u=h.absoluteY;for(var f=u-h.bottom*i.STEP,d=f-l,p=0,m=0;m<a.length;m++){for(var b=n,g=a[m].children,v=0;v<g.length;v++){var y=g[v];if(y.hint)break;if(y.duration>0){var _=y.startTie;r?_||(r=!1):(e["event"+b]?e["event"+b].left=Math.min(e["event"+b].left,y.x):e["event"+b]={type:"event",time:b,top:l,height:d,left:y.x,width:y.w},_&&(r=!0)),b+=y.durationClass?y.durationClass:y.duration}if("bar"===y.type&&(0===j.length||"bar"!==j[j.length-1])&&y.elemset&&y.elemset.length>0&&y.elemset[0].attrs){for(var x,S,E=y.elemset[0].attrs.class,T=E.split(" "),M=0;M<T.length;M++){var C=/m(\d+)/.exec(T[M]);C&&(S=C[1]),(C=/l(\d+)/.exec(T[M]))&&(x=C[1])}e["bar"+b]={type:"bar",time:b,lineNum:x,measureNum:S}}}p=Math.max(p,b)}n=p}j=P(e),R=j[j.length-1].time/I,w.scrollVertical&&k(j)}(x.engraver);var V=-1;if(l=0,w.scrollVertical&&s(0),v=function(){if(y)return void r.stopAnimation();var t=(new Date).getTime();if(m)return void(g=t-b);var e=O(),n=e/L,i=p+n-t;i<=0?v():c=setTimeout(v,i)},p=new Date,p=p.getTime(),m=!1,w.hideCurrentMeasure){var G=E(0,-1);G&&T(G[0],G[1])}v()},r.pauseAnimation=function(t){if(!v)return void console.warn("Cannot call pauseAnimation before calling startAnimation");if(t&&!m)m=!0,b=(new Date).getTime();else if(!t&&m){var e=(new Date).getTime(),n=e-b;p+=n,b=void 0,m=!1,c=setTimeout(v,g),g=void 0}},r.stopAnimation=function(){clearTimeout(c),clearTimeout(a),d&&(d.remove(),d=null),f&&(h&&h.parentNode&&(h.parentNode.style.overflowY="auto"),s(0))}}(),t.exports=r},function(t,e,n){var i=n(1),r=n(16),o=n(17),s=function(t,e,n,s){this.reset=function(t,e,n,i){o.initialize(t,e,n,i),r.initialize(t,e,n,i)},this.reset(t,e,n,s),this.setTitle=function(e){if(n.hasMainTitle)s.addSubtitle(t.translateString(t.stripComment(e)));else{var i=t.translateString(t.theReverser(t.stripComment(e)));n.titlecaps&&(i=i.toUpperCase()),s.addMetaText("title",i),n.hasMainTitle=!0}},this.setMeter=function(i){if("C"===(i=t.stripComment(i)))return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if("C|"===i)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if("o"===i)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if("c"===i)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if("o."===i)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if("c."===i)return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(0===i.length||"none"===i.toLowerCase())return!0===n.havent_set_length&&(n.default_length=.125,n.havent_set_length=!1),null;var r=t.tokenize(i,0,i.length);try{var o=function(){var t={value:0,num:""},e=r.shift();for("("===e.token&&(e=r.shift());;){if("number"!==e.type)throw"Expected top number of meter";if(t.value+=parseInt(e.token),t.num+=e.token,0===r.length||"/"===r[0].token)return t;if(e=r.shift(),")"===e.token){if(0===r.length||"/"===r[0].token)return t;throw"Unexpected paren in meter"}if("."!==e.token&&"+"!==e.token)throw"Expected top number of meter";if(t.num+=e.token,0===r.length)throw"Expected top number of meter";e=r.shift()}return t};if(0===r.length)throw"Expected meter definition in M: line";for(var s={type:"specified",value:[]},a=0;;){var c=function(){var t=o();if(0===r.length)return t;var e=r.shift();if("/"!==e.token)throw"Expected slash in meter";if(e=r.shift(),"number"!==e.type)throw"Expected bottom number of meter";return t.den=e.token,t.value=t.value/parseInt(t.den),t}();a+=c.value;var u={num:c.num};if(void 0!==c.den&&(u.den=c.den),s.value.push(u),0===r.length)break}return!0===n.havent_set_length&&(n.default_length=a<.75?.0625:.125,n.havent_set_length=!1),s}catch(t){e(t,i,0)}return null},this.calcTempo=function(t){var e=.25;n.meter&&"specified"===n.meter.type?e=1/parseInt(n.meter.value[0].den):n.origMeter&&"specified"===n.origMeter.type&&(e=1/parseInt(n.origMeter.value[0].den));for(var i=0;i<t.duration;i++)t.duration[i]=e*t.duration[i];return t},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),s.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(t,r,o){var s=t.indexOf("=",r);if(-1===s)return void e("Need an = in a macro definition",t,r);var a=i.strip(t.substring(r,s)),c=i.strip(t.substring(s+1));return 1!==a.length?void e("Macro definitions can only be one character",t,r):-1==="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~".indexOf(a)?void e("Macro definitions must be H-Y, h-w, or tilde",t,r):0===c.length?void e("Missing macro definition",t,r):(void 0===n.macros&&(n.macros={}),void(n.macros[a]=c))},this.setDefaultLength=function(t,e,r){var o=i.gsub(t.substring(e,r)," ",""),s=o.split("/");if(2===s.length){var a=parseInt(s[0]),c=parseInt(s[1]);c>0&&(n.default_length=a/c,n.havent_set_length=!1)}else 1===s.length&&"1"===s[0]&&(n.default_length=1,n.havent_set_length=!1)};var a={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(i,r,o){try{var s=t.tokenize(i,r,o);if(0===s.length)throw"Missing parameter in Q: field";var c={},u=!0,l=s.shift();if("quote"===l.type&&(c.preString=l.token,l=s.shift(),0===s.length))return a[c.preString.toLowerCase()]&&(c.bpm=a[c.preString.toLowerCase()],c.suppressBpm=!0),{type:"immediate",tempo:c};if("alpha"===l.type&&"C"===l.token){if(0===s.length)throw"Missing tempo after C in Q: field";if(l=s.shift(),"punct"===l.type&&"="===l.token){if(0===s.length)throw"Missing tempo after = in Q: field";if(l=s.shift(),"number"!==l.type)throw"Expected number after = in Q: field";c.duration=[1],c.bpm=parseInt(l.token)}else{if("number"!==l.type)throw"Expected number or equal after C in Q: field";if(c.duration=[parseInt(l.token)],0===s.length)throw"Missing = after duration in Q: field";if(l=s.shift(),"punct"!==l.type||"="!==l.token)throw"Expected = after duration in Q: field";if(0===s.length)throw"Missing tempo after = in Q: field";if(l=s.shift(),"number"!==l.type)throw"Expected number after = in Q: field";c.bpm=parseInt(l.token)}}else{if("number"!==l.type)throw"Unknown value in Q: field";var h=parseInt(l.token);if(0===s.length||"quote"===s[0].type)c.duration=[1],c.bpm=h;else{if(u=!1,l=s.shift(),"punct"!==l.type&&"/"!==l.token)throw"Expected fraction in Q: field";if(l=s.shift(),"number"!==l.type)throw"Expected fraction in Q: field";var f=parseInt(l.token);for(c.duration=[h/f];s.length>0&&"="!==s[0].token&&"quote"!==s[0].type;){if(l=s.shift(),"number"!==l.type)throw"Expected fraction in Q: field";if(h=parseInt(l.token),l=s.shift(),"punct"!==l.type&&"/"!==l.token)throw"Expected fraction in Q: field";if(l=s.shift(),"number"!==l.type)throw"Expected fraction in Q: field";f=parseInt(l.token),c.duration.push(h/f)}if(l=s.shift(),"punct"!==l.type&&"="!==l.token)throw"Expected = in Q: field";if(l=s.shift(),"number"!==l.type)throw"Expected tempo in Q: field";c.bpm=parseInt(l.token)}}if(0!==s.length&&(l=s.shift(),"quote"===l.type&&(c.postString=l.token,l=s.shift()),0!==s.length))throw"Unexpected string at end of Q: field";return!1===n.printTempo&&(c.suppress=!0),{type:u?"delaySet":"immediate",tempo:c}}catch(t){return e(t,i,r),{type:"none"}}},this.letter_to_inline_header=function(i,a){var c=t.eatWhiteSpace(i,a);if(a+=c,i.length>=a+5&&"["===i.charAt(a)&&":"===i.charAt(a+2)){var u=i.indexOf("]",a);switch(i.substring(a,a+3)){case"[I:":var l=r.addDirective(i.substring(a+3,u));return l&&e(l,i,a),[u-a+1+c];case"[M:":var h=this.setMeter(i.substring(a+3,u));return s.hasBeginMusic()&&h?s.appendStartingElement("meter",-1,-1,h):n.meter=h,[u-a+1+c];case"[K:":var f=o.parseKey(i.substring(a+3,u));return f.foundClef&&s.hasBeginMusic()&&s.appendStartingElement("clef",-1,-1,n.clef),f.foundKey&&s.hasBeginMusic()&&s.appendStartingElement("key",-1,-1,o.fixKey(n.clef,n.key)),[u-a+1+c];case"[P:":return s.lines.length<=s.lineNum?n.partForNextLine=i.substring(a+3,u):s.appendElement("part",-1,-1,{title:i.substring(a+3,u)}),[u-a+1+c];case"[L:":return this.setDefaultLength(i,a+3,u),[u-a+1+c];case"[Q:":if(u>0){var d=this.setTempo(i,a+3,u);return"delaySet"===d.type?s.appendElement("tempo",-1,-1,this.calcTempo(d.tempo)):"immediate"===d.type&&s.appendElement("tempo",-1,-1,d.tempo),[u-a+1+c,i.charAt(a+1),i.substring(a+3,u)]}break;case"[V:":if(u>0)return o.parseVoice(i,a+3,u),[u-a+1+c,i.charAt(a+1),i.substring(a+3,u)]}}return[0]},this.letter_to_body_header=function(t,a){if(t.length>=a+3)switch(t.substring(a,a+2)){case"I:":var c=r.addDirective(t.substring(a+2));return c&&e(c,t,a),[t.length];case"M:":var u=this.setMeter(t.substring(a+2));return s.hasBeginMusic()&&u&&s.appendStartingElement("meter",-1,-1,u),[t.length];case"K:":var l=o.parseKey(t.substring(a+2));return l.foundClef&&s.hasBeginMusic()&&s.appendStartingElement("clef",-1,-1,n.clef),l.foundKey&&s.hasBeginMusic()&&s.appendStartingElement("key",-1,-1,o.fixKey(n.clef,n.key)),[t.length];case"P:":return s.hasBeginMusic()&&s.appendElement("part",-1,-1,{title:t.substring(a+2)}),[t.length];case"L:":return this.setDefaultLength(t,a+2,t.length),[t.length];case"Q:":var h=t.indexOf("\x12",a+2);-1===h&&(h=t.length);var f=this.setTempo(t,a+2,h);return"delaySet"===f.type?s.appendElement("tempo",-1,-1,this.calcTempo(f.tempo)):"immediate"===f.type&&s.appendElement("tempo",-1,-1,f.tempo),[h,t.charAt(a),i.strip(t.substring(a+2))];case"V:":return o.parseVoice(t,a+2,t.length),[t.length,t.charAt(a),i.strip(t.substring(a+2))]}return[0]};var c={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(a){if(i.startsWith(a,"%%")){var u=r.addDirective(a.substring(2));return u&&e(u,a,2),{}}var l=a.indexOf("%");if(l>=0&&(a=a.substring(0,l)),a=a.replace(/\s+$/,""),0===a.length)return{};if(a.length>=2&&":"===a.charAt(1)){var h="";a.indexOf("\x12")>=0&&"w"!==a.charAt(0)&&(h=a.substring(a.indexOf("\x12")+1),a=a.substring(0,a.indexOf("\x12")));var f=c[a.charAt(0)];if(void 0!==f)return"unalignedWords"===f?s.addMetaTextArray(f,r.parseFontChangeLine(t.translateString(t.stripComment(a.substring(2))))):s.addMetaText(f,t.translateString(t.stripComment(a.substring(2)))),{};switch(a.charAt(0)){case"H":s.addMetaText("history",t.translateString(t.stripComment(a.substring(2)))),n.is_in_history=!0;break;case"K":this.resolveTempo();var d=o.parseKey(a.substring(2));!n.is_in_header&&s.hasBeginMusic()&&(d.foundClef&&s.appendStartingElement("clef",-1,-1,n.clef),d.foundKey&&s.appendStartingElement("key",-1,-1,o.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(a,2,a.length);break;case"M":n.origMeter=n.meter=this.setMeter(a.substring(2));break;case"P":n.is_in_header?s.addMetaText("partOrder",t.translateString(t.stripComment(a.substring(2)))):n.partForNextLine=t.translateString(t.stripComment(a.substring(2)));break;case"Q":var p=this.setTempo(a,2,a.length);"delaySet"===p.type?n.tempo=p.tempo:"immediate"===p.type&&(s.metaText.tempo=p.tempo);break;case"T":this.setTitle(a.substring(2));break;case"U":this.addUserDefinition(a,2,a.length);break;case"V":if(o.parseVoice(a,2,a.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":e("Ignored header",a,0);break;default:return h.length&&(h="\x12"+h),{regular:!0,str:a+h}}return h.length>0?{recurse:!0,str:h}:{}}return{regular:!0,str:a}}};t.exports=s},function(t,e,n){var i=n(1),r=function(){this.skipWhiteSpace=function(t){for(var e=0;e<t.length;e++)if(!this.isWhiteSpace(t.charAt(e)))return e;return t.length};var t=function(t,e){return e>=t.length};this.eatWhiteSpace=function(t,e){for(var n=e;n<t.length;n++)if(!this.isWhiteSpace(t.charAt(n)))return n-e;return n-e},this.getKeyPitch=function(e){var n=this.skipWhiteSpace(e);if(t(e,n))return{len:0};switch(e.charAt(n)){case"A":return{len:n+1,token:"A"};case"B":return{len:n+1,token:"B"};case"C":return{len:n+1,token:"C"};case"D":return{len:n+1,token:"D"};case"E":return{len:n+1,token:"E"};case"F":return{len:n+1,token:"F"};case"G":return{len:n+1,token:"G"}}return{len:0}},this.getSharpFlat=function(t){if("bass"===t)return{len:0};switch(t.charAt(0)){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(e){var n=function(t,e){for(;e<t.length&&(t.charAt(e)>="a"&&t.charAt(e)<="z"||t.charAt(e)>="A"&&t.charAt(e)<="Z");)e++;return e},i=this.skipWhiteSpace(e);if(t(e,i))return{len:0};var r=e.substring(i,i+3).toLowerCase();switch((r.length>1&&" "===r.charAt(1)||"^"===r.charAt(1)||"_"===r.charAt(1)||"="===r.charAt(1))&&(r=r.charAt(0)),r){case"mix":return{len:n(e,i),token:"Mix"};case"dor":return{len:n(e,i),token:"Dor"};case"phr":return{len:n(e,i),token:"Phr"};case"lyd":return{len:n(e,i),token:"Lyd"};case"loc":return{len:n(e,i),token:"Loc"};case"aeo":return{len:n(e,i),token:"m"};case"maj":case"ion":return{len:n(e,i),token:""};case"min":case"m":return{len:n(e,i),token:"m"}}return{len:0}},this.getClef=function(e,n){var r=e,o=this.skipWhiteSpace(e);if(t(e,o))return{len:0};var s=!1,a=e.substring(o);if(i.startsWith(a,"clef=")&&(s=!0,a=a.substring(5),o+=5),0===a.length&&s)return{len:o+5,warn:"No clef specified: "+r};var c=this.skipWhiteSpace(a);if(t(a,c))return{len:0};c>0&&(o+=c,a=a.substring(c));var u=null;if(i.startsWith(a,"treble"))u="treble";else if(i.startsWith(a,"bass3"))u="bass3";else if(i.startsWith(a,"bass"))u="bass";else if(i.startsWith(a,"tenor"))u="tenor";else if(i.startsWith(a,"alto2"))u="alto2";else if(i.startsWith(a,"alto1"))u="alto1";else if(i.startsWith(a,"alto"))u="alto";else if(!n&&s&&i.startsWith(a,"none"))u="none";else if(i.startsWith(a,"perc"))u="perc";else if(!n&&s&&i.startsWith(a,"C"))u="tenor";else if(!n&&s&&i.startsWith(a,"F"))u="bass";else{if(n||!s||!i.startsWith(a,"G"))return{len:o+5,warn:"Unknown clef specified: "+r};u="treble"}return a=a.substring(u.length),c=this.isMatch(a,"+8"),c>0?u+="+8":(c=this.isMatch(a,"-8"))>0&&(u+="-8"),{len:o+u.length,token:u,explicit:s}},this.getBarLine=function(t,e){switch(t.charAt(e)){case"]":switch(++e,t.charAt(e)){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++e,t.charAt(e)>="1"&&t.charAt(e)<="9"||'"'===t.charAt(e)?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":switch(++e,t.charAt(e)){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++e,t.charAt(e)){case"]":switch(++e,t.charAt(e)){case"|":return++e,":"===t.charAt(e)?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}break;case"|":return++e,":"===t.charAt(e)?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}break;default:return{len:1,warn:"Unknown bar symbol"}}break;case"[":if(++e,"|"!==t.charAt(e))return t.charAt(e)>="1"&&t.charAt(e)<="9"||'"'===t.charAt(e)?{len:1,token:"bar_invisible"}:{len:0};switch(++e,t.charAt(e)){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}break;case"|":switch(++e,t.charAt(e)){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++e,":"===t.charAt(e)?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var n=0;":"===t.charAt(e+n);)n++;return{len:1+n,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t.charAt(n))<0)return{len:n,token:t.substring(0,n)};return{len:n,token:t}},this.getToken=function(t,e,n){for(var i=e;i<n&&!this.isWhiteSpace(t.charAt(i));)i++;return t.substring(e,i)},this.isMatch=function(e,n){var r=this.skipWhiteSpace(e);return t(e,r)?0:i.startsWith(e.substring(r),n)?r+n.length:0},this.getPitchFromTokens=function(t){var e={},n={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(e.position=n[t[0].token],void 0===e.position)return{warn:"Pitch expected. Found: "+t[0].token};for(t.shift();t.length;)switch(t[0].token){case",":e.position-=7,t.shift();break;case"'":e.position+=7,t.shift();break;default:return e}return e},this.getKeyAccidentals2=function(t){for(var e;t.length>0;){var n;if("^"===t[0].token){if(n="sharp",t.shift(),0===t.length)return{accs:e,warn:"Expected note name after "+n};switch(t[0].token){case"^":n="dblsharp",t.shift();break;case"/":n="quartersharp",t.shift()}}else if("="===t[0].token)n="natural",t.shift();else{if("_"!==t[0].token)return{accs:e};if(n="flat",t.shift(),0===t.length)return{accs:e,warn:"Expected note name after "+n};switch(t[0].token){case"_":n="dblflat",t.shift();break;case"/":n="quarterflat",t.shift()}}if(0===t.length)return{accs:e,warn:"Expected note name after "+n};switch(t[0].token.charAt(0)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":void 0===e&&(e=[]),e.push({acc:n,note:t[0].token.charAt(0)}),1===t[0].token.length?t.shift():t[0].token=t[0].token.substring(1);break;default:return{accs:e,warn:"Expected note name after "+n+" Found: "+t[0].token}}}return{accs:e}},this.getKeyAccidental=function(e){var n={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},i=this.skipWhiteSpace(e);if(t(e,i))return{len:0};var r=null;switch(e.charAt(i)){case"^":case"_":case"=":r=e.charAt(i);break;default:return{len:0}}if(i++,t(e,i))return{len:1,warn:"Expected note name after accidental"};switch(e.charAt(i)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:i+1,token:{acc:n[r],note:e.charAt(i)}};case"^":case"_":case"/":if(r+=e.charAt(i),i++,t(e,i))return{len:2,warn:"Expected note name after accidental"};switch(e.charAt(i)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:i+1,token:{acc:n[r],note:e.charAt(i)}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(t){return" "===t||"\t"===t||"\x12"===t},this.getMeat=function(t,e,n){var i=t.indexOf("%",e);for(i>=0&&i<n&&(n=i);e<n&&(" "===t.charAt(e)||"\t"===t.charAt(e)||"\x12"===t.charAt(e));)e++;for(;e<n&&(" "===t.charAt(n-1)||"\t"===t.charAt(n-1)||"\x12"===t.charAt(n-1));)n--;return{start:e,end:n}};var e=function(t){return t>="A"&&t<="Z"||t>="a"&&t<="z"},n=function(t){return t>="0"&&t<="9"};this.tokenize=function(t,i,r,o){var s=this.getMeat(t,i,r);i=s.start,r=s.end;for(var a,c=[];i<r;){if('"'===t.charAt(i)){for(a=i+1;a<r&&'"'!==t.charAt(a);)a++;c.push({type:"quote",token:t.substring(i+1,a),start:i+1,end:a}),a++}else if(e(t.charAt(i))){if(a=i+1,o)for(;a<r&&!this.isWhiteSpace(t.charAt(a));)a++;else for(;a<r&&e(t.charAt(a));)a++;c.push({type:"alpha",token:t.substring(i,a),continueId:n(t.charAt(a)),start:i,end:a}),i=a+1}else if("."===t.charAt(i)&&n(t.charAt(a+1))){a=i+1;for(var u=null;a<r&&n(t.charAt(a));)a++;u=parseFloat(t.substring(i,a)),c.push({type:"number",token:t.substring(i,a),intt:null,floatt:u,continueId:e(t.charAt(a)),start:i,end:a}),i=a+1}else if(n(t.charAt(i))||"-"===t.charAt(i)&&n(t.charAt(a+1))){a=i+1;for(var l=null,h=null;a<r&&n(t.charAt(a));)a++;if("."===t.charAt(a)&&n(t.charAt(a+1)))for(a++;a<r&&n(t.charAt(a));)a++;else l=parseInt(t.substring(i,a));h=parseFloat(t.substring(i,a)),c.push({type:"number",token:t.substring(i,a),intt:l,floatt:h,continueId:e(t.charAt(a)),start:i,end:a}),i=a+1}else" "===t.charAt(i)||"\t"===t.charAt(i)?a=i+1:(c.push({type:"punct",token:t.charAt(i),start:i,end:i+1}),a=i+1);i=a}return c},this.getVoiceToken=function(t,e,n){for(var i=e;i<n&&this.isWhiteSpace(t.charAt(i))||"="===t.charAt(i);)i++;if('"'===t.charAt(i)){var r=t.indexOf('"',i+1);return-1===r||r>=n?{len:1,err:"Missing close quote"}:{len:r-e+1,token:this.translateString(t.substring(i+1,r))}}for(var o=i;o<n&&!this.isWhiteSpace(t.charAt(o))&&"="!==t.charAt(o);)o++;return{len:o-e+1,token:t.substring(i,o)}};var r={"`a":"\xe0","'a":"\xe1","^a":"\xe2","~a":"\xe3",'"a':"\xe4",oa:"\xe5","=a":"\u0101",ua:"\u0103",";a":"\u0105","`e":"\xe8","'e":"\xe9","^e":"\xea",'"e':"\xeb","=e":"\u0113",ue:"\u0115",";e":"\u0119",".e":"\u0117","`i":"\xec","'i":"\xed","^i":"\xee",'"i':"\xef","=i":"\u012b",ui:"\u012d",";i":"\u012f","`o":"\xf2","'o":"\xf3","^o":"\xf4","~o":"\xf5",'"o':"\xf6","=o":"\u014d",uo:"\u014f","/o":"\xf8","`u":"\xf9","'u":"\xfa","^u":"\xfb","~u":"\u0169",'"u':"\xfc",ou:"\u016f","=u":"\u016b",uu:"\u016d",";u":"\u0173","`A":"\xc0","'A":"\xc1","^A":"\xc2","~A":"\xc3",'"A':"\xc4",oA:"\xc5","=A":"\u0100",uA:"\u0102",";A":"\u0104","`E":"\xc8","'E":"\xc9","^E":"\xca",'"E':"\xcb","=E":"\u0112",uE:"\u0114",";E":"\u0118",".E":"\u0116","`I":"\xcc","'I":"\xcd","^I":"\xce","~I":"\u0128",'"I':"\xcf","=I":"\u012a",uI:"\u012c",";I":"\u012e",".I":"\u0130","`O":"\xd2","'O":"\xd3","^O":"\xd4","~O":"\xd5",'"O':"\xd6","=O":"\u014c",uO:"\u014e","/O":"\xd8","`U":"\xd9","'U":"\xda","^U":"\xdb","~U":"\u0168",'"U':"\xdc",oU:"\u016e","=U":"\u016a",uU:"\u016c",";U":"\u0172",ae:"\xe6",AE:"\xc6",oe:"\u0153",OE:"\u0152",ss:"\xdf","'c":"\u0107","^c":"\u0109",uc:"\u010d",cc:"\xe7",".c":"\u010b",cC:"\xc7","'C":"\u0106","^C":"\u0108",uC:"\u010c",".C":"\u010a","~n":"\xf1","=s":"\u0161",vs:"\u0161",vz:"\u017e"},o={"#":"\u266f",b:"\u266d","=":"\u266e"},s={201:"\u266f",202:"\u266d",203:"\u266e",241:"\xa1",242:"\xa2",252:"a",262:"2",272:"o",302:"\xc2",312:"\xca",322:"\xd2",332:"\xda",342:"\xe2",352:"\xea",362:"\xf2",372:"\xfa",243:"\xa3",253:"\xab",263:"3",273:"\xbb",303:"\xc3",313:"\xcb",323:"\xd3",333:"\xdb",343:"\xe3",353:"\xeb",363:"\xf3",373:"\xfb",244:"\xa4",254:"\xac",264:"  \u0301",274:"1\u20444",304:"\xc4",314:"\xcc",324:"\xd4",334:"\xdc",344:"\xe4",354:"\xec",364:"\xf4",374:"\xfc",245:"\xa5",255:"-",265:"\u03bc",275:"1\u20442",305:"\xc5",315:"\xcd",325:"\xd5",335:"\xdd",345:"\xe5",355:"\xed",365:"\xf5",375:"\xfd",246:"\xa6",256:"\xae",266:"\xb6",276:"3\u20444",306:"\xc6",316:"\xce",326:"\xd6",336:"\xde",346:"\xe6",356:"\xee",366:"\xf6",376:"\xfe",247:"\xa7",257:" \u0304",267:"\xb7",277:"\xbf",307:"\xc7",317:"\xcf",327:"\xd7",337:"\xdf",347:"\xe7",357:"\xef",367:"\xf7",377:"\xff",250:" \u0308",260:"\xb0",270:" \u0327",300:"\xc0",310:"\xc8",320:"\xd0",330:"\xd8",340:"\xe0",350:"\xe8",360:"\xf0",370:"\xf8",251:"\xa9",261:"\xb1",271:"1",301:"\xc1",311:"\xc9",321:"\xd1",331:"\xd9",341:"\xe1",351:"\xe9",361:"\xf1",371:"\xf9"};this.translateString=function(t){var e=t.split("\\");if(1===e.length)return t;var n=null;return i.each(e,function(t){if(null===n)n=t;else{var e=r[t.substring(0,2)];void 0!==e?n+=e+t.substring(2):(e=s[t.substring(0,3)],void 0!==e?n+=e+t.substring(3):(e=o[t.substring(0,1)],n+=void 0!==e?e+t.substring(1):"\\"+t))}}),n},this.getNumber=function(t,e){for(var n=0;e<t.length;)switch(t.charAt(e)){case"0":n*=10,e++;break;case"1":n=10*n+1,e++;break;case"2":n=10*n+2,e++;break;case"3":n=10*n+3,e++;break;case"4":n=10*n+4,e++;break;case"5":n=10*n+5,e++;break;case"6":n=10*n+6,e++;break;case"7":n=10*n+7,e++;break;case"8":n=10*n+8,e++;break;case"9":n=10*n+9,e++;break;default:return{num:n,index:e}}return{num:n,index:e}},this.getFraction=function(t,e){var n=1,i=1;if("/"!==t.charAt(e)){var r=this.getNumber(t,e);n=r.num,e=r.index}if("/"===t.charAt(e)){if(e++,"/"===t.charAt(e)){for(var o=.5;"/"===t.charAt(e++);)o/=2;return{value:n*o,index:e-1}}var s=e,a=this.getNumber(t,e);0===a.num&&s===e&&(a.num=2),0!==a.num&&(i=a.num),e=a.index}return{value:n/i,index:e}},this.theReverser=function(t){return i.endsWith(t,", The")?"The "+t.substring(0,t.length-5):i.endsWith(t,", A")?"A "+t.substring(0,t.length-3):t},this.stripComment=function(t){var e=t.indexOf("%");return e>=0?i.strip(t.substring(0,e)):i.strip(t)},this.getInt=function(t){var e=parseInt(t);if(isNaN(e))return{digits:0};var n=""+e;return{value:e,digits:t.indexOf(n)+n.length}},this.getFloat=function(t){var e=parseFloat(t);if(isNaN(e))return{digits:0};var n=""+e;return{value:e,digits:t.indexOf(n)+n.length}},this.getMeasurement=function(t){if(0===t.length)return{used:0};var e=1,n="";if("-"===t[0].token)t.shift(),n="-",e++;else if("number"!==t[0].type)return{used:0};if(n+=t.shift().token,0===t.length)return{used:1,value:parseInt(n)};var i=t.shift();if("."===i.token){if(e++,0===t.length)return{used:e,value:parseInt(n)};if("number"===t[0].type&&(i=t.shift(),n=n+"."+i.token,e++,0===t.length))return{used:e,value:parseFloat(n)};i=t.shift()}switch(i.token){case"pt":return{used:e+1,value:parseFloat(n)};case"cm":return{used:e+1,value:parseFloat(n)/2.54*72};case"in":return{used:e+1,value:72*parseFloat(n)};default:return t.unshift(i),{used:e,value:parseFloat(n)}}return{used:0}};var a=function(t){for(;-1!==t.indexOf("\\n");)t=t.replace("\\n","\n");return t};this.getBrackettedSubstring=function(t,e,n,i){for(var r=i||t.charAt(e),o=e+1;o<t.length&&t.charAt(o)!==r;)++o;return t.charAt(o)===r?[o-e+1,a(t.substring(e+1,o)),!0]:(o=e+n,o>t.length-1&&(o=t.length-1),[o-e+1,a(t.substring(e+1,o)),!1])}};t.exports=r},function(t,e,n){var i=n(1),r=n(17),o=n(2),s=function(){function t(t){for(var e,n,i,r,o=t.length-1;o>=0;o--){var s=t[o];"bar"===s.type?(s.top=i,s.nextTop=e,e=i,s.bottom=r,s.nextBottom=n,n=r):"event"===s.type&&(i=s.top,r=s.top+s.height)}}function e(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e=e.sort(function(t,e){var n=t.milliseconds-e.milliseconds;return 0!==n?n:"bar"===t.type?-1:1})}this.getBeatLength=function(){for(var t=0;t<this.lines.length;t++)if(this.lines[t].staff)for(var e=0;e<this.lines[t].staff.length;e++)if(this.lines[t].staff[e].meter){var n=this.lines[t].staff[e].meter;if("specified"===n.type){if(n.value.length>0){var i=parseInt(n.value[0].num,10),r=parseInt(n.value[0].den,10);return 6===i&&8===r?3/8:9===i&&8===r?3/8:12===i&&8===r?3/8:1/r}return.25}return"cut_time"===n.type?.5:.25}return.25},this.getPickupLength=function(){for(var t=0,e=0;e<this.lines.length;e++)if(this.lines[e].staff)for(var n=0;n<this.lines[e].staff.length;n++)for(v=0;v<this.lines[e].staff[n].voices.length;v++)for(var i=this.lines[e].staff[n].voices[v],r=0;r<i.length;r++)if(i[r].duration&&(t+=i[r].duration),t>=this.getBarLength()&&(t-=this.getBarLength()),"bar"===i[r].el_type)return t;return t},this.getBarLength=function(){var t,e=this.getMeter();switch(e.type){case"common_time":t=1,this.meter={num:4,den:4};break;case"cut_time":t=1,this.meter={num:2,den:2};break;default:t=e.value[0].num/e.value[0].den,this.meter={num:parseInt(e.value[0].num,10),den:parseInt(e.value[0].den,10)}}return t},this.reset=function(){this.version="1.0.1",this.media="screen",this.metaText={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0},this.resolveOverlays=function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t];if(e.staff)for(var n=0;n<e.staff.length;n++){for(var i=e.staff[n],r=[],o=0;o<i.voices.length;o++){var s=i.voices[o];r.push({hasOverlay:!1,voice:[],snip:[]});for(var a=0,c=!1,u=-1,l=0;l<s.length;l++){var h=s[l];"overlay"===h.el_type?(c=!0,u=l,r[o].hasOverlay=!0):"bar"===h.el_type?(c?(c=!1,r[o].snip.push({start:u,len:l-u})):(r[o].voice.push({el_type:"note",duration:a,rest:{type:"invisible"},startChar:h.startChar,endChar:h.endChar}),r[o].voice.push(h)),a=0):"note"===h.el_type?c?r[o].voice.push(h):a+=h.duration:"scale"!==h.el_type&&"stem"!==h.el_type&&"style"!==h.el_type&&"transpose"!==h.el_type||r[o].voice.push(h)}}for(o=0;o<r.length;o++){var f=r[o];if(f.hasOverlay){i.voices.push(f.voice);for(var d=f.snip.length-1;d>=0;d--){var p=f.snip[d];i.voices[o].splice(p.start,p.len)}}}}}},this.cleanUp=function(t,e,n,o,s){function a(t){r.fixClef(t)}this.closeLine(),this.metaText.tempo&&this.metaText.tempo.bpm&&!this.metaText.tempo.duration&&(this.metaText.tempo.duration=[this.getBeatLength()]);var c,u,l,h=!1;for(c=0;c<this.lines.length;c++)if(void 0!==this.lines[c].staff){var f=!1;for(u=0;u<this.lines[c].staff.length;u++)if(void 0===this.lines[c].staff[u])h=!0,this.lines[c].staff[u]=null;else for(l=0;l<this.lines[c].staff[u].voices.length;l++)void 0===this.lines[c].staff[u].voices[l]?this.lines[c].staff[u].voices[l]=[]:this.containsNotes(this.lines[c].staff[u].voices[l])&&(f=!0);f||(this.lines[c]=null,h=!0)}if(h&&(this.lines=i.compact(this.lines),i.each(this.lines,function(t){t.staff&&(t.staff=i.compact(t.staff))})),n)for(c=0;c<this.lines.length;c++)if(void 0!==this.lines[c].staff)for(u=0;u<this.lines[c].staff.length;u++){var d=[];for(l=0;l<this.lines[c].staff[u].voices.length;l++)for(var p=this.lines[c].staff[u].voices[l],m=0,b=0;b<p.length;b++)if("bar"===p[b].el_type){if(++m>=n&&b<p.length-1){if(c===this.lines.length-1){var g=JSON.parse(JSON.stringify(this.lines[c]));this.lines.push(i.clone(g));for(var v=0;v<this.lines[c+1].staff.length;v++)for(var y=0;y<this.lines[c+1].staff[v].voices.length;y++)this.lines[c+1].staff[v].voices[y]=[]}var _=b+1,x=this.lines[c].staff[u].voices[l].slice(_);this.lines[c].staff[u].voices[l]=this.lines[c].staff[u].voices[l].slice(0,_),this.lines[c+1].staff[u].voices[l]=d.concat(x.concat(this.lines[c+1].staff[u].voices[l]))}}else p[b].duration||d.push(p[b])}if(n){for(h=!1,c=0;c<this.lines.length;c++)if(void 0!==this.lines[c].staff)for(u=0;u<this.lines[c].staff.length;u++){var w=!1;for(l=0;l<this.lines[c].staff[u].voices.length;l++)this.containsNotesStrict(this.lines[c].staff[u].voices[l])&&(w=!0);w||(h=!0,this.lines[c].staff[u]=null)}h&&i.each(this.lines,function(t){t.staff&&(t.staff=i.compact(t.staff))})}for(c=0;c<this.lines.length;c++)if(this.lines[c].staff)for(u=0;u<this.lines[c].staff.length;u++)delete this.lines[c].staff[u].workingClef;for(this.resolveOverlays(),this.lineNum=0;this.lineNum<this.lines.length;this.lineNum++){var S=this.lines[this.lineNum].staff;if(S)for(this.staffNum=0;this.staffNum<S.length;this.staffNum++)for(S[this.staffNum].clef&&a(S[this.staffNum].clef),this.voiceNum=0;this.voiceNum<S[this.staffNum].voices.length;this.voiceNum++){var p=S[this.staffNum].voices[this.voiceNum];!function(t){for(var e,n=function(t,n,r){if(void 0===s[r]){for(e=0;e<s.length;e++)if(void 0!==s[e]){r=e;break}if(void 0===s[r]){var o=100*r+1;i.each(t.endSlur,function(t){o===t&&--o}),s[r]=[o]}}for(var a,c=0;c<n;c++)a=s[r].pop(),t.endSlur.push(a);return 0===s[r].length&&delete s[r],a},r=function(t,e,n,r){t.startSlur=[],void 0===s[n]&&(s[n]=[]);for(var o=100*n+1,a=0;a<e;a++)r&&(i.each(r,function(t){o===t&&++o}),i.each(r,function(t){o===t&&++o}),i.each(r,function(t){o===t&&++o})),i.each(s[n],function(t){o===t&&++o}),i.each(s[n],function(t){o===t&&++o}),s[n].push(o),t.startSlur.push({label:o}),o++},o=0;o<t.length;o++){var a=t[o];if("note"===a.el_type){if(a.gracenotes)for(var c=0;c<a.gracenotes.length;c++){if(a.gracenotes[c].endSlur){var u=a.gracenotes[c].endSlur;a.gracenotes[c].endSlur=[];for(var l=0;l<u;l++)n(a.gracenotes[c],1,20)}a.gracenotes[c].startSlur&&(e=a.gracenotes[c].startSlur,r(a.gracenotes[c],e,20))}if(a.endSlur&&(e=a.endSlur,a.endSlur=[],n(a,e,0)),a.startSlur&&(e=a.startSlur,r(a,e,0)),a.pitches){for(var h=[],f=0;f<a.pitches.length;f++)if(a.pitches[f].endSlur){var d=a.pitches[f].endSlur;a.pitches[f].endSlur=[];for(var p=0;p<d;p++){var m=n(a.pitches[f],1,f+1);h.push(m)}}for(f=0;f<a.pitches.length;f++)a.pitches[f].startSlur&&(e=a.pitches[f].startSlur,r(a.pitches[f],e,f+1,h));a.gracenotes&&a.pitches[0].endSlur&&100===a.pitches[0].endSlur[0]&&a.pitches[0].startSlur&&(a.gracenotes[0].endSlur?a.gracenotes[0].endSlur.push(a.pitches[0].startSlur[0].label):a.gracenotes[0].endSlur=[a.pitches[0].startSlur[0].label],1===a.pitches[0].endSlur.length?delete a.pitches[0].endSlur:100===a.pitches[0].endSlur[0]?a.pitches[0].endSlur.shift():100===a.pitches[0].endSlur[a.pitches[0].endSlur.length-1]&&a.pitches[0].endSlur.pop(),1===s[1].length?delete s[1]:s[1].pop())}}}}(p);for(var E=0;E<p.length;E++)"clef"===p[E].el_type&&a(p[E]);if(p.length>0&&p[p.length-1].barNumber){var T=function(t,e){for(e++;t.length>e;){if(t[e].staff)return t[e];e++}return null}(this.lines,this.lineNum);T&&(T.staff[0].barNumber=p[p.length-1].barNumber),delete p[p.length-1].barNumber}}}return this.formatting.pagewidth||(this.formatting.pagewidth=t),this.formatting.pageheight||(this.formatting.pageheight=e),delete this.staffNum,delete this.voiceNum,delete this.lineNum,delete this.potentialStartBeam,delete this.potentialEndBeam,delete this.vskipPending,s},this.reset(),this.getLastNote=function(){if(this.lines[this.lineNum]&&this.lines[this.lineNum].staff&&this.lines[this.lineNum].staff[this.staffNum]&&this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum])for(var t=this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum].length-1;t>=0;t--){var e=this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum][t];if("note"===e.el_type)return e}return null},this.addTieToLastNote=function(){var t=this.getLastNote();return!!(t&&t.pitches&&t.pitches.length>0)&&(t.pitches[0].startTie={},!0)},this.getDuration=function(t){return t.duration?t.duration:0},this.closeLine=function(){this.potentialStartBeam&&this.potentialEndBeam&&(this.potentialStartBeam.startBeam=!0,this.potentialEndBeam.endBeam=!0),delete this.potentialStartBeam,delete this.potentialEndBeam},this.appendElement=function(t,e,n,r){var o=this;r.el_type=t,null!==e&&(r.startChar=e),null!==n&&(r.endChar=n);var s=function(){void 0!==o.potentialStartBeam&&void 0!==o.potentialEndBeam&&(o.potentialStartBeam.startBeam=!0,o.potentialEndBeam.endBeam=!0),delete o.potentialStartBeam,delete o.potentialEndBeam};if("note"===t){o.getDuration(r)>=.25?s():r.force_end_beam_last&&void 0!==o.potentialStartBeam?s():r.end_beam&&void 0!==o.potentialStartBeam?void 0===r.rest?function(){o.potentialStartBeam.startBeam=!0,r.endBeam=!0,delete o.potentialStartBeam,delete o.potentialEndBeam}():s():void 0===r.rest&&(void 0===o.potentialStartBeam?r.end_beam||(o.potentialStartBeam=r,delete o.potentialEndBeam):o.potentialEndBeam=r)}else s();delete r.end_beam,delete r.force_end_beam_last,function(t){if(void 0!==t.pitches){var e=o.lines[o.lineNum].staff[o.staffNum].workingClef.verticalPos;i.each(t.pitches,function(t){t.verticalPos=t.pitch-e})}if(void 0!==t.gracenotes){var n=o.lines[o.lineNum].staff[o.staffNum].workingClef.verticalPos;i.each(t.gracenotes,function(t){t.verticalPos=t.pitch-n})}o.lines[o.lineNum].staff[o.staffNum].voices[o.voiceNum].push(t)}(r)},this.appendStartingElement=function(t,e,n,r){this.closeLine();var o;"key"===t&&(o=r.impliedNaturals,delete r.impliedNaturals);var s=i.clone(r);if(this.lines[this.lineNum].staff){"clef"===t&&(this.lines[this.lineNum].staff[this.staffNum].workingClef=s),this.lines[this.lineNum].staff.length<=this.staffNum&&(this.lines[this.lineNum].staff[this.staffNum]={},this.lines[this.lineNum].staff[this.staffNum].clef=i.clone(this.lines[this.lineNum].staff[0].clef),this.lines[this.lineNum].staff[this.staffNum].key=i.clone(this.lines[this.lineNum].staff[0].key),this.lines[this.lineNum].staff[0].meter&&(this.lines[this.lineNum].staff[this.staffNum].meter=i.clone(this.lines[this.lineNum].staff[0].meter)),this.lines[this.lineNum].staff[this.staffNum].workingClef=i.clone(this.lines[this.lineNum].staff[0].workingClef),this.lines[this.lineNum].staff[this.staffNum].voices=[[]]);for(var a=this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum],c=0;c<a.length;c++){if("note"===a[c].el_type||"bar"===a[c].el_type)return s.el_type=t,s.startChar=e,s.endChar=n,o&&(s.accidentals=o.concat(s.accidentals)),void a.push(s);if(a[c].el_type===t)return s.el_type=t,s.startChar=e,s.endChar=n,o&&(s.accidentals=o.concat(s.accidentals)),void(a[c]=s)}this.lines[this.lineNum].staff[this.staffNum][t]=r}},this.getNumLines=function(){return this.lines.length},this.pushLine=function(t){this.vskipPending&&(t.vskip=this.vskipPending,delete this.vskipPending),this.lines.push(t)},this.addSubtitle=function(t){this.pushLine({subtitle:t})},this.addSpacing=function(t){this.vskipPending=t},this.addNewPage=function(t){this.pushLine({newpage:t})},this.addSeparator=function(t,e,n){this.pushLine({separator:{spaceAbove:t,spaceBelow:e,lineLength:n}})},this.addText=function(t){this.pushLine({text:t})},this.addCentered=function(t){this.pushLine({text:[{text:t,center:!0}]})},this.containsNotes=function(t){for(var e=0;e<t.length;e++)if("note"===t[e].el_type||"bar"===t[e].el_type)return!0;return!1},this.containsNotesStrict=function(t){for(var e=0;e<t.length;e++)if("note"===t[e].el_type&&void 0===t[e].rest)return!0;return!1},this.startNewLine=function(t){var e=this;this.closeLine();var n=function(t){if(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]=[],e.isFirstLine(e.lineNum)?t.name&&(e.lines[e.lineNum].staff[e.staffNum].title||(e.lines[e.lineNum].staff[e.staffNum].title=[]),e.lines[e.lineNum].staff[e.staffNum].title[e.voiceNum]=t.name):t.subname&&(e.lines[e.lineNum].staff[e.staffNum].title||(e.lines[e.lineNum].staff[e.staffNum].title=[]),e.lines[e.lineNum].staff[e.staffNum].title[e.voiceNum]=t.subname),t.style&&e.appendElement("style",null,null,{head:t.style}),t.stem)e.appendElement("stem",null,null,{direction:t.stem});else if(e.voiceNum>0){if(void 0!==e.lines[e.lineNum].staff[e.staffNum].voices[0]){for(var n=!1,i=0;i<e.lines[e.lineNum].staff[e.staffNum].voices[0].length;i++)"stem"===e.lines[e.lineNum].staff[e.staffNum].voices[0].el_type&&(n=!0);if(!n){var r={el_type:"stem",direction:"up"};e.lines[e.lineNum].staff[e.staffNum].voices[0].splice(0,0,r)}}e.appendElement("stem",null,null,{direction:"down"})}t.scale&&e.appendElement("scale",null,null,{size:t.scale})},i=function(t){e.lines[e.lineNum].staff[e.staffNum]={voices:[],clef:t.clef,key:t.key,workingClef:t.clef},void 0!==t.stafflines&&(e.lines[e.lineNum].staff[e.staffNum].clef.stafflines=t.stafflines,e.lines[e.lineNum].staff[e.staffNum].workingClef.stafflines=t.stafflines),t.staffscale&&(e.lines[e.lineNum].staff[e.staffNum].staffscale=t.staffscale),t.vocalfont&&(e.lines[e.lineNum].staff[e.staffNum].vocalfont=t.vocalfont),t.bracket&&(e.lines[e.lineNum].staff[e.staffNum].bracket=t.bracket),t.brace&&(e.lines[e.lineNum].staff[e.staffNum].brace=t.brace),t.connectBarLines&&(e.lines[e.lineNum].staff[e.staffNum].connectBarLines=t.connectBarLines),t.barNumber&&(e.lines[e.lineNum].staff[e.staffNum].barNumber=t.barNumber),n(t),t.part&&e.appendElement("part",t.startChar,t.endChar,{title:t.part}),void 0!==t.meter&&(e.lines[e.lineNum].staff[e.staffNum].meter=t.meter)};if(void 0===this.lines[this.lineNum])!function(t){e.lines[e.lineNum]={staff:[]},i(t)}(t);else if(void 0===this.lines[this.lineNum].staff)this.lineNum++,this.startNewLine(t);else if(void 0===this.lines[this.lineNum].staff[this.staffNum])i(t);else if(void 0===this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum])n(t);else{if(!this.containsNotes(this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum]))return;this.lineNum++,this.startNewLine(t)}},this.hasBeginMusic=function(){for(var t=0;t<this.lines.length;t++)if(this.lines[t].staff)return!0;return!1},this.isFirstLine=function(t){for(var e=t-1;e>=0;e--)if(void 0!==this.lines[e].staff)return!1;return!0},this.getMeter=function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t];if(e.staff)for(var n=0;n<e.staff.length;n++){var i=e.staff[n].meter;if(i)return i}}return{type:"common_time"}},this.getCurrentVoice=function(){return void 0!==this.lines[this.lineNum]&&void 0!==this.lines[this.lineNum].staff[this.staffNum]&&void 0!==this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum]?this.lines[this.lineNum].staff[this.staffNum].voices[this.voiceNum]:null},this.setCurrentVoice=function(t,e){this.staffNum=t,this.voiceNum=e;for(var n=0;n<this.lines.length;n++)if(this.lines[n].staff&&(void 0===this.lines[n].staff[t]||void 0===this.lines[n].staff[t].voices[e]||!this.containsNotes(this.lines[n].staff[t].voices[e])))return void(this.lineNum=n);this.lineNum=n},this.addMetaText=function(t,e){void 0===this.metaText[t]?this.metaText[t]=e:this.metaText[t]+="\n"+e},this.addMetaTextArray=function(t,e){void 0===this.metaText[t]?this.metaText[t]=[e]:this.metaText[t].push(e)},this.addMetaTextObj=function(t,e){this.metaText[t]=e},this.addElementToEvents=function(t,e,n,i,r,o,s){if(e.hint)return{isTiedState:void 0,duration:0};var a=e.durationClass?e.durationClass:e.duration;if(a>0){var c=e.startTie;void 0!==s?(t["event"+s].elements.push(e.elemset),c||(s=void 0)):(t["event"+n]?(t["event"+n].left=Math.min(t["event"+n].left,e.x),t["event"+n].elements.push(e.elemset)):t["event"+n]={type:"event",milliseconds:n,top:i,height:r,left:e.x,width:e.w,elements:[e.elemset],startChar:e.abcelem.startChar,endChar:e.abcelem.endChar},c&&(s=n))}return{isTiedState:s,duration:a/o}},this.makeVoicesArray=function(){for(var t=[],e=0;e<this.engraver.staffgroups.length;e++){var n=this.engraver.staffgroups[e],i=n.staffs[0],r=i.absoluteY,s=r-i.top*o.STEP,a=n.staffs[n.staffs.length-1];r=a.absoluteY;for(var c=r-a.bottom*o.STEP,u=c-s,l=n.voices,h=0;h<l.length;h++){t[h]||(t[h]=[]);for(var f=l[h].children,d=0;d<f.length;d++)t[h].push({top:s,height:u,elem:f[d]})}}return t},this.setupEvents=function(n,i){for(var r,o=[],s={},a=n,c=this.makeVoicesArray(),u=0;u<c.length;u++)for(var l,h=a,f=Math.round(1e3*h),d=0,p=c[u],m=0;m<p.length;m++){var b=p[m].elem,g=this.addElementToEvents(s,b,f,p[m].top,p[m].height,i,r);if(r=g.isTiedState,h+=g.duration,f=Math.round(1e3*h),"bar"===b.type){var v=b.abcelem.type,y="bar_right_repeat"===v||"bar_dbl_repeat"===v,_="1"===b.abcelem.startEnding,x="bar_left_repeat"===v||"bar_dbl_repeat"===v||"bar_thick_thin"===v||"bar_thin_thick"===v||"bar_thin_thin"===v||"bar_right_repeat"===v;if(y)for(var w=d;w<l;w++)b=p[w].elem,g=this.addElementToEvents(s,b,f,p[m].top,p[m].height,i,r),r=g.isTiedState,h+=g.duration,f=Math.round(1e3*h);_&&(l=m),x&&(d=m)}}return o=e(s),t(o),o},this.setTiming=function(t,e){var n=this.getBeatLength();if(!t&&this.metaText&&this.metaText.tempo){t=this.metaText.tempo.bpm;t=t*(this.metaText.tempo.duration&&this.metaText.tempo.duration.length>0?this.metaText.tempo.duration[0]:n)/n}t||(t=180);var i=t/60,r=this.getBarLength(),o=r/n*e/i;o&&(o-=this.getPickupLength()/n/i);var s=n*i;this.noteTimings=this.setupEvents(o,s)}};t.exports=s},function(t,e,n){function i(){var t=window.innerWidth;for(var e in u)if(u.hasOwnProperty(e)){var n=u[e],i=n.offsetLeft;t-=2*i,n.style.width=t+"px"}}function r(t,e,n,i,r){var o=n.width?n.width:800;n.viewportHorizontal?(t.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(t.style.overflowX="auto",t.style.overflowY="hidden"):t.style.overflow="hidden",u[t.id]=t,t=t.children[0]):n.viewportVertical&&(t.innerHTML='<div class="abcjs-inner scroll-amount"></div>',t.style.overflowX="hidden",t.style.overflowY="auto",t=t.children[0]);var a=s(t,o,400);void 0===i&&(i={});var l=new c(a,i);if(l.engraveABC(e,r),e.engraver=l,n.viewportVertical||n.viewportHorizontal){t.parentNode.style.width=t.style.width}}function o(t,e,n,i,o){for(var s,a=[],c=0;c<e.lines.length;c++){var u=e.lines[c];s||(s=function(t){return{formatting:t.formatting,media:t.media,version:t.version,metaText:{},lines:[]}}(e)),0===c&&(s.metaText.tempo=e.metaText.tempo,s.metaText.title=e.metaText.title,s.metaText.header=e.metaText.header,s.metaText.rhythm=e.metaText.rhythm,s.metaText.origin=e.metaText.origin,s.metaText.composer=e.metaText.composer,s.metaText.author=e.metaText.author,s.metaText.partOrder=e.metaText.partOrder),s.lines.push(u),u.staff&&(a.push(s),s=void 0)}if(s)for(var l=a[a.length-1],h=0;h<s.lines.length;h++)l.lines.push(s.lines[h]);s=a[a.length-1],s.metaText.unalignedWords=e.metaText.unalignedWords,s.metaText.book=e.metaText.book,s.metaText.source=e.metaText.source,s.metaText.discography=e.metaText.discography,s.metaText.notes=e.metaText.notes,s.metaText.transcription=e.metaText.transcription,s.metaText.history=e.metaText.history,s.metaText["abc-copyright"]=e.metaText["abc-copyright"],s.metaText["abc-creator"]=e.metaText["abc-creator"],s.metaText["abc-edited-by"]=e.metaText["abc-edited-by"],s.metaText.footer=e.metaText.footer;var f={};for(var d in i)i.hasOwnProperty(d)&&(f[d]=i[d]);for(var p=f.paddingtop,m=f.paddingbottom,b=0;b<a.length;b++){var g=document.createElement("div");t.appendChild(g),0===b?(f.paddingtop=p,f.paddingbottom=-20):b===a.length-1?(f.paddingtop=10,f.paddingbottom=m):(f.paddingtop=10,f.paddingbottom=-20),r(g,a[b],n,f,o)}}var s=n(18),a=n(15),c=n(28),u={};window.addEventListener("resize",i),window.addEventListener("orientationChange",i);var l=function(t,e,n,i,s){function c(t,e,n){!s.oneSvgPerLine||e.lines.length<2?r(t,e,s,i,n):o(t,e,s,i,n)}return void 0===s&&(s={}),a.renderEngine(c,t,e,n,s)};t.exports=l},function(t,e,n){var i,r=n(6),o=n(69),s=n(70),a=n(71),c=n(72),u=n(73),l=n(74),h=n(77),f=n(5),d=n(4),p=n(2),m=n(78),b=n(79),g=n(29),v=n(80),y=n(81),_=n(1);!function(){"use strict";var t=function(t){var e=0;return t.duration&&(e=t.duration),e},e=!1;i=function(t,e,n){this.decoration=new l,this.renderer=e,this.tuneNumber=n,this.isBagpipes=t,this.chartable={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},this.reset()},i.prototype.reset=function(){this.slurs={},this.ties=[],this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.s=0,this.v=0,this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.pos=void 0,this.roomtaken=void 0,this.roomtakenright=void 0,this.staffgroup=void 0,this.startlimitelem=void 0,this.stemdir=void 0,this.voice=void 0},i.prototype.setStemHeight=function(t){this.stemHeight=t/p.STEP},i.prototype.getCurrentVoiceId=function(){return"s"+this.s+"v"+this.v},i.prototype.pushCrossLineElems=function(){this.slursbyvoice[this.getCurrentVoiceId()]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId()]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId()]=this.partstartelem},i.prototype.popCrossLineElems=function(){this.slurs=this.slursbyvoice[this.getCurrentVoiceId()]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId()]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId()]},i.prototype.getElem=function(){return this.abcline.length<=this.pos?null:this.abcline[this.pos]},i.prototype.getNextElem=function(){return this.abcline.length<=this.pos+1?null:this.abcline[this.pos+1]},i.prototype.containsLyrics=function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t[e].voices.length;n++)for(var i=0;i<t[e].voices[n].length;i++){var r=t[e].voices[n][i];if(r.lyric)return void(r.positioning&&"below"!==r.positioning.vocalPosition||(this.hasVocals=!0))}},i.prototype.createABCLine=function(t,n){for(this.minY=2,this.containsLyrics(t),this.staffgroup=new m,this.tempoSet=!1,this.s=0;this.s<t.length;this.s++)e&&this.restoreState(),e=!1,this.createABCStaff(t[this.s],n);return this.staffgroup},i.prototype.createABCStaff=function(t,e){for(this.v=0;this.v<t.voices.length;this.v++){this.voice=new y(this.v,t.voices.length),0===this.v?(this.voice.barfrom="start"===t.connectBarLines||"continue"===t.connectBarLines,this.voice.barto="continue"===t.connectBarLines||"end"===t.connectBarLines):this.voice.duplicate=!0,t.title&&t.title[this.v]&&(this.voice.header=t.title[this.v]);var n=a(t.clef,this.tuneNumber);n&&(0===this.v&&t.barNumber&&this.addMeasureNumber(t.barNumber,n),this.voice.addChild(n));var i=c(t.key,this.tuneNumber);if(i&&(this.voice.addChild(i),this.startlimitelem=i),t.meter){var r=u(t.meter,this.tuneNumber);this.voice.addChild(r),this.startlimitelem=r}this.voice.duplicate&&(this.voice.children=[]);var o=t.clef.stafflines||0===t.clef.stafflines?t.clef.stafflines:5;this.staffgroup.addVoice(this.voice,this.s,o),this.createABCVoice(t.voices[this.v],e),this.staffgroup.setStaffLimits(this.voice),"start"===t.brace?this.staffgroup.brace=new s(1,!0):"end"===t.brace&&this.staffgroup.brace?this.staffgroup.brace.increaseStavesIncluded():"continue"===t.brace&&this.staffgroup.brace&&this.staffgroup.brace.increaseStavesIncluded()}},i.prototype.createABCVoice=function(t,n){this.popCrossLineElems(),this.stemdir=this.isBagpipes?"down":null,this.abcline=t,this.partstartelem&&(this.partstartelem=new h("",null,null),this.voice.addOther(this.partstartelem));for(var i in this.slurs)this.slurs.hasOwnProperty(i)&&(this.slurs[i]=new g(null,null,this.slurs[i].above,this.slurs[i].force,!1),e&&this.slurs[i].setHint(),this.voice.addOther(this.slurs[i]));for(var r=0;r<this.ties.length;r++)this.ties[r]=new g(null,null,this.ties[r].above,this.ties[r].force,!0),e&&this.ties[r].setHint(),this.voice.addOther(this.ties[r]);for(this.pos=0;this.pos<this.abcline.length;this.pos++){var o=this.createABCElement();if(o)for(r=0;r<o.length;r++)this.tempoSet||!n||n.suppress||(this.tempoSet=!0,o[r].addChild(new b(n,this.tuneNumber))),this.voice.addChild(o[r])}this.pushCrossLineElems()},i.prototype.saveState=function(){this.tiesSave=_.cloneArray(this.ties),this.slursSave=_.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=_.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=_.cloneHashOfArrayOfHash(this.tiesbyvoice)},i.prototype.restoreState=function(){this.ties=_.cloneArray(this.tiesSave),this.slurs=_.cloneHashOfHash(this.slursSave),this.slursbyvoice=_.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=_.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},i.prototype.createABCElement=function(){var t=[],n=this.getElem();switch(n.el_type){case"note":t=this.createBeam();break;case"bar":t[0]=this.createBarLine(n),this.voice.duplicate&&t.length>0&&(t[0].invisible=!0);break;case"meter":t[0]=u(n,this.tuneNumber),this.startlimitelem=t[0],this.voice.duplicate&&t.length>0&&(t[0].invisible=!0);break;case"clef":if(t[0]=a(n,this.tuneNumber),!t[0])return null;this.voice.duplicate&&t.length>0&&(t[0].invisible=!0);break;case"key":var i=c(n,this.tuneNumber);i&&(t[0]=i,this.startlimitelem=t[0]),this.voice.duplicate&&t.length>0&&(t[0].invisible=!0);break;case"stem":this.stemdir=n.direction;break;case"part":var o=new r(n,0,0,"part",this.tuneNumber),s=this.renderer.getTextSize(n.title,"partsfont","part");o.addChild(new d(n.title,0,0,void 0,{type:"part",height:s.height/p.STEP})),t[0]=o;break;case"tempo":var l=new r(n,0,0,"tempo",this.tuneNumber);l.addChild(new b(n,this.tuneNumber)),t[0]=l;break;case"style":"normal"===n.head?delete this.style:this.style=n.head;break;case"hint":e=!0,this.saveState();break;case"midi":break;default:var h=new r(n,0,0,"unsupported",this.tuneNumber);h.addChild(new d("element type "+n.el_type,0,0,void 0,{type:"debug"})),t[0]=h}return t},i.prototype.calcBeamDir=function(){if(this.stemdir)return this.stemdir;for(var t,e=new o(this.stemHeight,this.stemdir),n=this.pos;this.getElem()&&(t=this.createNote(this.getElem(),!0,!0),e.add(t),!this.getElem().endBeam);)this.pos++;var i=e.calcDir();return this.pos=n,i?"up":"down"},i.prototype.createBeam=function(){var t=[];if(this.getElem().startBeam&&!this.getElem().endBeam){var n=this.calcBeamDir(),i=new o(this.stemHeight,n);e&&i.setHint();var r=this.stemdir;for(this.stemdir=n;this.getElem();){var s=this.createNote(this.getElem(),!0);if(t.push(s),i.add(s),this.triplet&&this.triplet.isClosed()&&(this.voice.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1),this.getElem().endBeam)break;this.pos++}this.stemdir=r,this.voice.addBeam(i)}else t[0]=this.createNote(this.getElem()),this.triplet&&this.triplet.isClosed()&&(this.voice.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);return t};var n=function(t){var e;do{e=!0;for(var n=0;n<t.pitches.length-1;n++)if(t.pitches[n].pitch>t.pitches[n+1].pitch){e=!1;var i=t.pitches[n];t.pitches[n]=t.pitches[n+1],t.pitches[n+1]=i}}while(!e)},x=function(t,e,n,i,r,o,s,a,c){for(var u=n;u>11;u--)u%2!==0||i||t.addChild(new d(null,a,(f.getSymbolWidth(r)+4)*c,u,{type:"ledger"}));for(u=e;u<1;u++)u%2!==0||i||t.addChild(new d(null,a,(f.getSymbolWidth(r)+4)*c,u,{type:"ledger"}));for(u=0;u<o.length;u++){var l=f.getSymbolWidth(r);"down"===s&&(l=-l),t.addChild(new d(null,l+a,(f.getSymbolWidth(r)+4)*c,o[u],{type:"ledger"}))}};i.prototype.createNote=function(i,s,a){var c=null,u=null;this.roomtaken=0,this.roomtakenright=0;var l,h,m,b,y,w,S,E=0,T="",k=null,P=[],M=t(i),C=!1;0===M&&(C=!0,M=.25,s=!0);for(var O=Math.floor(Math.log(M)/Math.log(2)),A=0,N=Math.pow(2,O),L=N/2;N<M;A++,N+=L,L/=2);i.startTriplet&&(2===i.startTriplet?this.tripletmultiplier=1.5:this.tripletmultiplier=(i.startTriplet-1)/i.startTriplet);var I=M*this.tripletmultiplier;i.rest&&"multimeasure"===i.rest.type&&(I=1);var R=i.rest?"rest":"note",B=new r(i,I,1,R,this.tuneNumber,{durationClassOveride:i.duration*this.tripletmultiplier});if(e&&B.setHint(),i.rest){var F=7;this.voice.voicetotal>1&&("down"===this.stemdir&&(F=3),"up"===this.stemdir&&(F=11));switch(1===this.staffgroup.staffs[this.staffgroup.staffs.length-1].lines&&(F=M<.5?7:M<1?6.8:4.8),i.rest.type){case"whole":T=this.chartable.rest[0],i.averagepitch=F,i.minpitch=F,i.maxpitch=F,A=0;break;case"rest":T=this.chartable.rest[-O],i.averagepitch=F,i.minpitch=F,i.maxpitch=F;break;case"invisible":case"spacer":T="",i.averagepitch=F,i.minpitch=F,i.maxpitch=F;break;case"multimeasure":T=this.chartable.rest.multi,i.averagepitch=F,i.minpitch=F,i.maxpitch=F,A=0;var D=f.getSymbolWidth(T);B.addHead(new d(T,-D,2*D,7));var j=new d(""+i.duration,0,D,16,{type:"multimeasure-text"});B.addExtra(j)}a||"multimeasure"===i.rest.type||(c=this.createNoteHead(B,T,{verticalPos:F},null,0,-this.roomtaken,null,A,0,1)),c&&B.addHead(c),this.roomtaken+=this.accidentalshiftx,this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}else{n(i);var V=0;for(l=0,m=i.pitches.length;l<m;l++)V+=i.pitches[l].verticalPos;i.averagepitch=V/i.pitches.length,i.minpitch=i.pitches[0].verticalPos,this.minY=Math.min(i.minpitch,this.minY),i.maxpitch=i.pitches[i.pitches.length-1].verticalPos;var G=i.averagepitch>=6?"down":"up";this.stemdir&&(G=this.stemdir);var H=i.style?i.style:this.style;H&&"normal"!==H||(H="note");var z;for(z=C?this.chartable[H].nostem:this.chartable[H][-O],z||console.log("noteSymbol:",H,O,C),l="down"===G?i.pitches.length-2:1;"down"===G?l>=0:l<i.pitches.length;l="down"===G?l-1:l+1){var W=i.pitches["down"===G?l+1:l-1],U=i.pitches[l],Y="down"===G?W.pitch-U.pitch:U.pitch-W.pitch;Y<=1&&!W.printer_shift&&(U.printer_shift=Y?"different":"same",(U.verticalPos>11||U.verticalPos<1)&&P.push(U.verticalPos-U.verticalPos%2),"down"===G?this.roomtaken=f.getSymbolWidth(z)+2:E=f.getSymbolWidth(z)+2)}for(this.accidentalSlot=[],l=0;l<i.pitches.length;l++){s||(k="down"===G&&0!==l||"up"===G&&l!==m-1?null:this.chartable["down"===G?"dflags":"uflags"][-O]),T=i.pitches[l].style?this.chartable[i.pitches[l].style][-O]:z,i.pitches[l].highestVert=i.pitches[l].verticalPos;var X=("up"===this.stemdir||"up"===G)&&0===l,K=("down"===this.stemdir||"down"===G)&&l===m-1;if(!a&&(X||K)){if((i.startSlur||1===m)&&(i.pitches[l].highestVert=i.pitches[m-1].verticalPos,"up"!==this.stemdir&&"up"!==G||(i.pitches[l].highestVert+=6)),i.startSlur)for(i.pitches[l].startSlur||(i.pitches[l].startSlur=[]),h=0;h<i.startSlur.length;h++)i.pitches[l].startSlur.push(i.startSlur[h]);if(!a&&i.endSlur)for(i.pitches[l].highestVert=i.pitches[m-1].verticalPos,"up"!==this.stemdir&&"up"!==G||(i.pitches[l].highestVert+=6),i.pitches[l].endSlur||(i.pitches[l].endSlur=[]),h=0;h<i.endSlur.length;h++)i.pitches[l].endSlur.push(i.endSlur[h])}var q=!s&&O<=-1;a||(c=this.createNoteHead(B,T,i.pitches[l],q?G:null,0,-this.roomtaken,k,A,E,1)),c&&(i.gracenotes&&i.gracenotes.length>0&&(c.bottom=c.bottom-1),B.addHead(c)),this.roomtaken+=this.accidentalshiftx,this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}q&&(y="down"===G?i.minpitch-7:i.minpitch+1/3,y>6&&!this.stemdir&&(y=6),w="down"===G?i.maxpitch-1/3:i.maxpitch+7,w<6&&!this.stemdir&&(w=6),S="down"===G||0===B.heads.length?0:B.heads[0].w,b="down"===G?1:-1,"noteheads.slash.quarter"===c.c&&("down"===G?w-=1:y+=1),B.addExtra(new d(null,S,0,y,{type:"stem",pitch2:w,linewidth:b})),this.minY=Math.min(y,this.minY),this.minY=Math.min(w,this.minY))}if(void 0!==i.lyric){var J="";_.each(i.lyric,function(t){var e=" "===t.divider?"":t.divider;J+=t.syllable+e+"\n"});var Q=this.renderer.getTextSize(J,"vocalfont","abc-lyric"),Z=i.positioning?i.positioning.vocalPosition:"below";B.addCentered(new d(J,0,Q.width,void 0,{type:"lyric",position:Z,height:Q.height/p.STEP}))}if(!a&&void 0!==i.gracenotes){var $=null;i.gracenotes.length>1&&($=new o(.7*this.stemHeight,"grace",this.isBagpipes),e&&$.setHint(),$.mainNote=B);var tt=[];for(h=i.gracenotes.length-1;h>=0;h--)this.roomtaken+=10,tt[h]=this.roomtaken,i.gracenotes[h].accidental&&(this.roomtaken+=7);for(h=0;h<i.gracenotes.length;h++){var et=i.gracenotes[h].verticalPos;if(k=$?null:this.chartable.uflags[this.isBagpipes?5:3],u=this.createNoteHead(B,"noteheads.quarter",i.gracenotes[h],"up",-tt[h],-tt[h],k,0,0,.6),B.addExtra(u),i.gracenotes[h].acciaccatura){var nt=i.gracenotes[h].verticalPos+4.2,it=$?5:6;B.addRight(new d("flags.ugrace",-tt[h]+it,0,nt,{scalex:.6,scaley:.6}))}if($){var rt=i.gracenotes[h].duration/2;this.isBagpipes&&(rt/=2);var ot={heads:[u],abcelem:{averagepitch:et,minpitch:et,maxpitch:et,duration:rt}};$.add(ot)}else y=et+1/3*.6,w=et+4.2,S=u.dx+u.w,b=-.6,B.addExtra(new d(null,S,0,y,{type:"stem",pitch2:w,linewidth:b}));if(x(B,et,et,!1,"noteheads.quarter",[],!0,u.dx-1,.6),0===h&&!this.isBagpipes&&(!i.rest||"spacer"!==i.rest.type&&"invisible"!==i.rest.type)){var st=1===i.gracenotes.length&&u.pitch===c.pitch;this.voice.addOther(new g(u,c,!1,!0,st))}}$&&this.voice.addBeam($)}!a&&i.decoration&&this.decoration.createDecoration(this.voice,i.decoration,B.top,c?c.w:0,B,this.roomtaken,G,B.bottom,i.positioning,this.hasVocals),i.barNumber&&B.addChild(new d(i.barNumber,-10,0,0,{type:"barNumber"})),x(B,i.minpitch,i.maxpitch,i.rest,T,P,G,-2,1);if(void 0!==i.chord)for(h=0;h<i.chord.length;h++){var at,ct=0,ut=this.renderer.getTextSize(i.chord[h].name,"annotationfont","annotation"),lt=ut.width,ht=ut.height/p.STEP;switch(i.chord[h].position){case"left":this.roomtaken+=lt+7,ct=-this.roomtaken,at=i.averagepitch,B.addExtra(new d(i.chord[h].name,ct,lt+4,at,{type:"text",height:ht}));break;case"right":this.roomtakenright+=4,ct=this.roomtakenright,at=i.averagepitch,B.addRight(new d(i.chord[h].name,ct,lt+4,at,{type:"text",height:ht}));break;case"below":B.addRight(new d(i.chord[h].name,0,lt+8,void 0,{type:"text",position:"below",height:ht}));break;case"above":B.addRight(new d(i.chord[h].name,0,lt+8,void 0,{type:"text",height:ht}));break;default:if(i.chord[h].rel_position){var ft=i.chord[h].rel_position.y+3*p.STEP;B.addChild(new d(i.chord[h].name,ct+i.chord[h].rel_position.x,0,i.minpitch+ft/p.STEP,{type:"text",height:ht}))}else{var dt="above";i.positioning&&i.positioning.chordPosition&&(dt=i.positioning.chordPosition),ut=this.renderer.getTextSize(i.chord[h].name,"gchordfont","chord"),ht=ut.height/p.STEP,lt=ut.width,B.addCentered(new d(i.chord[h].name,ct,lt,void 0,{type:"chord",position:dt,height:ht}))}}}return i.startTriplet&&!a&&(this.triplet=new v(i.startTriplet,c)),i.endTriplet&&this.triplet&&!a&&this.triplet.setCloseAnchor(c),B},i.prototype.createNoteHead=function(t,n,i,r,o,s,a,c,u,l){var h,p,m=i.verticalPos;if(this.accidentalshiftx=0,this.dotshiftx=0,void 0===n)t.addChild(new d("pitch is undefined",0,0,0,{type:"debug"}));else if(""===n)h=new d(null,0,0,m);else{var b=o;if(i.printer_shift){var v="same"===i.printer_shift?1:0;b="down"===r?-f.getSymbolWidth(n)*l+v:f.getSymbolWidth(n)*l-v}var y={scalex:l,scaley:l,thickness:f.symbolHeightInPitches(n)*l};if(h=new d(n,b,f.getSymbolWidth(n)*l,m,y),a){var _=m+("down"===r?-7:7)*l;(1===l&&"down"===r?_>6:_<6)&&(_=6);var x="down"===r?o:o+h.w-.6;t.addRight(new d(a,x,f.getSymbolWidth(a)*l,_,{scalex:l,scaley:l}))}for(this.dotshiftx=h.w+u-2+5*c;c>0;c--){var w=1-Math.abs(m)%2;t.addRight(new d("dots.dot",h.w+u-2+5*c,f.getSymbolWidth("dots.dot"),m+w))}}if(h&&(h.highestVert=i.highestVert),i.accidental){var S;switch(i.accidental){case"quartersharp":S="accidentals.halfsharp";break;case"dblsharp":S="accidentals.dblsharp";break;case"sharp":S="accidentals.sharp";break;case"quarterflat":S="accidentals.halfflat";break;case"flat":S="accidentals.flat";break;case"dblflat":S="accidentals.dblflat";break;case"natural":S="accidentals.nat"}for(var E=!1,T=s,k=0;k<this.accidentalSlot.length;k++)if(m-this.accidentalSlot[k][0]>=6){this.accidentalSlot[k][0]=m,T=this.accidentalSlot[k][1],E=!0;break}!1===E&&(T-=f.getSymbolWidth(S)*l+2,this.accidentalSlot.push([m,T]),this.accidentalshiftx=f.getSymbolWidth(S)*l+2),t.addExtra(new d(S,T,f.getSymbolWidth(S),m,{scalex:l,scaley:l}))}if(i.endTie&&this.ties[0]&&(this.ties[0].setEndAnchor(h),this.ties=this.ties.slice(1,this.ties.length)),i.startTie){var P=new g(h,null,("down"===this.stemdir||"down"===r)&&"up"!==this.stemdir,"down"===this.stemdir||"up"===this.stemdir,!0);e&&P.setHint(),this.ties[this.ties.length]=P,this.voice.addOther(P),t.startTie=!0}if(i.endSlur)for(p=0;p<i.endSlur.length;p++){var M,C=i.endSlur[p];this.slurs[C]?(M=this.slurs[C],M.setEndAnchor(h),delete this.slurs[C]):(M=new g(null,h,"down"===r,("up"===this.stemdir||"down"===r)&&"down"!==this.stemdir,!1),e&&M.setHint(),this.voice.addOther(M)),this.startlimitelem&&M.setStartX(this.startlimitelem)}if(i.startSlur)for(p=0;p<i.startSlur.length;p++){var C=i.startSlur[p].label,M=new g(h,null,("down"===this.stemdir||"down"===r)&&"up"!==this.stemdir,!1,!1);e&&M.setHint(),this.slurs[C]=M,this.voice.addOther(M)}return h},i.prototype.addMeasureNumber=function(t,e){var n=this.renderer.getTextSize(t,"measurefont","bar-number");e.addChild(new d(t,0,0,11+n.height/p.STEP,{type:"barNumber"}))},i.prototype.createBarLine=function(t){var e=new r(t,0,10,"bar",this.tuneNumber),n=null,i=0;t.barNumber&&this.addMeasureNumber(t.barNumber,e);var o="bar_right_repeat"===t.type||"bar_dbl_repeat"===t.type,s="bar_left_repeat"!==t.type&&"bar_thick_thin"!==t.type&&"bar_invisible"!==t.type,a="bar_right_repeat"===t.type||"bar_dbl_repeat"===t.type||"bar_left_repeat"===t.type||"bar_thin_thick"===t.type||"bar_thick_thin"===t.type,c="bar_left_repeat"===t.type||"bar_thick_thin"===t.type||"bar_thin_thin"===t.type||"bar_dbl_repeat"===t.type,u="bar_left_repeat"===t.type||"bar_dbl_repeat"===t.type;if(o||u){for(var l in this.slurs)this.slurs.hasOwnProperty(l)&&this.slurs[l].setEndX(e);this.startlimitelem=e}if(o&&(e.addRight(new d("dots.dot",i,1,7)),e.addRight(new d("dots.dot",i,1,5)),i+=6),s&&(n=new d(null,i,1,2,{type:"bar",pitch2:10,linewidth:.6}),e.addRight(n)),"bar_invisible"===t.type&&(n=new d(null,i,1,2,{type:"none",pitch2:10,linewidth:.6}),e.addRight(n)),t.decoration&&this.decoration.createDecoration(this.voice,t.decoration,12,a?3:1,e,0,"down",2,t.positioning,this.hasVocals),a&&(i+=4,n=new d(null,i,4,2,{type:"bar",pitch2:10,linewidth:4}),e.addRight(n),i+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=n,this.partstartelem=null),c&&(i+=3,n=new d(null,i,1,2,{type:"bar",pitch2:10,linewidth:.6}),e.addRight(n)),u&&(i+=3,e.addRight(new d("dots.dot",i,1,7)),e.addRight(new d("dots.dot",i,1,5))),t.startEnding&&0===this.s){var f=this.renderer.getTextSize(t.startEnding,"repeatfont","").width;e.minspacing+=f+10,this.partstartelem=new h(t.startEnding,n,null),this.voice.addOther(this.partstartelem)}return e}}(),t.exports=i},function(t,e,n){var i,r=(n(6),n(4)),o=n(2),s=function(t){return void 0===t?0:Math.floor(Math.log(t)/Math.log(2))};!function(){"use strict";function t(t,e,n,i){if(!t.children)return i;for(var r=0;r<t.children.length;r++){var o=t.children[r];e&&void 0!==o.top&&"flags.ugrace"===o.c?i=Math.max(i,o.top-n):e||void 0===o.bottom||"flags.ugrace"!==o.c||(i=Math.max(i,n-o.bottom+7))}return i}function e(t,e,n,i){if(i)return 0;var r=t-e,o=n/2;return r>o&&(r=o),r<-o&&(r=-o),r}function n(t,e){return e?t/e:0}function a(t,e,n,i,r){return e+(i-e)/(n-t)*(r-t)}function c(t,e){var n=t?o.STEP:-o.STEP;return e&&(n*=.4),n}function u(t,e,n,i,r,o,s){var a="beam-elem";s&&(a+=" abcjs-hint"),n=t.calcY(n),r=t.calcY(r);var c="M"+e+" "+n+" L"+i+" "+r+"L"+i+" "+(r+o)+" L"+e+" "+(n+o)+"z";t.printPath({path:c,stroke:"none",fill:"#000000",class:t.addClasses(a)})}function l(t,e,n){var i=e.heads[t?0:e.heads.length-1],r=n.heads[t?0:n.heads.length-1],o=i.x;t&&(o+=i.w-.6);var s=r.x;return t&&(s+=r.w),[o,s]}function h(t,i,r,o,s,a,c,u,l,h){var f=n(t,i),d=r-2,p=r-2,m=Math.round(o?Math.max(f+d,l+p):Math.min(f-d,u-p)),b=e(s,a,i,c),g=m+Math.floor(b/2),v=m+Math.floor(-b/2);return h||(o&&m<6?(g=6,v=6):!o&&m>6&&(g=6,v=6)),[g,v]}function f(t,e,n,i,s){for(var c=0;c<t.length;c++){var u=t[c];if(!u.abcelem.rest){var l=!u.addExtra,h=l?s:u,f=u.heads[e?0:u.heads.length-1],d=f.pitch+(e?.2:-.2),p=e?f.w:0,m=f.x+p,b=a(n.startX,n.startY,n.endX,n.endY,m),g=e?-.6:.6;e||(b-=i/2/o.STEP),l&&(p+=u.heads[0].dx),"noteheads.slash.quarter"===f.c&&(e?d+=1:d-=1);var v=new r(null,p,0,d,{type:"stem",pitch2:b,linewidth:g});v.setX(h.x),h.addExtra(v)}}}function d(t,e,n,i,r){for(var o=[],c=[],u=0;u<t.length;u++){var l=t[u];if(!l.abcelem.rest){var h=l.heads[e?0:l.heads.length-1],f=h.x+(e?h.w:0),d=a(n.startX,n.startY,n.endX,n.endY,f),p=e?-1.5:1.5;i&&(p=2*p/3);var m=l.abcelem.duration;0===m&&(m=.25);for(var b=s(m);b<-3;b++)c[-4-b]?c[-4-b].single=!1:c[-4-b]={x:f+(e?-.6:0),y:d+p*(-4-b+1),durlog:b,single:!0};for(var g=c.length-1;g>=0;g--)if(u===t.length-1||s(t[u+1].abcelem.duration)>-g-4){var v=f,y=d+p*(g+1);c[g].single&&(v=0===u?f+5:f-5,y=a(n.startX,n.startY,n.endX,n.endY,v)+p*(g+1)),o.push({startX:c[g].x,endX:v,startY:c[g].y,endY:y,dy:r}),c=c.slice(0,g)}}}return o}i=function(t,e,n){this.isflat=n,this.isgrace=e&&"grace"===e,this.forceup=this.isgrace||e&&"up"===e,this.forcedown=e&&"down"===e,this.elems=[],this.total=0,this.allrests=!0,this.stemHeight=t,this.beams=[]},i.prototype.setHint=function(){this.hint=!0},i.prototype.add=function(t){var e=t.abcelem.averagepitch;void 0!==e&&(this.allrests=this.allrests&&t.abcelem.rest,t.beam=this,this.elems.push(t),this.total+=e,(!this.min||t.abcelem.minpitch<this.min)&&(this.min=t.abcelem.minpitch),(!this.max||t.abcelem.maxpitch>this.max)&&(this.max=t.abcelem.maxpitch))};i.prototype.calcDir=function(){return!!this.forceup||!this.forcedown&&n(this.total,this.elems.length)<6},i.prototype.layout=function(){if(0!==this.elems.length&&!this.allrests){this.stemsUp=this.calcDir();var e=c(this.stemsUp,this.isgrace),n=this.elems[0],i=this.elems[this.elems.length-1],r=0,o=this.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;r=t(n,this.stemsUp,o,r),r=t(i,this.stemsUp,o,r),r=Math.max(this.stemHeight,r+3);var s=h(this.total,this.elems.length,r,this.stemsUp,n.abcelem.averagepitch,i.abcelem.averagepitch,this.isflat,this.min,this.max,this.isgrace),a=l(this.stemsUp,n,i);this.beams.push({startX:a[0],endX:a[1],startY:s[0],endY:s[1],dy:e});for(var u=d(this.elems,this.stemsUp,this.beams[0],this.isgrace,e),p=0;p<u.length;p++)this.beams.push(u[p]);f(this.elems,this.stemsUp,this.beams[0],e,this.mainNote)}},i.prototype.isAbove=function(){return this.stemsUp},i.prototype.heightAtMidpoint=function(t,e){if(0===this.beams.length)return 0;var n=this.beams[0],i=t+(e-t)/2;return a(n.startX,n.startY,n.endX,n.endY,i)},i.prototype.yAtNote=function(t){var e=this.beams[0];return a(e.startX,e.startY,e.endX,e.endY,t.x)},i.prototype.xAtMidpoint=function(t,e){return t+(e-t)/2},i.prototype.draw=function(t){if(0!==this.beams.length){t.beginGroup();for(var e=0;e<this.beams.length;e++){var n=this.beams[e];u(t,n.startX,n.startY,n.endX,n.endY,n.dy,this.hint)}t.endGroup("beam-elem")}}}(),t.exports=i},function(t,e){var n=function(){this.length=1};n.prototype.increaseStavesIncluded=function(){this.length++},n.prototype.setLocation=function(t){this.x=t},n.prototype.getWidth=function(){return 10},n.prototype.layout=function(t,e,n){this.startY=e,this.endY=n},n.prototype.draw=function(t,e,n){this.layout(t,e,n),t.drawBrace(this.x,this.startY,this.endY)},t.exports=n},function(t,e,n){var i,r=n(6),o=n(5),s=n(4);!function(){"use strict";i=function(t,e){var n,i=0,a=new r(t,0,10,"staff-extra",e);switch(t.type){case"treble":n="clefs.G";break;case"tenor":case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",i=1;break;case"tenor+8":n="clefs.C",i=1;break;case"bass+8":n="clefs.F",i=1;break;case"alto+8":n="clefs.C",i=1;break;case"treble-8":n="clefs.G",i=-1;break;case"tenor-8":n="clefs.C",i=-1;break;case"bass-8":n="clefs.F",i=-1;break;case"alto-8":n="clefs.C",i=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:a.addChild(new s("clef="+t.type,0,0,void 0,{type:"debug"}))}if(n&&(a.addRight(new s(n,5,o.getSymbolWidth(n),t.clefPos)),"clefs.G"===n?(a.top=13,a.bottom=-1):(a.top=10,a.bottom=2),0!==i)){var c=(o.getSymbolWidth(n)-o.getSymbolWidth("8")*(2/3))/2;a.addRight(new s("8",5+c,o.getSymbolWidth("8")*(2/3),i>0?a.top+3:a.bottom-1,{scalex:2/3,scaley:2/3})),a.top+=2}return a}}(),t.exports=i},function(t,e,n){var i,r=n(6),o=n(5),s=n(4),a=n(1);!function(){"use strict";i=function(t,e){if(!t.accidentals||0===t.accidentals.length)return null;var n=new r(t,0,10,"staff-extra",e),i=0;return a.each(t.accidentals,function(t){var e="sharp"===t.acc?"accidentals.sharp":"natural"===t.acc?"accidentals.nat":"accidentals.flat";n.addRight(new s(e,i,o.getSymbolWidth(e),t.verticalPos,{thickness:o.symbolHeightInPitches(e)})),i+=o.getSymbolWidth(e)+2},this),n}}(),t.exports=i},function(t,e,n){var i,r=n(6),o=n(5),s=n(4);!function(){"use strict";i=function(t,e){var n=new r(t,0,10,"staff-extra",e);if("specified"===t.type)for(var i=0;i<t.value.length;i++)0!==i&&n.addRight(new s("+",20*i-9,o.getSymbolWidth("+"),6,{thickness:o.symbolHeightInPitches("+")})),t.value[i].den?(n.addRight(new s(t.value[i].num,20*i,o.getSymbolWidth(t.value[i].num.charAt(0))*t.value[i].num.length,8,{thickness:o.symbolHeightInPitches(t.value[i].num.charAt(0))})),n.addRight(new s(t.value[i].den,20*i,o.getSymbolWidth(t.value[i].den.charAt(0))*t.value[i].den.length,4,{thickness:o.symbolHeightInPitches(t.value[i].den.charAt(0))}))):n.addRight(new s(t.value[i].num,20*i,o.getSymbolWidth(t.value[i].num.charAt(0))*t.value[i].num.length,6,{thickness:o.symbolHeightInPitches(t.value[i].num.charAt(0))}));else"common_time"===t.type?n.addRight(new s("timesig.common",0,o.getSymbolWidth("timesig.common"),6,{thickness:o.symbolHeightInPitches("timesig.common")})):"cut_time"===t.type&&n.addRight(new s("timesig.cut",0,o.getSymbolWidth("timesig.cut"),6,{thickness:o.symbolHeightInPitches("timesig.cut")}));return n}}(),t.exports=i},function(t,e,n){var i,r=n(75),o=n(76),s=n(5),a=n(4),c=n(29);!function(){"use strict";i=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0};var t=function(t,e,n,i,r,o,u,l){for(var h,f=0;f<e.length;f++){if("staccato"===e[f]||"tenuto"===e[f]||"accent"===e[f]){var d="scripts."+e[f];if("accent"===e[f]&&(d="scripts.sforzato"),h=void 0===h?"down"===u?n+2:l-2:"down"===u?h+2:h-2,"accent"===e[f])"up"===u?h--:h++;else switch(h){case 2:case 4:case 6:case 8:case 10:"up"===u?h--:h++}n>9&&h++;var p=i/2;"center"!==s.getSymbolAlign(d)&&(p-=s.getSymbolWidth(d)/2),r.addChild(new a(d,p,s.getSymbolWidth(d),h))}if("slide"===e[f]&&r.heads[0]){var m=r.heads[0].pitch;m-=2;var b=new a("",-o-15,0,m-1),g=new a("",-o-5,0,m+1);r.addChild(b),r.addChild(g),t.addOther(new c(b,g,!1,!1,!1))}}return void 0===h&&(h=n),{above:h,below:r.bottom}},e=function(t,e,n,i){for(var o=0;o<e.length;o++)switch(e[o]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var s=new r(n,e[o],i);t.addOther(s)}},n=function(t,e,n,i,r){function o(){if(0===i.heads.length)return 10;for(var t=i.heads[0].pitch,e=1;e<i.heads.length;e++)t=Math.max(t,i.heads[e].pitch);return t}function c(){if(0===i.heads.length)return 2;for(var t=i.heads[0].pitch,e=1;e<i.heads.length;e++)t=Math.min(t,i.heads[e].pitch);return t}function u(t,e){var u="down"===r?c()+1:o()+9;"down"!==r&&1===e&&u--;var l=n/2;l+="down"===r?-5:3;for(var h=0;h<e;h++)u-=1,i.addChild(new a(t,l,s.getSymbolWidth(t),u))}for(var l=0;l<t.length;l++)switch(t[l]){case"/":u("flags.ugrace",1);break;case"//":u("flags.ugrace",2);break;case"///":u("flags.ugrace",3);break;case"////":u("flags.ugrace",4)}},u=function(t,e,n,i,r,o,c){function u(t,e){"above"===t?i.above+=e:i.below-=e}function l(t){var e;return"above"===t?(e=i.above)<o&&(e=o):(e=i.below)>c&&(e=c),e}function h(t,i){var r=l(i);n.addChild(new a(t,e/2,0,r+2,{type:"decoration",klass:"ornament",thickness:3})),u(i,5)}function f(t,i){var r=e/2;"center"!==s.getSymbolAlign(t)&&(r-=s.getSymbolWidth(t)/2);var o=s.symbolHeightInPitches(t)+1,c=l(i);c="above"===i?c+o/2:c-o/2,n.addChild(new a(t,r,s.getSymbolWidth(t),c,{klass:"ornament",thickness:s.symbolHeightInPitches(t)})),u(i,o)}for(var d={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},p=!1,m=0;m<t.length;m++)switch(t[m]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":h(t[m],r),p=!0;break;case"fine":h("FINE",r),p=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":f(d[t[m]],r),p=!0;break;case"invertedfermata":f(d[t[m]],"below"),p=!0;break;case"mark":n.klass="mark"}return p};i.prototype.dynamicDecoration=function(t,e,n,i){for(var r,s,a=0;a<e.length;a++)switch(e[a]){case"diminuendo(":this.startDiminuendoX=n,r=void 0;break;case"diminuendo)":r={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,s=void 0;break;case"crescendo)":s={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0}r&&t.addOther(new o(r.start,r.stop,">",i)),s&&t.addOther(new o(s.start,s.stop,"<",i))},i.prototype.createDecoration=function(i,r,o,s,a,c,l,h,f,d){f||(f={ornamentPosition:"above",volumePosition:d?"above":"below",dynamicPosition:d?"above":"below"}),e(i,r,a,f.volumePosition),this.dynamicDecoration(i,r,a,f.dynamicPosition),n(r,0,s,a,l);var p=t(i,r,o,s,a,c,l,h);p.above=Math.max(p.above,this.minTop);u(r,s,a,p,f.ornamentPosition,this.minTop,this.minBottom)}}(),t.exports=i},function(t,e,n){var i=(n(2),function(t,e,n){this.anchor=t,this.dec=e,"below"===n?this.volumeHeightBelow=5:this.volumeHeightAbove=5,this.pitch=void 0});i.prototype.setUpperAndLowerElements=function(t){this.volumeHeightAbove?this.pitch=t.volumeHeightAbove:this.pitch=t.volumeHeightBelow},i.prototype.draw=function(t,e,n){void 0===this.pitch&&window.console.error("Dynamic Element y-coordinate not set.");t.printSymbol(this.anchor.x,this.pitch,this.dec,1,1,t.addClasses("decoration"))},t.exports=i},function(t,e,n){var i=n(9),r=function(t,e,n,i){this.anchor1=t,this.anchor2=e,this.dir=n,"above"===i?this.dynamicHeightAbove=4:this.dynamicHeightBelow=4,this.pitch=void 0};r.prototype.setUpperAndLowerElements=function(t){this.dynamicHeightAbove?this.pitch=t.dynamicHeightAbove:this.pitch=t.dynamicHeightBelow},r.prototype.draw=function(t){void 0===this.pitch&&window.console.error("Crescendo Element y-coordinate not set.");var e=t.calcY(this.pitch)+4;"<"===this.dir?(this.drawLine(t,e+4,e),this.drawLine(t,e+4,e+8)):(this.drawLine(t,e,e+4),this.drawLine(t,e+8,e+4))},r.prototype.drawLine=function(t,e,n){var r=this.anchor1?this.anchor1.x:0,o=this.anchor2?this.anchor2.x:800,s=i("M %f %f L %f %f",r,e,o,n);t.printPath({path:s,stroke:"#000000",class:t.addClasses("decoration")})},t.exports=r},function(t,e,n){var i=n(9),r=function(t,e,n){this.text=t,this.anchor1=e,this.anchor2=n,this.endingHeightAbove=5,this.pitch=void 0};r.prototype.setUpperAndLowerElements=function(t){this.pitch=t.endingHeightAbove},r.prototype.draw=function(t,e,n){void 0===this.pitch&&window.console.error("Ending Element y-coordinate not set.");var r,o=t.calcY(this.pitch);this.anchor1&&(e=this.anchor1.x+this.anchor1.w,r=i("M %f %f L %f %f",e,o,e,o+20),t.printPath({path:r,stroke:"#000000",fill:"#000000",class:t.addClasses("ending")}),t.renderText(e+5,t.calcY(this.pitch-.5),this.text,"repeatfont","ending","start")),this.anchor2&&(n=this.anchor2.x,r=i("M %f %f L %f %f",n,o,n,o+20),t.printPath({path:r,stroke:"#000000",fill:"#000000",class:t.addClasses("ending")})),r=i("M %f %f L %f %f",e,o,n,o),t.printPath({path:r,stroke:"#000000",fill:"#000000",class:t.addClasses("ending")})},t.exports=r},function(t,e,n){var i=n(2),r=function(){this.voices=[],this.staffs=[],this.brace=void 0};r.prototype.setLimit=function(t,e){e.specialY[t]&&(e.staff.specialY[t]?e.staff.specialY[t]=Math.max(e.staff.specialY[t],e.specialY[t]):e.staff.specialY[t]=e.specialY[t])},r.prototype.addVoice=function(t,e,n){var i=this.voices.length;this.voices[i]=t,this.staffs[e]?this.staffs[e].voices.push(i):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[i],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},t.staff=this.staffs[e]},r.prototype.setStaffLimits=function(t){t.staff.top=Math.max(t.staff.top,t.top),t.staff.bottom=Math.min(t.staff.bottom,t.bottom),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)},r.prototype.setUpperAndLowerElements=function(t){for(var e,n=0;n<this.staffs.length;n++){var r=this.staffs[n],o={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};r.specialY.lyricHeightAbove&&(r.top+=r.specialY.lyricHeightAbove,o.lyricHeightAbove=r.top),r.specialY.chordHeightAbove&&(r.top+=r.specialY.chordHeightAbove,o.chordHeightAbove=r.top),r.specialY.endingHeightAbove&&(r.specialY.chordHeightAbove?r.top+=2:r.top+=r.specialY.endingHeightAbove,o.endingHeightAbove=r.top),r.specialY.dynamicHeightAbove&&r.specialY.volumeHeightAbove?(r.top+=Math.max(r.specialY.dynamicHeightAbove,r.specialY.volumeHeightAbove),o.dynamicHeightAbove=r.top,o.volumeHeightAbove=r.top):r.specialY.dynamicHeightAbove?(r.top+=r.specialY.dynamicHeightAbove,o.dynamicHeightAbove=r.top):r.specialY.volumeHeightAbove&&(r.top+=r.specialY.volumeHeightAbove,o.volumeHeightAbove=r.top),r.specialY.partHeightAbove&&(r.top+=r.specialY.partHeightAbove,o.partHeightAbove=r.top),r.specialY.tempoHeightAbove&&(r.top+=r.specialY.tempoHeightAbove,o.tempoHeightAbove=r.top),r.specialY.lyricHeightBelow&&(o.lyricHeightBelow=r.bottom,r.bottom-=r.specialY.lyricHeightBelow),r.specialY.chordHeightBelow&&(o.chordHeightBelow=r.bottom,r.bottom-=r.specialY.chordHeightBelow),r.specialY.volumeHeightBelow&&r.specialY.dynamicHeightBelow?(o.volumeHeightBelow=r.bottom,o.dynamicHeightBelow=r.bottom,r.bottom-=Math.max(r.specialY.volumeHeightBelow,r.specialY.dynamicHeightBelow)):r.specialY.volumeHeightBelow?(o.volumeHeightBelow=r.bottom,r.bottom-=r.specialY.volumeHeightBelow):r.specialY.dynamicHeightBelow&&(o.dynamicHeightBelow=r.bottom,r.bottom-=r.specialY.dynamicHeightBelow);for(var s=0;s<r.voices.length;s++){this.voices[r.voices[s]].setUpperAndLowerElements(o)}if(void 0!==e){var a=r.top-10,c=e+a,u=t.spacing.systemStaffSeparation/i.STEP,l=u-c;l>0&&(r.top+=l)}e=2-r.bottom}},r.prototype.finished=function(){for(var t=0;t<this.voices.length;t++)if(!this.voices[t].layoutEnded())return!1;return!0},r.prototype.layout=function(t,e,n){this.spacingunits=0,this.minspace=1e3;for(var i=e.padding.left,r=0,o=0;o<this.voices.length;o++)if(this.voices[o].header){var s=e.getTextSize(this.voices[o].header,"voicefont","");r=Math.max(r,s.width)}if(r){i=i+r+e.getTextSize("A","voicefont","").width}this.startx=i,this.brace&&(this.brace.setLocation(this.startx),i+=this.brace.getWidth(),this.startx=i);var a=0;for(n&&console.log("init layout"),o=0;o<this.voices.length;o++)this.voices[o].beginLayout(i);for(var c=0;!this.finished();){for(a=null,o=0;o<this.voices.length;o++)this.voices[o].layoutEnded()||a&&!(this.voices[o].getDurationIndex()<a)||(a=this.voices[o].getDurationIndex());n&&console.log("currentduration: ",a);var u=[],l=[];for(o=0;o<this.voices.length;o++){this.voices[o].getDurationIndex()-a>1e-7?l.push(this.voices[o]):(u.push(this.voices[o]),n&&console.log("in: voice ",o))}c=0;var h=0;for(o=0;o<u.length;o++)u[o].getNextX()>i&&(i=u[o].getNextX(),c=u[o].getSpacingUnits(),h=u[o].spacingduration);for(this.spacingunits+=c,this.minspace=Math.min(this.minspace,c),o=0;o<u.length;o++){var f=u[o].layoutOneItem(i,t),d=f-i;if(d>0){i=f;for(var p=0;p<o;p++)u[p].shiftRight(d)}}for(o=0;o<l.length;o++)l[o].spacingduration-=h,l[o].updateNextX(i,t);for(o=0;o<u.length;o++){u[o].updateIndices()}}for(o=0;o<this.voices.length;o++)this.voices[o].getNextX()>i&&(i=this.voices[o].getNextX(),c=this.voices[o].getSpacingUnits());for(this.spacingunits+=c,this.w=i,o=0;o<this.voices.length;o++)this.voices[o].w=this.w},r.prototype.calcHeight=function(){for(var t=0,e=0;e<this.voices.length;e++){var n=this.voices[e].staff;this.voices[e].duplicate||(t+=n.top,n.bottom<0&&(t+=-n.bottom))}return t},r.prototype.draw=function(t){t.addInvisibleMarker("abcjs-top-of-system");for(var e=t.y,n=0;n<this.staffs.length;n++){var r=this.staffs[n];t.moveY(i.STEP,r.top),r.absoluteY=t.y,r.bottom<0&&t.moveY(i.STEP,-r.bottom)}var o,s,a=0;t.measureNumber=null,t.noteNumber=null;for(var c=0;c<this.voices.length;c++){var u=this.voices[c].staff;t.y=u.absoluteY,t.voiceNumber=c,this.voices[c].duplicate||(o||(o=t.calcY(10)),s=t.calcY(2),0!==u.lines&&(t.measureNumber=null,t.noteNumber=null,t.printStave(this.startx,this.w,u.lines))),this.voices[c].draw(t,a),t.measureNumber=null,t.noteNumber=null,this.voices[c].duplicate||(a=t.calcY(2)),this.brace&&c===this.brace.length-1&&this.brace&&this.brace.draw(t,o,s)}t.measureNumber=null,t.noteNumber=null,this.staffs.length>1&&t.printStem(this.startx,.6,o,s),t.y=e},t.exports=r},function(t,e,n){var i,r=n(6),o=n(4);!function(){"use strict";i=function(t,e){this.tempo=t,this.tuneNumber=e,this.tempoHeightAbove=5,this.pitch=void 0},i.prototype.setUpperAndLowerElements=function(t){this.pitch=t.tempoHeightAbove},i.prototype.setX=function(t){this.x=t},i.prototype.draw=function(t){var e=this.x;void 0===this.pitch&&window.console.error("Tempo Element y-coordinate not set.");var n,i=t.calcY(this.pitch);if(this.tempo.preString){n=t.renderText(e,i,this.tempo.preString,"tempofont","tempo","start");var s=n.getBBox().width;e+=s+s/this.tempo.preString.length}if(this.tempo.duration&&!this.tempo.suppressBpm){var a,c,u,l=this.pitch-5+1,h=this.tempo.duration[0],f=new r(this.tempo,h,1,"tempo",this.tuneNumber);h<=1/32?(u="noteheads.quarter",c="flags.u32nd",a=0):h<=1/16?(u="noteheads.quarter",c="flags.u16th",a=0):h<=3/32?(u="noteheads.quarter",c="flags.u16nd",a=1):h<=1/8?(u="noteheads.quarter",c="flags.u8th",a=0):h<=3/16?(u="noteheads.quarter",c="flags.u8th",a=1):h<=.25?(u="noteheads.quarter",a=0):h<=3/8?(u="noteheads.quarter",a=1):h<=.5?(u="noteheads.half",a=0):h<=.75?(u="noteheads.half",a=1):h<=1?(u="noteheads.whole",a=0):h<=1.5?(u="noteheads.whole",a=1):h<=2?(u="noteheads.dbl",a=0):(u="noteheads.dbl",a=1);var d=t.engraver.createNoteHead(f,u,{verticalPos:l},"up",0,0,c,a,0,.75);f.addHead(d);var p;if("noteheads.whole"!==u&&"noteheads.dbl"!==u){var m=l+.25,b=l+5.25,g=d.dx+d.w;p=new o(null,g,0,m,{type:"stem",pitch2:b,linewidth:-.6}),p.setX(e),f.addExtra(p)}f.setX(e);for(var v=0;v<f.children.length;v++)f.children[v].draw(t,e);e+=f.w+5;var y="= "+this.tempo.bpm;n=t.renderText(e,i,y,"tempofont","tempo","start");var _=n.getBBox().width;e+=_+_/y.length}this.tempo.postString&&t.renderText(e,i,this.tempo.postString,"tempofont","tempo","start")}}(),t.exports=i},function(t,e,n){var i,r=n(9);!function(){"use strict";function t(t,e,n,i,o){var s=r("M %f %f L %f %f",e,n,i,o);t.printPath({path:s,stroke:"#000000",class:t.addClasses("triplet")})}function e(e,n,i,r,o){i=e.calcY(i),o=e.calcY(o);t(e,n,i,n,i+5),t(e,r,o,r,o+5);var s=n+(r-n)/2,a=(o-i)/(r-n),c=s-8;t(e,n,i,c,i+(c-n)*a);var u=s+8;t(e,u,i+(u-n)*a,r,o)}i=function(t,e){this.anchor1=e,this.number=t},i.prototype.isClosed=function(){return this.anchor2},i.prototype.setCloseAnchor=function(t){this.anchor2=t,this.anchor1.parent.beam&&(this.endingHeightAbove=4)},i.prototype.setUpperAndLowerElements=function(){},i.prototype.layout=function(){if(this.anchor1&&this.anchor2)if(this.hasBeam=this.anchor1.parent.beam&&this.anchor1.parent.beam===this.anchor2.parent.beam,this.hasBeam){var t=this.anchor1.parent.beam,e=t.isAbove()?this.anchor1.x+this.anchor1.w:this.anchor1.x;this.yTextPos=t.heightAtMidpoint(e,this.anchor2.x),this.yTextPos+=t.isAbove()?4:-4,t.isAbove()&&(this.endingHeightAbove=4)}else this.startNote=Math.max(this.anchor1.parent.top,9)+4,this.endNote=Math.max(this.anchor2.parent.top,9)+4,this.yTextPos=this.startNote+(this.endNote-this.startNote)/2},i.prototype.draw=function(t){var n;if(this.hasBeam){var i=this.anchor1.parent.beam.isAbove()?this.anchor1.x+this.anchor1.w:this.anchor1.x;n=this.anchor1.parent.beam.xAtMidpoint(i,this.anchor2.x)}else n=this.anchor1.x+(this.anchor2.x+this.anchor2.w-this.anchor1.x)/2,e(t,this.anchor1.x,this.startNote,this.anchor2.x+this.anchor2.w,this.endNote);t.renderText(n,t.calcY(this.yTextPos),""+this.number,"tripletfont","triplet","middle",!0)}}(),t.exports=i},function(t,e,n){var i=n(1),r=function(t,e){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=e,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};r.prototype.addChild=function(t){if("bar"===t.type){for(var e=!0,n=0;e&&n<this.children.length;n++)"staff-extra"!==this.children[n].type&&(e=!1);e||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=t,this.setRange(t)},r.prototype.setLimit=function(t,e){var n=e.specialY;n||(n=e),n[t]&&(this.specialY[t]?this.specialY[t]=Math.max(this.specialY[t],n[t]):this.specialY[t]=n[t])},r.prototype.moveDecorations=function(t){for(var e=0;e<t.elems.length;e++){var n=t.elems[e];if(n.top)for(var i=t.yAtNote(n),r=0;r<n.children.length;r++){var o=n.children[r];if("ornament"===o.klass&&o.bottom-1.5<i){var s=i-o.bottom+1.5;o.bottom+=s,o.top+=s,o.pitch+=s,i=n.top=o.top}}}},r.prototype.adjustRange=function(t){void 0!==t.bottom&&(this.bottom=Math.min(this.bottom,t.bottom)),void 0!==t.top&&(this.top=Math.max(this.top,t.top))},r.prototype.setRange=function(t){this.adjustRange(t),this.setLimit("tempoHeightAbove",t),this.setLimit("partHeightAbove",t),this.setLimit("volumeHeightAbove",t),this.setLimit("dynamicHeightAbove",t),this.setLimit("endingHeightAbove",t),this.setLimit("chordHeightAbove",t),this.setLimit("lyricHeightAbove",t),this.setLimit("lyricHeightBelow",t),this.setLimit("chordHeightBelow",t),this.setLimit("volumeHeightBelow",t),this.setLimit("dynamicHeightBelow",t)},r.prototype.setUpperAndLowerElements=function(t){var e;for(e=0;e<this.children.length;e++){var n=this.children[e];n.setUpperAndLowerElements(t)}for(e=0;e<this.otherchildren.length;e++){var n=this.otherchildren[e];"string"!==typeof n&&n.setUpperAndLowerElements(t)}},r.prototype.addOther=function(t){this.otherchildren.push(t),this.setRange(t)},r.prototype.addBeam=function(t){this.beams.push(t)},r.prototype.updateIndices=function(){this.layoutEnded()||(this.durationindex+=this.children[this.i].duration,0===this.children[this.i].duration&&(this.durationindex=Math.round(64*this.durationindex)/64),this.i++)},r.prototype.layoutEnded=function(){return this.i>=this.children.length},r.prototype.getDurationIndex=function(){return this.durationindex-(this.children[this.i]&&this.children[this.i].duration>0?0:5e-7)},r.prototype.getSpacingUnits=function(){return Math.sqrt(8*this.spacingduration)},r.prototype.getNextX=function(){return Math.max(this.minx,this.nextx)},r.prototype.beginLayout=function(t){this.i=0,this.durationindex=0,this.startx=t,this.minx=t,this.nextx=t,this.spacingduration=0},r.prototype.layoutOneItem=function(t,e){var n=this.children[this.i];if(!n)return 0;var i=t-this.minx;return i<n.getExtraWidth()&&(t+=n.getExtraWidth()-i),n.setX(t),this.spacingduration=n.duration,this.minx=t+n.getMinWidth(),this.i!==this.children.length-1&&(this.minx+=n.minspacing),this.updateNextX(t,e),t},r.prototype.updateNextX=function(t,e){this.nextx=t+e*Math.sqrt(8*this.spacingduration)},r.prototype.shiftRight=function(t){var e=this.children[this.i];e&&(e.setX(e.x+t),this.minx+=t,this.nextx+=t)},r.prototype.draw=function(t,e){var n=this.w-1;if(t.staffbottom=this.staff.bottom,t.measureNumber=null,t.noteNumber=null,this.header){var r=14-(this.voicenumber+1)*(12/(this.voicetotal+1));t.renderText(t.padding.left,t.calcY(r),this.header,"voicefont","staff-extra voice-name","start")}for(var o=0,s=this.children.length;o<s;o++){var a=this.children[o],c=!1;"staff-extra"!==a.type&&null===t.measureNumber&&(t.measureNumber=0,t.noteNumber=0,c=!0),a.draw(t,this.barto||o===s-1?e:0),"note"===a.type&&t.noteNumber++,"bar"!==a.type||c||(t.measureNumber++,t.noteNumber=0)}t.measureNumber=0,t.noteNumber=0,i.each(this.beams,function(e){"bar"===e?(t.measureNumber++,t.noteNumber=0):e.draw(t)}),t.measureNumber=0,t.noteNumber=0;var u=this;i.each(this.otherchildren,function(e){"bar"===e?(t.measureNumber++,t.noteNumber=0):e.draw(t,u.startx+10,n)})},r.prototype.layoutBeams=function(){for(var t=0;t<this.beams.length;t++)if(this.beams[t].layout){this.beams[t].layout(),this.moveDecorations(this.beams[t]);for(var e=0;e<this.beams[t].elems.length;e++)this.adjustRange(this.beams[t].elems[e])}for(t=0;t<this.otherchildren.length;t++){var n=this.otherchildren[t];n.layout&&n.layout()}this.staff.top=Math.max(this.staff.top,this.top),this.staff.bottom=Math.min(this.staff.bottom,this.bottom)},t.exports=r},function(t,e,n){function i(t,e,n){var i=n;return"f"===t&&"f"===e&&(i=2*i/3),"p"===t&&"p"===e&&(i=5*i/6),"f"===t&&"z"===e&&(i=5*i/8),i}var r=n(5),o=n(2),s=n(9),a=function(t,e){this.paper=t,this.controller=null,this.space=3*o.SPACE,this.padding={},this.doRegression=e,this.doRegression&&(this.regressionLines=[]),this.reset()};a.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.lastM=null,this.ingroup=!1,this.path=null,this.isPrint=!1,this.initVerticalSpace(),this.doRegression&&(this.regressionLines=[])},a.prototype.setPrintMode=function(t){this.isPrint=t},a.prototype.setPaperSize=function(t,e,n){var i=(t+this.padding.right)*e,r=(this.y+this.padding.bottom)*e;this.isPrint&&(r=Math.max(r,1056)),this.doRegression&&this.regressionLines.push("PAPER SIZE: ("+i+","+r+")"),this.paper.canvas.setAttribute("role","img");var o=document.createElement("title"),s="Sheet Music";this.abctune&&this.abctune.metaText&&this.abctune.metaText.title&&(s+=' for "'+this.abctune.metaText.title+'"');var a=document.createTextNode(s);if(o.appendChild(a),this.paper.canvas.insertBefore(o,this.paper.canvas.firstChild),"resize"===n){this.paper.canvas.parentNode.classList.add("abcjs-container"),this.paper.canvas.setAttribute("viewBox","0 0 "+i+" "+r),this.paper.canvas.setAttribute("preserveAspectRatio","xMinYMin meet"),this.paper.canvas.removeAttribute("height"),this.paper.canvas.removeAttribute("width"),this.paper.canvas.style.display="inline-block",this.paper.canvas.style.position="absolute",this.paper.canvas.style.top="0",this.paper.canvas.style.left="0",this.paper.canvas.parentNode.style.display="inline-block",this.paper.canvas.parentNode.style.position="relative",this.paper.canvas.parentNode.style.width="100%";var c=r/i*100;this.paper.canvas.parentNode.style["padding-bottom"]=c+"%",this.paper.canvas.parentNode.style["vertical-align"]="middle",this.paper.canvas.parentNode.style.overflow="hidden"}else{this.paper.setSize(i/e,r/e);this.paper.canvas.parentNode.setAttribute("style","width:"+i+"px")}1!==e?(this.paper.canvas.style.transform="scale("+e+","+e+")",this.paper.canvas.style["-ms-transform"]="scale("+e+","+e+")",this.paper.canvas.style["-webkit-transform"]="scale("+e+","+e+")",this.paper.canvas.style["transform-origin"]="0 0",this.paper.canvas.style["-ms-transform-origin-x"]="0",this.paper.canvas.style["-ms-transform-origin-y"]="0",this.paper.canvas.style["-webkit-transform-origin-x"]="0",this.paper.canvas.style["-webkit-transform-origin-y"]="0"):(this.paper.canvas.style.transform="",this.paper.canvas.style["-ms-transform"]="",this.paper.canvas.style["-webkit-transform"]=""),this.paper.canvas.parentNode.style.overflow="hidden","resize"!==n&&(this.paper.canvas.parentNode.style.height=r+"px")},a.prototype.setPaddingOverride=function(t){this.paddingOverride={top:t.paddingtop,bottom:t.paddingbottom,right:t.paddingright,left:t.paddingleft}},a.prototype.setPadding=function(t){function e(e,n,i,r,o){void 0!==t.formatting[i]?e.padding[n]=t.formatting[i]:void 0!==e.paddingOverride[n]?e.padding[n]=e.paddingOverride[n]:e.isPrint?e.padding[n]=r:e.padding[n]=o}e(this,"top","topmargin",38,15),e(this,"bottom","botmargin",38,15),e(this,"left","leftmargin",68,15),e(this,"right","rightmargin",68,15)},a.prototype.adjustNonScaledItems=function(t){this.padding.top/=t,this.padding.bottom/=t,this.padding.left/=t,this.padding.right/=t,this.abctune.formatting.headerfont.size/=t,this.abctune.formatting.footerfont.size/=t},a.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:36.67,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:30.67,words:0}},a.prototype.setVerticalSpace=function(t){void 0!==t.staffsep&&(this.spacing.staffSeparation=4*t.staffsep/3),void 0!==t.composerspace&&(this.spacing.composer=4*t.composerspace/3),void 0!==t.partsspace&&(this.spacing.parts=4*t.partsspace/3),void 0!==t.textspace&&(this.spacing.text=4*t.textspace/3),void 0!==t.musicspace&&(this.spacing.music=4*t.musicspace/3),void 0!==t.titlespace&&(this.spacing.title=4*t.titlespace/3),void 0!==t.sysstaffsep&&(this.spacing.systemStaffSeparation=4*t.sysstaffsep/3),void 0!==t.subtitlespace&&(this.spacing.subtitle=4*t.subtitlespace/3),void 0!==t.topspace&&(this.spacing.top=4*t.topspace/3),void 0!==t.vocalspace&&(this.spacing.vocal=4*t.vocalspace/3),void 0!==t.wordsspace&&(this.spacing.words=4*t.wordsspace/3)},a.prototype.topMargin=function(t){this.moveY(this.padding.top)},a.prototype.addMusicPadding=function(){this.moveY(this.spacing.music)},a.prototype.addStaffPadding=function(t,e){var n=t.staffs[t.staffs.length-1],i=-(n.bottom-2),r=e.staffs[0].top-10,s=r+i,a=s*o.STEP;a<this.spacing.staffSeparation&&this.moveY(this.spacing.staffSeparation-a)},a.prototype.engraveTopText=function(t,e){if(e.metaText.header&&this.isPrint){var n=this.getTextSize("XXXX","headerfont","header meta-top").height;this.y-=n,this.outputTextIf(this.padding.left,e.metaText.header.left,"headerfont","header meta-top",0,null,"start"),this.outputTextIf(this.padding.left+t/2,e.metaText.header.center,"headerfont","header meta-top",0,null,"middle"),this.outputTextIf(this.padding.left+t,e.metaText.header.right,"headerfont","header meta-top",0,null,"end"),this.y+=n}if(this.isPrint&&this.moveY(this.spacing.top),this.outputTextIf(this.padding.left+t/2,e.metaText.title,"titlefont","title meta-top",this.spacing.title,0,"middle"),e.lines[0]&&this.outputTextIf(this.padding.left+t/2,e.lines[0].subtitle,"subtitlefont","text meta-top",this.spacing.subtitle,0,"middle"),e.metaText.rhythm||e.metaText.origin||e.metaText.composer){this.moveY(this.spacing.composer);var i=this.outputTextIf(this.padding.left,e.metaText.rhythm,"infofont","meta-top",0,null,"start"),r="";if(e.metaText.composer&&(r+=e.metaText.composer),e.metaText.origin&&(r+=" ("+e.metaText.origin+")"),r.length>0){var o=this.outputTextIf(this.padding.left+t,r,"composerfont","meta-top",0,null,"end");this.moveY(o[1])}else this.moveY(i[1]);this.moveY(-6)}this.outputTextIf(this.padding.left+t,e.metaText.author,"composerfont","meta-top",0,0,"end"),this.outputTextIf(this.padding.left,e.metaText.partOrder,"partsfont","meta-bottom",0,0,"start")},a.prototype.engraveExtraText=function(t,e){this.lineNumber=null,this.measureNumber=null,this.noteNumber=null,this.voiceNumber=null;var n;if(e.metaText.unalignedWords){n="";for(var i=0;i<e.metaText.unalignedWords.length;i++)if("string"===typeof e.metaText.unalignedWords[i])n+=e.metaText.unalignedWords[i]+"\n";else{for(var r=0;r<e.metaText.unalignedWords[i].length;r++)n+=" FONT "+e.metaText.unalignedWords[i][r].text;n+="\n"}this.outputTextIf(this.padding.left+o.INDENT,n,"wordsfont","meta-bottom",this.spacing.words,2,"start")}n="",e.metaText.book&&(n+="Book: "+e.metaText.book+"\n"),e.metaText.source&&(n+="Source: "+e.metaText.source+"\n"),e.metaText.discography&&(n+="Discography: "+e.metaText.discography+"\n"),e.metaText.notes&&(n+="Notes: "+e.metaText.notes+"\n"),e.metaText.transcription&&(n+="Transcription: "+e.metaText.transcription+"\n"),e.metaText.history&&(n+="History: "+e.metaText.history+"\n"),e.metaText["abc-copyright"]&&(n+="Copyright: "+e.metaText["abc-copyright"]+"\n"),e.metaText["abc-creator"]&&(n+="Creator: "+e.metaText["abc-creator"]+"\n"),e.metaText["abc-edited-by"]&&(n+="Edited By: "+e.metaText["abc-edited-by"]+"\n"),this.outputTextIf(this.padding.left,n,"historyfont","meta-bottom",this.spacing.info,0,"start"),e.metaText.footer&&this.isPrint&&(this.outputTextIf(this.padding.left,e.metaText.footer.left,"footerfont","header meta-bottom",0,null,"start"),this.outputTextIf(this.padding.left+t/2,e.metaText.footer.center,"footerfont","header meta-bottom",0,null,"middle"),this.outputTextIf(this.padding.left+t,e.metaText.footer.right,"footerfont","header meta-bottom",0,null,"end"))},a.prototype.outputFreeText=function(t){if(""===t){var e=this.getFontAndAttr("textfont","defined-text");this.moveY(2*e.attr["font-size"])}else if("string"===typeof t)this.outputTextIf(this.padding.left,t,"textfont","defined-text",0,1,"start");else{for(var n="",i=!1,r=0;r<t.length;r++)t[r].font&&(n+="FONT("+t[r].font+")"),n+=t[r].text,t[r].center&&(i=!0);var o=i?"middle":"start",s=i?this.controller.width/2:this.padding.left;this.outputTextIf(s,n,"textfont","defined-text",0,1,o)}},a.prototype.outputSubtitle=function(t,e){this.outputTextIf(this.padding.left+t/2,e,"subtitlefont","text meta-top",this.spacing.subtitle,0,"middle")},a.prototype.beginGroup=function(){this.path=[],this.lastM=[0,0],this.ingroup=!0},a.prototype.addPath=function(t){if(t=t||[],0!==t.length){t[0][0]="m",t[0][1]-=this.lastM[0],t[0][2]-=this.lastM[1],this.lastM[0]+=t[0][1],this.lastM[1]+=t[0][2],this.path.push(t[0]);for(var e=1,n=t.length;e<n;e++)"m"===t[e][0]&&(this.lastM[0]+=t[e][1],this.lastM[1]+=t[e][2]),this.path.push(t[e])}},a.prototype.endGroup=function(t){if(this.ingroup=!1,0===this.path.length)return null;var e=this.paper.path().attr({path:this.path,stroke:"none",fill:"#000000",class:this.addClasses(t)});return this.path=[],this.doRegression&&this.addToRegression(e),e},a.prototype.printStaveLine=function(t,e,n,i){var r="staff";void 0!==i&&(r+=" "+i);var o=.35,a="#000000",c=this.calcY(n),u=s("M %f %f L %f %f L %f %f L %f %f z",t,c-o,e,c-o,e,c+o,t,c+o),l=this.paper.path().attr({path:u,stroke:"none",fill:a,class:this.addClasses(r)}).toBack();return this.doRegression&&this.addToRegression(l),l},a.prototype.printStem=function(t,e,n,i){if(e<0){var r=i;i=n,n=r}var o="#000000";~~t===t&&(t+=.05);var s=[["M",t,n],["L",t,i],["L",t+e,i],["L",t+e,n],["z"]];if(!this.ingroup){var a=this.paper.path().attr({path:s,stroke:"none",fill:o,class:this.addClasses("stem")}).toBack();return this.doRegression&&this.addToRegression(a),a}this.addPath(s)},a.prototype.printSymbol=function(t,e,n,o,s,a){var c,u;if(!n)return null;if(n.length>0&&n.indexOf(".")<0){for(var l=this.paper.set(),h=0,f=0;f<n.length;f++){var d=n.charAt(f);u=r.getYCorr(d),c=r.printSymbol(t+h,this.calcY(e+u),d,this.paper,a),c?(this.doRegression&&this.addToRegression(c),l.push(c),f<n.length-1&&(h+=i(d,n.charAt(f+1),r.getSymbolWidth(d)))):this.renderText(t,this.y,"no symbol:"+n,"debugfont","debug-msg","start")}return l}if(u=r.getYCorr(n),this.ingroup)this.addPath(r.getPathForSymbol(t,this.calcY(e+u),n,o,s));else{if(c=r.printSymbol(t,this.calcY(e+u),n,this.paper,a))return this.doRegression&&this.addToRegression(c),c;this.renderText(t,this.y,"no symbol:"+n,"debugfont","debug-msg","start")}return null},a.prototype.printPath=function(t){var e=this.paper.path().attr(t);return this.doRegression&&this.addToRegression(e),e},a.prototype.drawBrace=function(t,e,n){var i=n-e,r=[7.5,-8,21,0,18.5,-10.5,7.5],o=[0,i/5.5,i/3.14,i/2,i/2.93,i/4.88,0],a=s("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t+r[0],e+o[0],t+r[1],e+o[1],t+r[2],e+o[2],t+r[3],e+o[3],t+r[4],e+o[4],t+r[5],e+o[5],t+r[6],e+o[6]),c=this.paper.path().attr({path:a,stroke:"#000000",fill:"#000000",class:this.addClasses("brace")});r=[0,17.5,-7.5,6.6,-5,20,0],o=[i/2,i/1.46,i/1.22,i,i/1.19,i/1.42,i/2],a=s("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t+r[0],e+o[0],t+r[1],e+o[1],t+r[2],e+o[2],t+r[3],e+o[3],t+r[4],e+o[4],t+r[5],e+o[5],t+r[6],e+o[6]);var u=this.paper.path().attr({path:a,stroke:"#000000",fill:"#000000",class:this.addClasses("brace")});return this.doRegression&&(this.addToRegression(c),this.addToRegression(u)),c+u},a.prototype.drawArc=function(t,e,n,i,r,o,a){var c=a?1.2:1.5;t+=6,e+=4,n+=r?c:-c,i+=r?c:-c;var u=this.calcY(n),l=this.calcY(i),h=e-t,f=l-u,d=Math.sqrt(h*h+f*f),p=h/d,m=f/d,b=d/3.5,g=a?10:25,v=(r?-1:1)*Math.min(g,Math.max(4,b)),y=t+b*p-v*m,_=u+b*m+v*p,x=e-b*p-v*m,w=l-b*m+v*p,S=s("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,u,y,_,x,w,e,l,x-2*m,w+2*p,y-2*m,_+2*p,t,u);o?o+=" slur":o="slur";var E=this.paper.path().attr({path:S,stroke:"none",fill:"#000000",class:this.addClasses(o)});return this.doRegression&&this.addToRegression(E),E},a.prototype.calcY=function(t){return this.y-t*o.STEP},a.prototype.printStave=function(t,e,n){var i="top-line";if(1===n)return void this.printStaveLine(t,e,6,i);for(var r=n-1;r>=0;r--)this.printStaveLine(t,e,2*(r+1),i),i=void 0},a.prototype.addClasses=function(t,e){var n=[];return t.length>0&&n.push(t),null!==this.lineNumber&&void 0!==this.lineNumber&&n.push("l"+this.lineNumber),null!==this.measureNumber&&void 0!==this.measureNumber&&n.push("m"+this.measureNumber),null!==this.voiceNumber&&void 0!==this.voiceNumber&&n.push("v"+this.voiceNumber),t.indexOf("note")>=0&&null!==this.noteNumber&&void 0!==this.noteNumber&&n.push("n"+this.noteNumber),n.join(" ")},a.prototype.getFontAndAttr=function(t,e){var n=this.abctune.formatting[t];n=n?{face:n.face,size:4*n.size/3,decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:{face:"Arial",size:16,decoration:"underline",style:"normal",weight:"normal"};var i={"font-size":n.size,"font-style":n.style,"font-family":n.face,"font-weight":n.weight,"text-decoration":n.decoration,class:this.addClasses(e)};return i.font="",{font:n,attr:i}},a.prototype.getTextSize=function(t,e,n){var i=this.getFontAndAttr(e,n),r=this.paper.text(0,0,t).attr(i.attr),o=r.getBBox();return isNaN(o.height)&&(o={width:0,height:0}),r.remove(),o},a.prototype.renderText=function(t,e,n,i,r,o,s){var a=this.getFontAndAttr(i,r);o&&(a.attr["text-anchor"]=o),n=n.replace(/\n\n/g,"\n \n"),n=n.replace(/^\n/,"\xa0\n");var c=this.paper.text(t,e,n).attr(a.attr);if(!s){var u=c.getBBox();isNaN(u.height)?c.attr({y:e}):(c.attr({y:e+u.height/2}),a.font.box&&this.paper.rect(u.x-1,u.y+u.height/2-1,u.width+2,u.height+2).attr({stroke:"#888888"}))}return"debugfont"===i&&(console.log("Debug msg: "+n),c.attr({stroke:"#ff0000"})),this.doRegression&&this.addToRegression(c),c},a.prototype.moveY=function(t,e){void 0===e&&(e=1),this.y+=t*e},a.prototype.skipSpaceY=function(){this.y+=this.space},a.prototype.outputTextIf=function(t,e,n,i,r,o,s){if(e){r&&this.moveY(r);var a=this.renderText(t,this.y,e,n,i,s),c=a.getBBox(),u=isNaN(c.width)?0:c.width,l=isNaN(c.height)?0:c.height;if(null!==o){var h=e.split("\n").length;isNaN(c.height)||this.moveY(l/h,h+o)}return[u,l]}return[0,0]},a.prototype.addInvisibleMarker=function(t){var e=this.y;e=Math.round(e);var n=s("M %f %f L %f %f L %f %f L %f %f z",0,e-.35,100,e-.35,100,e+.35,0,e+.35);this.paper.path().attr({path:n,stroke:"none",fill:"rgba(0,0,0,0)",class:this.addClasses(t),"data-vertical":e}).toBack()},a.prototype.printHorizontalLine=function(t,e,n){var i=.35,r="rgba(0,0,255,.4)",o=this.y;e&&(o=e),o=Math.round(o),this.paper.text(10,o,""+Math.round(o)).attr({"text-anchor":"start","font-size":"18px",fill:r,stroke:r});var a=t,c=s("M %f %f L %f %f L %f %f L %f %f z",50,o-i,50+a,o-i,a,o+i,50,o+i);this.paper.path().attr({path:c,stroke:"none",fill:r,class:this.addClasses("staff")}).toBack();for(var u=1;u<t/100;u++)c=s("M %f %f L %f %f L %f %f L %f %f z",100*u-i,o-5,100*u-i,o+5,100*u+i,o-5,100*u+i,o+5),this.paper.path().attr({path:c,stroke:"none",fill:r,class:this.addClasses("staff")}).toBack();n&&this.paper.text(t+70,o,n).attr({"text-anchor":"start","font-size":"18px",fill:r,stroke:r})},a.prototype.printShadedBox=function(t,e,n,i,r,o){var s=this.paper.rect(t,e,n,i).attr({fill:r,stroke:r});return o&&this.paper.text(0,e+7,o).attr({"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),s},a.prototype.printVerticalLine=function(t,e,n){var i=s("M %f %f L %f %f L %f %f L %f %f z",t-.35,e,t-.35,n,t+.35,e,t+.35,n);this.paper.path().attr({path:i,stroke:"none",fill:"#00aaaa",class:this.addClasses("staff")}).toBack(),i=s("M %f %f L %f %f L %f %f L %f %f z",t-20,e,t-20,e+3,t,e,t,e+3),this.paper.path().attr({path:i,stroke:"none",fill:"#00aaaa",class:this.addClasses("staff")}).toBack(),i=s("M %f %f L %f %f L %f %f L %f %f z",t+20,n,t+20,n+3,t,n,t,n+3),this.paper.path().attr({path:i,stroke:"none",fill:"#00aaaa",class:this.addClasses("staff")}).toBack()},a.prototype.addToRegression=function(t){var e=t.getBBox(),n=t.type+" "+e.toString()+" ",i=[];for(var r in t.attrs)t.attrs.hasOwnProperty(r)&&("class"===r?n=t.attrs[r]+" "+n:i.push(r+": "+t.attrs[r]));i.sort(),n+="{ "+i.join(" ")+" }",this.regressionLines.push(n)},t.exports=a},function(t,e,n){function i(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}var r=n(18),o=n(15).TuneBook,s=n(1),a=n(26),c=n(84),u=n(28);"function"!==typeof window.CustomEvent&&(i.prototype=window.Event.prototype,window.CustomEvent=i);var l=function(t){this.textarea=document.getElementById(t),this.initialText=this.textarea.value,this.isDragging=!1};l.prototype.addSelectionListener=function(t){this.textarea.onmousemove=function(e){this.isDragging&&t.fireSelectionChanged()}},l.prototype.addChangeListener=function(t){this.changelistener=t,this.textarea.onkeyup=function(){t.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,t.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,t.fireChanged()},this.textarea.onchange=function(){t.fireChanged()}},l.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},l.prototype.setSelection=function(t,e){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(t,e);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}this.textarea.focus()},l.prototype.getString=function(){return this.textarea.value},l.prototype.setString=function(t){this.textarea.value=t,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},l.prototype.getElem=function(){return this.textarea};var h=function(t,e){e.indicate_changed&&(this.indicate_changed=!0),this.editarea="string"===typeof t?new l(t):t,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),e.canvas_id?this.div=document.getElementById(e.canvas_id):e.paper_id?this.div=document.getElementById(e.paper_id):(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),e.generate_midi&&(this.midiParams=e.midi_options||{},this.midiParams.generateDownload&&("string"===typeof e.midi_download_id?this.downloadMidi=document.getElementById(e.midi_download_id):e.midi_download_id&&(this.downloadMidi=e.midi_download_id)),!1!==this.midiParams.generateInline&&("string"===typeof e.midi_id?this.inlineMidi=document.getElementById(e.midi_id):e.midi_id&&(this.inlineMidi=e.midi_id))),(e.generate_warnings||e.warnings_id)&&(e.warnings_id?this.warningsdiv=document.getElementById(e.warnings_id):this.warningsdiv=this.div),this.parserparams=e.parser_options||{},this.onchangeCallback=e.onchange,this.engraverparams=e.render_options||{},e.gui&&(this.target=document.getElementById(t),this.engraverparams.editable=!0),this.oldt="",this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(t,e){return function(t,e){var n=t.className;return n.length>0&&(n===e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(n))}(t,e)||(t.className+=(t.className?" ":"")+e),t},this.removeClassName=function(t,e){return t.className=s.strip(t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")),t},this.setReadOnly=function(t){var e=this.editarea.getElem();t?(e.setAttribute("readonly","yes"),this.addClassName(e,"abc_textarea_readonly")):(e.removeAttribute("readonly"),this.removeClassName(e,"abc_textarea_readonly"))}};h.prototype.renderTune=function(t,e,n){var i=new o(t),s=a();s.parse(i.tunes[0].abc,e);var c=s.getTune(),l=r(n,800,400);new u(l,this.engraverparams).engraveABC(c)},h.prototype.redrawMidi=function(){if(this.midiParams&&!this.midiPause){var t=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,midiParams:this.midiParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(t)}},h.prototype.modelChanged=function(){if(void 0===this.tunes)return void 0!==this.downloadMidi&&(this.downloadMidi.innerHTML=""),void 0!==this.inlineMidi&&(this.inlineMidi.innerHTML=""),void(this.div.innerHTML="");if(!this.bReentry){this.bReentry=!0,this.timerId=null,this.div.innerHTML="";var t=r(this.div,800,400);if(this.engraver_controller=new u(t,this.engraverparams),this.engraver_controller.engraveABC(this.tunes),this.tunes[0].engraver=this.engraver_controller,this.redrawMidi(),this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.target){new c(this.target,!0).printABC(this.tunes[0])}this.engraver_controller.addSelectListener(this),this.updateSelection(),this.bReentry=!1}},h.prototype.paramChanged=function(t){this.engraverparams=t,this.oldt="",this.fireChanged()},h.prototype.parseABC=function(){var t=this.editarea.getString();if(t===this.oldt)return this.updateSelection(),!1;if(this.oldt=t,""===t)return this.tunes=void 0,this.warnings="",!0;var e=new o(t);this.tunes=[],this.startPos=[],this.warnings=[];for(var n=0;n<e.tunes.length;n++){var i=new a;i.parse(e.tunes[n].abc,this.parserparams),this.tunes[n]=i.getTune(),this.startPos[n]=e.tunes[n].startPos;for(var r=i.getWarnings()||[],s=0;s<r.length;s++)this.warnings.push(r[s])}return!0},h.prototype.updateSelection=function(){var t=this.editarea.getSelection();try{this.engraver_controller.rangeHighlight(t.start,t.end)}catch(t){}},h.prototype.fireSelectionChanged=function(){this.updateSelection()},h.prototype.setDirtyStyle=function(t){if(void 0!==this.indicate_changed){var e=this.editarea.getElem();t?function(t,e){(function(t,e){var n=t.className;return n.length>0&&(n===e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(n))})(t,e)||(t.className+=(t.className?" ":"")+e)}(e,"abc_textarea_dirty"):function(t,e){t.className=s.strip(t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," "))}(e,"abc_textarea_dirty")}},h.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var t=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){t.modelChanged()},300);var e=this.isDirty();this.wasDirty!==e&&(this.wasDirty=e,this.setDirtyStyle(e)),this.onchangeCallback&&this.onchangeCallback(this)}},h.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},h.prototype.isDirty=function(){return void 0!==this.indicate_changed&&this.editarea.initialText!==this.editarea.getString()},h.prototype.highlight=function(t,e){var n=void 0!==e?this.startPos[e]+e:0;this.editarea.setSelection(n+t.startChar,n+t.endChar)},h.prototype.pause=function(t){this.bIsPaused=t,t||this.fireChanged()},h.prototype.pauseMidi=function(t){this.midiPause=t,t||this.redrawMidi()},t.exports=h},function(t,e){var n=function(t,e){this.elem=t,this.text="",this.l=1/8,this.reposition=e||!1};n.prototype.printString=function(t,e){this.reposition&&e&&(e.startChar=this.text.length),this.text+=t,this.reposition&&e&&(e.endChar=this.text.length)},n.prototype.printNewLine=function(){this.text+="\n"},n.prototype.printSpace=function(){this.text[this.text.length-1].match(/\s/)||(this.text+=" ")},n.prototype.printABC=function(t){this.text="",this.abctune=t,this.printHeader(),this.printBody(),this.elem.value=this.text},n.prototype.printHeader=function(){this.printHeaderLine("x","X","1"),this.printHeaderLine("title","T"),this.printHeaderLine("composer","C"),this.printHeaderLine("history","H"),this.printHeaderLine("author","A"),this.printHeaderLine("book","B"),this.printHeaderLine("discography","D"),this.printHeaderLine("url","F"),this.printHeaderLine("group","G"),this.printHeaderLine("instruction","I"),this.printHeaderLine("notes","N"),this.printHeaderLine("origin","O"),this.printHeaderLine("rhythm","R"),this.printHeaderLine("source","S"),this.printHeaderLine("unalignedwords","W"),this.printHeaderLine("transcription","Z"),this.printHeaderLine("NULL","L","1/8"),this.printHeaderLine("NULL","M",this.getMeterString(this.abctune.lines[0].staff[0].meter)),this.printHeaderLine("NULL","K",this.getKeyString(this.abctune.lines[0].staff[0].key))},n.prototype.getKeyString=function(t){return t.root+t.acc+t.mode},n.prototype.getMeterString=function(t){switch(t.type){case"cut_time":return"C|";case"common_time":return"C";case"specified":return t.value[0].den?t.value[0].num+"/"+t.value[0].den:t.value[0].num}return""},n.prototype.printHeaderLine=function(t,e,n){var i=this.abctune.metaText[t]||n;if(void 0!==i)for(var r=i.split("\n"),o=0;o<r.length;o++)this.printString(e+": "+r[o]),this.printNewLine()},n.prototype.getElem=function(){return this.abcline.length<=this.pos?null:this.abcline[this.pos]},n.prototype.getNextElem=function(){return this.abcline.length<=this.pos+1?null:this.abcline[this.pos+1]},n.prototype.printBody=function(){for(var t=0;t<this.abctune.lines.length;t++){var e=this.abctune.lines[t];e.staff?this.printABCLine(e.staff):e.subtitle&&0!==t||e.text}},n.prototype.printABCLine=function(t){for(this.s=0;this.s<t.length;this.s++)this.printABCStaff(t[this.s])},n.prototype.printABCStaff=function(t){for(this.v=0;this.v<t.voices.length;this.v++)this.printABCVoice(t.voices[this.v])},n.prototype.printABCVoice=function(t){for(this.abcline=t,this.pos=0;this.pos<this.abcline.length;this.pos++)this.printABCElement();this.printNewLine()},n.prototype.printABCElement=function(){var t=this.getElem();switch(t.el_type){case"note":this.printBeam();break;case"bar":this.printBarLine(t)}},n.prototype.printBeam=function(){if(this.printSpace(),this.getElem().startBeam&&!this.getElem().endBeam)for(;this.getElem()&&(this.printNote(this.getElem()),!this.getElem().endBeam);)this.pos++;else this.printNote(this.getElem());this.printSpace()},n.prototype.printNote=function(t){var e,n="";if(void 0!==t.chord)for(e=0;e<t.chord.length;e++)n+='"'+t.chord[e].name+'"';var i={staccato:".",upbow:"u",downbow:"v",roll:"~",fermata:"H",slide:"J",accent:"L",mordent:"M",pralltriller:"P",trill:"T",lower:"."};if(void 0!==t.decoration)for(e=0;e<t.decoration.length;e++){var r=t.decoration[e];i[r]?n+=i[r]:(n+="!",n+=r,n+="!")}if(void 0!==t.gracenotes){for(n+="{",e=0;e<t.gracenotes.length;e++)n+=this.getNoteString(t.gracenotes[e]);n+="}"}var o=!1;if(1===t.pitches.length&&t.pitches[0].startSlur&&(o=!0,n+=this.multiplyString("(",t.pitches[0].startSlur.length)),t.startSlur&&(n+=this.multiplyString("(",t.startSlur.length)),(1===t.pitches.length&&t.pitches[0].endSlur||t.endSlur)&&(o=!0),t.startTriplet&&(n+="(3"),t.pitches){for(t.pitches.length>1&&(n+="["),e=0;e<t.pitches.length;e++)t.pitches[e].duration=t.duration,n+=this.getNoteString(t.pitches[e],o);t.pitches.length>1&&(n+="]")}1===t.pitches.length&&t.pitches[0].endSlur&&(n+=this.multiplyString(")",t.pitches[0].endSlur.length)),t.endSlur&&(n+=this.multiplyString(")",t.endSlur.length)),this.printString(n,t)},n.prototype.getNoteString=function(t,e){var n="";!e&&t.startSlur&&(n+="(");var i="";switch(t.accidental){case"quartersharp":i="^/";break;case"dblsharp":i="^^";break;case"sharp":i="^";break;case"quarterflat":i="_/";break;case"flat":i="_";break;case"dblflat":i="__";break;case"natural":i="="}n+=i;var r=["C","D","E","F","G","A","B"],o=r[this.extractNote(t.pitch)],s=this.extractOctave(t.pitch);if(s>0)for(o=o.toLowerCase(),s--;s>0;)o+="'",s--;else for(;s<0;)o+=",",s++;return n+=o,t.duration&&(n+=this.getDurationString(t.duration)),!e&&t.endSlur&&(n+=")"),t.startTie&&(n+="-"),n},n.prototype.getDurationString=function(t){if(t/this.l>1)return t/this.l;var e="";return this.l/t>1&&(e+="/",this.l/t>2&&(e+=this.l/t)),e},n.prototype.extractNote=function(t){var e=t%7;return e<0&&(e+=7),e},n.prototype.extractOctave=function(t){return Math.floor(t/7)},n.prototype.printBarLine=function(t){var e="";switch(t.type){case"bar_thin":e+="|";break;case"bar_thin_thick":e+="|]";break;case"bar_thin_thin":e+="||";break;case"bar_thick_thin":e+="[|";break;case"bar_dbl_repeat":e+=":||:";break;case"bar_left_repeat":e+="|:";break;case"bar_right_repeat":e+=":|";break;case"bar_invisible":e+=""}this.printString(e,t)},n.prototype.multiplyString=function(t,e){for(var n="";e>0;e--)n+=t;return n},t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(0),u=i(c),l=n(3),h=i(l),f=n(14),d=i(f),p=n(19);n(86);var m=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.el,n=t.engraverParams,i=t.midiParams,r=t.notation,o=t.parserParams,s=t.renderParams,a=t.soundfontUrl;d.default.midi.soundfontUrl=a,d.default.renderMidi(e||this.el,r,n,o,i,s)}},{key:"render",value:function(){var t=this;return u.default.createElement("div",{ref:function(e){t.el=e}})}}]),e}(c.Component);m.propTypes={el:h.default.node,engraverParams:h.default.object,midiParams:h.default.object,notation:h.default.string.isRequired,parserParams:h.default.object,renderParams:h.default.object,soundfontUrl:h.default.string},m.defaultProps=p.midiProps,e.default=m},function(t,e){},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(0),u=i(c),l=n(3),h=i(l),f=n(14),d=i(f),p=n(19),m=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.el,n=t.engraverParams,i=t.notation,r=t.parserParams,o=t.renderParams;d.default.renderAbc(e||this.el,i,n,r,o)}},{key:"render",value:function(){var t=this;return u.default.createElement("div",{ref:function(e){t.el=e}})}}]),e}(c.Component);m.propTypes={el:h.default.node,engraverParams:h.default.object,notation:h.default.string.isRequired,parserParams:h.default.object,renderParams:h.default.object},m.defaultProps=p.notationProps,e.default=m},function(t,e,n){"use strict";function i(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/service-worker.js";s?(o(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):r(t)})}}function r(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function o(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):r(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=i;var s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.36034ed6.js.map